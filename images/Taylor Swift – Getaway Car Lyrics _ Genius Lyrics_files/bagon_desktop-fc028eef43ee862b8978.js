!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1199)}([,function(t,e,n){"use strict";var i=n(61),r=n(1358),o=n(294),a=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this.operator,o=r.toSubscriber(t,e,n);if(i?i.call(o,this):o.add(this._subscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype.forEach=function(t,e){var n=this;if(e||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?e=i.root.Rx.config.Promise:i.root.Promise&&(e=i.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,i){var r=n.subscribe(function(e){if(r)try{t(e)}catch(t){i(t),r.unsubscribe()}else t(e)},i,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.$$observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=a},,,function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,,,,,,,,,,,,,,function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(259),o=n(67),a=n(1298),s=n(257),c=function(t){function e(n,i,r){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!n){this.destination=a.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,n,i,r)}}return i(e,t),e.prototype[s.$$rxSubscriber]=function(){return this},e.create=function(t,n,i){var r=new e(t,n,i);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e}(o.Subscription);e.Subscriber=c;var l=function(t){function e(e,n,i,o){t.call(this),this._parent=e;var a,s=this;r.isFunction(n)?a=n:n&&(s=n,a=n.next,i=n.error,o=n.complete,r.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this)),this._context=s,this._next=a,this._error=i,this._complete=o}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parent;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parent;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},e}(c)},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Subject=e.ConnectableObservable=e.Observable=void 0;var i=n(1),r=n(256),o=n(255);n(1301),n(1302),n(1303),n(1304),n(1305),n(1306),n(1307),n(1308),n(1309),n(1310),n(1311),n(1312),n(1313),n(1314),n(1315),n(1316),n(1317),n(1318),n(1319),Object.assign(i.Observable,{always:function(t){return i.Observable.never().startWith(t)},$watch:function(t,e,n){return i.Observable.create(function(i){return t.$on("$destroy",i.complete.bind(i)),t.$watch(e,i.next.bind(i),n)})},fromPendingPromise:function(t){return i.Observable.create(function(e){e.next({pending:!0,value:null,error:null}),t.then(function(t){e.next({pending:!1,value:t,error:null}),e.complete()},function(t){e.next({pending:!1,value:null,error:t}),e.complete()})})}}),Object.assign(r.ConnectableObservable.prototype,{persist:function(){return this.connect(),this}}),Object.assign(i.Observable.prototype,{accumulate:function(){return this.scan(function(t,e){return t.concat(e)},[])},accumulateLatest:function(){return this.accumulate().switchMap(function(t){return i.Observable.combineLatest(t)})}}),e.Observable=i.Observable,e.ConnectableObservable=r.ConnectableObservable,e.Subject=o.Subject},,,,,,,,,,,,,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,function(t,e,n){(function(e){t.exports=e.$=n(1242)}).call(e,n(4))},,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){var n={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1};e.root=n[typeof self]&&self||n[typeof window]&&window;var i=n[typeof t]&&t;!i||i.global!==i&&i.window!==i||(e.root=i)}).call(e,n(4))},function(t,e,n){(function(i,r){var o,a;/*!
  * https://github.com/paulmillr/es6-shim
  * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
  *   and contributors,  MIT License
  * es6-shim: v0.35.1
  * see https://github.com/paulmillr/es6-shim/blob/0.35.1/LICENSE
  * Details and documentation:
  * https://github.com/paulmillr/es6-shim/
  */
!function(i,r){o=r,void 0!==(a="function"==typeof o?o.call(e,n,e,t):o)&&(t.exports=a)}(0,function(){"use strict";var t,e=Function.call.bind(Function.apply),n=Function.call.bind(Function.call),o=Array.isArray,a=Object.keys,s=function(t){try{return t(),!1}catch(t){return!0}},c=function(t){try{return t()}catch(t){return!1}},l=function(t){return function(){return!e(t,this,arguments)}}(s),u=!!Object.defineProperty&&function(){return!s(function(){Object.defineProperty({},"x",{get:function(){}})})}(),d="foo"===function(){}.name,p=Function.call.bind(Array.prototype.forEach),f=Function.call.bind(Array.prototype.reduce),h=Function.call.bind(Array.prototype.filter),_=Function.call.bind(Array.prototype.some),m=function(t,e,n,i){!i&&e in t||(u?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n}):t[e]=n)},g=function(t,e,n){p(a(e),function(i){var r=e[i];m(t,i,r,!!n)})},v=Function.call.bind(Object.prototype.toString),b=function(t){return"function"==typeof t},y={getter:function(t,e,n){if(!u)throw new TypeError("getters require true ES5 support");Object.defineProperty(t,e,{configurable:!0,enumerable:!1,get:n})},proxy:function(t,e,n){if(!u)throw new TypeError("getters require true ES5 support");var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,{configurable:i.configurable,enumerable:i.enumerable,get:function(){return t[e]},set:function(n){t[e]=n}})},redefine:function(t,e,n){if(u){var i=Object.getOwnPropertyDescriptor(t,e);i.value=n,Object.defineProperty(t,e,i)}else t[e]=n},defineByDescriptor:function(t,e,n){u?Object.defineProperty(t,e,n):"value"in n&&(t[e]=n.value)},preserveToString:function(t,e){e&&b(e.toString)&&m(t,"toString",e.toString.bind(e),!0)}},w=Object.create||function(t,e){var n=function(){};n.prototype=t;var i=new n;return void 0!==e&&a(e).forEach(function(t){y.defineByDescriptor(i,t,e[t])}),i},$=function(t,e){return!!Object.setPrototypeOf&&c(function(){var n=function e(n){var i=new t(n);return Object.setPrototypeOf(i,e.prototype),i};return Object.setPrototypeOf(n,t),n.prototype=w(t.prototype,{constructor:{value:n}}),e(n)})},x=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i)return i;throw new Error("unable to locate global object")}(),k=x.isFinite,C=Function.call.bind(String.prototype.indexOf),S=Function.apply.bind(Array.prototype.indexOf),A=Function.call.bind(Array.prototype.concat),E=Function.call.bind(String.prototype.slice),T=Function.call.bind(Array.prototype.push),j=Function.apply.bind(Array.prototype.push),O=Function.call.bind(Array.prototype.shift),q=Math.max,P=Math.min,M=Math.floor,I=Math.abs,R=Math.exp,D=Math.log,N=Math.sqrt,L=Function.call.bind(Object.prototype.hasOwnProperty),z=function(){},F=x.Map,U=F&&F.prototype.delete,V=F&&F.prototype.get,B=F&&F.prototype.has,H=F&&F.prototype.set,W=x.Symbol||{},G=W.species||"@@species",Y=Number.isNaN||function(t){return t!==t},K=Number.isFinite||function(t){return"number"==typeof t&&k(t)},J=b(Math.sign)?Math.sign:function(t){var e=Number(t);return 0===e?e:Y(e)?e:e<0?-1:1},Q=function(t){return"[object Arguments]"===v(t)},X=function(t){return null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==v(t)&&"[object Function]"===v(t.callee)},Z=Q(arguments)?Q:X,tt={primitive:function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},string:function(t){return"[object String]"===v(t)},regex:function(t){return"[object RegExp]"===v(t)},symbol:function(t){return"function"==typeof x.Symbol&&"symbol"==typeof t}},et=function(t,e,n){var i=t[e];m(t,e,n,!0),y.preserveToString(t[e],i)},nt="function"==typeof W&&"function"==typeof W.for&&tt.symbol(W()),it=tt.symbol(W.iterator)?W.iterator:"_es6-shim iterator_";x.Set&&"function"==typeof(new x.Set)["@@iterator"]&&(it="@@iterator"),x.Reflect||m(x,"Reflect",{},!0);var rt=x.Reflect,ot=String,at="undefined"!=typeof document&&document?document.all:null,st=null==at?function(t){return null==t}:function(t){return null==t&&t!==at},ct={Call:function(t,n){var i=arguments.length>2?arguments[2]:[];if(!ct.IsCallable(t))throw new TypeError(t+" is not a function");return e(t,n,i)},RequireObjectCoercible:function(t,e){if(st(t))throw new TypeError(e||"Cannot call method on "+t);return t},TypeIsObject:function(t){return void 0!==t&&null!==t&&!0!==t&&!1!==t&&("function"==typeof t||"object"==typeof t||t===at)},ToObject:function(t,e){return Object(ct.RequireObjectCoercible(t,e))},IsCallable:b,IsConstructor:function(t){return ct.IsCallable(t)},ToInt32:function(t){return ct.ToNumber(t)>>0},ToUint32:function(t){return ct.ToNumber(t)>>>0},ToNumber:function(t){if("[object Symbol]"===v(t))throw new TypeError("Cannot convert a Symbol value to a number");return+t},ToInteger:function(t){var e=ct.ToNumber(t);return Y(e)?0:0!==e&&K(e)?(e>0?1:-1)*M(I(e)):e},ToLength:function(t){var e=ct.ToInteger(t);return e<=0?0:e>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e},SameValue:function(t,e){return t===e?0!==t||1/t==1/e:Y(t)&&Y(e)},SameValueZero:function(t,e){return t===e||Y(t)&&Y(e)},IsIterable:function(t){return ct.TypeIsObject(t)&&(void 0!==t[it]||Z(t))},GetIterator:function(e){if(Z(e))return new t(e,"value");var n=ct.GetMethod(e,it);if(!ct.IsCallable(n))throw new TypeError("value is not an iterable");var i=ct.Call(n,e);if(!ct.TypeIsObject(i))throw new TypeError("bad iterator");return i},GetMethod:function(t,e){var n=ct.ToObject(t)[e];if(!st(n)){if(!ct.IsCallable(n))throw new TypeError("Method not callable: "+e);return n}},IteratorComplete:function(t){return!!t.done},IteratorClose:function(t,e){var n=ct.GetMethod(t,"return");if(void 0!==n){var i,r;try{i=ct.Call(n,t)}catch(t){r=t}if(!e){if(r)throw r;if(!ct.TypeIsObject(i))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(t){var e=arguments.length>1?t.next(arguments[1]):t.next();if(!ct.TypeIsObject(e))throw new TypeError("bad iterator");return e},IteratorStep:function(t){var e=ct.IteratorNext(t);return!ct.IteratorComplete(e)&&e},Construct:function(t,e,n,i){var r=void 0===n?t:n;if(!i&&rt.construct)return rt.construct(t,e,r);var o=r.prototype;ct.TypeIsObject(o)||(o=Object.prototype);var a=w(o),s=ct.Call(t,a,e);return ct.TypeIsObject(s)?s:a},SpeciesConstructor:function(t,e){var n=t.constructor;if(void 0===n)return e;if(!ct.TypeIsObject(n))throw new TypeError("Bad constructor");var i=n[G];if(st(i))return e;if(!ct.IsConstructor(i))throw new TypeError("Bad @@species");return i},CreateHTML:function(t,e,n,i){var r=ct.ToString(t),o="<"+e;if(""!==n){o+=" "+n+'="'+ct.ToString(i).replace(/"/g,"&quot;")+'"'}return o+">"+r+"</"+e+">"},IsRegExp:function(t){if(!ct.TypeIsObject(t))return!1;var e=t[W.match];return void 0!==e?!!e:tt.regex(t)},ToString:function(t){return ot(t)}};if(u&&nt){var lt=function(t){if(tt.symbol(W[t]))return W[t];var e=W.for("Symbol."+t);return Object.defineProperty(W,t,{configurable:!1,enumerable:!1,writable:!1,value:e}),e};if(!tt.symbol(W.search)){var ut=lt("search"),dt=String.prototype.search;m(RegExp.prototype,ut,function(t){return ct.Call(dt,t,[this])});var pt=function(t){var e=ct.RequireObjectCoercible(this);if(!st(t)){var n=ct.GetMethod(t,ut);if(void 0!==n)return ct.Call(n,t,[e])}return ct.Call(dt,e,[ct.ToString(t)])};et(String.prototype,"search",pt)}if(!tt.symbol(W.replace)){var ft=lt("replace"),ht=String.prototype.replace;m(RegExp.prototype,ft,function(t,e){return ct.Call(ht,t,[this,e])});var _t=function(t,e){var n=ct.RequireObjectCoercible(this);if(!st(t)){var i=ct.GetMethod(t,ft);if(void 0!==i)return ct.Call(i,t,[n,e])}return ct.Call(ht,n,[ct.ToString(t),e])};et(String.prototype,"replace",_t)}if(!tt.symbol(W.split)){var mt=lt("split"),gt=String.prototype.split;m(RegExp.prototype,mt,function(t,e){return ct.Call(gt,t,[this,e])});var vt=function(t,e){var n=ct.RequireObjectCoercible(this);if(!st(t)){var i=ct.GetMethod(t,mt);if(void 0!==i)return ct.Call(i,t,[n,e])}return ct.Call(gt,n,[ct.ToString(t),e])};et(String.prototype,"split",vt)}var bt=tt.symbol(W.match),yt=bt&&function(){var t={};return t[W.match]=function(){return 42},42!=="a".match(t)}();if(!bt||yt){var wt=lt("match"),$t=String.prototype.match;m(RegExp.prototype,wt,function(t){return ct.Call($t,t,[this])});var xt=function(t){var e=ct.RequireObjectCoercible(this);if(!st(t)){var n=ct.GetMethod(t,wt);if(void 0!==n)return ct.Call(n,t,[e])}return ct.Call($t,e,[ct.ToString(t)])};et(String.prototype,"match",xt)}}var kt=function(t,e,n){y.preserveToString(e,t),Object.setPrototypeOf&&Object.setPrototypeOf(t,e),u?p(Object.getOwnPropertyNames(t),function(i){i in z||n[i]||y.proxy(t,i,e)}):p(Object.keys(t),function(i){i in z||n[i]||(e[i]=t[i])}),e.prototype=t.prototype,y.redefine(t.prototype,"constructor",e)},Ct=function(){return this},St=function(t){u&&!L(t,G)&&y.getter(t,G,Ct)},At=function(t,e){var n=e||function(){return this};m(t,it,n),!t[it]&&tt.symbol(it)&&(t[it]=n)},Et=function(t,e,n){u?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:n}):t[e]=n},Tt=function(t,e,n){if(Et(t,e,n),!ct.SameValue(t[e],n))throw new TypeError("property is nonconfigurable")},jt=function(t,e,n,i){if(!ct.TypeIsObject(t))throw new TypeError("Constructor requires `new`: "+e.name);var r=e.prototype;ct.TypeIsObject(r)||(r=n);var o=w(r);for(var a in i)if(L(i,a)){var s=i[a];m(o,a,s,!0)}return o};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var Ot=String.fromCodePoint;et(String,"fromCodePoint",function(t){return ct.Call(Ot,this,arguments)})}var qt={fromCodePoint:function(t){for(var e,n=[],i=0,r=arguments.length;i<r;i++){if(e=Number(arguments[i]),!ct.SameValue(e,ct.ToInteger(e))||e<0||e>1114111)throw new RangeError("Invalid code point "+e);e<65536?T(n,String.fromCharCode(e)):(e-=65536,T(n,String.fromCharCode(55296+(e>>10))),T(n,String.fromCharCode(e%1024+56320)))}return n.join("")},raw:function(t){var e=ct.ToObject(t,"bad callSite"),n=ct.ToObject(e.raw,"bad raw value"),i=n.length,r=ct.ToLength(i);if(r<=0)return"";for(var o,a,s,c,l=[],u=0;u<r&&(o=ct.ToString(u),s=ct.ToString(n[o]),T(l,s),!(u+1>=r));)a=u+1<arguments.length?arguments[u+1]:"",c=ct.ToString(a),T(l,c),u+=1;return l.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&et(String,"raw",qt.raw),g(String,qt);var Pt=function t(e,n){if(n<1)return"";if(n%2)return t(e,n-1)+e;var i=t(e,n/2);return i+i},Mt={repeat:function(t){var e=ct.ToString(ct.RequireObjectCoercible(this)),n=ct.ToInteger(t);if(n<0||n>=1/0)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return Pt(e,n)},startsWith:function(t){var e=ct.ToString(ct.RequireObjectCoercible(this));if(ct.IsRegExp(t))throw new TypeError('Cannot call method "startsWith" with a regex');var n,i=ct.ToString(t);arguments.length>1&&(n=arguments[1]);var r=q(ct.ToInteger(n),0);return E(e,r,r+i.length)===i},endsWith:function(t){var e=ct.ToString(ct.RequireObjectCoercible(this));if(ct.IsRegExp(t))throw new TypeError('Cannot call method "endsWith" with a regex');var n,i=ct.ToString(t),r=e.length;arguments.length>1&&(n=arguments[1]);var o=void 0===n?r:ct.ToInteger(n),a=P(q(o,0),r);return E(e,a-i.length,a)===i},includes:function(t){if(ct.IsRegExp(t))throw new TypeError('"includes" does not accept a RegExp');var e,n=ct.ToString(t);return arguments.length>1&&(e=arguments[1]),-1!==C(this,n,e)},codePointAt:function(t){var e=ct.ToString(ct.RequireObjectCoercible(this)),n=ct.ToInteger(t),i=e.length;if(n>=0&&n<i){var r=e.charCodeAt(n),o=n+1===i;if(r<55296||r>56319||o)return r;var a=e.charCodeAt(n+1);return a<56320||a>57343?r:1024*(r-55296)+(a-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&et(String.prototype,"includes",Mt.includes),String.prototype.startsWith&&String.prototype.endsWith){var It=s(function(){"/a/".startsWith(/a/)}),Rt=c(function(){return!1==="abc".startsWith("a",1/0)});It&&Rt||(et(String.prototype,"startsWith",Mt.startsWith),et(String.prototype,"endsWith",Mt.endsWith))}if(nt){c(function(){var t=/a/;return t[W.match]=!1,"/a/".startsWith(t)})||et(String.prototype,"startsWith",Mt.startsWith);c(function(){var t=/a/;return t[W.match]=!1,"/a/".endsWith(t)})||et(String.prototype,"endsWith",Mt.endsWith);c(function(){var t=/a/;return t[W.match]=!1,"/a/".includes(t)})||et(String.prototype,"includes",Mt.includes)}g(String.prototype,Mt);var Dt=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),Nt=new RegExp("(^["+Dt+"]+)|(["+Dt+"]+$)","g"),Lt=function(){return ct.ToString(ct.RequireObjectCoercible(this)).replace(Nt,"")},zt=["","​","￾"].join(""),Ft=new RegExp("["+zt+"]","g"),Ut=/^[-+]0x[0-9a-f]+$/i,Vt=zt.trim().length!==zt.length;m(String.prototype,"trim",Lt,Vt);var Bt=function(t){return{value:t,done:0===arguments.length}},Ht=function(t){ct.RequireObjectCoercible(t),this._s=ct.ToString(t),this._i=0};Ht.prototype.next=function(){var t=this._s,e=this._i;if(void 0===t||e>=t.length)return this._s=void 0,Bt();var n,i,r=t.charCodeAt(e);return r<55296||r>56319||e+1===t.length?i=1:(n=t.charCodeAt(e+1),i=n<56320||n>57343?1:2),this._i=e+i,Bt(t.substr(e,i))},At(Ht.prototype),At(String.prototype,function(){return new Ht(this)});var Wt={from:function(t){var e,i=this;arguments.length>1&&(e=arguments[1]);var r,o;if(void 0===e)r=!1;else{if(!ct.IsCallable(e))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2]),r=!0}var a,s,c,l=void 0!==(Z(t)||ct.GetMethod(t,it));if(l){s=ct.IsConstructor(i)?Object(new i):[];var u,d,p=ct.GetIterator(t);for(c=0;;){if(!1===(u=ct.IteratorStep(p)))break;d=u.value;try{r&&(d=void 0===o?e(d,c):n(e,o,d,c)),s[c]=d}catch(t){throw ct.IteratorClose(p,!0),t}c+=1}a=c}else{var f=ct.ToObject(t);a=ct.ToLength(f.length),s=ct.IsConstructor(i)?Object(new i(a)):new Array(a);var h;for(c=0;c<a;++c)h=f[c],r&&(h=void 0===o?e(h,c):n(e,o,h,c)),Tt(s,c,h)}return s.length=a,s},of:function(){for(var t=arguments.length,e=this,n=o(e)||!ct.IsCallable(e)?new Array(t):ct.Construct(e,[t]),i=0;i<t;++i)Tt(n,i,arguments[i]);return n.length=t,n}};g(Array,Wt),St(Array),t=function(t,e){this.i=0,this.array=t,this.kind=e},g(t.prototype,{next:function(){var e=this.i,n=this.array;if(!(this instanceof t))throw new TypeError("Not an ArrayIterator");if(void 0!==n)for(var i=ct.ToLength(n.length);e<i;e++){var r,o=this.kind;return"key"===o?r=e:"value"===o?r=n[e]:"entry"===o&&(r=[e,n[e]]),this.i=e+1,Bt(r)}return this.array=void 0,Bt()}}),At(t.prototype),Array.of===Wt.of||function(){var t=function(t){this.length=t};t.prototype=[];var e=Array.of.apply(t,[1,2]);return e instanceof t&&2===e.length}()||et(Array,"of",Wt.of);var Gt={copyWithin:function(t,e){var n,i=ct.ToObject(this),r=ct.ToLength(i.length),o=ct.ToInteger(t),a=ct.ToInteger(e),s=o<0?q(r+o,0):P(o,r),c=a<0?q(r+a,0):P(a,r);arguments.length>2&&(n=arguments[2]);var l=void 0===n?r:ct.ToInteger(n),u=l<0?q(r+l,0):P(l,r),d=P(u-c,r-s),p=1;for(c<s&&s<c+d&&(p=-1,c+=d-1,s+=d-1);d>0;)c in i?i[s]=i[c]:delete i[s],c+=p,s+=p,d-=1;return i},fill:function(t){var e;arguments.length>1&&(e=arguments[1]);var n;arguments.length>2&&(n=arguments[2]);var i=ct.ToObject(this),r=ct.ToLength(i.length);e=ct.ToInteger(void 0===e?0:e),n=ct.ToInteger(void 0===n?r:n);for(var o=e<0?q(r+e,0):P(e,r),a=n<0?r+n:n,s=o;s<r&&s<a;++s)i[s]=t;return i},find:function(t){var e=ct.ToObject(this),i=ct.ToLength(e.length);if(!ct.IsCallable(t))throw new TypeError("Array#find: predicate must be a function");for(var r,o=arguments.length>1?arguments[1]:null,a=0;a<i;a++)if(r=e[a],o){if(n(t,o,r,a,e))return r}else if(t(r,a,e))return r},findIndex:function(t){var e=ct.ToObject(this),i=ct.ToLength(e.length);if(!ct.IsCallable(t))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=arguments.length>1?arguments[1]:null,o=0;o<i;o++)if(r){if(n(t,r,e[o],o,e))return o}else if(t(e[o],o,e))return o;return-1},keys:function(){return new t(this,"key")},values:function(){return new t(this,"value")},entries:function(){return new t(this,"entry")}};if(Array.prototype.keys&&!ct.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ct.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[it]&&(g(Array.prototype,{values:Array.prototype[it]}),tt.symbol(W.unscopables)&&(Array.prototype[W.unscopables].values=!0)),d&&Array.prototype.values&&"values"!==Array.prototype.values.name){var Yt=Array.prototype.values;et(Array.prototype,"values",function(){return ct.Call(Yt,this,arguments)}),m(Array.prototype,it,Array.prototype.values,!0)}g(Array.prototype,Gt),1/[!0].indexOf(!0,-0)<0&&m(Array.prototype,"indexOf",function(t){var e=S(this,arguments);return 0===e&&1/e<0?0:e},!0),At(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&At(Object.getPrototypeOf([].values()));var Kt=function(){return c(function(){return 0===Array.from({length:-1}).length})}(),Jt=function(){var t=Array.from([0].entries());return 1===t.length&&o(t[0])&&0===t[0][0]&&0===t[0][1]}();if(Kt&&Jt||et(Array,"from",Wt.from),!function(){return c(function(){return Array.from([0],void 0)})}()){var Qt=Array.from;et(Array,"from",function(t){return arguments.length>1&&void 0!==arguments[1]?ct.Call(Qt,this,arguments):n(Qt,this,t)})}var Xt=-(Math.pow(2,32)-1),Zt=function(t,e){var i={length:Xt};return i[e?(i.length>>>0)-1:0]=!0,c(function(){return n(t,i,function(){throw new RangeError("should not reach here")},[]),!0})};if(!Zt(Array.prototype.forEach)){var te=Array.prototype.forEach;et(Array.prototype,"forEach",function(t){return ct.Call(te,this.length>=0?this:[],arguments)})}if(!Zt(Array.prototype.map)){var ee=Array.prototype.map;et(Array.prototype,"map",function(t){return ct.Call(ee,this.length>=0?this:[],arguments)})}if(!Zt(Array.prototype.filter)){var ne=Array.prototype.filter;et(Array.prototype,"filter",function(t){return ct.Call(ne,this.length>=0?this:[],arguments)})}if(!Zt(Array.prototype.some)){var ie=Array.prototype.some;et(Array.prototype,"some",function(t){return ct.Call(ie,this.length>=0?this:[],arguments)})}if(!Zt(Array.prototype.every)){var re=Array.prototype.every;et(Array.prototype,"every",function(t){return ct.Call(re,this.length>=0?this:[],arguments)})}if(!Zt(Array.prototype.reduce)){var oe=Array.prototype.reduce;et(Array.prototype,"reduce",function(t){return ct.Call(oe,this.length>=0?this:[],arguments)})}if(!Zt(Array.prototype.reduceRight,!0)){var ae=Array.prototype.reduceRight;et(Array.prototype,"reduceRight",function(t){return ct.Call(ae,this.length>=0?this:[],arguments)})}var se=8!==Number("0o10"),ce=2!==Number("0b10"),le=_(zt,function(t){return 0===Number(t+0+t)});if(se||ce||le){var ue=Number,de=/^0b[01]+$/i,pe=/^0o[0-7]+$/i,fe=de.test.bind(de),he=pe.test.bind(pe),_e=function(t){var e;if("function"==typeof t.valueOf&&(e=t.valueOf(),tt.primitive(e)))return e;if("function"==typeof t.toString&&(e=t.toString(),tt.primitive(e)))return e;throw new TypeError("No default value")},me=Ft.test.bind(Ft),ge=Ut.test.bind(Ut),ve=function(){var t=function(e){var n;"string"==typeof(n=arguments.length>0?tt.primitive(e)?e:_e(e):0)&&(n=ct.Call(Lt,n),fe(n)?n=parseInt(E(n,2),2):he(n)?n=parseInt(E(n,2),8):(me(n)||ge(n))&&(n=NaN));var i=this,r=c(function(){return ue.prototype.valueOf.call(i),!0});return i instanceof t&&!r?new ue(n):ue(n)};return t}();kt(ue,ve,{}),g(ve,{NaN:ue.NaN,MAX_VALUE:ue.MAX_VALUE,MIN_VALUE:ue.MIN_VALUE,NEGATIVE_INFINITY:ue.NEGATIVE_INFINITY,POSITIVE_INFINITY:ue.POSITIVE_INFINITY}),Number=ve,y.redefine(x,"Number",ve)}var be=Math.pow(2,53)-1;g(Number,{MAX_SAFE_INTEGER:be,MIN_SAFE_INTEGER:-be,EPSILON:2.220446049250313e-16,parseInt:x.parseInt,parseFloat:x.parseFloat,isFinite:K,isInteger:function(t){return K(t)&&ct.ToInteger(t)===t},isSafeInteger:function(t){return Number.isInteger(t)&&I(t)<=Number.MAX_SAFE_INTEGER},isNaN:Y}),m(Number,"parseInt",x.parseInt,Number.parseInt!==x.parseInt),[,1].find(function(t,e){return 0===e})||et(Array.prototype,"find",Gt.find),0!==[,1].findIndex(function(t,e){return 0===e})&&et(Array.prototype,"findIndex",Gt.findIndex);var ye=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),we=function(t,e){u&&ye(t,e)&&Object.defineProperty(t,e,{enumerable:!1})},$e=function(){for(var t=Number(this),e=arguments.length,n=e-t,i=new Array(n<0?0:n),r=t;r<e;++r)i[r-t]=arguments[r];return i},xe=function(t){return function(e,n){return e[n]=t[n],e}},ke=function(t,e){var n,i=a(Object(e));return ct.IsCallable(Object.getOwnPropertySymbols)&&(n=h(Object.getOwnPropertySymbols(Object(e)),ye(e))),f(A(i,n||[]),xe(e),t)},Ce={assign:function(t,e){var n=ct.ToObject(t,"Cannot convert undefined or null to object");return f(ct.Call($e,1,arguments),ke,n)},is:function(t,e){return ct.SameValue(t,e)}};if(Object.assign&&Object.preventExtensions&&function(){var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}}()&&et(Object,"assign",Ce.assign),g(Object,Ce),u){var Se={setPrototypeOf:function(t,e){var i,r=function(t,e){if(!ct.TypeIsObject(t))throw new TypeError("cannot set prototype on a non-object");if(null!==e&&!ct.TypeIsObject(e))throw new TypeError("can only set prototype to an object or null"+e)},o=function(t,e){return r(t,e),n(i,t,e),t};try{i=t.getOwnPropertyDescriptor(t.prototype,"__proto__").set,n(i,{},null)}catch(e){if(t.prototype!=={}.__proto__)return;i=function(t){this.__proto__=t},o.polyfill=o(o({},null),t.prototype)instanceof t}return o}(Object)};g(Object,Se)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&function(){var t=Object.create(null),e=Object.getPrototypeOf,n=Object.setPrototypeOf;Object.getPrototypeOf=function(n){var i=e(n);return i===t?null:i},Object.setPrototypeOf=function(e,i){return n(e,null===i?t:i)},Object.setPrototypeOf.polyfill=!1}(),!!s(function(){Object.keys("foo")})){var Ae=Object.keys;et(Object,"keys",function(t){return Ae(ct.ToObject(t))}),a=Object.keys}if(s(function(){Object.keys(/a/g)})){var Ee=Object.keys;et(Object,"keys",function(t){if(tt.regex(t)){var e=[];for(var n in t)L(t,n)&&T(e,n);return e}return Ee(t)}),a=Object.keys}if(Object.getOwnPropertyNames){if(!!s(function(){Object.getOwnPropertyNames("foo")})){var Te="object"==typeof window?Object.getOwnPropertyNames(window):[],je=Object.getOwnPropertyNames;et(Object,"getOwnPropertyNames",function(t){var e=ct.ToObject(t);if("[object Window]"===v(e))try{return je(e)}catch(t){return A([],Te)}return je(e)})}}if(Object.getOwnPropertyDescriptor){if(!!s(function(){Object.getOwnPropertyDescriptor("foo","bar")})){var Oe=Object.getOwnPropertyDescriptor;et(Object,"getOwnPropertyDescriptor",function(t,e){return Oe(ct.ToObject(t),e)})}}if(Object.seal){if(!!s(function(){Object.seal("foo")})){var qe=Object.seal;et(Object,"seal",function(t){return ct.TypeIsObject(t)?qe(t):t})}}if(Object.isSealed){if(!!s(function(){Object.isSealed("foo")})){var Pe=Object.isSealed;et(Object,"isSealed",function(t){return!ct.TypeIsObject(t)||Pe(t)})}}if(Object.freeze){if(!!s(function(){Object.freeze("foo")})){var Me=Object.freeze;et(Object,"freeze",function(t){return ct.TypeIsObject(t)?Me(t):t})}}if(Object.isFrozen){if(!!s(function(){Object.isFrozen("foo")})){var Ie=Object.isFrozen;et(Object,"isFrozen",function(t){return!ct.TypeIsObject(t)||Ie(t)})}}if(Object.preventExtensions){if(!!s(function(){Object.preventExtensions("foo")})){var Re=Object.preventExtensions;et(Object,"preventExtensions",function(t){return ct.TypeIsObject(t)?Re(t):t})}}if(Object.isExtensible){if(!!s(function(){Object.isExtensible("foo")})){var De=Object.isExtensible;et(Object,"isExtensible",function(t){return!!ct.TypeIsObject(t)&&De(t)})}}if(Object.getPrototypeOf){if(!!s(function(){Object.getPrototypeOf("foo")})){var Ne=Object.getPrototypeOf;et(Object,"getPrototypeOf",function(t){return Ne(ct.ToObject(t))})}}var Le=u&&function(){var t=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return t&&ct.IsCallable(t.get)}();if(u&&!Le){var ze=function(){if(!ct.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t};y.getter(RegExp.prototype,"flags",ze)}var Fe=u&&c(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),Ue=nt&&u&&function(){var t=/./;return t[W.match]=!1,RegExp(t)===t}(),Ve=c(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),Be=Ve&&c(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!Ve||!Be){var He=RegExp.prototype.toString;m(RegExp.prototype,"toString",function(){var t=ct.RequireObjectCoercible(this);return tt.regex(t)?n(He,t):"/"+ot(t.source)+"/"+ot(t.flags)},!0),y.preserveToString(RegExp.prototype.toString,He)}if(u&&(!Fe||Ue)){var We=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,Ge=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},Ye=function(){return this.source},Ke=ct.IsCallable(Ge.get)?Ge.get:Ye,Je=RegExp,Qe=function(){return function t(e,n){var i=ct.IsRegExp(e);if(!(this instanceof t)&&i&&void 0===n&&e.constructor===t)return e;var r=e,o=n;return tt.regex(e)?(r=ct.Call(Ke,e),o=void 0===n?ct.Call(We,e):n,new t(r,o)):(i&&(r=e.source,o=void 0===n?e.flags:n),new Je(e,n))}}();kt(Je,Qe,{$input:!0}),RegExp=Qe,y.redefine(x,"RegExp",Qe)}if(u){var Xe={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};p(a(Xe),function(t){t in RegExp&&!(Xe[t]in RegExp)&&y.getter(RegExp,Xe[t],function(){return RegExp[t]})})}St(RegExp);var Ze=1/Number.EPSILON,tn=function(t){return t+Ze-Ze},en=Math.pow(2,-23),nn=Math.pow(2,127)*(2-en),rn=Math.pow(2,-126),on=Math.E,an=Math.LOG2E,sn=Math.LOG10E,cn=Number.prototype.clz;delete Number.prototype.clz;var ln={acosh:function(t){var e=Number(t);return Y(e)||t<1?NaN:1===e?0:e===1/0?e:D(e/on+N(e+1)*N(e-1)/on)+1},asinh:function t(e){var n=Number(e);return 0!==n&&k(n)?n<0?-t(-n):D(n+N(n*n+1)):n},atanh:function(t){var e=Number(t);return Y(e)||e<-1||e>1?NaN:-1===e?-1/0:1===e?1/0:0===e?e:.5*D((1+e)/(1-e))},cbrt:function(t){var e=Number(t);if(0===e)return e;var n,i=e<0;return i&&(e=-e),e===1/0?n=1/0:(n=R(D(e)/3),n=(e/(n*n)+2*n)/3),i?-n:n},clz32:function(t){var e=Number(t),n=ct.ToUint32(e);return 0===n?32:cn?ct.Call(cn,n):31-M(D(n+.5)*an)},cosh:function(t){var e=Number(t);return 0===e?1:Y(e)?NaN:k(e)?(e<0&&(e=-e),e>21?R(e)/2:(R(e)+R(-e))/2):1/0},expm1:function(t){var e=Number(t);if(e===-1/0)return-1;if(!k(e)||0===e)return e;if(I(e)>.5)return R(e)-1;for(var n=e,i=0,r=1;i+n!==i;)i+=n,r+=1,n*=e/r;return i},hypot:function(t,e){for(var n=0,i=0,r=0;r<arguments.length;++r){var o=I(Number(arguments[r]));i<o?(n*=i/o*(i/o),n+=1,i=o):n+=o>0?o/i*(o/i):o}return i===1/0?1/0:i*N(n)},log2:function(t){return D(t)*an},log10:function(t){return D(t)*sn},log1p:function(t){var e=Number(t);return e<-1||Y(e)?NaN:0===e||e===1/0?e:-1===e?-1/0:1+e-1==0?e:e*(D(1+e)/(1+e-1))},sign:J,sinh:function(t){var e=Number(t);return k(e)&&0!==e?I(e)<1?(Math.expm1(e)-Math.expm1(-e))/2:(R(e-1)-R(-e-1))*on/2:e},tanh:function(t){var e=Number(t);return Y(e)||0===e?e:e>=20?1:e<=-20?-1:(Math.expm1(e)-Math.expm1(-e))/(R(e)+R(-e))},trunc:function(t){var e=Number(t);return e<0?-M(-e):M(e)},imul:function(t,e){var n=ct.ToUint32(t),i=ct.ToUint32(e),r=n>>>16&65535,o=65535&n,a=i>>>16&65535,s=65535&i;return o*s+(r*s+o*a<<16>>>0)|0},fround:function(t){var e=Number(t);if(0===e||e===1/0||e===-1/0||Y(e))return e;var n=J(e),i=I(e);if(i<rn)return n*tn(i/rn/en)*rn*en;var r=(1+en/Number.EPSILON)*i,o=r-(r-i);return o>nn||Y(o)?n*(1/0):n*o}};g(Math,ln),m(Math,"log1p",ln.log1p,-1e-17!==Math.log1p(-1e-17)),m(Math,"asinh",ln.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),m(Math,"tanh",ln.tanh,-2e-17!==Math.tanh(-2e-17)),m(Math,"acosh",ln.acosh,Math.acosh(Number.MAX_VALUE)===1/0),m(Math,"cbrt",ln.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON>8),m(Math,"sinh",ln.sinh,-2e-17!==Math.sinh(-2e-17));var un=Math.expm1(10);m(Math,"expm1",ln.expm1,un>22025.465794806718||un<22025.465794806718);var dn=Math.round,pn=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),fn=Ze+1,hn=2*Ze-1,_n=[fn,hn].every(function(t){return Math.round(t)===t});m(Math,"round",function(t){var e=M(t),n=-1===e?-0:e+1;return t-e<.5?e:n},!pn||!_n),y.preserveToString(Math.round,dn);var mn=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=ln.imul,y.preserveToString(Math.imul,mn)),2!==Math.imul.length&&et(Math,"imul",function(t,e){return ct.Call(mn,Math,arguments)});var gn=function(){var t=x.setTimeout;if("function"==typeof t||"object"==typeof t){ct.IsPromise=function(t){return!!ct.TypeIsObject(t)&&void 0!==t._promise};var e,i=function(t){if(!ct.IsConstructor(t))throw new TypeError("Bad promise constructor");var e=this,n=function(t,n){if(void 0!==e.resolve||void 0!==e.reject)throw new TypeError("Bad Promise implementation!");e.resolve=t,e.reject=n};if(e.resolve=void 0,e.reject=void 0,e.promise=new t(n),!ct.IsCallable(e.resolve)||!ct.IsCallable(e.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ct.IsCallable(window.postMessage)&&(e=function(){var t=[],e=function(e){T(t,e),window.postMessage("zero-timeout-message","*")},n=function(e){if(e.source===window&&"zero-timeout-message"===e.data){if(e.stopPropagation(),0===t.length)return;O(t)()}};return window.addEventListener("message",n,!0),e});var o,a,s=ct.IsCallable(x.setImmediate)?x.setImmediate:"object"==typeof r&&r.nextTick?r.nextTick:function(){var t=x.Promise,e=t&&t.resolve&&t.resolve();return e&&function(t){return e.then(t)}}()||(ct.IsCallable(e)?e():function(e){t(e,0)}),c=function(t){return t},l=function(t){throw t},u={},d=function(t,e,n){s(function(){p(t,e,n)})},p=function(t,e,n){var i,r;if(e===u)return t(n);try{i=t(n),r=e.resolve}catch(t){i=t,r=e.reject}r(i)},f=function(t,e){var n=t._promise,i=n.reactionLength;if(i>0&&(d(n.fulfillReactionHandler0,n.reactionCapability0,e),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,i>1))for(var r=1,o=0;r<i;r++,o+=3)d(n[o+0],n[o+2],e),t[o+0]=void 0,t[o+1]=void 0,t[o+2]=void 0;n.result=e,n.state=1,n.reactionLength=0},h=function(t,e){var n=t._promise,i=n.reactionLength;if(i>0&&(d(n.rejectReactionHandler0,n.reactionCapability0,e),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,i>1))for(var r=1,o=0;r<i;r++,o+=3)d(n[o+1],n[o+2],e),t[o+0]=void 0,t[o+1]=void 0,t[o+2]=void 0;n.result=e,n.state=2,n.reactionLength=0},_=function(t){var e=!1;return{resolve:function(n){var i;if(!e){if(e=!0,n===t)return h(t,new TypeError("Self resolution"));if(!ct.TypeIsObject(n))return f(t,n);try{i=n.then}catch(e){return h(t,e)}if(!ct.IsCallable(i))return f(t,n);s(function(){v(t,n,i)})}},reject:function(n){if(!e)return e=!0,h(t,n)}}},m=function(t,e,i,r){t===a?n(t,e,i,r,u):n(t,e,i,r)},v=function(t,e,n){var i=_(t),r=i.resolve,o=i.reject;try{m(n,e,r,o)}catch(t){o(t)}},b=function(){var t=function(e){if(!(this instanceof t))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!ct.IsCallable(e))throw new TypeError("not a valid resolver");var n=jt(this,t,o,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),i=_(n),r=i.reject;try{e(i.resolve,r)}catch(t){r(t)}return n};return t}();o=b.prototype;var y=function(t,e,n,i){var r=!1;return function(o){if(!r&&(r=!0,e[t]=o,0==--i.count)){(0,n.resolve)(e)}}},w=function(t,e,n){for(var i,r,o=t.iterator,a=[],s={count:1},c=0;;){try{if(!1===(i=ct.IteratorStep(o))){t.done=!0;break}r=i.value}catch(e){throw t.done=!0,e}a[c]=void 0;var l=e.resolve(r),u=y(c,a,n,s);s.count+=1,m(l.then,l,u,n.reject),c+=1}if(0==--s.count){(0,n.resolve)(a)}return n.promise},$=function(t,e,n){for(var i,r,o,a=t.iterator;;){try{if(!1===(i=ct.IteratorStep(a))){t.done=!0;break}r=i.value}catch(e){throw t.done=!0,e}o=e.resolve(r),m(o.then,o,n.resolve,n.reject)}return n.promise};return g(b,{all:function(t){var e=this;if(!ct.TypeIsObject(e))throw new TypeError("Promise is not object");var n,r,o=new i(e);try{return n=ct.GetIterator(t),r={iterator:n,done:!1},w(r,e,o)}catch(t){var a=t;if(r&&!r.done)try{ct.IteratorClose(n,!0)}catch(t){a=t}var s=o.reject;return s(a),o.promise}},race:function(t){var e=this;if(!ct.TypeIsObject(e))throw new TypeError("Promise is not object");var n,r,o=new i(e);try{return n=ct.GetIterator(t),r={iterator:n,done:!1},$(r,e,o)}catch(t){var a=t;if(r&&!r.done)try{ct.IteratorClose(n,!0)}catch(t){a=t}var s=o.reject;return s(a),o.promise}},reject:function(t){var e=this;if(!ct.TypeIsObject(e))throw new TypeError("Bad promise constructor");var n=new i(e);return(0,n.reject)(t),n.promise},resolve:function(t){var e=this;if(!ct.TypeIsObject(e))throw new TypeError("Bad promise constructor");if(ct.IsPromise(t)){var n=t.constructor;if(n===e)return t}var r=new i(e);return(0,r.resolve)(t),r.promise}}),g(o,{catch:function(t){return this.then(null,t)},then:function(t,e){var n=this;if(!ct.IsPromise(n))throw new TypeError("not a promise");var r,o=ct.SpeciesConstructor(n,b);r=arguments.length>2&&arguments[2]===u&&o===b?u:new i(o);var a,s=ct.IsCallable(t)?t:c,p=ct.IsCallable(e)?e:l,f=n._promise;if(0===f.state){if(0===f.reactionLength)f.fulfillReactionHandler0=s,f.rejectReactionHandler0=p,f.reactionCapability0=r;else{var h=3*(f.reactionLength-1);f[h+0]=s,f[h+1]=p,f[h+2]=r}f.reactionLength+=1}else if(1===f.state)a=f.result,d(s,r,a);else{if(2!==f.state)throw new TypeError("unexpected Promise state");a=f.result,d(p,r,a)}return r.promise}}),u=new i(b),a=o.then,b}}();if(x.Promise&&(delete x.Promise.accept,delete x.Promise.defer,delete x.Promise.prototype.chain),"function"==typeof gn){g(x,{Promise:gn});var vn=$(x.Promise,function(t){return t.resolve(42).then(function(){})instanceof t}),bn=!s(function(){x.Promise.reject(42).then(null,5).then(null,z)}),yn=s(function(){x.Promise.call(3,z)}),wn=function(t){var e=t.resolve(5);e.constructor={};var n=t.resolve(e);try{n.then(null,z).then(null,z)}catch(t){return!0}return e===n}(x.Promise),$n=u&&function(){var t=0,e=Object.defineProperty({},"then",{get:function(){t+=1}});return Promise.resolve(e),1===t}(),xn=function t(e){var n=new Promise(e);e(3,function(){}),this.then=n.then,this.constructor=t};xn.prototype=Promise.prototype,xn.all=Promise.all;var kn=c(function(){return!!xn.all([1,2])});if(vn&&bn&&yn&&!wn&&$n&&!kn||(Promise=gn,et(x,"Promise",gn)),1!==Promise.all.length){var Cn=Promise.all;et(Promise,"all",function(t){return ct.Call(Cn,this,arguments)})}if(1!==Promise.race.length){var Sn=Promise.race;et(Promise,"race",function(t){return ct.Call(Sn,this,arguments)})}if(1!==Promise.resolve.length){var An=Promise.resolve;et(Promise,"resolve",function(t){return ct.Call(An,this,arguments)})}if(1!==Promise.reject.length){var En=Promise.reject;et(Promise,"reject",function(t){return ct.Call(En,this,arguments)})}we(Promise,"all"),we(Promise,"race"),we(Promise,"resolve"),we(Promise,"reject"),St(Promise)}var Tn=function(t){var e=a(f(t,function(t,e){return t[e]=!0,t},{}));return t.join(":")===e.join(":")},jn=Tn(["z","a","bb"]),On=Tn(["z",1,"a","3",2]);if(u){var qn=function(t,e){return e||jn?st(t)?"^"+ct.ToString(t):"string"==typeof t?"$"+t:"number"==typeof t?On?t:"n"+t:"boolean"==typeof t?"b"+t:null:null},Pn=function(){return Object.create?Object.create(null):{}},Mn=function(t,e,i){if(o(i)||tt.string(i))p(i,function(t){if(!ct.TypeIsObject(t))throw new TypeError("Iterator value "+t+" is not an entry object");e.set(t[0],t[1])});else if(i instanceof t)n(t.prototype.forEach,i,function(t,n){e.set(n,t)});else{var r,a;if(!st(i)){if(a=e.set,!ct.IsCallable(a))throw new TypeError("bad map");r=ct.GetIterator(i)}if(void 0!==r)for(;;){var s=ct.IteratorStep(r);if(!1===s)break;var c=s.value;try{if(!ct.TypeIsObject(c))throw new TypeError("Iterator value "+c+" is not an entry object");n(a,e,c[0],c[1])}catch(t){throw ct.IteratorClose(r,!0),t}}}},In=function(t,e,i){if(o(i)||tt.string(i))p(i,function(t){e.add(t)});else if(i instanceof t)n(t.prototype.forEach,i,function(t){e.add(t)});else{var r,a;if(!st(i)){if(a=e.add,!ct.IsCallable(a))throw new TypeError("bad set");r=ct.GetIterator(i)}if(void 0!==r)for(;;){var s=ct.IteratorStep(r);if(!1===s)break;var c=s.value;try{n(a,e,c)}catch(t){throw ct.IteratorClose(r,!0),t}}}},Rn={Map:function(){var t={},e=function(t,e){this.key=t,this.value=e,this.next=null,this.prev=null};e.prototype.isRemoved=function(){return this.key===t};var i=function(t){return!!t._es6map},r=function(t,e){if(!ct.TypeIsObject(t)||!i(t))throw new TypeError("Method Map.prototype."+e+" called on incompatible receiver "+ct.ToString(t))},o=function(t,e){r(t,"[[MapIterator]]"),this.head=t._head,this.i=this.head,this.kind=e};o.prototype={next:function(){var t=this.i,e=this.kind,n=this.head;if(void 0===this.i)return Bt();for(;t.isRemoved()&&t!==n;)t=t.prev;for(var i;t.next!==n;)if(t=t.next,!t.isRemoved())return i="key"===e?t.key:"value"===e?t.value:[t.key,t.value],this.i=t,Bt(i);return this.i=void 0,Bt()}},At(o.prototype);var a,s=function t(){if(!(this instanceof t))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var n=jt(this,t,a,{_es6map:!0,_head:null,_map:F?new F:null,_size:0,_storage:Pn()}),i=new e(null,null);return i.next=i.prev=i,n._head=i,arguments.length>0&&Mn(t,n,arguments[0]),n};return a=s.prototype,y.getter(a,"size",function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size}),g(a,{get:function(t){r(this,"get");var e,n=qn(t,!0);if(null!==n)return e=this._storage[n],e?e.value:void 0;if(this._map)return e=V.call(this._map,t),e?e.value:void 0;for(var i=this._head,o=i;(o=o.next)!==i;)if(ct.SameValueZero(o.key,t))return o.value},has:function(t){r(this,"has");var e=qn(t,!0);if(null!==e)return void 0!==this._storage[e];if(this._map)return B.call(this._map,t);for(var n=this._head,i=n;(i=i.next)!==n;)if(ct.SameValueZero(i.key,t))return!0;return!1},set:function(t,n){r(this,"set");var i,o=this._head,a=o,s=qn(t,!0);if(null!==s){if(void 0!==this._storage[s])return this._storage[s].value=n,this;i=this._storage[s]=new e(t,n),a=o.prev}else this._map&&(B.call(this._map,t)?V.call(this._map,t).value=n:(i=new e(t,n),H.call(this._map,t,i),a=o.prev));for(;(a=a.next)!==o;)if(ct.SameValueZero(a.key,t))return a.value=n,this;return i=i||new e(t,n),ct.SameValue(-0,t)&&(i.key=0),i.next=this._head,i.prev=this._head.prev,i.prev.next=i,i.next.prev=i,this._size+=1,this},delete:function(e){r(this,"delete");var n=this._head,i=n,o=qn(e,!0);if(null!==o){if(void 0===this._storage[o])return!1;i=this._storage[o].prev,delete this._storage[o]}else if(this._map){if(!B.call(this._map,e))return!1;i=V.call(this._map,e).prev,U.call(this._map,e)}for(;(i=i.next)!==n;)if(ct.SameValueZero(i.key,e))return i.key=i.value=t,i.prev.next=i.next,i.next.prev=i.prev,this._size-=1,!0;return!1},clear:function(){r(this,"clear"),this._map=F?new F:null,this._size=0,this._storage=Pn();for(var e=this._head,n=e,i=n.next;(n=i)!==e;)n.key=n.value=t,i=n.next,n.next=n.prev=e;e.next=e.prev=e},keys:function(){return r(this,"keys"),new o(this,"key")},values:function(){return r(this,"values"),new o(this,"value")},entries:function(){return r(this,"entries"),new o(this,"key+value")},forEach:function(t){r(this,"forEach");for(var e=arguments.length>1?arguments[1]:null,i=this.entries(),o=i.next();!o.done;o=i.next())e?n(t,e,o.value[1],o.value[0],this):t(o.value[1],o.value[0],this)}}),At(a,a.entries),s}(),Set:function(){var t,e=function(t){return t._es6set&&void 0!==t._storage},i=function(t,n){if(!ct.TypeIsObject(t)||!e(t))throw new TypeError("Set.prototype."+n+" called on incompatible receiver "+ct.ToString(t))},r=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var n=jt(this,e,t,{_es6set:!0,"[[SetData]]":null,_storage:Pn()});if(!n._es6set)throw new TypeError("bad set");return arguments.length>0&&In(e,n,arguments[0]),n};t=r.prototype;var o=function(t){var e=t;if("^null"===e)return null;if("^undefined"!==e){var n=e.charAt(0);return"$"===n?E(e,1):"n"===n?+E(e,1):"b"===n?"btrue"===e:+e}},s=function(t){if(!t["[[SetData]]"]){var e=t["[[SetData]]"]=new Rn.Map;p(a(t._storage),function(t){var n=o(t);e.set(n,n)}),t["[[SetData]]"]=e}t._storage=null};return y.getter(r.prototype,"size",function(){return i(this,"size"),this._storage?a(this._storage).length:(s(this),this["[[SetData]]"].size)}),g(r.prototype,{has:function(t){i(this,"has");var e;return this._storage&&null!==(e=qn(t))?!!this._storage[e]:(s(this),this["[[SetData]]"].has(t))},add:function(t){i(this,"add");var e;return this._storage&&null!==(e=qn(t))?(this._storage[e]=!0,this):(s(this),this["[[SetData]]"].set(t,t),this)},delete:function(t){i(this,"delete");var e;if(this._storage&&null!==(e=qn(t))){var n=L(this._storage,e);return delete this._storage[e]&&n}return s(this),this["[[SetData]]"].delete(t)},clear:function(){i(this,"clear"),this._storage&&(this._storage=Pn()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return i(this,"values"),s(this),this["[[SetData]]"].values()},entries:function(){return i(this,"entries"),s(this),this["[[SetData]]"].entries()},forEach:function(t){i(this,"forEach");var e=arguments.length>1?arguments[1]:null,r=this;s(r),this["[[SetData]]"].forEach(function(i,o){e?n(t,e,o,o,r):t(o,o,r)})}}),m(r.prototype,"keys",r.prototype.values,!0),At(r.prototype,r.prototype.values),r}()};if(x.Map||x.Set){c(function(){return 2===new Map([[1,2]]).get(1)})||(x.Map=function t(){if(!(this instanceof t))throw new TypeError('Constructor Map requires "new"');var e=new F;return arguments.length>0&&Mn(t,e,arguments[0]),delete e.constructor,Object.setPrototypeOf(e,x.Map.prototype),e},x.Map.prototype=w(F.prototype),m(x.Map.prototype,"constructor",x.Map,!0),y.preserveToString(x.Map,F));var Dn=new Map,Nn=function(){var t=new Map([[1,0],[2,0],[3,0],[4,0]]);return t.set(-0,t),t.get(0)===t&&t.get(-0)===t&&t.has(0)&&t.has(-0)}(),Ln=Dn.set(1,2)===Dn;Nn&&Ln||et(Map.prototype,"set",function(t,e){return n(H,this,0===t?0:t,e),this}),Nn||(g(Map.prototype,{get:function(t){return n(V,this,0===t?0:t)},has:function(t){return n(B,this,0===t?0:t)}},!0),y.preserveToString(Map.prototype.get,V),y.preserveToString(Map.prototype.has,B));var zn=new Set,Fn=function(t){return t.delete(0),t.add(-0),!t.has(0)}(zn),Un=zn.add(1)===zn;if(!Fn||!Un){var Vn=Set.prototype.add;Set.prototype.add=function(t){return n(Vn,this,0===t?0:t),this},y.preserveToString(Set.prototype.add,Vn)}if(!Fn){var Bn=Set.prototype.has;Set.prototype.has=function(t){return n(Bn,this,0===t?0:t)},y.preserveToString(Set.prototype.has,Bn);var Hn=Set.prototype.delete;Set.prototype.delete=function(t){return n(Hn,this,0===t?0:t)},y.preserveToString(Set.prototype.delete,Hn)}var Wn=$(x.Map,function(t){var e=new t([]);return e.set(42,42),e instanceof t}),Gn=Object.setPrototypeOf&&!Wn,Yn=function(){try{return!(x.Map()instanceof x.Map)}catch(t){return t instanceof TypeError}}();0===x.Map.length&&!Gn&&Yn||(x.Map=function t(){if(!(this instanceof t))throw new TypeError('Constructor Map requires "new"');var e=new F;return arguments.length>0&&Mn(t,e,arguments[0]),delete e.constructor,Object.setPrototypeOf(e,t.prototype),e},x.Map.prototype=F.prototype,m(x.Map.prototype,"constructor",x.Map,!0),y.preserveToString(x.Map,F));var Kn=$(x.Set,function(t){var e=new t([]);return e.add(42,42),e instanceof t}),Jn=Object.setPrototypeOf&&!Kn,Qn=function(){try{return!(x.Set()instanceof x.Set)}catch(t){return t instanceof TypeError}}();if(0!==x.Set.length||Jn||!Qn){var Xn=x.Set;x.Set=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires "new"');var e=new Xn;return arguments.length>0&&In(t,e,arguments[0]),delete e.constructor,Object.setPrototypeOf(e,t.prototype),e},x.Set.prototype=Xn.prototype,m(x.Set.prototype,"constructor",x.Set,!0),y.preserveToString(x.Set,Xn)}var Zn=new x.Map,ti=!c(function(){return Zn.keys().next().done});if(("function"!=typeof x.Map.prototype.clear||0!==(new x.Set).size||0!==Zn.size||"function"!=typeof x.Map.prototype.keys||"function"!=typeof x.Set.prototype.keys||"function"!=typeof x.Map.prototype.forEach||"function"!=typeof x.Set.prototype.forEach||l(x.Map)||l(x.Set)||"function"!=typeof Zn.keys().next||ti||!Wn)&&g(x,{Map:Rn.Map,Set:Rn.Set},!0),x.Set.prototype.keys!==x.Set.prototype.values&&m(x.Set.prototype,"keys",x.Set.prototype.values,!0),At(Object.getPrototypeOf((new x.Map).keys())),At(Object.getPrototypeOf((new x.Set).keys())),d&&"has"!==x.Set.prototype.has.name){var ei=x.Set.prototype.has;et(x.Set.prototype,"has",function(t){return n(ei,this,t)})}}g(x,Rn),St(x.Map),St(x.Set)}var ni=function(t){if(!ct.TypeIsObject(t))throw new TypeError("target must be an object")},ii={apply:function(){return ct.Call(ct.Call,null,arguments)},construct:function(t,e){if(!ct.IsConstructor(t))throw new TypeError("First argument must be a constructor.");var n=arguments.length>2?arguments[2]:t;if(!ct.IsConstructor(n))throw new TypeError("new.target must be a constructor.");return ct.Construct(t,e,n,"internal")},deleteProperty:function(t,e){if(ni(t),u){var n=Object.getOwnPropertyDescriptor(t,e);if(n&&!n.configurable)return!1}return delete t[e]},has:function(t,e){return ni(t),e in t}};Object.getOwnPropertyNames&&Object.assign(ii,{ownKeys:function(t){ni(t);var e=Object.getOwnPropertyNames(t);return ct.IsCallable(Object.getOwnPropertySymbols)&&j(e,Object.getOwnPropertySymbols(t)),e}});var ri=function(t){return!s(t)};if(Object.preventExtensions&&Object.assign(ii,{isExtensible:function(t){return ni(t),Object.isExtensible(t)},preventExtensions:function(t){return ni(t),ri(function(){Object.preventExtensions(t)})}}),u){var oi=function(t,e,n){var i=Object.getOwnPropertyDescriptor(t,e);if(!i){var r=Object.getPrototypeOf(t);if(null===r)return;return oi(r,e,n)}return"value"in i?i.value:i.get?ct.Call(i.get,n):void 0},ai=function(t,e,i,r){var o=Object.getOwnPropertyDescriptor(t,e);if(!o){var a=Object.getPrototypeOf(t);if(null!==a)return ai(a,e,i,r);o={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if("value"in o){if(!o.writable)return!1;if(!ct.TypeIsObject(r))return!1;return Object.getOwnPropertyDescriptor(r,e)?rt.defineProperty(r,e,{value:i}):rt.defineProperty(r,e,{value:i,writable:!0,enumerable:!0,configurable:!0})}return!!o.set&&(n(o.set,r,i),!0)};Object.assign(ii,{defineProperty:function(t,e,n){return ni(t),ri(function(){Object.defineProperty(t,e,n)})},getOwnPropertyDescriptor:function(t,e){return ni(t),Object.getOwnPropertyDescriptor(t,e)},get:function(t,e){ni(t);var n=arguments.length>2?arguments[2]:t;return oi(t,e,n)},set:function(t,e,n){ni(t);var i=arguments.length>3?arguments[3]:t;return ai(t,e,n,i)}})}if(Object.getPrototypeOf){var si=Object.getPrototypeOf;ii.getPrototypeOf=function(t){return ni(t),si(t)}}if(Object.setPrototypeOf&&ii.getPrototypeOf){var ci=function(t,e){for(var n=e;n;){if(t===n)return!0;n=ii.getPrototypeOf(n)}return!1};Object.assign(ii,{setPrototypeOf:function(t,e){if(ni(t),null!==e&&!ct.TypeIsObject(e))throw new TypeError("proto must be an object or null");return e===rt.getPrototypeOf(t)||!(rt.isExtensible&&!rt.isExtensible(t))&&(!ci(t,e)&&(Object.setPrototypeOf(t,e),!0))}})}var li=function(t,e){if(ct.IsCallable(x.Reflect[t])){c(function(){return x.Reflect[t](1),x.Reflect[t](NaN),x.Reflect[t](!0),!0})&&et(x.Reflect,t,e)}else m(x.Reflect,t,e)};Object.keys(ii).forEach(function(t){li(t,ii[t])});var ui=x.Reflect.getPrototypeOf;if(d&&ui&&"getPrototypeOf"!==ui.name&&et(x.Reflect,"getPrototypeOf",function(t){return n(ui,x.Reflect,t)}),x.Reflect.setPrototypeOf&&c(function(){return x.Reflect.setPrototypeOf(1,{}),!0})&&et(x.Reflect,"setPrototypeOf",ii.setPrototypeOf),x.Reflect.defineProperty&&(c(function(){var t=!x.Reflect.defineProperty(1,"test",{value:1}),e="function"!=typeof Object.preventExtensions||!x.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return t&&e})||et(x.Reflect,"defineProperty",ii.defineProperty)),x.Reflect.construct&&(c(function(){var t=function(){};return x.Reflect.construct(function(){},[],t)instanceof t})||et(x.Reflect,"construct",ii.construct)),"Invalid Date"!==String(new Date(NaN))){var di=Date.prototype.toString,pi=function(){var t=+this;return t!==t?"Invalid Date":ct.Call(di,this)};et(Date.prototype,"toString",pi)}var fi={anchor:function(t){return ct.CreateHTML(this,"a","name",t)},big:function(){return ct.CreateHTML(this,"big","","")},blink:function(){return ct.CreateHTML(this,"blink","","")},bold:function(){return ct.CreateHTML(this,"b","","")},fixed:function(){return ct.CreateHTML(this,"tt","","")},fontcolor:function(t){return ct.CreateHTML(this,"font","color",t)},fontsize:function(t){return ct.CreateHTML(this,"font","size",t)},italics:function(){return ct.CreateHTML(this,"i","","")},link:function(t){return ct.CreateHTML(this,"a","href",t)},small:function(){return ct.CreateHTML(this,"small","","")},strike:function(){return ct.CreateHTML(this,"strike","","")},sub:function(){return ct.CreateHTML(this,"sub","","")},sup:function(){return ct.CreateHTML(this,"sup","","")}};p(Object.keys(fi),function(t){var e=String.prototype[t],i=!1;if(ct.IsCallable(e)){var r=n(e,"",' " '),o=A([],r.match(/"/g)).length;i=r!==r.toLowerCase()||o>2}else i=!0;i&&et(String.prototype,t,fi[t])});var hi=function(){if(!nt)return!1;var t="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!t)return!1;if(void 0!==t(W()))return!0;if("[null]"!==t([W()]))return!0;var e={a:W()};return e[W()]=!0,"{}"!==t(e)}(),_i=c(function(){return!nt||"{}"===JSON.stringify(Object(W()))&&"[{}]"===JSON.stringify([Object(W())])});if(hi||!_i){var mi=JSON.stringify;et(JSON,"stringify",function(t){if("symbol"!=typeof t){var e;arguments.length>1&&(e=arguments[1]);var i=[t];if(o(e))i.push(e);else{var r=ct.IsCallable(e)?e:null,a=function(t,e){var i=r?n(r,this,t,e):e;if("symbol"!=typeof i)return tt.symbol(i)?xe({})(i):i};i.push(a)}return arguments.length>2&&i.push(arguments[2]),mi.apply(this,i)}})}return x})}).call(e,n(4),n(65))},,,function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){_&&f&&(_=!1,f.length?h=f.concat(h):m=-1,h.length&&s())}function s(){if(!_){var t=r(a);_=!0;for(var e=h.length;e;){for(f=h,h=[];++m<e;)f&&f[m].run();m=-1,e=h.length}f=null,_=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,d,p=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var f,h=[],_=!1,m=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new c(t,e)),1!==h.length||_||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(19),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r.Subscriber);e.OuterSubscriber=o},function(t,e,n){"use strict";var i=n(116),r=n(1355),o=n(259),a=n(296),s=n(258),c=n(1354),l=function(){function t(t){this.closed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){this.closed=!0;var n=this,l=n._unsubscribe,u=n._subscriptions;if(this._subscriptions=null,o.isFunction(l)){var d=a.tryCatch(l).call(this);d===s.errorObject&&(e=!0,(t=t||[]).push(s.errorObject.e))}if(i.isArray(u))for(var p=-1,f=u.length;++p<f;){var h=u[p];if(r.isObject(h)){var d=a.tryCatch(h.unsubscribe).call(h);if(d===s.errorObject){e=!0,t=t||[];var _=s.errorObject.e;_ instanceof c.UnsubscriptionError?t=t.concat(_.errors):t.push(_)}}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)break;this.closed?n.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(n);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return n},t.prototype.remove=function(e){if(null!=e&&e!==this&&e!==t.EMPTY){var n=this._subscriptions;if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),o=n(292),a=n(291),s=n(102),c=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return i(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var i=t[t.length-1];s.isScheduler(i)?t.pop():i=null;var r=t.length;return r>1?new e(t,i):1===r?new o.ScalarObservable(t[0],i):new a.EmptyObservable(i)},e.dispatch=function(t){var e=t.array,n=t.index,i=t.count,r=t.subscriber;if(n>=i)return void r.complete();r.next(e[n]),r.closed||(t.index=n+1,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.array,i=n.length,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{array:n,index:0,count:i,subscriber:t});for(var o=0;o<i&&!t.closed;o++)t.next(n[o]);t.complete()},e}(r.Observable);e.ArrayObservable=c},function(t,e,n){"use strict";function i(t,e,n,i){var d=new l.InnerSubscriber(t,n,i);if(d.closed)return null;if(e instanceof s.Observable)return e._isScalar?(d.next(e.value),d.complete(),null):e.subscribe(d);if(o.isArray(e)){for(var p=0,f=e.length;p<f&&!d.closed;p++)d.next(e[p]);d.closed||d.complete()}else{if(a.isPromise(e))return e.then(function(t){d.closed||(d.next(t),d.complete())},function(t){return d.error(t)}).then(null,function(t){r.root.setTimeout(function(){throw t})}),d;if("function"==typeof e[c.$$iterator])for(var h=e[c.$$iterator]();;){var _=h.next();if(_.done){d.complete();break}if(d.next(_.value),d.closed)break}else if("function"==typeof e[u.$$observable]){var m=e[u.$$observable]();if("function"==typeof m.subscribe)return m.subscribe(new l.InnerSubscriber(t,n,i));d.error(new Error("invalid observable"))}else d.error(new TypeError("unknown type returned"))}return null}var r=n(61),o=n(116),a=n(1356),s=n(1),c=n(1352),l=n(1297),u=n(294);e.subscribeToResult=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}e.isScheduler=i},,,,,,,,,,,,,,function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e){
//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(n,i){"object"==typeof e&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):n.moment=i()}(this,function(){"use strict";function e(){return Mn.apply(null,arguments)}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)o(e,n)&&(t[n]=e[n]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function s(t,e,n,i){return Et(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(t){return null==t._pf&&(t._pf=c()),t._pf}function u(t){if(null==t._isValid){var e=l(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function d(t){var e=s(NaN);return null!=t?a(l(e),t):l(e).userInvalidated=!0,e}function p(t,e){var n,i,r;if(void 0!==e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),void 0!==e._i&&(t._i=e._i),void 0!==e._f&&(t._f=e._f),void 0!==e._l&&(t._l=e._l),void 0!==e._strict&&(t._strict=e._strict),void 0!==e._tzm&&(t._tzm=e._tzm),void 0!==e._isUTC&&(t._isUTC=e._isUTC),void 0!==e._offset&&(t._offset=e._offset),void 0!==e._pf&&(t._pf=l(e)),void 0!==e._locale&&(t._locale=e._locale),Rn.length>0)for(n in Rn)i=Rn[n],void 0!==(r=e[i])&&(t[i]=r);return t}function f(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===Dn&&(Dn=!0,e.updateOffset(this),Dn=!1)}function h(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function _(t){return t<0?Math.ceil(t):Math.floor(t)}function m(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=_(e)),n}function g(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&m(t[i])!==m(e[i]))&&a++;return a+o}function v(){}function b(t){return t?t.toLowerCase().replace("_","-"):t}function y(t){for(var e,n,i,r,o=0;o<t.length;){for(r=b(t[o]).split("-"),e=r.length,n=b(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=w(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&g(r,n,!0)>=e-1)break;e--}o++}return null}function w(e){var n=null;if(!Nn[e]&&void 0!==t&&t&&t.exports)try{n=In._abbr,require("./locale/"+e),$(n)}catch(t){}return Nn[e]}function $(t,e){var n;return t&&(n=void 0===e?k(t):x(t,e))&&(In=n),In._abbr}function x(t,e){return null!==e?(e.abbr=t,Nn[t]=Nn[t]||new v,Nn[t].set(e),$(t),Nn[t]):(delete Nn[t],null)}function k(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return In;if(!n(t)){if(e=w(t))return e;t=[t]}return y(t)}function C(t,e){var n=t.toLowerCase();Ln[n]=Ln[n+"s"]=Ln[e]=t}function S(t){return"string"==typeof t?Ln[t]||Ln[t.toLowerCase()]:void 0}function A(t){var e,n,i={};for(n in t)o(t,n)&&(e=S(n))&&(i[e]=t[n]);return i}function E(t,n){return function(i){return null!=i?(j(this,t,i),e.updateOffset(this,n),this):T(this,t)}}function T(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function j(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function O(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=S(t),"function"==typeof this[t])return this[t](e);return this}function q(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function P(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Vn[t]=r),e&&(Vn[e[0]]=function(){return q(r.apply(this,arguments),e[1],e[2])}),n&&(Vn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function M(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function I(t){var e,n,i=t.match(zn);for(e=0,n=i.length;e<n;e++)Vn[i[e]]?i[e]=Vn[i[e]]:i[e]=M(i[e]);return function(r){var o="";for(e=0;e<n;e++)o+=i[e]instanceof Function?i[e].call(r,t):i[e];return o}}function R(t,e){return t.isValid()?(e=D(e,t.localeData()),Un[e]=Un[e]||I(e),Un[e](t)):t.localeData().invalidDate()}function D(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Fn.lastIndex=0;i>=0&&Fn.test(t);)t=t.replace(Fn,n),Fn.lastIndex=0,i-=1;return t}function N(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function L(t,e,n){Gn[t]=N(e)?e:function(t){return t&&n?n:e}}function z(t,e){return o(Gn,t)?Gn[t](e._strict,e._locale):new RegExp(F(t))}function F(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=m(t)}),n=0;n<t.length;n++)Yn[t[n]]=i}function V(t,e){U(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function B(t,e,n){null!=e&&o(Yn,t)&&Yn[t](e,n._a,n,t)}function H(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function W(t){return this._months[t.month()]}function G(t){return this._monthsShort[t.month()]}function Y(t,e,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=s([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function K(t,e){var n;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))?t:(n=Math.min(t.date(),H(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function J(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):T(this,"Month")}function Q(){return H(this.year(),this.month())}function X(t){var e,n=t._a;return n&&-2===l(t).overflow&&(e=n[Jn]<0||n[Jn]>11?Jn:n[Qn]<1||n[Qn]>H(n[Kn],n[Jn])?Qn:n[Xn]<0||n[Xn]>24||24===n[Xn]&&(0!==n[Zn]||0!==n[ti]||0!==n[ei])?Xn:n[Zn]<0||n[Zn]>59?Zn:n[ti]<0||n[ti]>59?ti:n[ei]<0||n[ei]>999?ei:-1,l(t)._overflowDayOfYear&&(e<Kn||e>Qn)&&(e=Qn),l(t).overflow=e),t}function Z(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function tt(t,e){var n=!0;return a(function(){return n&&(Z(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function et(t,e){ri[t]||(Z(e),ri[t]=!0)}function nt(t){var e,n,i=t._i,r=oi.exec(i);if(r){for(l(t).iso=!0,e=0,n=ai.length;e<n;e++)if(ai[e][1].exec(i)){t._f=ai[e][0];break}for(e=0,n=si.length;e<n;e++)if(si[e][1].exec(i)){t._f+=(r[6]||" ")+si[e][0];break}i.match(Hn)&&(t._f+="Z"),wt(t)}else t._isValid=!1}function it(t){var n=ci.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));nt(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t))}function rt(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return t<1970&&s.setFullYear(t),s}function ot(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function at(t){return st(t)?366:365}function st(t){return t%4==0&&t%100!=0||t%400==0}function ct(){return st(this.year())}function lt(t,e,n){var i,r=n-e,o=n-t.day();return o>r&&(o-=7),o<r-7&&(o+=7),i=Tt(t).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ut(t){return lt(t,this._week.dow,this._week.doy).week}function dt(){return this._week.dow}function pt(){return this._week.doy}function ft(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ht(t){var e=lt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function _t(t,e,n,i,r){var o,a=6+r-i,s=ot(t,0,1+a),c=s.getUTCDay();return c<r&&(c+=7),n=null!=n?1*n:r,o=1+a+7*(e-1)-c+n,{year:o>0?t:t-1,dayOfYear:o>0?o:at(t-1)+o}}function mt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function gt(t,e,n){return null!=t?t:null!=e?e:n}function vt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function bt(t){var e,n,i,r,o=[];if(!t._d){for(i=vt(t),t._w&&null==t._a[Qn]&&null==t._a[Jn]&&yt(t),t._dayOfYear&&(r=gt(t._a[Kn],i[Kn]),t._dayOfYear>at(r)&&(l(t)._overflowDayOfYear=!0),n=ot(r,0,t._dayOfYear),t._a[Jn]=n.getUTCMonth(),t._a[Qn]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Xn]&&0===t._a[Zn]&&0===t._a[ti]&&0===t._a[ei]&&(t._nextDay=!0,t._a[Xn]=0),t._d=(t._useUTC?ot:rt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Xn]=24)}}function yt(t){var e,n,i,r,o,a,s;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,a=4,n=gt(e.GG,t._a[Kn],lt(Tt(),1,4).year),i=gt(e.W,1),r=gt(e.E,1)):(o=t._locale._week.dow,a=t._locale._week.doy,n=gt(e.gg,t._a[Kn],lt(Tt(),o,a).year),i=gt(e.w,1),null!=e.d?(r=e.d)<o&&++i:r=null!=e.e?e.e+o:o),s=_t(n,i,r,a,o),t._a[Kn]=s.year,t._dayOfYear=s.dayOfYear}function wt(t){if(t._f===e.ISO_8601)return void nt(t);t._a=[],l(t).empty=!0;var n,i,r,o,a,s=""+t._i,c=s.length,u=0;for(r=D(t._f,t._locale).match(zn)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(z(o,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&l(t).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),u+=i.length),Vn[o]?(i?l(t).empty=!1:l(t).unusedTokens.push(o),B(o,i,t)):t._strict&&!i&&l(t).unusedTokens.push(o);l(t).charsLeftOver=c-u,s.length>0&&l(t).unusedInput.push(s),!0===l(t).bigHour&&t._a[Xn]<=12&&t._a[Xn]>0&&(l(t).bigHour=void 0),t._a[Xn]=$t(t._locale,t._a[Xn],t._meridiem),bt(t),X(t)}function $t(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function xt(t){var e,n,i,r,o;if(0===t._f.length)return l(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],wt(e),u(e)&&(o+=l(e).charsLeftOver,o+=10*l(e).unusedTokens.length,l(e).score=o,(null==i||o<i)&&(i=o,n=e));a(t,n||e)}function kt(t){if(!t._d){var e=A(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],bt(t)}}function Ct(t){var e=new f(X(St(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function St(t){var e=t._i,r=t._f;return t._locale=t._locale||k(t._l),null===e||void 0===r&&""===e?d({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),h(e)?new f(X(e)):(n(r)?xt(t):r?wt(t):i(e)?t._d=e:At(t),t))}function At(t){var o=t._i;void 0===o?t._d=new Date:i(o)?t._d=new Date(+o):"string"==typeof o?it(t):n(o)?(t._a=r(o.slice(0),function(t){return parseInt(t,10)}),bt(t)):"object"==typeof o?kt(t):"number"==typeof o?t._d=new Date(o):e.createFromInputFallback(t)}function Et(t,e,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,Ct(o)}function Tt(t,e,n,i){return Et(t,e,n,i,!1)}function jt(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Tt();for(i=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](i)||(i=e[r]);return i}function Ot(){return jt("isBefore",[].slice.call(arguments,0))}function qt(){return jt("isAfter",[].slice.call(arguments,0))}function Pt(t){var e=A(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,c=e.minute||0,l=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*l+6e4*c+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=k(),this._bubble()}function Mt(t){return t instanceof Pt}function It(t,e){P(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+q(~~(t/60),2)+e+q(~~t%60,2)})}function Rt(t){var e=(t||"").match(Hn)||[],n=e[e.length-1]||[],i=(n+"").match(fi)||["-",0,0],r=60*i[1]+m(i[2]);return"+"===i[0]?r:-r}function Dt(t,n){var r,o;return n._isUTC?(r=n.clone(),o=(h(t)||i(t)?+t:+Tt(t))-+r,r._d.setTime(+r._d+o),e.updateOffset(r,!1),r):Tt(t).local()}function Nt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Lt(t,n){var i,r=this._offset||0;return null!=t?("string"==typeof t&&(t=Rt(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&n&&(i=Nt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?ee(this,Jt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Nt(this)}function zt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ft(t){return this.utcOffset(0,t)}function Ut(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Nt(this),"m")),this}function Vt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Rt(this._i)),this}function Bt(t){return t=t?Tt(t).utcOffset():0,(this.utcOffset()-t)%60==0}function Ht(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Wt(){if(void 0!==this._isDSTShifted)return this._isDSTShifted;var t={};if(p(t,this),t=St(t),t._a){var e=t._isUTC?s(t._a):Tt(t._a);this._isDSTShifted=this.isValid()&&g(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Gt(){return!this._isUTC}function Yt(){return this._isUTC}function Kt(){return this._isUTC&&0===this._offset}function Jt(t,e){var n,i,r,a=t,s=null;return Mt(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(s=hi.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:m(s[Qn])*n,h:m(s[Xn])*n,m:m(s[Zn])*n,s:m(s[ti])*n,ms:m(s[ei])*n}):(s=_i.exec(t))?(n="-"===s[1]?-1:1,a={y:Qt(s[2],n),M:Qt(s[3],n),d:Qt(s[4],n),h:Qt(s[5],n),m:Qt(s[6],n),s:Qt(s[7],n),w:Qt(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=Zt(Tt(a.from),Tt(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),i=new Pt(a),Mt(t)&&o(t,"_locale")&&(i._locale=t._locale),i}function Qt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Xt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Zt(t,e){var n;return e=Dt(e,t),t.isBefore(e)?n=Xt(t,e):(n=Xt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function te(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Jt(n,i),ee(this,r,t),this}}function ee(t,n,i,r){var o=n._milliseconds,a=n._days,s=n._months;r=null==r||r,o&&t._d.setTime(+t._d+o*i),a&&j(t,"Date",T(t,"Date")+a*i),s&&K(t,T(t,"Month")+s*i),r&&e.updateOffset(t,a||s)}function ne(t,e){var n=t||Tt(),i=Dt(n,this).startOf("day"),r=this.diff(i,"days",!0),o=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(e&&e[o]||this.localeData().calendar(o,this,Tt(n)))}function ie(){return new f(this)}function re(t,e){return e=S(void 0!==e?e:"millisecond"),"millisecond"===e?(t=h(t)?t:Tt(t),+this>+t):(h(t)?+t:+Tt(t))<+this.clone().startOf(e)}function oe(t,e){var n;return e=S(void 0!==e?e:"millisecond"),"millisecond"===e?(t=h(t)?t:Tt(t),+this<+t):(n=h(t)?+t:+Tt(t),+this.clone().endOf(e)<n)}function ae(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function se(t,e){var n;return e=S(e||"millisecond"),"millisecond"===e?(t=h(t)?t:Tt(t),+this==+t):(n=+Tt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function ce(t,e,n){var i,r,o=Dt(t,this),a=6e4*(o.utcOffset()-this.utcOffset());return e=S(e),"year"===e||"month"===e||"quarter"===e?(r=le(this,o),"quarter"===e?r/=3:"year"===e&&(r/=12)):(i=this-o,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-a)/864e5:"week"===e?(i-a)/6048e5:i),n?r:_(r)}function le(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)}function ue(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function de(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():R(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pe(t){var n=R(this,t||e.defaultFormat);return this.localeData().postformat(n)}function fe(t,e){return this.isValid()?Jt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function he(t){return this.from(Tt(),t)}function _e(t,e){return this.isValid()?Jt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function me(t){return this.to(Tt(),t)}function ge(t){var e;return void 0===t?this._locale._abbr:(e=k(t),null!=e&&(this._locale=e),this)}function ve(){return this._locale}function be(t){switch(t=S(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function ye(t){return t=S(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function we(){return+this._d-6e4*(this._offset||0)}function $e(){return Math.floor(+this/1e3)}function xe(){return this._offset?new Date(+this):this._d}function ke(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ce(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Se(){return u(this)}function Ae(){return a({},l(this))}function Ee(){return l(this).overflow}function Te(t,e){P(0,[t,t.length],0,e)}function je(t,e,n){return lt(Tt([t,11,31+e-n]),e,n).week}function Oe(t){var e=lt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function qe(t){var e=lt(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Pe(){return je(this.year(),1,4)}function Me(){var t=this.localeData()._week;return je(this.year(),t.dow,t.doy)}function Ie(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Re(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function De(t){return this._weekdays[t.day()]}function Ne(t){return this._weekdaysShort[t.day()]}function Le(t){return this._weekdaysMin[t.day()]}function ze(t){var e,n,i;for(this._weekdaysParse=this._weekdaysParse||[],e=0;e<7;e++)if(this._weekdaysParse[e]||(n=Tt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Fe(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Re(t,this.localeData()),this.add(t-e,"d")):e}function Ue(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ve(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Be(t,e){P(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function He(t,e){return e._meridiemParse}function We(t){return"p"===(t+"").toLowerCase().charAt(0)}function Ge(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Ye(t,e){e[ei]=m(1e3*("0."+t))}function Ke(){return this._isUTC?"UTC":""}function Je(){return this._isUTC?"Coordinated Universal Time":""}function Qe(t){return Tt(1e3*t)}function Xe(){return Tt.apply(null,arguments).parseZone()}function Ze(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i}function tn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function en(){return this._invalidDate}function nn(t){return this._ordinal.replace("%d",t)}function rn(t){return t}function on(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)}function an(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function sn(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function cn(t,e,n,i){var r=k(),o=s().set(i,e);return r[n](o,t)}function ln(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return cn(t,e,n,r);var o,a=[];for(o=0;o<i;o++)a[o]=cn(t,o,n,r);return a}function un(t,e){return ln(t,e,"months",12,"month")}function dn(t,e){return ln(t,e,"monthsShort",12,"month")}function pn(t,e){return ln(t,e,"weekdays",7,"day")}function fn(t,e){return ln(t,e,"weekdaysShort",7,"day")}function hn(t,e){return ln(t,e,"weekdaysMin",7,"day")}function _n(){var t=this._data;return this._milliseconds=Mi(this._milliseconds),this._days=Mi(this._days),this._months=Mi(this._months),t.milliseconds=Mi(t.milliseconds),t.seconds=Mi(t.seconds),t.minutes=Mi(t.minutes),t.hours=Mi(t.hours),t.months=Mi(t.months),t.years=Mi(t.years),this}function mn(t,e,n,i){var r=Jt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function gn(t,e){return mn(this,t,e,1)}function vn(t,e){return mn(this,t,e,-1)}function bn(t){return t<0?Math.floor(t):Math.ceil(t)}function yn(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,c=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*bn($n(s)+a),a=0,s=0),c.milliseconds=o%1e3,t=_(o/1e3),c.seconds=t%60,e=_(t/60),c.minutes=e%60,n=_(e/60),c.hours=n%24,a+=_(n/24),r=_(wn(a)),s+=r,a-=bn($n(r)),i=_(s/12),s%=12,c.days=a,c.months=s,c.years=i,this}function wn(t){return 4800*t/146097}function $n(t){return 146097*t/4800}function xn(t){var e,n,i=this._milliseconds;if("month"===(t=S(t))||"year"===t)return e=this._days+i/864e5,n=this._months+wn(e),"month"===t?n:n/12;switch(e=this._days+Math.round($n(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function kn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function Cn(t){return function(){return this.as(t)}}function Sn(t){return t=S(t),this[t+"s"]()}function An(t){return function(){return this._data[t]}}function En(){return _(this.days()/7)}function Tn(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function jn(t,e,n){var i=Jt(t).abs(),r=Ji(i.as("s")),o=Ji(i.as("m")),a=Ji(i.as("h")),s=Ji(i.as("d")),c=Ji(i.as("M")),l=Ji(i.as("y")),u=r<Qi.s&&["s",r]||1===o&&["m"]||o<Qi.m&&["mm",o]||1===a&&["h"]||a<Qi.h&&["hh",a]||1===s&&["d"]||s<Qi.d&&["dd",s]||1===c&&["M"]||c<Qi.M&&["MM",c]||1===l&&["y"]||["yy",l];return u[2]=e,u[3]=+t>0,u[4]=n,Tn.apply(null,u)}function On(t,e){return void 0!==Qi[t]&&(void 0===e?Qi[t]:(Qi[t]=e,!0))}function qn(t){var e=this.localeData(),n=jn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Pn(){var t,e,n,i=Xi(this._milliseconds)/1e3,r=Xi(this._days),o=Xi(this._months);t=_(i/60),e=_(t/60),i%=60,t%=60,n=_(o/12),o%=12;var a=n,s=o,c=r,l=e,u=t,d=i,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(c?c+"D":"")+(l||u||d?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var Mn,In,Rn=e.momentProperties=[],Dn=!1,Nn={},Ln={},zn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Fn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Un={},Vn={},Bn=/[+-]?\d{6}/,Hn=/Z|[+-]\d\d:?\d\d/gi,Wn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Gn={},Yn={},Kn=0,Jn=1,Qn=2,Xn=3,Zn=4,ti=5,ei=6;P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),P("MMMM",0,0,function(t){return this.localeData().months(this,t)}),C("month","M"),L("M",/\d\d?/),L("MM",/\d\d?/,/\d\d/),L("MMM",Wn),L("MMMM",Wn),U(["M","MM"],function(t,e){e[Jn]=m(t)-1}),U(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Jn]=r:l(n).invalidMonth=t});var ni="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ii="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ri={};e.suppressDeprecationWarnings=!1;var oi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ai=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],si=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ci=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),C("year","y"),L("Y",/[+-]?\d+/),L("YY",/\d\d?/,/\d\d/),L("YYYY",/\d{1,4}/,/\d{4}/),L("YYYYY",/[+-]?\d{1,6}/,Bn),L("YYYYYY",/[+-]?\d{1,6}/,Bn),U(["YYYYY","YYYYYY"],Kn),U("YYYY",function(t,n){n[Kn]=2===t.length?e.parseTwoDigitYear(t):m(t)}),U("YY",function(t,n){n[Kn]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(t){return m(t)+(m(t)>68?1900:2e3)};var li=E("FullYear",!1);P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),L("w",/\d\d?/),L("ww",/\d\d?/,/\d\d/),L("W",/\d\d?/),L("WW",/\d\d?/,/\d\d/),V(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=m(t)});var ui={dow:0,doy:6};P("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),L("DDD",/\d{1,3}/),L("DDDD",/\d{3}/),U(["DDD","DDDD"],function(t,e,n){n._dayOfYear=m(t)}),e.ISO_8601=function(){};var di=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Tt.apply(null,arguments);return t<this?this:t}),pi=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Tt.apply(null,arguments);return t>this?this:t});It("Z",":"),It("ZZ",""),L("Z",Hn),L("ZZ",Hn),U(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Rt(t)});var fi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var hi=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,_i=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Jt.fn=Pt.prototype;var mi=te(1,"add"),gi=te(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var vi=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Te("gggg","weekYear"),Te("ggggg","weekYear"),Te("GGGG","isoWeekYear"),Te("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),L("G",/[+-]?\d+/),L("g",/[+-]?\d+/),L("GG",/\d\d?/,/\d\d/),L("gg",/\d\d?/,/\d\d/),L("GGGG",/\d{1,4}/,/\d{4}/),L("gggg",/\d{1,4}/,/\d{4}/),L("GGGGG",/[+-]?\d{1,6}/,Bn),L("ggggg",/[+-]?\d{1,6}/,Bn),V(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=m(t)}),V(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),P("Q",0,0,"quarter"),C("quarter","Q"),L("Q",/\d/),U("Q",function(t,e){e[Jn]=3*(m(t)-1)}),P("D",["DD",2],"Do","date"),C("date","D"),L("D",/\d\d?/),L("DD",/\d\d?/,/\d\d/),L("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),U(["D","DD"],Qn),U("Do",function(t,e){e[Qn]=m(t.match(/\d\d?/)[0],10)});var bi=E("Date",!0);P("d",0,"do","day"),P("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),P("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),P("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),L("d",/\d\d?/),L("e",/\d\d?/),L("E",/\d\d?/),L("dd",Wn),L("ddd",Wn),L("dddd",Wn),V(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:l(n).invalidWeekday=t}),V(["d","e","E"],function(t,e,n,i){e[i]=m(t)});var yi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$i="Su_Mo_Tu_We_Th_Fr_Sa".split("_");P("H",["HH",2],0,"hour"),P("h",["hh",2],0,function(){return this.hours()%12||12}),Be("a",!0),Be("A",!1),C("hour","h"),L("a",He),L("A",He),L("H",/\d\d?/),L("h",/\d\d?/),L("HH",/\d\d?/,/\d\d/),L("hh",/\d\d?/,/\d\d/),U(["H","HH"],Xn),U(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),U(["h","hh"],function(t,e,n){e[Xn]=m(t),l(n).bigHour=!0});var xi=E("Hours",!0);P("m",["mm",2],0,"minute"),C("minute","m"),L("m",/\d\d?/),L("mm",/\d\d?/,/\d\d/),U(["m","mm"],Zn);var ki=E("Minutes",!1);P("s",["ss",2],0,"second"),C("second","s"),L("s",/\d\d?/),L("ss",/\d\d?/,/\d\d/),U(["s","ss"],ti);var Ci=E("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),L("S",/\d{1,3}/,/\d/),L("SS",/\d{1,3}/,/\d\d/),L("SSS",/\d{1,3}/,/\d{3}/);var Si;for(Si="SSSS";Si.length<=9;Si+="S")L(Si,/\d+/);for(Si="S";Si.length<=9;Si+="S")U(Si,Ye);var Ai=E("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var Ei=f.prototype;Ei.add=mi,Ei.calendar=ne,Ei.clone=ie,Ei.diff=ce,Ei.endOf=ye,Ei.format=pe,Ei.from=fe,Ei.fromNow=he,Ei.to=_e,Ei.toNow=me,Ei.get=O,Ei.invalidAt=Ee,Ei.isAfter=re,Ei.isBefore=oe,Ei.isBetween=ae,Ei.isSame=se,Ei.isValid=Se,Ei.lang=vi,Ei.locale=ge,Ei.localeData=ve,Ei.max=pi,Ei.min=di,Ei.parsingFlags=Ae,Ei.set=O,Ei.startOf=be,Ei.subtract=gi,Ei.toArray=ke,Ei.toObject=Ce,Ei.toDate=xe,Ei.toISOString=de,Ei.toJSON=de,Ei.toString=ue,Ei.unix=$e,Ei.valueOf=we,Ei.year=li,Ei.isLeapYear=ct,Ei.weekYear=Oe,Ei.isoWeekYear=qe,Ei.quarter=Ei.quarters=Ie,Ei.month=J,Ei.daysInMonth=Q,Ei.week=Ei.weeks=ft,Ei.isoWeek=Ei.isoWeeks=ht,Ei.weeksInYear=Me,Ei.isoWeeksInYear=Pe,Ei.date=bi,Ei.day=Ei.days=Fe,Ei.weekday=Ue,Ei.isoWeekday=Ve,Ei.dayOfYear=mt,Ei.hour=Ei.hours=xi,Ei.minute=Ei.minutes=ki,Ei.second=Ei.seconds=Ci,Ei.millisecond=Ei.milliseconds=Ai,Ei.utcOffset=Lt,Ei.utc=Ft,Ei.local=Ut,Ei.parseZone=Vt,Ei.hasAlignedHourOffset=Bt,Ei.isDST=Ht,Ei.isDSTShifted=Wt,Ei.isLocal=Gt,Ei.isUtcOffset=Yt,Ei.isUtc=Kt,Ei.isUTC=Kt,Ei.zoneAbbr=Ke,Ei.zoneName=Je,Ei.dates=tt("dates accessor is deprecated. Use date instead.",bi),Ei.months=tt("months accessor is deprecated. Use month instead",J),Ei.years=tt("years accessor is deprecated. Use year instead",li),Ei.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",zt);var Ti=Ei,ji={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Oi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},qi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Pi=v.prototype;Pi._calendar=ji,Pi.calendar=Ze,Pi._longDateFormat=Oi,Pi.longDateFormat=tn,Pi._invalidDate="Invalid date",Pi.invalidDate=en,Pi._ordinal="%d",Pi.ordinal=nn,Pi._ordinalParse=/\d{1,2}/,Pi.preparse=rn,Pi.postformat=rn,Pi._relativeTime=qi,Pi.relativeTime=on,Pi.pastFuture=an,Pi.set=sn,Pi.months=W,Pi._months=ni,Pi.monthsShort=G,Pi._monthsShort=ii,Pi.monthsParse=Y,Pi.week=ut,Pi._week=ui,Pi.firstDayOfYear=pt,Pi.firstDayOfWeek=dt,Pi.weekdays=De,Pi._weekdays=yi,Pi.weekdaysMin=Le,Pi._weekdaysMin=$i,Pi.weekdaysShort=Ne,Pi._weekdaysShort=wi,Pi.weekdaysParse=ze,Pi.isPM=We,Pi._meridiemParse=/[ap]\.?m?\.?/i,Pi.meridiem=Ge,$("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===m(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=tt("moment.lang is deprecated. Use moment.locale instead.",$),e.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",k);var Mi=Math.abs,Ii=Cn("ms"),Ri=Cn("s"),Di=Cn("m"),Ni=Cn("h"),Li=Cn("d"),zi=Cn("w"),Fi=Cn("M"),Ui=Cn("y"),Vi=An("milliseconds"),Bi=An("seconds"),Hi=An("minutes"),Wi=An("hours"),Gi=An("days"),Yi=An("months"),Ki=An("years"),Ji=Math.round,Qi={s:45,m:45,h:22,d:26,M:11},Xi=Math.abs,Zi=Pt.prototype;return Zi.abs=_n,Zi.add=gn,Zi.subtract=vn,Zi.as=xn,Zi.asMilliseconds=Ii,Zi.asSeconds=Ri,Zi.asMinutes=Di,Zi.asHours=Ni,Zi.asDays=Li,Zi.asWeeks=zi,Zi.asMonths=Fi,Zi.asYears=Ui,Zi.valueOf=kn,Zi._bubble=yn,Zi.get=Sn,Zi.milliseconds=Vi,Zi.seconds=Bi,Zi.minutes=Hi,Zi.hours=Wi,Zi.days=Gi,Zi.weeks=En,Zi.months=Yi,Zi.years=Ki,Zi.humanize=qn,Zi.toISOString=Pn,Zi.toString=Pn,Zi.toJSON=Pn,Zi.locale=ge,Zi.localeData=ve,Zi.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pn),Zi.lang=vi,P("X",0,0,"unix"),P("x",0,0,"valueOf"),L("x",/[+-]?\d+/),L("X",/[+-]?\d+(\.\d{1,3})?/),U("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),U("x",function(t,e,n){n._d=new Date(m(t))}),e.version="2.10.6",function(t){Mn=t}(Tt),e.fn=Ti,e.min=Ot,e.max=qt,e.utc=s,e.unix=Qe,e.months=un,e.isDate=i,e.locale=$,e.invalid=d,e.duration=Jt,e.isMoment=h,e.weekdays=pn,e.parseZone=Xe,e.localeData=k,e.isDuration=Mt,e.monthsShort=dn,e.weekdaysMin=hn,e.defineLocale=x,e.weekdaysShort=fn,e.normalizeUnits=S,e.relativeTimeThreshold=On,e})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),o=n(19),a=n(67),s=n(295),c=n(1300),l=n(257),u=function(t){function e(e){t.call(this,e),this.destination=e}return i(e,t),e}(o.Subscriber);e.SubjectSubscriber=u;var d=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return i(e,t),e.prototype[l.$$rxSubscriber]=function(){return new u(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._subscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new r.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(r.Observable);e.Subject=d;var p=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.Subscription.EMPTY},e}(d);e.AnonymousSubject=p},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(255),o=n(1),a=n(19),s=n(67),c=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(t=this._connection=new s.Subscription,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed?(this._connection=null,t=s.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new u(this))},e}(o.Observable);e.ConnectableObservable=c;var l=function(t){function e(e,n){t.call(this,e),this.connectable=n}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(r.SubjectSubscriber),u=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new d(t,n),r=e._subscribe(i);return i.closed||(i.connection=n.connect()),r},t}(),d=function(t){function e(e,n){t.call(this,e),this.connectable=n}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()},e}(a.Subscriber)},function(t,e,n){"use strict";var i=n(61),r=i.root.Symbol;e.$$rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber"},function(t,e,n){"use strict";e.errorObject={e:{}}},function(t,e,n){"use strict";function i(t){return"function"==typeof t}e.isFunction=i},function(t,e){/**
 * @license AngularJS v1.6.6
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(t){"use strict";function e(t){if(!w(t))return Ki;y(t.objectMaxDepth)&&(Ki.objectMaxDepth=n(t.objectMaxDepth)?t.objectMaxDepth:NaN)}function n(t){return k(t)&&t>0}function i(t,e){return e=e||Error,function(){var n,i,r=arguments[0],o=arguments[1],a="["+(t?t+":":"")+r+"] ",s=G(arguments,2).map(function(t){return xt(t,Ki.objectMaxDepth)});for(a+=o.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e<s.length?s[e]:t}),a+="\nhttp://errors.angularjs.org/1.6.6/"+(t?t+"/":"")+r,i=0,n="?";i<s.length;i++,n="&")a+=n+"p"+i+"="+encodeURIComponent(s[i]);return new e(a)}}function r(t){if(null==t||T(t))return!1;if(_r(t)||x(t)||ir&&t instanceof ir)return!0;var e="length"in Object(t)&&t.length;return k(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function o(t,e,n){var i,a;if(t)if(A(t))for(i in t)"prototype"!==i&&"length"!==i&&"name"!==i&&t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else if(_r(t)||r(t)){var s="object"!=typeof t;for(i=0,a=t.length;i<a;i++)(s||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if($(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)Qi.call(t,i)&&e.call(n,t[i],i,t);return t}function a(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function s(t){return function(e,n){t(n,e)}}function c(){return++fr}function l(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function u(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;r<o;++r){var a=e[r];if(w(a)||A(a))for(var s=Object.keys(a),c=0,d=s.length;c<d;c++){var p=s[c],f=a[p];n&&w(f)?C(f)?t[p]=new Date(f.valueOf()):E(f)?t[p]=new RegExp(f):f.nodeName?t[p]=f.cloneNode(!0):N(f)?t[p]=f.clone():(w(t[p])||(t[p]=_r(f)?[]:{}),u(t[p],[f],!0)):t[p]=f}}return l(t,i),t}function d(t){return u(t,ar.call(arguments,1),!1)}function p(t){return u(t,ar.call(arguments,1),!0)}function f(t){return parseInt(t,10)}function h(t,e){return d(Object.create(t),e)}function _(){}function m(t){return t}function g(t){return function(){return t}}function v(t){return A(t.toString)&&t.toString!==lr}function b(t){return void 0===t}function y(t){return void 0!==t}function w(t){return null!==t&&"object"==typeof t}function $(t){return null!==t&&"object"==typeof t&&!ur(t)}function x(t){return"string"==typeof t}function k(t){return"number"==typeof t}function C(t){return"[object Date]"===lr.call(t)}function S(t){switch(lr.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function A(t){return"function"==typeof t}function E(t){return"[object RegExp]"===lr.call(t)}function T(t){return t&&t.window===t}function j(t){return t&&t.$evalAsync&&t.$watch}function O(t){return"[object File]"===lr.call(t)}function q(t){return"[object FormData]"===lr.call(t)}function P(t){return"[object Blob]"===lr.call(t)}function M(t){return"boolean"==typeof t}function I(t){return t&&A(t.then)}function R(t){return t&&k(t.length)&&mr.test(lr.call(t))}function D(t){return"[object ArrayBuffer]"===lr.call(t)}function N(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function L(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function z(t){return Xi(t.nodeName||t[0]&&t[0].nodeName)}function F(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function U(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function V(t,e,i){function r(t,e,n){if(--n<0)return"...";var i,r=e.$$hashKey;if(_r(t))for(var o=0,s=t.length;o<s;o++)e.push(a(t[o],n));else if($(t))for(i in t)e[i]=a(t[i],n);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(e[i]=a(t[i],n));else for(i in t)Qi.call(t,i)&&(e[i]=a(t[i],n));return l(e,r),e}function a(t,e){if(!w(t))return t;var n=c.indexOf(t);if(-1!==n)return u[n];if(T(t)||j(t))throw dr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,o=s(t);return void 0===o&&(o=_r(t)?[]:Object.create(ur(t)),i=!0),c.push(t),u.push(o),i?r(t,o,e):o}function s(t){switch(lr.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(a(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(A(t.cloneNode))return t.cloneNode(!0)}var c=[],u=[];if(i=n(i)?i:NaN,e){if(R(e)||D(e))throw dr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw dr("cpi","Can't copy! Source and destination are identical.");return _r(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),c.push(t),u.push(e),r(t,e,i)}return a(t,i)}function B(t,e){return t===e||t!==t&&e!==e}function H(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,r,o=typeof t,a=typeof e;if(o===a&&"object"===o){if(!_r(t)){if(C(t))return!!C(e)&&B(t.getTime(),e.getTime());if(E(t))return!!E(e)&&t.toString()===e.toString();if(j(t)||j(e)||T(t)||T(e)||_r(e)||C(e)||E(e))return!1;r=vt();for(i in t)if("$"!==i.charAt(0)&&!A(t[i])){if(!H(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&y(e[i])&&!A(e[i]))return!1;return!0}if(!_r(e))return!1;if((n=t.length)===e.length){for(i=0;i<n;i++)if(!H(t[i],e[i]))return!1;return!0}}return!1}function W(t,e,n){return t.concat(ar.call(e,n))}function G(t,e){return ar.call(t,e||0)}function Y(t,e){var n=arguments.length>2?G(arguments,2):[];return!A(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,W(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function K(e,n){var i=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=void 0:T(n)?i="$WINDOW":n&&t.document===n?i="$DOCUMENT":j(n)&&(i="$SCOPE"),i}function J(t,e){if(!b(t))return k(e)||(e=e?2:null),JSON.stringify(t,K,e)}function Q(t){return x(t)?JSON.parse(t):t}function X(t,e){t=t.replace(wr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return hr(n)?e:n}function Z(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function tt(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return Z(t,n*(X(e,i)-i))}function et(t){t=ir(t).clone().empty();var e=ir("<div>").append(t).html();try{return t[0].nodeType===Ar?Xi(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+Xi(e)})}catch(t){return Xi(e)}}function nt(t){try{return decodeURIComponent(t)}catch(t){}}function it(t){var e={};return o((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(i=t.substring(0,n),r=t.substring(n+1)),i=nt(i),y(i)&&(r=!y(r)||nt(r),Qi.call(e,i)?_r(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function rt(t){var e=[];return o(t,function(t,n){_r(t)?o(t,function(t){e.push(at(n,!0)+(!0===t?"":"="+at(t,!0)))}):e.push(at(n,!0)+(!0===t?"":"="+at(t,!0)))}),e.length?e.join("&"):""}function ot(t){return at(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function at(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function st(t,e){var n,i,r=$r.length;for(i=0;i<r;++i)if(n=$r[i]+e,x(n=t.getAttribute(n)))return n;return null}function ct(e,n){var i,r,a={};if(o($r,function(t){var n=t+"app";!i&&e.hasAttribute&&e.hasAttribute(n)&&(i=e,r=e.getAttribute(n))}),o($r,function(t){var n,o=t+"app";!i&&(n=e.querySelector("["+o.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(o))}),i){if(!xr)return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==st(i,"strict-di"),n(i,r?[r]:[],a)}}function lt(e,n,i){w(i)||(i={}),i=d({strictDi:!1},i);var r=function(){if(e=ir(e),e.injector()){var r=e[0]===t.document?"document":et(e);throw dr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=le(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(t&&a.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!s.test(t.name))return r();t.name=t.name.replace(s,""),pr.resumeBootstrap=function(t){return o(t,function(t){n.push(t)}),r()},A(pr.resumeDeferredBootstrap)&&pr.resumeDeferredBootstrap()}function ut(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function dt(t){var e=pr.element(t).injector();if(!e)throw dr("test","no injector found for element argument to getTestability");return e.get("$$testability")}function pt(t,e){return e=e||"_",t.replace(kr,function(t,n){return(n?e:"")+t.toLowerCase()})}function ft(t,e,n){if(!t)throw dr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ht(t,e,n){return n&&_r(t)&&(t=t[t.length-1]),ft(A(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function _t(t,e){if("hasOwnProperty"===t)throw dr("badname","hasOwnProperty is not a valid {0} name",e)}function mt(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,a=r.length,s=0;s<a;s++)i=r[s],t&&(t=(o=t)[i]);return!n&&A(t)?Y(o,t):t}function gt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=ir(ar.call(t,0,r))),e.push(n));return e||t}function vt(){return Object.create(null)}function bt(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!v(t)||_r(t)||C(t)?J(t):t.toString()}return t}function yt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||i,e(o,"module",function(){var t={};return function(i,o,a){var s={};return function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)}(i,"module"),o&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,e,n,i){return i||(i=c),function(){return i[n||"push"]([t,e,arguments]),p}}function e(t,e,n){return n||(n=c),function(r,o){return o&&A(o)&&(o.$$moduleName=i),n.push([t,e,arguments]),p}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var c=[],l=[],u=[],d=t("$injector","invoke","push",l),p={_invokeQueue:c,_configBlocks:l,_runBlocks:u,info:function(t){if(y(t)){if(!w(t))throw r("aobj","Argument '{0}' must be an object","value");return s=t,this}return s},requires:o,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator",l),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),component:e("$compileProvider","component"),config:d,run:function(t){return u.push(t),this}};return a&&d(a),p})}})}function wt(t,e){if(_r(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(w(t)){e=e||{};for(var r in t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r])}return e||t}function $t(t,e){var i=[];return n(e)&&(t=pr.copy(t,null,e)),JSON.stringify(t,function(t,e){if(e=K(t,e),w(e)){if(i.indexOf(e)>=0)return"...";i.push(e)}return e})}function xt(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):b(t)?"undefined":"string"!=typeof t?$t(t,e):t}function kt(){return++Pr}function Ct(t){return At(t.replace(Ir,"ms-"))}function St(t,e){return e.toUpperCase()}function At(t){return t.replace(Mr,St)}function Et(t){return!Lr.test(t)}function Tt(t){var e=t.nodeType;return e===Sr||!e||e===Tr}function jt(t){for(var e in qr[t.ng339])return!0;return!1}function Ot(t,e){var n,i,r,a,s=e.createDocumentFragment(),c=[];if(Et(t))c.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),i=(zr.exec(t)||["",""])[1].toLowerCase(),r=Ur[i]||Ur._default,n.innerHTML=r[1]+t.replace(Fr,"<$1></$2>")+r[2],a=r[0];a--;)n=n.lastChild;c=W(c,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(c,function(t){s.appendChild(t)}),s}function qt(e,n){n=n||t.document;var i;return(i=Nr.exec(e))?[n.createElement(i[1])]:(i=Ot(e,n))?i.childNodes:[]}function Pt(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function Mt(t){if(t instanceof Mt)return t;var e;if(x(t)&&(t=gr(t),e=!0),!(this instanceof Mt)){if(e&&"<"!==t.charAt(0))throw Dr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Mt(t)}e?Bt(this,qt(t)):A(t)?Jt(t):Bt(this,t)}function It(t){return t.cloneNode(!0)}function Rt(t,e){!e&&Tt(t)&&ir.cleanData([t]),t.querySelectorAll&&ir.cleanData(t.querySelectorAll("*"))}function Dt(t,e,n,i){if(y(i))throw Dr("offargs","jqLite#off() does not support the `selector` argument");var r=Lt(t),a=r&&r.events,s=r&&r.handle;if(s)if(e){var c=function(e){var i=a[e];y(n)&&U(i||[],n),y(n)&&i&&i.length>0||(t.removeEventListener(e,s),delete a[e])};o(e.split(" "),function(t){c(t),Rr[t]&&c(Rr[t])})}else for(e in a)"$destroy"!==e&&t.removeEventListener(e,s),delete a[e]}function Nt(t,e){var n=t.ng339,i=n&&qr[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Dt(t)),delete qr[n],t.ng339=void 0}}function Lt(t,e){var n=t.ng339,i=n&&qr[n];return e&&!i&&(t.ng339=n=kt(),i=qr[n]={events:{},data:{},handle:void 0}),i}function zt(t,e,n){if(Tt(t)){var i,r=y(n),o=!r&&e&&!w(e),a=!e,s=Lt(t,!o),c=s&&s.data;if(r)c[At(e)]=n;else{if(a)return c;if(o)return c&&c[At(e)];for(i in e)c[At(i)]=e[i]}}}function Ft(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Ut(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",gr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+gr(e)+" "," ")))})}function Vt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=gr(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",gr(n))}}function Bt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Ht(t,e){return Wt(t,"$"+(e||"ngController")+"Controller")}function Wt(t,e,n){t.nodeType===Tr&&(t=t.documentElement);for(var i=_r(e)?e:[e];t;){for(var r=0,o=i.length;r<o;r++)if(y(n=ir.data(t,i[r])))return n;t=t.parentNode||t.nodeType===jr&&t.host}}function Gt(t){for(Rt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Yt(t,e){e||Rt(t);var n=t.parentNode;n&&n.removeChild(t)}function Kt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):ir(n).on("load",e)}function Jt(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}function Qt(t,e){var n=Hr[e.toLowerCase()];return n&&Wr[z(t)]&&n}function Xt(t){return Gr[t]}function Zt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||te;o>1&&(r=wt(r));for(var c=0;c<o;c++)n.isImmediatePropagationStopped()||s(t,n,r[c])}};return n.elem=t,n}function te(t,e,n){n.call(t,e)}function ee(t,e,n){var i=e.relatedTarget;i&&(i===t||Vr.call(t,i))||n.call(t,e)}function ne(){this.$get=function(){return d(Mt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ft(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Vt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Ut(t,e)}})}}function ie(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"===i||"object"===i&&null!==t?t.$$hashKey=i+":"+(e||c)():i+":"+t}function re(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function oe(t){return Function.prototype.toString.call(t)}function ae(t){var e=oe(t).replace(eo,"");return e.match(Qr)||e.match(Xr)}function se(t){var e=ae(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ce(t,e,n){var i,r,a;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw x(n)&&n||(n=t.name||se(t)),no("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=ae(t),o(r[1].split(Zr),function(t){t.replace(to,function(t,e,n){i.push(n)})})}t.$inject=i}}else _r(t)?(a=t.length-1,ht(t[a],"fn"),i=t.slice(0,a)):ht(t,"fn",!0);return i}function le(t,e){function n(t){return function(e,n){if(!w(e))return t(e,n);o(e,s(t))}}function i(t,e){if(_t(t,"service"),(A(e)||_r(e))&&(e=$.instantiate(e)),!e.$get)throw no("pget","Provider '{0}' must define $get factory method.",t);return y[t+_]=e}function r(t,e){return function(){var n=S.invoke(e,this);if(b(n))throw no("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function a(t,e,n){return i(t,{$get:!1!==n?r(t,e):e})}function c(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function l(t,e){return a(t,g(e),!1)}function u(t,e){_t(t,"constant"),y[t]=e,k[t]=e}function d(t,e){var n=$.get(t+_),i=n.$get;n.$get=function(){var t=S.invoke(i,n);return S.invoke(e,null,{$delegate:t})}}function p(t){ft(b(t)||_r(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function i(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=$.get(i[0]);r[i[1]].apply(r,i[2])}}if(!v.get(t)){v.set(t,!0);try{x(t)?(e=or(t),S.modules[t]=e,n=n.concat(p(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):A(t)?n.push($.invoke(t)):_r(t)?n.push($.invoke(t)):ht(t,"module")}catch(e){throw _r(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),no("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}}),n}function f(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===h)throw no("cdep","Circular dependency found: {0}",e+" <- "+m.join(" <- "));return t[e]}try{return m.unshift(e),t[e]=h,t[e]=n(e,i),t[e]}catch(n){throw t[e]===h&&delete t[e],n}finally{m.shift()}}function r(t,n,r){for(var o=[],a=le.$$annotate(t,e,r),s=0,c=a.length;s<c;s++){var l=a[s];if("string"!=typeof l)throw no("itkn","Incorrect injection token! Expected service name as string, got {0}",l);o.push(n&&n.hasOwnProperty(l)?n[l]:i(l,r))}return o}function o(t){if(nr||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return M(e)||(e=t.$$ngIsClass=/^(?:class\b|constructor\()/.test(oe(t))),e}function a(t,e,n,i){"string"==typeof n&&(i=n,n=null);var a=r(t,n,i);return _r(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var i=_r(t)?t[t.length-1]:t,o=r(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:a,instantiate:s,get:i,annotate:le.$$annotate,has:function(e){return y.hasOwnProperty(e+_)||t.hasOwnProperty(e)}}}e=!0===e;var h={},_="Provider",m=[],v=new Kr,y={$provide:{provider:n(i),factory:n(a),service:n(c),value:n(l),constant:n(u),decorator:d}},$=y.$injector=f(y,function(t,e){throw pr.isString(e)&&m.push(e),no("unpr","Unknown provider: {0}",m.join(" <- "))}),k={},C=f(k,function(t,e){var n=$.get(t+_,e);return S.invoke(n.$get,n,void 0,t)}),S=C;y["$injector"+_]={$get:g(C)},S.modules=$.modules=vt();var E=p(t);return S=C.get("$injector"),S.strictDi=e,o(E,function(t){t&&S.invoke(t)}),S}function ue(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===z(t))return e=t,!0}),e}function o(){var t=s.yOffset;if(A(t))t=t();else if(N(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else k(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function s(t){t=x(t)?t:k(t)?t.toString():n.hash();var e;t?(e=c.getElementById(t))?a(e):(e=r(c.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var c=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Kt(function(){i.$evalAsync(s)})}),s}]}function de(t,e){return t||e?t?e?(_r(t)&&(t=t.join(" ")),_r(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function pe(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===ro)return n}}function fe(t){x(t)&&(t=t.split(" "));var e=vt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function he(t){return w(t)?t:{}}function _e(t,e,n,i){function r(t){try{t.apply(null,G(arguments,1))}finally{if(0===--g)for(;v.length;)try{v.pop()()}catch(t){n.error(t)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function s(){k=null,l()}function c(){y=C(),y=b(y)?null:y,H(y,E)&&(y=E),E=y,w=y}function l(){var t=w;c(),$===u.url()&&t===y||($=u.url(),w=y,o(S,function(t){t(u.url(),y)}))}var u=this,d=t.location,p=t.history,f=t.setTimeout,h=t.clearTimeout,m={};u.isMock=!1;var g=0,v=[];u.$$completeOutstandingRequest=r,u.$$incOutstandingRequestCount=function(){g++},u.notifyWhenNoOutstandingRequests=function(t){0===g?t():v.push(t)};var y,w,$=d.href,x=e.find("base"),k=null,C=i.history?function(){try{return p.state}catch(t){}}:_;c(),u.url=function(e,n,r){if(b(r)&&(r=null),d!==t.location&&(d=t.location),p!==t.history&&(p=t.history),e){var o=w===r;if($===e&&(!i.history||o))return u;var s=$&&Je($)===Je(e);return $=e,w=r,!i.history||s&&o?(s||(k=e),n?d.replace(e):s?d.hash=a(e):d.href=e,d.href!==e&&(k=e)):(p[n?"replaceState":"pushState"](r,"",e),c()),k&&(k=e),u}return k||d.href.replace(/%27/g,"'")},u.state=function(){return y};var S=[],A=!1,E=null;u.onUrlChange=function(e){return A||(i.history&&ir(t).on("popstate",s),ir(t).on("hashchange",s),A=!0),S.push(e),e},u.$$applicationDestroyed=function(){ir(t).off("hashchange popstate",s)},u.$$checkUrlChange=l,u.baseHref=function(){var t=x.attr("href");return t?t.replace(/^(https?:)?\/\/[^\/]*/,""):""},u.defer=function(t,e){var n;return g++,n=f(function(){delete m[n],r(t)},e||0),m[n]=!0,n},u.defer.cancel=function(t){return!!m[t]&&(delete m[t],h(t),r(_),!0)}}function me(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new _e(t,i,e,n)}]}function ge(){this.$get=function(){function t(t,n){function r(t){t!==p&&(f?f===t&&(f=t.n):f=t,o(t.n,t.p),o(t,p),p=t,p.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=d({},n,{id:t}),c=vt(),l=n&&n.capacity||Number.MAX_VALUE,u=vt(),p=null,f=null;return e[t]={put:function(t,e){if(!b(e)){if(l<Number.MAX_VALUE){r(u[t]||(u[t]={key:t}))}return t in c||a++,c[t]=e,a>l&&this.remove(f.key),e}},get:function(t){if(l<Number.MAX_VALUE){var e=u[t];if(!e)return;r(e)}return c[t]},remove:function(t){if(l<Number.MAX_VALUE){var e=u[t];if(!e)return;e===p&&(p=e.p),e===f&&(f=e.n),o(e.n,e.p),delete u[t]}t in c&&(delete c[t],a--)},removeAll:function(){c=vt(),a=0,u=vt(),p=f=null},destroy:function(){c=null,s=null,u=null,delete e[t]},info:function(){return d({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function ve(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function be(){}function ye(e,n){function i(t,e,n){var i=vt();return o(t,function(t,r){if(t in E)return void(i[r]=E[t]);var o=t.match(/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/);if(!o)throw po("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,r,t,n?"controller bindings definition":"isolate scope definition");i[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r},o[4]&&(E[t]=i[r])}),i}function r(t,e){var n={isolateScope:null,bindToController:null};if(w(t.scope)&&(!0===t.bindToController?(n.bindToController=i(t.scope,e,!0),n.isolateScope={}):n.isolateScope=i(t.scope,e,!1)),w(t.bindToController)&&(n.bindToController=i(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw po("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}function a(t){var e=t.charAt(0);if(!e||e!==Xi(e))throw po("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw po("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function c(t){var e=t.require||t.controller&&t.name;return!_r(e)&&w(e)&&o(e,function(t,n){var i=t.match(k);t.substring(i[0].length)||(e[n]=i[0]+n)}),e}function l(t,e){if(t&&(!x(t)||!/[EACM]/.test(t)))throw po("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}var u={},p="Directive",f=/^\s*directive:\s*([\w-]+)\s+(.*)$/,v=/(([\w-]+)(?::([^;]+))?;?)/,$=L("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,C=/^(on[a-z]+|formaction)$/,E=vt();this.directive=function t(n,i){return ft(n,"name"),_t(n,"directive"),x(n)?(a(n),ft(i,"directiveFactory"),u.hasOwnProperty(n)||(u[n]=[],e.factory(n+p,["$injector","$exceptionHandler",function(t,e){var i=[];return o(u[n],function(r,o){try{var a=t.invoke(r);A(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=c(a),a.restrict=l(a.restrict,n),a.$$moduleName=r.$$moduleName,i.push(a)}catch(t){e(t)}}),i}])),u[n].push(i)):o(n,s(t)),this},this.component=function t(e,n){function i(t){function e(e){return A(e)||_r(e)?function(n,i){return t.invoke(e,this,{$element:n,$attrs:i})}:e}var i=n.template||n.templateUrl?n.template:"",a={controller:r,controllerAs:Ce(n.controller)||n.controllerAs||"$ctrl",template:e(i),templateUrl:e(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return o(n,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}if(!x(e))return o(e,s(Y(this,t))),this;var r=n.controller||function(){};return o(n,function(t,e){"$"===e.charAt(0)&&(i[e]=t,A(r)&&(r[e]=t))}),i.$inject=["$injector"],this.directive(e,i)},this.aHrefSanitizationWhitelist=function(t){return y(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var T=!0;this.debugInfoEnabled=function(t){return y(t)?(T=t,this):T};var O=!1;this.preAssignBindingsEnabled=function(t){return y(t)?(O=t,this):O};var q=!1;this.strictComponentBindingsEnabled=function(t){return y(t)?(q=t,this):q};var P=10;this.onChangesTtl=function(t){return arguments.length?(P=t,this):P};var I=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(I=t,this):I};var R=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(R=t,this):R},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,i,a,s,c,l,g,E,D){function N(){try{if(!--Pt)throw At=void 0,po("infchng","{0} $onChanges() iterations reached. Aborting!\n",P);l.$apply(function(){for(var t=[],e=0,n=At.length;e<n;++e)try{At[e]()}catch(e){t.push(e)}if(At=void 0,t.length)throw t})}finally{Pt++}}function L(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t}function F(t,e,n){jt.innerHTML="<span "+e+">";var i=jt.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,t.attributes.setNamedItem(r)}function V(t,e){try{t.addClass(e)}catch(t){}}function W(t,e,n,i,r){t instanceof ir||(t=ir(t));var o=J(t,e,t,n,i,r);W.$$addScopeClass(t);var a=null;return function(e,n,i){if(!t)throw po("multilink","This element has already been linked.");ft(e,"scope"),r&&r.needsNewScope&&(e=e.$parent.$new()),i=i||{};var s=i.parentBoundTranscludeFn,c=i.transcludeControllers,l=i.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=K(l));var u;if(u="html"!==a?ir(bt(a,ir("<div>").append(t).html())):n?Br.clone.call(t):t,c)for(var d in c)u.data("$"+d+"Controller",c[d].instance);return W.$$addScopeInfo(u,e),n&&n(u,e),o&&o(e,u,u,s),n||(t=o=null),u}}function K(t){var e=t&&t[0];return e&&"foreignobject"!==z(e)&&lr.call(e).match(/SVG/)?"svg":"html"}function J(t,e,n,i,r,o){function a(t,n,i,r){var o,a,s,c,l,u,d,p,_;if(f){var m=n.length;for(_=new Array(m),l=0;l<h.length;l+=3)d=h[l],_[d]=n[d]}else _=n;for(l=0,u=h.length;l<u;)s=_[h[l++]],o=h[l++],a=h[l++],o?(o.scope?(c=t.$new(),W.$$addScopeInfo(ir(s),c)):c=t,p=o.transcludeOnThisElement?X(t,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&e?X(t,e):null,o(a,c,s,i,p)):a&&a(t,s.childNodes,void 0,r)}for(var s,c,l,u,d,p,f,h=[],_=_r(t)||t instanceof ir,m=0;m<t.length;m++)s=new L,11===nr&&Q(t,m,_),c=Z(t[m],[],s,0===m?i:void 0,r),l=c.length?ot(c,t[m],s,e,n,null,[],[],o):null,l&&l.scope&&W.$$addScopeClass(s.$$element),d=l&&l.terminal||!(u=t[m].childNodes)||!u.length?null:J(u,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:e),(l||d)&&(h.push(m,l,d),p=!0,f=f||l),o=null;return p?a:null}function Q(t,e,n){var i,r=t[e],o=r.parentNode;if(r.nodeType===Ar)for(;;){if(!(i=o?r.nextSibling:t[e+1])||i.nodeType!==Ar)break;r.nodeValue=r.nodeValue+i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===t[e+1]&&t.splice(e+1,1)}}function X(t,e,n){function i(i,r,o,a,s){return i||(i=t.$new(!1,s),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=vt();for(var o in e.$$slots)e.$$slots[o]?r[o]=X(t,e.$$slots[o],n):r[o]=null;return i}function Z(t,e,n,i,r){var o,a,s,c=t.nodeType,l=n.$attr;switch(c){case Sr:a=z(t),lt(e,$e(a),"E",i,r);for(var u,d,p,f,h,_,m=t.attributes,g=0,b=m&&m.length;g<b;g++){var y=!1,$=!1;u=m[g],d=u.name,h=u.value,f=$e(d),_=Nt.test(f),_&&(d=d.replace(ho,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var k=f.match(Lt);k&&ut(k[1])&&(y=d,$=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),p=$e(d.toLowerCase()),l[p]=d,!_&&n.hasOwnProperty(p)||(n[p]=h,Qt(t,p)&&(n[p]=!0)),wt(t,e,h,p,_),lt(e,p,"A",i,r,y,$)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!qt)break;if(s=t.className,w(s)&&(s=s.animVal),x(s)&&""!==s)for(;o=v.exec(s);)p=$e(o[2]),lt(e,p,"C",i,r)&&(n[p]=gr(o[3])),s=s.substr(o.index+o[0].length);break;case Ar:gt(e,t.nodeValue);break;case Er:if(!Ot)break;tt(t,e,n,i,r)}return e.sort(_t),e}function tt(t,e,n,i,r){try{var o=f.exec(t.nodeValue);if(o){var a=$e(o[1]);lt(e,a,"M",i,r)&&(n[a]=gr(o[2]))}}catch(t){}}function nt(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw po("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===Sr&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0);else i.push(t);return ir(i)}function it(t,e,n){return function(i,r,o,a,s){return r=nt(r[0],e,n),t(i,r,o,a,s)}}function rt(t,e,n,i,r,o){var a;return t?W(e,n,i,r,o):function(){return a||(a=W(e,n,i,r,o),e=n=o=null),a.apply(this,arguments)}}function ot(t,e,n,r,a,s,c,l,u){function p(t,e,n,i){t&&(n&&(t=it(t,n,i)),t.require=h.require,t.directiveName=_,(k===h||h.$$isolateScope)&&(t=xt(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=it(e,n,i)),e.require=h.require,e.directiveName=_,(k===h||h.$$isolateScope)&&(e=xt(e,{isolateScope:!0})),l.push(e))}function f(t,r,a,s,u){function p(t,e,n,i){var r;if(j(t)||(i=n,n=e,e=t,t=void 0),q&&(r=v),n||(n=q?S.parent():S),!i)return u(t,e,r,n,N);var o=u.$$slots[i];if(o)return o(t,e,r,n,N);if(b(o))throw po("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,et(S))}var f,h,_,m,g,v,y,S,E,T;e===a?(E=n,S=n.$$element):(S=ir(a),E=new L(S,n)),g=r,k?m=r.$new(!0):$&&(g=r.$parent),u&&(y=p,y.$$boundTransclude=u,y.isSlotFilled=function(t){return!!u.$$slots[t]}),x&&(v=st(S,E,y,x,m,r,k)),k&&(W.$$addScopeInfo(S,m,!0,!(C&&(C===k||C===k.$$originalDirective))),W.$$addScopeClass(S,!0),m.$$isolateBindings=k.$$isolateBindings,T=St(r,E,m,m.$$isolateBindings,k),T.removeWatches&&m.$on("$destroy",T.removeWatches));for(var P in v){var M=x[P],I=v[P],R=M.$$bindings.bindToController;if(O){I.bindingInfo=R?St(g,E,I.instance,R,M):{};var D=I();D!==I.instance&&(I.instance=D,S.data("$"+M.name+"Controller",D),I.bindingInfo.removeWatches&&I.bindingInfo.removeWatches(),I.bindingInfo=St(g,E,I.instance,R,M))}else I.instance=I(),S.data("$"+M.name+"Controller",I.instance),I.bindingInfo=St(g,E,I.instance,R,M)}for(o(x,function(t,e){var n=t.require;t.bindToController&&!_r(n)&&w(n)&&d(v[e].instance,at(e,n,S,v))}),o(v,function(t){var e=t.instance;if(A(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){i(t)}if(A(e.$onInit))try{e.$onInit()}catch(t){i(t)}A(e.$doCheck)&&(g.$watch(function(){e.$doCheck()}),e.$doCheck()),A(e.$onDestroy)&&g.$on("$destroy",function(){e.$onDestroy()})}),f=0,h=c.length;f<h;f++)_=c[f],kt(_,_.isolateScope?m:r,S,E,_.require&&at(_.directiveName,_.require,S,v),y);var N=r;for(k&&(k.template||null===k.templateUrl)&&(N=m),t&&t(N,a.childNodes,void 0,u),f=l.length-1;f>=0;f--)_=l[f],kt(_,_.isolateScope?m:r,S,E,_.require&&at(_.directiveName,_.require,S,v),y);o(v,function(t){var e=t.instance;A(e.$postLink)&&e.$postLink()})}u=u||{};for(var h,_,m,g,v,y=-Number.MAX_VALUE,$=u.newScopeDirective,x=u.controllerDirectives,k=u.newIsolateScopeDirective,C=u.templateDirective,S=u.nonTlbTranscludeDirective,E=!1,T=!1,q=u.hasElementTranscludeDirective,P=n.$$element=ir(e),M=s,I=r,R=!1,D=!1,N=0,F=t.length;N<F;N++){h=t[N];var U=h.$$start,V=h.$$end;if(U&&(P=nt(e,U,V)),m=void 0,y>h.priority)break;if(v=h.scope,v&&(h.templateUrl||(w(v)?(mt("new/isolated scope",k||$,h,P),k=h):mt("new/isolated scope",k,h,P)),$=$||h),_=h.name,!R&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var B,H=N+1;B=t[H++];)if(B.transclude&&!B.$$tlb||B.replace&&(B.templateUrl||B.template)){D=!0;break}R=!0}if(!h.templateUrl&&h.controller&&(x=x||vt(),mt("'"+_+"' controller",x[_],h,P),x[_]=h),v=h.transclude)if(E=!0,h.$$tlb||(mt("transclusion",S,h,P),S=h),"element"===v)q=!0,y=h.priority,m=P,P=n.$$element=ir(W.$$createComment(_,n[_])),e=P[0],$t(a,G(m),e),m[0].$$parentNode=m[0].parentNode,I=rt(D,m,r,y,M&&M.name,{nonTlbTranscludeDirective:S});else{var K=vt();if(w(v)){m=[];var J=vt(),Q=vt();o(v,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,J[t]=e,K[e]=null,Q[e]=n}),o(P.contents(),function(t){var e=J[$e(z(t))];e?(Q[e]=!0,K[e]=K[e]||[],K[e].push(t)):m.push(t)}),o(Q,function(t,e){if(!t)throw po("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var X in K)K[X]&&(K[X]=rt(D,K[X],r))}else m=ir(It(e)).contents();P.empty(),I=rt(D,m,r,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope}),I.$$slots=K}if(h.template)if(T=!0,mt("template",C,h,P),C=h,v=A(h.template)?h.template(P,n):h.template,v=Dt(v),h.replace){if(M=h,m=Et(v)?[]:ke(bt(h.templateNamespace,gr(v))),e=m[0],1!==m.length||e.nodeType!==Sr)throw po("tplrt","Template for directive '{0}' must have exactly one root element. {1}",_,"");$t(a,P,e);var tt={$attr:{}},ot=Z(e,[],tt),lt=t.splice(N+1,t.length-(N+1));(k||$)&&ct(ot,k,$),t=t.concat(ot).concat(lt),dt(n,tt),F=t.length}else P.html(v);if(h.templateUrl)T=!0,mt("template",C,h,P),C=h,h.replace&&(M=h),f=ht(t.splice(N,t.length-N),P,n,a,E&&I,c,l,{controllerDirectives:x,newScopeDirective:$!==h&&$,newIsolateScopeDirective:k,templateDirective:C,nonTlbTranscludeDirective:S}),F=t.length;else if(h.compile)try{g=h.compile(P,n,I);var ut=h.$$originalDirective||h;A(g)?p(null,Y(ut,g),U,V):g&&p(Y(ut,g.pre),Y(ut,g.post),U,V)}catch(t){i(t,et(P))}h.terminal&&(f.terminal=!0,y=Math.max(y,h.priority))}return f.scope=$&&!0===$.scope,f.transcludeOnThisElement=E,f.templateOnThisElement=T,f.transclude=I,u.hasElementTranscludeDirective=q,f}function at(t,e,n,i){var r;if(x(e)){var a=e.match(k),s=e.substring(a[0].length),c=a[1]||a[3],l="?"===a[2];if("^^"===c?n=n.parent():(r=i&&i[s],r=r&&r.instance),!r){var u="$"+s+"Controller";r=c?n.inheritedData(u):n.data(u)}if(!r&&!l)throw po("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(_r(e)){r=[];for(var d=0,p=e.length;d<p;d++)r[d]=at(t,e[d],n,i)}else w(e)&&(r={},o(e,function(e,o){r[o]=at(t,e,n,i)}));return r||null}function st(t,e,n,i,r,o,a){var s=vt();for(var l in i){var u=i[l],d={$scope:u===a||u.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},p=u.controller;"@"===p&&(p=e[u.name]);var f=c(p,d,!0,u.controllerAs);s[u.name]=f,t.data("$"+u.name+"Controller",f.instance)}return s}function ct(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=h(t[i],{$$isolateScope:e,$$newScope:n})}function lt(t,n,i,o,a,s,c){if(n===a)return null;var l=null;if(u.hasOwnProperty(n))for(var d,f=e.get(n+p),_=0,m=f.length;_<m;_++)if(d=f[_],(b(o)||o>d.priority)&&-1!==d.restrict.indexOf(i)){if(s&&(d=h(d,{$$start:s,$$end:c})),!d.$$bindings){var g=d.$$bindings=r(d,d.name);w(g.isolateScope)&&(d.$$isolateBindings=g.isolateScope)}t.push(d),l=d}return l}function ut(t){if(u.hasOwnProperty(t))for(var n,i=e.get(t+p),r=0,o=i.length;r<o;r++)if(n=i[r],n.multiElement)return!0;return!1}function dt(t,e){var n=e.$attr,i=t.$attr;o(t,function(i,r){"$"!==r.charAt(0)&&(e[r]&&e[r]!==i&&(i.length?i+=("style"===r?";":" ")+e[r]:i=e[r]),t.$set(r,i,!0,n[r]))}),o(e,function(e,r){t.hasOwnProperty(r)||"$"===r.charAt(0)||(t[r]=e,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function ht(t,e,n,r,s,c,l,u){var d,p,f=[],_=e[0],m=t.shift(),g=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=A(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,b=m.templateNamespace;return e.empty(),a(v).then(function(i){var a,h,y,$;if(i=Dt(i),m.replace){if(y=Et(i)?[]:ke(bt(b,gr(i))),a=y[0],1!==y.length||a.nodeType!==Sr)throw po("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);h={$attr:{}},$t(r,e,a);var x=Z(a,[],h);w(m.scope)&&ct(x,!0),t=x.concat(t),dt(n,h)}else a=_,e.html(i);for(t.unshift(g),d=ot(t,a,n,s,e,m,c,l,u),o(r,function(t,n){t===a&&(r[n]=e[0])}),p=J(e[0].childNodes,s);f.length;){var k=f.shift(),C=f.shift(),S=f.shift(),A=f.shift(),E=e[0];if(!k.$$destroyed){if(C!==_){var T=C.className;u.hasElementTranscludeDirective&&m.replace||(E=It(a)),$t(S,ir(C),E),V(ir(E),T)}$=d.transcludeOnThisElement?X(k,d.transclude,A):A,d(p,k,E,r,$)}}f=null}).catch(function(t){S(t)&&i(t)}),function(t,e,n,i,r){var o=r;e.$$destroyed||(f?f.push(e,n,i,o):(d.transcludeOnThisElement&&(o=X(e,d.transclude,r)),d(p,e,n,i,o)))}}function _t(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function mt(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw po("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,et(i))}function gt(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&W.$$addBindingClass(e),function(t,e){var r=e.parent();n||W.$$addBindingClass(r),W.$$addBindingInfo(r,i.expressions),t.$watch(i,function(t){e[0].nodeValue=t})}}})}function bt(e,n){switch(e=Xi(e||"html")){case"svg":case"math":var i=t.document.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function yt(t,e){if("srcdoc"===e)return g.HTML;var n=z(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return g.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return g.RESOURCE_URL}function wt(t,e,i,r,o){var a=yt(t,r),s=!o,c=$[r]||o,l=n(i,s,a,c);if(l){if("multiple"===r&&"select"===z(t))throw po("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",et(t));if(C.test(r))throw po("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var s=o.$$observers||(o.$$observers=vt()),u=o[r];u!==i&&(l=u&&n(u,!0,a,c),i=u),l&&(o[r]=l(t),(s[r]||(s[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||t).$watch(l,function(t,e){"class"===r&&t!==e?o.$updateClass(t,e):o.$set(r,t)}))}}}})}}function $t(e,n,i){var r,o,a=n[0],s=n.length,c=a.parentNode;if(e)for(r=0,o=e.length;r<o;r++)if(e[r]===a){e[r++]=i;for(var l=r,u=l+s-1,d=e.length;l<d;l++,u++)u<d?e[l]=e[u]:delete e[l];e.length-=s-1,e.context===a&&(e.context=i);break}c&&c.replaceChild(i,a);var p=t.document.createDocumentFragment();for(r=0;r<s;r++)p.appendChild(n[r]);for(ir.hasData(a)&&(ir.data(i,ir.data(a)),ir(a).off("$destroy")),ir.cleanData(p.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function xt(t,e){return d(function(){return t.apply(null,arguments)},t,e)}function kt(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(t){i(t,et(n))}}function Ct(t,e){if(q)throw po("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}function St(t,e,i,r,a){function c(e,n,r){A(i.$onChanges)&&!B(n,r)&&(At||(t.$$postDigest(N),At=[]),u||(u={},At.push(l)),u[e]&&(r=u[e].previousValue),u[e]=new we(r,n))}function l(){i.$onChanges(u),u=void 0}var u,d=[],p={};return o(r,function(r,o){var l,u,f,h,m,g=r.attrName,v=r.optional,b=r.mode;switch(b){case"@":v||Qi.call(e,g)||(Ct(g,a.name),i[o]=e[g]=void 0),m=e.$observe(g,function(t){if(x(t)||M(t)){var e=i[o];c(o,t,e),i[o]=t}}),e.$$observers[g].$$scope=t,l=e[g],x(l)?i[o]=n(l)(t):M(l)&&(i[o]=l),p[o]=new we(fo,i[o]),d.push(m);break;case"=":if(!Qi.call(e,g)){if(v)break;Ct(g,a.name),e[g]=void 0}if(v&&!e[g])break;u=s(e[g]),h=u.literal?H:B,f=u.assign||function(){throw l=i[o]=u(t),po("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[g],g,a.name)},l=i[o]=u(t);var y=function(e){return h(e,i[o])||(h(e,l)?f(t,e=i[o]):i[o]=e),l=e};y.$stateful=!0,m=r.collection?t.$watchCollection(e[g],y):t.$watch(s(e[g],y),null,u.literal),d.push(m);break;case"<":if(!Qi.call(e,g)){if(v)break;Ct(g,a.name),e[g]=void 0}if(v&&!e[g])break;u=s(e[g]);var w=u.literal,$=i[o]=u(t);p[o]=new we(fo,i[o]),m=t.$watch(u,function(t,e){if(e===t){if(e===$||w&&H(e,$))return;e=$}c(o,t,e),i[o]=t},w),d.push(m);break;case"&":if(v||Qi.call(e,g)||Ct(g,a.name),(u=e.hasOwnProperty(g)?s(e[g]):_)===_&&v)break;i[o]=function(e){return u(t,e)}}}),{initialChanges:p,removeWatches:d.length&&function(){for(var t=0,e=d.length;t<e;++t)d[t]()}}}var At,Tt=/^\w/,jt=t.document.createElement("div"),Ot=I,qt=R,Pt=P;L.prototype={$normalize:$e,$addClass:function(t){t&&t.length>0&&E.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&E.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=xe(t,e);n&&n.length&&E.addClass(this.$$element,n);var i=xe(e,t);i&&i.length&&E.removeClass(this.$$element,i)},$set:function(t,e,n,r){var a,s=this.$$element[0],c=Qt(s,t),l=Xt(t),u=t;if(c?(this.$$element.prop(t,e),r=c):l&&(this[l]=e,u=l),this[t]=e,r?this.$attr[t]=r:(r=this.$attr[t])||(this.$attr[t]=r=pt(t,"-")),"a"===(a=z(this.$$element))&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=D(e,"src"===t);else if("img"===a&&"srcset"===t&&y(e)){for(var d="",p=gr(e),f=/\s/.test(p)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,h=p.split(f),_=Math.floor(h.length/2),m=0;m<_;m++){var g=2*m;d+=D(gr(h[g]),!0),d+=" "+gr(h[g+1])}var v=gr(h[2*m]).split(/\s/);d+=D(gr(v[0]),!0),2===v.length&&(d+=" "+gr(v[1])),this[t]=e=d}!1!==n&&(null===e||b(e)?this.$$element.removeAttr(r):Tt.test(r)?this.$$element.attr(r,e):F(this.$$element[0],r,e));var w=this.$$observers;w&&o(w[u],function(t){try{t(e)}catch(t){i(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=vt()),r=i[t]||(i[t]=[]);return r.push(e),l.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||b(n[t])||e(n[t])}),function(){U(r,e)}}};var Mt=n.startSymbol(),Rt=n.endSymbol(),Dt="{{"===Mt&&"}}"===Rt?m:function(t){return t.replace(/\{\{/g,Mt).replace(/}}/g,Rt)},Nt=/^ngAttr[A-Z]/,Lt=/^(.+)Start$/;return W.$$addBindingInfo=T?function(t,e){var n=t.data("$binding")||[];_r(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:_,W.$$addBindingClass=T?function(t){V(t,"ng-binding")}:_,W.$$addScopeInfo=T?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:_,W.$$addScopeClass=T?function(t,e){V(t,e?"ng-isolate-scope":"ng-scope")}:_,W.$$createComment=function(e,n){var i="";return T&&(i=" "+(e||"")+": ",n&&(i+=n+" ")),t.document.createComment(i)},W}]}function we(t,e){this.previousValue=t,this.currentValue=e}function $e(t){return t.replace(ho,"").replace(_o,St)}function xe(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue t;n+=(n.length>0?" ":"")+a}return n}function ke(t){t=ir(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===Er||n.nodeType===Ar&&""===n.nodeValue.trim())&&sr.call(t,e,1)}return t}function Ce(t,e){if(e&&x(e))return e;if(x(t)){var n=go.exec(t);if(n)return n[3]}}function Se(){var t={},e=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){_t(e,"controller"),w(e)?d(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(n,r){function o(t,e,n,r){if(!t||!w(t.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=n}return function(i,a,s,c){var l,u,p,f;if(s=!0===s,c&&x(c)&&(f=c),x(i)){if(!(u=i.match(go)))throw mo("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);if(p=u[1],f=f||u[3],!(i=t.hasOwnProperty(p)?t[p]:mt(a.$scope,p,!0)||(e?mt(r,p,!0):void 0)))throw mo("ctrlreg","The controller with the name '{0}' is not registered.",p);ht(i,p,!0)}if(s){var h=(_r(i)?i[i.length-1]:i).prototype;return l=Object.create(h||null),f&&o(a,f,l,p||i.name),d(function(){var t=n.invoke(i,l,a,p);return t!==l&&(w(t)||A(t))&&(l=t,f&&o(a,f,l,p||i.name)),l},{instance:l,identifier:f})}return l=n.instantiate(i,a,p),f&&o(a,f,l,p||i.name),l}}]}function Ae(){this.$get=["$window",function(t){return ir(t.document)}]}function Ee(){this.$get=["$document","$rootScope",function(t,e){function n(){r=i.hidden}var i=t[0],r=i&&i.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return r}}]}function Te(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function je(t){return w(t)?C(t)?t.toISOString():J(t):t}function Oe(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||b(t)||A(t)||(_r(t)?o(t,function(t){e.push(at(n)+"="+at(je(t)))}):e.push(at(n)+"="+at(je(t))))}),e.join("&")}}}function qe(){this.$get=function(){return function(t){function e(t,i,r){null===t||b(t)||(_r(t)?o(t,function(t,n){e(t,i+"["+(w(t)?n:"")+"]")}):w(t)&&!C(t)?a(t,function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))}):n.push(at(i)+"="+at(je(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Pe(t,e){if(x(t)){var n=t.replace(xo,"").trim();if(n){var i=e("Content-Type"),r=i&&0===i.indexOf(bo);if(r||Me(n))try{t=Q(n)}catch(e){if(!r)return t;throw ko("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}return t}function Me(t){var e=t.match(wo);return e&&$o[e[0]].test(t)}function Ie(t){function e(t,e){t&&(i[t]=i[t]?i[t]+", "+e:e)}var n,i=vt();return x(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(Xi(gr(t.substr(0,n))),gr(t.substr(n+1)))}):w(t)&&o(t,function(t,n){e(Xi(n),gr(t))}),i}function Re(t){var e;return function(n){if(e||(e=Ie(t)),n){var i=e[Xi(n)];return void 0===i&&(i=null),i}return e}}function De(t,e,n,i){return A(i)?i(t,e,n):(o(i,function(i){t=i(t,e,n)}),t)}function Ne(t){return 200<=t&&t<300}function Le(){var t=this.defaults={transformResponse:[Pe],transformRequest:[function(t){return!w(t)||O(t)||P(t)||q(t)?t:J(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:wt(yo),put:wt(yo),patch:wt(yo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},e=!1;this.useApplyAsync=function(t){return y(t)?(e=!!t,this):e};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,a,s,c,l,u,p,f){function h(e){function n(t,e){for(var n=0,i=e.length;n<i;){var r=e[n++],o=e[n++];t=t.then(r,o)}return e.length=0,t}function a(){r.$$completeOutstandingRequest(_)}function s(t,e){var n,i={};return o(t,function(t,r){A(t)?null!=(n=t(e))&&(i[r]=n):i[r]=t}),i}function c(e){var n=e.headers,i=De(e.data,Re(n),void 0,e.transformRequest);return b(i)&&o(n,function(t,e){"content-type"===Xi(e)&&delete n[e]}),b(e.withCredentials)&&!b(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,i).then(l,l)}function l(t){var e=d({},t);return e.data=De(t.data,t.headers,t.status,h.transformResponse),Ne(t.status)?e:u.reject(e)}if(!w(e))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);if(!x(f.valueOf(e.url)))throw i("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",e.url);var h=d({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},e);h.headers=function(e){var n,i,r,o=t.headers,a=d({},e.headers);o=d({},o.common,o[Xi(e.method)]);t:for(n in o){i=Xi(n);for(r in a)if(Xi(r)===i)continue t;a[n]=o[n]}return s(a,wt(e))}(e),h.method=Zi(h.method),h.paramSerializer=x(h.paramSerializer)?p.get(h.paramSerializer):h.paramSerializer,r.$$incOutstandingRequestCount();var g=[],v=[],y=u.resolve(h);return o(k,function(t){(t.request||t.requestError)&&g.unshift(t.request,t.requestError),(t.response||t.responseError)&&v.push(t.response,t.responseError)}),y=n(y,g),y=y.then(c),y=n(y,v),y=y.finally(a)}function m(n,i){function r(t){if(t){var n={};return o(t,function(t,i){n[i]=function(n){function i(){t(n)}e?l.$applyAsync(i):l.$$phase?i():l.$apply(i)}}),n}}function c(t,n,i,r,o){function a(){d(n,t,i,r,o)}m&&(Ne(t)?m.put(T,[t,n,Ie(i),r,o]):m.remove(T)),e?l.$applyAsync(a):(a(),l.$$phase||l.$apply())}function d(t,e,i,r,o){e=e>=-1?e:0,(Ne(e)?C.resolve:C.reject)({data:t,status:e,headers:Re(i),config:n,statusText:r,xhrStatus:o})}function p(t){d(t.data,t.status,wt(t.headers()),t.statusText,t.xhrStatus)}function _(){var t=h.pendingRequests.indexOf(n);-1!==t&&h.pendingRequests.splice(t,1)}var m,k,C=u.defer(),S=C.promise,A=n.headers,E="jsonp"===Xi(n.method),T=n.url;if(E?T=f.getTrustedResourceUrl(T):x(T)||(T=f.valueOf(T)),T=g(T,n.paramSerializer(n.params)),E&&(T=v(T,n.jsonpCallbackParam)),h.pendingRequests.push(n),S.then(_,_),!n.cache&&!t.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(m=w(n.cache)?n.cache:w(t.cache)?t.cache:$),m&&(k=m.get(T),y(k)?I(k)?k.then(p,p):_r(k)?d(k[1],k[0],wt(k[2]),k[3],k[4]):d(k,200,{},"OK","complete"):m.put(T,S)),b(k)){var j=Vn(n.url)?s()[n.xsrfCookieName||t.xsrfCookieName]:void 0;j&&(A[n.xsrfHeaderName||t.xsrfHeaderName]=j),a(n.method,T,i,c,A,n.timeout,n.withCredentials,n.responseType,r(n.eventHandlers),r(n.uploadEventHandlers))}return S}function g(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}function v(t,e){if(/[&?][^=]+=JSON_CALLBACK/.test(t))throw ko("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(new RegExp("[&?]"+e+"=").test(t))throw ko("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t);return t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}var $=c("$http");t.paramSerializer=x(t.paramSerializer)?p.get(t.paramSerializer):t.paramSerializer;var k=[];return o(n,function(t){k.unshift(x(t)?p.get(t):p.invoke(t))}),h.pendingRequests=[],function(t){o(arguments,function(t){h[t]=function(e,n){return h(d({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){o(arguments,function(t){h[t]=function(e,n,i){return h(d({},i||{},{method:t,url:e,data:n}))}})}("post","put","patch"),h.defaults=t,h}]}function ze(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Fe(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return Ue(t,i,t.defer,e,n[0])}]}function Ue(t,e,n,i,r){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=t,o.async=!0,a=function(t){o.removeEventListener("load",a),o.removeEventListener("error",a),r.body.removeChild(o),o=null;var s=-1,c="unknown";t&&("load"!==t.type||i.wasCalled(e)||(t={type:"error"}),c=t.type,s="error"===t.type?404:200),n&&n(s,c)},o.addEventListener("load",a),o.addEventListener("error",a),r.body.appendChild(o),a}return function(r,s,c,l,u,d,p,f,h,_){function m(){w&&w(),$&&$.abort()}function g(t,e,i,r,o,a){y(S)&&n.cancel(S),w=$=null,t(e,i,r,o,a)}if(s=s||t.url(),"jsonp"===Xi(r))var v=i.createCallback(s),w=a(s,v,function(t,e){var n=200===t&&i.getResponse(v);g(l,t,n,"",e,"complete"),i.removeCallback(v)});else{var $=e(r,s);$.open(r,s,!0),o(u,function(t,e){y(t)&&$.setRequestHeader(e,t)}),$.onload=function(){var t=$.statusText||"",e="response"in $?$.response:$.responseText,n=1223===$.status?204:$.status;0===n&&(n=e?200:"file"===Un(s).protocol?404:0),g(l,n,e,$.getAllResponseHeaders(),t,"complete")};var x=function(){g(l,-1,null,null,"","error")},k=function(){g(l,-1,null,null,"","abort")},C=function(){g(l,-1,null,null,"","timeout")};if($.onerror=x,$.onabort=k,$.ontimeout=C,o(h,function(t,e){$.addEventListener(e,t)}),o(_,function(t,e){$.upload.addEventListener(e,t)}),p&&($.withCredentials=!0),f)try{$.responseType=f}catch(t){if("json"!==f)throw t}$.send(b(c)?null:c)}if(d>0)var S=n(m,d);else I(d)&&d.then(m)}}function Ve(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function a(n){return n.replace(p,t).replace(f,e)}function s(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function c(o,c,p,f){function h(t){try{return t=j(t),f&&!y(t)?t:bt(t)}catch(t){i(Co.interr(o,t))}}if(!o.length||-1===o.indexOf(t)){var _;if(!c){_=g(a(o)),_.exp=o,_.expressions=[],_.$$watchDelegate=s}return _}f=!!f;for(var m,v,w,$=0,x=[],k=[],C=o.length,S=[],E=[];$<C;){if(-1===(m=o.indexOf(t,$))||-1===(v=o.indexOf(e,m+l))){$!==C&&S.push(a(o.substring($)));break}$!==m&&S.push(a(o.substring($,m))),w=o.substring(m+l,v),x.push(w),k.push(n(w,h)),$=v+u,E.push(S.length),S.push("")}if(p&&S.length>1&&Co.throwNoconcat(o),!c||x.length){var T=function(t){for(var e=0,n=x.length;e<n;e++){if(f&&b(t[e]))return;S[E[e]]=t[e]}return S.join("")},j=function(t){return p?r.getTrusted(p,t):r.valueOf(t)};return d(function(t){var e=0,n=x.length,r=new Array(n);try{for(;e<n;e++)r[e]=k[e](t);return T(r)}catch(t){i(Co.interr(o,t))}},{exp:o,expressions:x,$$watchDelegate:function(t,e){var n;return t.$watchGroup(k,function(i,r){var o=T(i);A(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var l=t.length,u=e.length,p=new RegExp(t.replace(/./g,o),"g"),f=new RegExp(e.replace(/./g,o),"g");return c.startSymbol=function(){return t},c.endSymbol=function(){return e},c}]}function Be(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,i,r){function o(o,s,c,l){function u(){d?o.apply(null,p):o(_)}var d=arguments.length>4,p=d?G(arguments,4):[],f=e.setInterval,h=e.clearInterval,_=0,m=y(l)&&!l,g=(m?i:n).defer(),v=g.promise;return c=y(c)?c:0,v.$$intervalId=f(function(){m?r.defer(u):t.$evalAsync(u),g.notify(_++),c>0&&_>=c&&(g.resolve(_),h(v.$$intervalId),delete a[v.$$intervalId]),m||t.$apply()},s),a[v.$$intervalId]=g,v}var a={};return o.cancel=function(t){return!!(t&&t.$$intervalId in a)&&(Tn(a[t.$$intervalId].promise),a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0)},o}]}function He(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=ot(e[n]);return e.join("/")}function We(t,e){var n=Un(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=f(n.port)||Eo[n.protocol]||null}function Ge(t,e){if(jo.test(t))throw To("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Un(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=it(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ye(t,e){return t.slice(0,e.length)===e}function Ke(t,e){if(Ye(e,t))return e.substr(t.length)}function Je(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function Qe(t){return t.replace(/(#.+)|#$/,"$1")}function Xe(t){return t.substr(0,Je(t).lastIndexOf("/")+1)}function Ze(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function tn(t,e,n){this.$$html5=!0,n=n||"",We(t,this),this.$$parse=function(t){var n=Ke(e,t);if(!x(n))throw To("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Ge(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=rt(this.$$search),n=this.$$hash?"#"+ot(this.$$hash):"";this.$$url=He(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return y(o=Ke(t,i))?(a=o,s=n&&y(o=Ke(n,o))?e+(Ke("/",o)||o):t+a):y(o=Ke(e,i))?s=e+o:e===i+"/"&&(s=e),s&&this.$$parse(s),!!s}}function en(t,e,n){We(t,this),this.$$parse=function(i){var r,o=Ke(t,i)||Ke(e,i);b(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",b(o)&&(t=i,this.replace())):(r=Ke(n,o),b(r)&&(r=o)),Ge(r,this),this.$$path=function(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return Ye(e,n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}(this.$$path,r,t),this.$$compose()},this.$$compose=function(){var e=rt(this.$$search),i=this.$$hash?"#"+ot(this.$$hash):"";this.$$url=He(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,n){return Je(t)===Je(e)&&(this.$$parse(e),!0)}}function nn(t,e,n){this.$$html5=!0,en.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return t===Je(i)?o=i:(a=Ke(e,i))?o=t+n+a:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=rt(this.$$search),i=this.$$hash?"#"+ot(this.$$hash):"";this.$$url=He(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function rn(t){return function(){return this[t]}}function on(t,e){return function(n){return b(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function an(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return M(t)?(e.enabled=t,this):w(t)?(M(t.enabled)&&(e.enabled=t.enabled),M(t.requireBase)&&(e.requireBase=t.requireBase),(M(t.rewriteLinks)||x(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(t,e,n){var r=l.url(),o=l.$$state;try{i.url(t,e,n),l.$$state=i.state()}catch(t){throw l.url(r),l.$$state=o,t}}function c(t,e){n.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}var l,u,d,p=i.baseHref(),f=i.url();if(e.enabled){if(!p&&e.requireBase)throw To("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Ze(f)+(p||"/"),u=r.history?tn:nn}else d=Je(f),u=en;var h=Xe(d);l=new u(d,h,"#"+t),l.$$parseLinkUrl(f,f),l.$$state=i.state();var _=/^\s*(javascript|mailto):/i;o.on("click",function(t){var r=e.rewriteLinks;if(r&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=ir(t.target);"a"!==z(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!x(r)||!b(s.attr(r))){var c=s.prop("href"),u=s.attr("href")||s.attr("xlink:href");w(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=Un(c.animVal).href),_.test(c)||!c||s.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(c,u)&&(t.preventDefault(),l.absUrl()!==i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Qe(l.absUrl())!==Qe(f)&&i.url(l.absUrl(),!0);var m=!0;return i.onUrlChange(function(t,e){if(!Ye(t,h))return void(a.location.href=t);n.$evalAsync(function(){var i,r=l.absUrl(),o=l.$$state;t=Qe(t),l.$$parse(t),l.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,l.absUrl()===t&&(i?(l.$$parse(r),l.$$state=o,s(r,!1,o)):(m=!1,c(r,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){if(m||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var t=Qe(i.url()),e=Qe(l.absUrl()),o=i.state(),a=l.$$replace,u=t!==e||l.$$html5&&r.history&&o!==l.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var e=l.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,l.$$state,o).defaultPrevented;l.absUrl()===e&&(i?(l.$$parse(t),l.$$state=o):(u&&s(e,a,o===l.$$state?null:l.$$state),c(t,o)))}))}l.$$replace=!1}),l}]}function sn(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return S(t)&&(t.stack&&a?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||_;return function(){var t=[];return o(arguments,function(e){t.push(i(e))}),Function.prototype.apply.call(r,e,t)}}var a=nr||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function cn(t){return t+""}function ln(t,e){return void 0!==t?t:e}function un(t,e){return void 0===t?e:void 0===e?t:t+e}function dn(t,e){return!t(e).$stateful}function pn(t,e){switch(t.type){case Do.MemberExpression:if(t.computed)return!1;break;case Do.UnaryExpression:return No;case Do.BinaryExpression:return"+"!==t.operator&&No;case Do.CallExpression:return!1}return void 0===e?Lo:e}function fn(t,e,n){var i,r,a,s=t.isPure=pn(t,n);switch(t.type){case Do.Program:i=!0,o(t.body,function(t){fn(t.expression,e,s),i=i&&t.expression.constant}),t.constant=i;break;case Do.Literal:t.constant=!0,t.toWatch=[];break;case Do.UnaryExpression:fn(t.argument,e,s),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Do.BinaryExpression:fn(t.left,e,s),fn(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Do.LogicalExpression:fn(t.left,e,s),fn(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Do.ConditionalExpression:fn(t.test,e,s),fn(t.alternate,e,s),fn(t.consequent,e,s),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Do.Identifier:t.constant=!1,t.toWatch=[t];break;case Do.MemberExpression:fn(t.object,e,s),t.computed&&fn(t.property,e,s),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case Do.CallExpression:a=!!t.filter&&dn(e,t.callee.name),i=a,r=[],o(t.arguments,function(t){fn(t,e,s),i=i&&t.constant,r.push.apply(r,t.toWatch)}),t.constant=i,t.toWatch=a?r:[t];break;case Do.AssignmentExpression:fn(t.left,e,s),fn(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Do.ArrayExpression:i=!0,r=[],o(t.elements,function(t){fn(t,e,s),i=i&&t.constant,r.push.apply(r,t.toWatch)}),t.constant=i,t.toWatch=r;break;case Do.ObjectExpression:i=!0,r=[],o(t.properties,function(t){fn(t.value,e,s),i=i&&t.value.constant,r.push.apply(r,t.value.toWatch),t.computed&&(fn(t.key,e,!1),i=i&&t.key.constant,r.push.apply(r,t.key.toWatch))}),t.constant=i,t.toWatch=r;break;case Do.ThisExpression:case Do.LocalsExpression:t.constant=!1,t.toWatch=[]}}function hn(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function _n(t){return t.type===Do.Identifier||t.type===Do.MemberExpression}function mn(t){if(1===t.body.length&&_n(t.body[0].expression))return{type:Do.AssignmentExpression,left:t.body[0].expression,right:{type:Do.NGValueParameter},operator:"="}}function gn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Do.Literal||t.body[0].expression.type===Do.ArrayExpression||t.body[0].expression.type===Do.ObjectExpression)}function vn(t){return t.constant}function bn(t){this.$filter=t}function yn(t){this.$filter=t}function wn(t,e,n){this.ast=new Do(t,n),this.astCompiler=n.csp?new yn(e):new bn(e)}function $n(t){return A(t.valueOf)?t.valueOf():Po.call(t)}function xn(){var t,e,n=vt(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){i[t]=e},this.setIdentifierFns=function(n,i){return t=n,e=i,this},this.$get=["$filter",function(r){function a(t,e){var i,o,a;switch(typeof t){case"string":if(t=t.trim(),a=t,!(i=n[a])){":"===t.charAt(0)&&":"===t.charAt(1)&&(o=!0,t=t.substring(2));i=new wn(new Ro(h),r,h).parse(t),i.constant?i.$$watchDelegate=d:o?i.$$watchDelegate=i.literal?u:l:i.inputs&&(i.$$watchDelegate=c),n[a]=i}return p(i,e);case"function":return p(t,e);default:return p(_,e)}}function s(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=$n(t))&&!n)&&(t===e||t!==t&&e!==e)}function c(t,e,n,i,r){var o,a=i.inputs;if(1===a.length){var c=s;return a=a[0],t.$watch(function(t){var e=a(t);return s(e,c,a.isPure)||(o=i(t,void 0,void 0,[e]),c=e&&$n(e)),o},e,n,r)}for(var l=[],u=[],d=0,p=a.length;d<p;d++)l[d]=s,u[d]=null;return t.$watch(function(t){for(var e=!1,n=0,r=a.length;n<r;n++){var c=a[n](t);(e||(e=!s(c,l[n],a[n].isPure)))&&(u[n]=c,l[n]=c&&$n(c))}return e&&(o=i(t,void 0,void 0,u)),o},e,n,r)}function l(t,e,n,i,r){function o(t){return i(t)}function a(t,n,i){l=t,A(e)&&e(t,n,i),y(t)&&i.$$postDigest(function(){y(l)&&s()})}var s,l;return s=i.inputs?c(t,a,n,i,r):t.$watch(o,a,n)}function u(t,e,n,i){function r(t){var e=!0;return o(t,function(t){y(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return i(t)},function(t,n,i){s=t,A(e)&&e(t,n,i),r(t)&&i.$$postDigest(function(){r(s)&&a()})},n)}function d(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function p(t,e){if(!e)return t;var n=t.$$watchDelegate,i=!1,r=n!==u&&n!==l,o=r?function(n,r,o,a){var s=i&&a?a[0]:t(n,r,o,a);return e(s,n,r)}:function(n,i,r,o){var a=t(n,i,r,o),s=e(a,n,i);return y(a)?s:a};return i=!t.inputs,n&&n!==c?(o.$$watchDelegate=n,o.inputs=t.inputs):e.$stateful||(o.$$watchDelegate=c,o.inputs=t.inputs?t.inputs:[t]),o.inputs&&(o.inputs=o.inputs.map(function(t){return t.isPure===Lo?function(e){return t(e)}:t})),o}var f=br().noUnsafeEval,h={csp:f,literals:V(i),isIdentifierStart:A(t)&&t,isIdentifierContinue:A(e)&&e};return a}]}function kn(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return Sn(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return y(e)?(t=e,this):t}}function Cn(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return Sn(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return y(e)?(t=e,this):t}}function Sn(t,e,n){function r(){return new a}function a(){var t=this.promise=new s;this.resolve=function(e){p(t,e)},this.reject=function(e){h(t,e)},this.notify=function(e){m(t,e)}}function s(){this.$$state={status:0}}function c(e){var i,r,o;o=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var a=0,s=o.length;a<s;++a){En(e),r=o[a][0],i=o[a][e.status];try{A(i)?p(r,i(e.value)):1===e.status?p(r,e.value):h(r,e.value)}catch(t){h(r,t)}}}finally{--E,n&&0===E&&t(l)}}function l(){for(;!E&&T.length;){var t=T.shift();if(!An(t)){En(t);var n="Possibly unhandled rejection: "+xt(t.value);S(t.value)?e(t.value,n):e(n)}}}function u(e){!n||e.pending||2!==e.status||An(e)||(0===E&&0===T.length&&t(l),T.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++E,t(function(){c(e)}))}function p(t,e){t.$$state.status||(e===t?_(t,C("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):f(t,e))}function f(t,e){function n(e){a||(a=!0,f(t,e))}function i(e){a||(a=!0,_(t,e))}function r(e){m(t,e)}var o,a=!1;try{(w(e)||A(e))&&(o=e.then),A(o)?(t.$$state.status=-1,o.call(e,n,i,r)):(t.$$state.value=e,t.$$state.status=1,u(t.$$state))}catch(t){i(t)}}function h(t,e){t.$$state.status||_(t,e)}function _(t,e){t.$$state.value=e,t.$$state.status=2,u(t.$$state)}function m(n,i){var r=n.$$state.pending;n.$$state.status<=0&&r&&r.length&&t(function(){for(var t,n,o=0,a=r.length;o<a;o++){n=r[o][0],t=r[o][3];try{m(n,A(t)?t(i):i)}catch(t){e(t)}}})}function g(t){var e=new s;return h(e,t),e}function v(t,e,n){var i=null;try{A(n)&&(i=n())}catch(t){return g(t)}return I(i)?i.then(function(){return e(t)},g):e(t)}function y(t,e,n,i){var r=new s;return p(r,t),r.then(e,n,i)}function $(t){var e=new s,n=0,i=_r(t)?[]:{};return o(t,function(t,r){n++,y(t).then(function(t){i[r]=t,--n||p(e,i)},function(t){h(e,t)})}),0===n&&p(e,i),e}function x(t){var e=r();return o(t,function(t){y(t).then(e.resolve,e.reject)}),e.promise}function k(t){function e(t){p(i,t)}function n(t){h(i,t)}if(!A(t))throw C("norslvr","Expected resolverFn, got '{0}'",t);var i=new s;return t(e,n),i}var C=i("$q",TypeError),E=0,T=[];d(s.prototype,{then:function(t,e,n){if(b(t)&&b(e)&&b(n))return this;var i=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&u(this.$$state),i},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return v(e,j,t)},function(e){return v(e,g,t)},e)}});var j=y;return k.prototype=s.prototype,k.defer=r,k.reject=g,k.when=y,k.resolve=j,k.all=$,k.race=x,k}function An(t){return!!t.pur}function En(t){t.pur=!0}function Tn(t){En(t.$$state)}function jn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function On(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=c(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=i("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(i,l,u){function d(t){t.currentScope.$$destroyed=!0}function p(t){9===nr&&(t.$$childHead&&p(t.$$childHead),t.$$nextSibling&&p(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function f(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(t){if(k.$$phase)throw n("inprog","{0} already in progress",k.$$phase);k.$$phase=t}function m(){k.$$phase=null}function g(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function v(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function y(){}function $(){for(;E.length;)try{E.shift()()}catch(t){i(t)}s=null}function x(){null===s&&(s=u.defer(function(){k.$apply($)}))}f.prototype={constructor:f,$new:function(e,n){var i;return n=n||this,e?(i=new f,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!==this)&&i.$on("$destroy",d),i},$watch:function(t,e,n,i){var r=l(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,s=o.$$watchers,c={fn:e,last:y,get:r,exp:i||t,eq:!!n};return a=null,A(e)||(c.fn=_),s||(s=o.$$watchers=[],s.$$digestWatchIndex=-1),s.unshift(c),s.$$digestWatchIndex++,g(this,1),function(){var t=U(s,c);t>=0&&(g(o,-1),t<s.$$digestWatchIndex&&s.$$digestWatchIndex--),a=null}},$watchGroup:function(t,e){function n(){c=!1,l?(l=!1,e(r,r,s)):e(r,i,s)}var i=new Array(t.length),r=new Array(t.length),a=[],s=this,c=!1,l=!0;if(!t.length){var u=!0;return s.$evalAsync(function(){u&&e(r,r,s)}),function(){u=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){r[0]=t,i[0]=n,e(r,t===n?r:i,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){r[e]=t,i[e]=o,c||(c=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,i,s;if(!b(o)){if(w(o))if(r(o)){a!==f&&(a=f,m=a.length=0,d++),e=o.length,m!==e&&(d++,a.length=m=e);for(var c=0;c<e;c++)s=a[c],i=o[c],s!==s&&i!==i||s===i||(d++,a[c]=i)}else{a!==h&&(a=h={},m=0,d++),e=0;for(n in o)Qi.call(o,n)&&(e++,i=o[n],s=a[n],n in a?s!==s&&i!==i||s===i||(d++,a[n]=i):(m++,a[n]=i,d++));if(m>e){d++;for(n in a)Qi.call(o,n)||(m--,delete a[n])}}else a!==o&&(a=o,d++);return d}}function i(){if(_?(_=!1,e(o,o,c)):e(o,s,c),u)if(w(o))if(r(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Qi.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,c=this,u=e.length>1,d=0,p=l(t,n),f=[],h={},_=!0,m=0;return this.$watch(p,i)},$digest:function(){var t,r,o,c,l,d,p,f,_,g,v,b=e,w=this,x=[];h("$digest"),u.$$checkUrlChange(),this===k&&null!==s&&(u.defer.cancel(s),$()),a=null;do{p=!1,_=w;for(var E=0;E<C.length;E++){try{v=C[E],c=v.fn,c(v.scope,v.locals)}catch(t){i(t)}a=null}C.length=0;t:do{if(d=_.$$watchers)for(d.$$digestWatchIndex=d.length;d.$$digestWatchIndex--;)try{if(t=d[d.$$digestWatchIndex])if(l=t.get,(r=l(_))===(o=t.last)||(t.eq?H(r,o):hr(r)&&hr(o))){if(t===a){p=!1;break t}}else p=!0,a=t,t.last=t.eq?V(r,null):r,c=t.fn,c(r,o===y?r:o,_),b<5&&(g=4-b,x[g]||(x[g]=[]),x[g].push({msg:A(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:o}))}catch(t){i(t)}if(!(f=_.$$watchersCount&&_.$$childHead||_!==w&&_.$$nextSibling))for(;_!==w&&!(f=_.$$nextSibling);)_=_.$parent}while(_=f);if((p||C.length)&&!b--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,x)}while(p||C.length);for(m();T<S.length;)try{S[T++]()}catch(t){i(t)}S.length=T=0,u.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===k&&u.$$applicationDestroyed(),g(this,-this.$$watchersCount);for(var e in this.$$listenerCount)v(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=_,this.$on=this.$watch=this.$watchGroup=function(){return _},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(t,e){return l(t)(this,e)},$evalAsync:function(t,e){k.$$phase||C.length||u.defer(function(){C.length&&k.$digest()}),C.push({scope:this,fn:l(t),locals:e})},$$postDigest:function(t){S.push(t)},$apply:function(t){try{h("$apply");try{return this.$eval(t)}finally{m()}}catch(t){i(t)}finally{try{k.$digest()}catch(t){throw i(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&E.push(e),t=l(t),x()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do{i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,v(r,1,t))}},$emit:function(t,e){var n,r,o,a=[],s=this,c=!1,l={name:t,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=W([l],arguments,1);do{for(n=s.$$listeners[t]||a,l.currentScope=s,r=0,o=n.length;r<o;r++)if(n[r])try{n[r].apply(null,u)}catch(t){i(t)}else n.splice(r,1),r--,o--;if(c)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(t,e){var n=this,r=n,o=n,a={name:t,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return a;for(var s,c,l,u=W([a],arguments,1);r=o;){for(a.currentScope=r,s=r.$$listeners[t]||[],c=0,l=s.length;c<l;c++)if(s[c])try{s[c].apply(null,u)}catch(t){i(t)}else s.splice(c,1),c--,l--;if(!(o=r.$$listenerCount[t]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(o=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var k=new f,C=k.$$asyncQueue=[],S=k.$$postDigestQueue=[],E=k.$$applyAsyncQueue=[],T=0;return k}]}function qn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=Un(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Pn(t){return t.replace(Uo,St)}function Mn(t){if("self"===t)return t;if(x(t)){if(t.indexOf("***")>-1)throw zo("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=vr(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(E(t))return new RegExp("^"+t.source+"$");throw zo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function In(t){var e=[];return y(t)&&o(t,function(t){e.push(Mn(t))}),e}function Rn(){this.SCE_CONTEXTS=Fo;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=In(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=In(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?Vn(e):!!t.exec(e.href)}function r(n){var r,o,a=Un(n.toString()),s=!1;for(r=0,o=t.length;r<o;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;r<o;r++)if(i(e[r],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=d.hasOwnProperty(t)?d[t]:null;if(!n)throw zo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||b(e)||""===e)return e;if("string"!=typeof e)throw zo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof u?t.$$unwrapTrustedValue():t}function c(t,e){if(null===e||b(e)||""===e)return e;var n=d.hasOwnProperty(t)?d[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Fo.RESOURCE_URL){if(r(e))return e;throw zo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Fo.HTML)return l(e);throw zo("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(t){throw zo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(l=n.get("$sanitize"));var u=o(),d={};return d[Fo.HTML]=o(u),d[Fo.CSS]=o(u),d[Fo.URL]=o(u),d[Fo.JS]=o(u),d[Fo.RESOURCE_URL]=o(d[Fo.URL]),{trustAs:a,getTrusted:c,valueOf:s}}]}function Dn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&nr<8)throw zo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=wt(Fo);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=m),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,a=i.getTrusted,s=i.trustAs;return o(Fo,function(t,e){var n=Xi(e);i[Pn("parse_as_"+n)]=function(e){return r(t,e)},i[Pn("get_trusted_"+n)]=function(e){return a(t,e)},i[Pn("trust_as_"+n)]=function(e){return s(t,e)}}),i}]}function Nn(){this.$get=["$window","$document",function(t,e){var n={},i=t.nw&&t.nw.process,r=!i&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),o=!r&&t.history&&t.history.pushState,a=f((/android (\d+)/.exec(Xi((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),c=e[0]||{},l=c.body&&c.body.style,u=!1,d=!1;return l&&(u=!!("transition"in l||"webkitTransition"in l),d=!!("animation"in l||"webkitAnimation"in l)),{history:!(!o||a<4||s),hasEvent:function(t){if("input"===t&&nr)return!1;if(b(n[t])){var e=c.createElement("div");n[t]="on"+t in e}return n[t]},csp:br(),transitions:u,animations:d,android:a}}]}function Ln(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,i,r,o){function a(s,c){function l(t){return c||(t=Vo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t)),r.reject(t)}a.totalPendingRequests++,x(s)&&!b(n.get(s))||(s=o.getTrustedResourceUrl(s));var u=i.defaults&&i.defaults.transformResponse;return _r(u)?u=u.filter(function(t){return t!==Pe}):u===Pe&&(u=null),i.get(s,d({cache:n,transformResponse:u},t)).finally(function(){a.totalPendingRequests--}).then(function(t){return n.put(s,t.data),t.data},l)}return a.totalPendingRequests=0,a}]}function zn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={};return i.findBindings=function(t,e,n){var i=t.getElementsByClassName("ng-binding"),r=[];return o(i,function(t){var i=pr.element(t).data("$binding");i&&o(i,function(i){if(n){new RegExp("(^|\\s)"+vr(e)+"(\\s|\\||$)").test(i)&&r.push(t)}else-1!==i.indexOf(e)&&r.push(t)})}),r},i.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},i.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},i}]}function Fn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,s,c){A(o)||(c=s,s=o,o=_);var l,u=G(arguments,3),d=y(c)&&!c,p=(d?i:n).defer(),f=p.promise;return l=e.defer(function(){try{p.resolve(o.apply(null,u))}catch(t){p.reject(t),r(t)}finally{delete a[f.$$timeoutId]}d||t.$apply()},s),f.$$timeoutId=l,a[l]=p,f}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(Tn(a[t.$$timeoutId].promise),a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function Un(t){var e=t;return nr&&(Bo.setAttribute("href",e),e=Bo.href),Bo.setAttribute("href",e),{href:Bo.href,protocol:Bo.protocol?Bo.protocol.replace(/:$/,""):"",host:Bo.host,search:Bo.search?Bo.search.replace(/^\?/,""):"",hash:Bo.hash?Bo.hash.replace(/^#/,""):"",hostname:Bo.hostname,port:Bo.port,pathname:"/"===Bo.pathname.charAt(0)?Bo.pathname:"/"+Bo.pathname}}function Vn(t){var e=x(t)?Un(t):t;return e.protocol===Ho.protocol&&e.host===Ho.host}function Bn(){this.$get=g(t)}function Hn(t){function e(t){try{return t.cookie||""}catch(t){return""}}function n(t){try{return decodeURIComponent(t)}catch(e){return t}}var i=t[0]||{},r={},o="";return function(){var t,a,s,c,l,u=e(i);if(u!==o)for(o=u,t=o.split("; "),r={},s=0;s<t.length;s++)a=t[s],(c=a.indexOf("="))>0&&(l=n(a.substring(0,c)),b(r[l])&&(r[l]=n(a.substring(c+1))));return r}}function Wn(){this.$get=Hn}function Gn(t){function e(i,r){if(w(i)){var a={};return o(i,function(t,n){a[n]=e(n,t)}),a}return t.factory(i+n,r)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Xn),e("date",fi),e("filter",Yn),e("json",hi),e("limitTo",_i),e("lowercase",Xo),e("number",Zn),e("orderBy",gi),e("uppercase",Zo)}function Yn(){return function(t,e,n,o){if(!r(t)){if(null==t)return t;throw i("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,c=Qn(e);switch(c){case"function":a=e;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Kn(e,n,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function Kn(t,e,n,i){var r=w(t)&&n in t;return!0===e?e=H:A(e)||(e=function(t,e){return!b(t)&&(null===t||null===e?t===e:!(w(e)||w(t)&&!v(t))&&(t=Xi(""+t),e=Xi(""+e),-1!==t.indexOf(e)))}),function(o){return r&&!w(o)?Jn(o,t[n],e,n,!1):Jn(o,t,e,n,i)}}function Jn(t,e,n,i,r,o){var a=Qn(t),s=Qn(e);if("string"===s&&"!"===e.charAt(0))return!Jn(t,e.substring(1),n,i,r);if(_r(t))return t.some(function(t){return Jn(t,e,n,i,r)});switch(a){case"object":var c;if(r){for(c in t)if(c.charAt&&"$"!==c.charAt(0)&&Jn(t[c],e,n,i,!0))return!0;return!o&&Jn(t,e,n,i,!1)}if("object"===s){for(c in e){var l=e[c];if(!A(l)&&!b(l)){var u=c===i;if(!Jn(u?t:t[c],l,n,i,u,u))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Qn(t){return null===t?"null":typeof t}function Xn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return b(n)&&(n=e.CURRENCY_SYM),b(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:ni(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Zn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:ni(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function ti(t){var e,n,i,r,o,a=0;for((n=t.indexOf(Go))>-1&&(t=t.replace(Go,"")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charAt(i)===Yo;i++);if(i===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===Yo;)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=+t.charAt(i)}return n>Wo&&(e=e.splice(0,Wo-1),a=n-1,n=1),{d:e,e:a,i:n}}function ei(t,e,n,i){var r=t.d,o=r.length-t.i;e=b(e)?Math.min(Math.max(n,o),i):+e;var a=e+t.i,s=r[a];if(a>0){r.splice(Math.max(t.i,a));for(var c=a;c<r.length;c++)r[c]=0}else{o=Math.max(0,o),t.i=1,r.length=Math.max(1,a=e+1),r[0]=0;for(var l=1;l<a;l++)r[l]=0}if(s>=5)if(a-1<0){for(var u=0;u>a;u--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[a-1]++;for(;o<Math.max(0,e);o++)r.push(0);var d=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);d&&(r.unshift(d),t.i++)}function ni(t,e,n,i,r){if(!x(t)&&!k(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,c=Math.abs(t)+"",l="";if(a)l="∞";else{o=ti(c),ei(o,r,e.minFrac,e.maxFrac);var u=o.d,d=o.i,p=o.e,f=[];for(s=u.reduce(function(t,e){return t&&!e},!0);d<0;)u.unshift(0),d++;d>0?f=u.splice(d,u.length):(f=u,u=[0]);var h=[];for(u.length>=e.lgSize&&h.unshift(u.splice(-e.lgSize,u.length).join(""));u.length>e.gSize;)h.unshift(u.splice(-e.gSize,u.length).join(""));u.length&&h.unshift(u.join("")),l=h.join(n),f.length&&(l+=i+f.join("")),p&&(l+="e+"+p)}return t<0&&!s?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function ii(t,e,n,i){var r="";for((t<0||i&&t<=0)&&(i?t=1-t:(t=-t,r="-")),t=""+t;t.length<e;)t=Yo+t;return n&&(t=t.substr(t.length-e)),r+t}function ri(t,e,n,i,r){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),ii(a,e,i,r)}}function oi(t,e,n){return function(i,r){var o=i["get"+t]();return r[Zi((n?"STANDALONE":"")+(e?"SHORT":"")+t)][o]}}function ai(t,e,n){var i=-1*n,r=i>=0?"+":"";return r+=ii(Math[i>0?"floor":"ceil"](i/60),2)+ii(Math.abs(i%60),2)}function si(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function ci(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function li(t){return function(e){var n=si(e.getFullYear()),i=ci(e),r=+i-+n;return ii(1+Math.round(r/6048e5),t)}}function ui(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function di(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function pi(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function fi(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,o=0,a=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=f(e[9]+e[10]),o=f(e[9]+e[11])),a.call(i,f(e[1]),f(e[2])-1,f(e[3]));var c=f(e[4]||0)-r,l=f(e[5]||0)-o,u=f(e[6]||0),d=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,c,l,u,d),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var a,s,c="",l=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,x(n)&&(n=Qo.test(n)?f(n):e(n)),k(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;i;)s=Jo.exec(i),s?(l=W(l,s,1),i=l.pop()):(l.push(i),i=null);var u=n.getTimezoneOffset();return r&&(u=X(r,u),n=tt(n,r,!0)),o(l,function(e){a=Ko[e],c+=a?a(n,t.DATETIME_FORMATS,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function hi(){return function(t,e){return b(e)&&(e=2),J(t,e)}}function _i(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):f(e),hr(e)?t:(k(t)&&(t=t.toString()),r(t)?(n=!n||isNaN(n)?0:f(n),n=n<0?Math.max(0,t.length+n):n,e>=0?mi(t,n,n+e):0===n?mi(t,e,t.length):mi(t,Math.max(0,n+e),n)):t)}}function mi(t,e,n){return x(t)?t.slice(e,n):ar.call(t,e,n)}function gi(t){function e(e){return e.map(function(e){var n=1,i=m;if(A(e))i=e;else if(x(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant))){var r=i();i=function(t){return t[r]}}return{get:i,descending:n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return A(t.valueOf)&&(t=t.valueOf(),n(t))?t:(v(t)&&(t=t.toString(),n(t)),t)}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,i=t.type,r=e.type;if(i===r){var o=t.value,a=e.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(w(o)&&(o=t.index),w(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n=i<r?-1:1;return n}return function(t,n,o,c){function l(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:d.map(function(n){return a(n.get(t),e)})}}function u(t,e){for(var n=0,i=d.length;n<i;n++){var r=f(t.predicateValues[n],e.predicateValues[n]);if(r)return r*d[n].descending*p}return(f(t.tieBreaker,e.tieBreaker)||s(t.tieBreaker,e.tieBreaker))*p}if(null==t)return t;if(!r(t))throw i("orderBy")("notarray","Expected array but received: {0}",t);_r(n)||(n=[n]),0===n.length&&(n=["+"]);var d=e(n),p=o?-1:1,f=A(c)?c:s,h=Array.prototype.map.call(t,l);return h.sort(u),t=h.map(function(t){return t.value})}}function vi(t){return A(t)&&(t={link:t}),t.restrict=t.restrict||"AC",g(t)}function bi(t,e){t.$name=e}function yi(t,e,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=na,this.$$element=t,this.$$animate=i,wi(this)}function wi(t){t.$$classCache={},t.$$classCache[Da]=!(t.$$classCache[Ra]=t.$$element.hasClass(Ra))}function $i(t){function e(t,e,n,i){t[e]||(t[e]={}),a(t[e],n,i)}function n(t,e,n,i){t[e]&&s(t[e],n,i),xi(t[e])&&(t[e]=void 0)}function i(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function r(t,e,n){e=e?"-"+pt(e,"-"):"",i(t,Ra+e,!0===n),i(t,Da+e,!1===n)}var o=t.clazz,a=t.set,s=t.unset;o.prototype.$setValidity=function(t,o,c){b(o)?e(this,"$pending",t,c):n(this,"$pending",t,c),M(o)?o?(s(this.$error,t,c),a(this.$$success,t,c)):(a(this.$error,t,c),s(this.$$success,t,c)):(s(this.$error,t,c),s(this.$$success,t,c)),this.$pending?(i(this,ia,!0),this.$valid=this.$invalid=void 0,r(this,"",null)):(i(this,ia,!1),this.$valid=xi(this.$error),this.$invalid=!this.$valid,r(this,"",this.$valid));var l;l=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null),r(this,t,l),this.$$parentForm.$setValidity(t,l,this)}}function xi(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function ki(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function Ci(t,e,n,i,r,o){Si(t,e,n,i,r,o),ki(i)}function Si(t,e,n,i,r,o){var a=Xi(e[0].type);if(!r.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,l()})}var c,l=function(t){if(c&&(o.defer.cancel(c),c=null),!s){var r=e.val(),l=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=gr(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,l)}};if(r.hasEvent("input"))e.on("input",l);else{var u=function(t,e,n){c||(c=o.defer(function(){c=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||u(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",u)}e.on("change",l),_a[a]&&i.$$hasNativeValidators&&a===n.type&&e.on(ha,function(t){if(!c){var e=this[Ji],n=e.badInput,i=e.typeMismatch;c=o.defer(function(){c=null,e.badInput===n&&e.typeMismatch===i||l(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function Ai(t,e){if(C(t))return t;if(x(t)){pa.lastIndex=0;var n=pa.exec(t);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,c=0,l=si(i),u=7*(r-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),c=e.getMilliseconds()),new Date(i,0,l.getDate()+u,o,a,s,c)}}return NaN}function Ei(t,e){return function(n,i){var r,a;if(C(n))return n;if(x(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),sa.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Ti(t,e,n,i){return function(r,o,a,s,c,l,u){function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return y(t)&&!C(t)?n(t)||void 0:t}ji(r,o,a,s),Si(r,o,a,s,c,l);var f,h=s&&s.$options.getOption("timezone");if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var i=n(t,f);return h&&(i=tt(i,h)),i}}),s.$formatters.push(function(t){if(t&&!C(t))throw za("datefmt","Expected `{0}` to be a date",t);return d(t)?(f=t,f&&h&&(f=tt(f,h,!0)),u("date")(t,i,h)):(f=null,"")}),y(a.min)||a.ngMin){var _;s.$validators.min=function(t){return!d(t)||b(_)||n(t)>=_},a.$observe("min",function(t){_=p(t),s.$validate()})}if(y(a.max)||a.ngMax){var m;s.$validators.max=function(t){return!d(t)||b(m)||n(t)<=m},a.$observe("max",function(t){m=p(t),s.$validate()})}}}function ji(t,e,n,i){var r=e[0];(i.$$hasNativeValidators=w(r.validity))&&i.$parsers.push(function(t){var n=e.prop(Ji)||{};return n.badInput||n.typeMismatch?void 0:t})}function Oi(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:ua.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!k(e))throw za("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function qi(t){return y(t)&&!k(t)&&(t=parseFloat(t)),hr(t)?void 0:t}function Pi(t){return(0|t)===t}function Mi(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(-1<t&&t<1){var i=/e-(\d+)$/.exec(e);if(i)return Number(i[1])}return 0}return e.length-n-1}function Ii(t,e,n){var i=Number(t),r=!Pi(i),o=!Pi(e),a=!Pi(n);if(r||o||a){var s=r?Mi(i):0,c=o?Mi(e):0,l=a?Mi(n):0,u=Math.max(s,c,l),d=Math.pow(10,u);i*=d,e*=d,n*=d,r&&(i=Math.round(i)),o&&(e=Math.round(e)),a&&(n=Math.round(n))}return(i-e)%n==0}function Ri(t,e,n,i,r,o){ji(t,e,n,i),Oi(i),Si(t,e,n,i,r,o);var a,s;if((y(n.min)||n.ngMin)&&(i.$validators.min=function(t){return i.$isEmpty(t)||b(a)||t>=a},n.$observe("min",function(t){a=qi(t),i.$validate()})),(y(n.max)||n.ngMax)&&(i.$validators.max=function(t){return i.$isEmpty(t)||b(s)||t<=s},n.$observe("max",function(t){s=qi(t),i.$validate()})),y(n.step)||n.ngStep){var c;i.$validators.step=function(t,e){return i.$isEmpty(e)||b(c)||Ii(e,a||0,c)},n.$observe("step",function(t){c=qi(t),i.$validate()})}}function Di(t,e,n,i,r,o){function a(t,i){e.attr(t,n[t]),n.$observe(t,i)}function s(t){if(d=qi(t),!hr(i.$modelValue))if(u){var n=e.val();d>n&&(n=d,e.val(n)),i.$setViewValue(n)}else i.$validate()}function c(t){if(p=qi(t),!hr(i.$modelValue))if(u){var n=e.val();p<n&&(e.val(p),n=p<d?d:p),i.$setViewValue(n)}else i.$validate()}function l(t){f=qi(t),hr(i.$modelValue)||(u&&i.$viewValue!==e.val()?i.$setViewValue(e.val()):i.$validate())}ji(t,e,n,i),Oi(i),Si(t,e,n,i,r,o);var u=i.$$hasNativeValidators&&"range"===e[0].type,d=u?0:void 0,p=u?100:void 0,f=u?1:void 0,h=e[0].validity,_=y(n.min),m=y(n.max),g=y(n.step),v=i.$render;i.$render=u&&y(h.rangeUnderflow)&&y(h.rangeOverflow)?function(){v(),i.$setViewValue(e.val())}:v,_&&(i.$validators.min=u?function(){return!0}:function(t,e){return i.$isEmpty(e)||b(d)||e>=d},a("min",s)),m&&(i.$validators.max=u?function(){return!0}:function(t,e){return i.$isEmpty(e)||b(p)||e<=p},a("max",c)),g&&(i.$validators.step=u?function(){return!h.stepMismatch}:function(t,e){return i.$isEmpty(e)||b(f)||Ii(e,d||0,f)},a("step",l))}function Ni(t,e,n,i,r,o){Si(t,e,n,i,r,o),ki(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||ca.test(n)}}function Li(t,e,n,i,r,o){Si(t,e,n,i,r,o),ki(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||la.test(n)}}function zi(t,e,n,i){var r=!n.ngTrim||"false"!==gr(n.ngTrim);b(n.name)&&e.attr("name",c());var o=function(t){var o;e[0].checked&&(o=n.value,r&&(o=gr(o)),i.$setViewValue(o,t&&t.type))};e.on("click",o),i.$render=function(){var t=n.value;r&&(t=gr(t)),e[0].checked=t===i.$viewValue},n.$observe("value",i.$render)}function Fi(t,e,n,i,r){var o;if(y(i)){if(o=t(i),!o.constant)throw za("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}function Ui(t,e,n,i,r,o,a,s){var c=Fi(s,t,"ngTrueValue",n.ngTrueValue,!0),l=Fi(s,t,"ngFalseValue",n.ngFalseValue,!1),u=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",u),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return H(t,c)}),i.$parsers.push(function(t){return t?c:l})}function Vi(t,e){function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r===e[o])continue t;n.push(r)}return n}function i(t){return t&&t.split(" ")}function r(t){var e=t;return _r(t)?e=t.map(r).join(" "):w(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}function a(t){var e=t;if(_r(t))e=t.map(a);else if(w(t)){var n=!1;e=Object.keys(t).filter(function(e){var i=t[e];return!n&&b(i)&&(n=!0),i}),n&&e.push(void 0)}return e}t="ngClass"+t;var s;return["$parse",function(c){return{restrict:"AC",link:function(l,u,d){function p(t){t=_(i(t),1),d.$addClass(t)}function f(t){t=_(i(t),-1),d.$removeClass(t)}function h(t,e){var r=i(t),o=i(e),a=n(r,o),s=n(o,r),c=_(a,-1),l=_(s,1);d.$addClass(l),d.$removeClass(c)}function _(t,e){var n=[];return o(t,function(t){(e>0||C[t])&&(C[t]=(C[t]||0)+e,C[t]===+(e>0)&&n.push(t))}),n.join(" ")}function m(t){t===e?p(b):f(b),S=t}function g(t){var e=r(t);e!==b&&v(e)}function v(t){S===e&&h(b,t),b=t}var b,y=d[t].trim(),w=":"===y.charAt(0)&&":"===y.charAt(1),$=w?a:r,x=c(y,$),k=w?g:v,C=u.data("$classCounts"),S=!0;C||(C=vt(),u.data("$classCounts",C)),"ngClass"!==t&&(s||(s=c("$index",function(t){return 1&t})),l.$watch(s,m)),l.$watch(x,k,w)}}}]}function Bi(t,e,n,i,r,o,a,s,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(t),this.$$parentForm=na,this.$options=Fa,this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=a,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=e,wi(this),Hi(this)}function Hi(t){t.$$scope.$watch(function(e){var n=t.$$ngModelGet(e);if(n!==t.$modelValue&&(t.$modelValue===t.$modelValue||n===n)){t.$modelValue=t.$$rawModelValue=n,t.$$parserValid=void 0;for(var i=t.$formatters,r=i.length,o=n;r--;)o=i[r](o);t.$viewValue!==o&&(t.$$updateEmptyClasses(o),t.$viewValue=t.$$lastCommittedViewValue=o,t.$render(),t.$$runValidators(t.$modelValue,t.$viewValue,_))}return n})}function Wi(t){this.$$options=t}function Gi(t,e){o(e,function(e,n){y(t[n])||(t[n]=e)})}function Yi(t,e){t.prop("selected",e),t.attr("selected",e)}var Ki={objectMaxDepth:5},Ji="validity",Qi=Object.prototype.hasOwnProperty,Xi=function(t){return x(t)?t.toLowerCase():t},Zi=function(t){return x(t)?t.toUpperCase():t},tr=function(t){return x(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},er=function(t){return x(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Xi=tr,Zi=er);var nr,ir,rr,or,ar=[].slice,sr=[].splice,cr=[].push,lr=Object.prototype.toString,ur=Object.getPrototypeOf,dr=i("ng"),pr=t.angular||(t.angular={}),fr=0;nr=t.document.documentMode;var hr=Number.isNaN||function(t){return t!==t};_.$inject=[],m.$inject=[];var _r=Array.isArray,mr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,gr=function(t){return x(t)?t.trim():t},vr=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},br=function(){if(!y(br.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");br.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else br.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return br.rules},yr=function(){if(y(yr.name_))return yr.name_;var e,n,i,r,o=$r.length;for(n=0;n<o;++n)if(i=$r[n],e=t.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return yr.name_=r},wr=/:/g,$r=["ng-","data-ng-","ng:","x-ng-"],xr=function(e){var n=e.currentScript;if(!n)return!0;if(!(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement))return!1;var i=n.attributes;return[i.getNamedItem("src"),i.getNamedItem("href"),i.getNamedItem("xlink:href")].every(function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(t.document),kr=/[A-Z]/g,Cr=!1,Sr=1,Ar=3,Er=8,Tr=9,jr=11,Or={full:"1.6.6",major:1,minor:6,dot:6,codeName:"interdimensional-cable"};Mt.expando="ng339";var qr=Mt.cache={},Pr=1;Mt._data=function(t){return this.cache[t[this.expando]]||{}};var Mr=/-([a-z])/g,Ir=/^-ms-/,Rr={mouseleave:"mouseout",mouseenter:"mouseover"},Dr=i("jqLite"),Nr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Lr=/<|&#?\w+;/,zr=/<([\w:-]+)/,Fr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ur={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ur.optgroup=Ur.option,Ur.tbody=Ur.tfoot=Ur.colgroup=Ur.caption=Ur.thead,Ur.th=Ur.td;var Vr=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Br=Mt.prototype={ready:Jt,toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return ir(t>=0?this[t]:this[this.length+t])},length:0,push:cr,sort:[].sort,splice:[].splice},Hr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Hr[Xi(t)]=t});var Wr={};o("input,select,option,textarea,button,form,details".split(","),function(t){Wr[t]=!0});var Gr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:zt,removeData:Nt,hasData:jt,cleanData:function(t){for(var e=0,n=t.length;e<n;e++)Nt(t[e])}},function(t,e){Mt[e]=t}),o({data:zt,inheritedData:Wt,scope:function(t){return ir.data(t,"$scope")||Wt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return ir.data(t,"$isolateScope")||ir.data(t,"$isolateScopeNoTemplate")},controller:Ht,injector:function(t){return Wt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ft,css:function(t,e,n){if(e=Ct(e),!y(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var i,r=t.nodeType;if(r!==Ar&&2!==r&&r!==Er&&t.getAttribute){var o=Xi(e),a=Hr[o];if(!y(n))return i=t.getAttribute(e),a&&null!==i&&(i=o),null===i?void 0:i;null===n||!1===n&&a?t.removeAttribute(e):t.setAttribute(e,a?o:n)}},prop:function(t,e,n){if(!y(n))return t[e];t[e]=n},text:function(){function t(t,e){if(b(e)){var n=t.nodeType;return n===Sr||n===Ar?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(b(e)){if(t.multiple&&"select"===z(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){if(b(e))return t.innerHTML;Rt(t,!0),t.innerHTML=e},empty:Gt},function(t,e){Mt.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==Gt&&b(2===t.length&&t!==Ft&&t!==Ht?e:n)){if(w(e)){for(i=0;i<o;i++)if(t===zt)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(var a=t.$dv,s=b(a)?Math.min(o,1):o,c=0;c<s;c++){var l=t(this[c],e,n);a=a?a+l:l}return a}for(i=0;i<o;i++)t(this[i],e,n);return this}}),o({removeData:Nt,on:function(t,e,n,i){if(y(i))throw Dr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Tt(t)){var r=Lt(t,!0),o=r.events,a=r.handle;a||(a=r.handle=Zt(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],c=s.length,l=function(e,i,r){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=i,"$destroy"===e||r||t.addEventListener(e,a)),s.push(n)};c--;)e=s[c],Rr[e]?(l(Rr[e],ee),l(e,void 0,!0)):l(e)}},off:Dt,one:function(t,e,n){t=ir(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;Rt(t),o(new Mt(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===Sr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Sr||n===jr){e=new Mt(e);for(var i=0,r=e.length;i<r;i++){var o=e[i];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===Sr){var n=t.firstChild;o(new Mt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){Pt(t,ir(e).eq(0).clone()[0])},remove:Yt,detach:function(t){Yt(t,!0)},after:function(t,e){var n=t,i=t.parentNode;if(i){e=new Mt(e);for(var r=0,o=e.length;r<o;r++){var a=e[r];i.insertBefore(a,n.nextSibling),n=a}}},addClass:Vt,removeClass:Ut,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var i=n;b(i)&&(i=!Ft(t,e)),(i?Vt:Ut)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==jr?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:It,triggerHandler:function(t,e,n){var i,r,a,s=e.type||e,c=Lt(t),l=c&&c.events,u=l&&l[s];u&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:_,type:s,target:t},e.type&&(i=d(i,e)),r=wt(u),a=n?[i].concat(n):[i],o(r,function(e){i.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){Mt.prototype[e]=function(e,n,i){for(var r,o=0,a=this.length;o<a;o++)b(r)?(r=t(this[o],e,n,i),y(r)&&(r=ir(r))):Bt(r,t(this[o],e,n,i));return y(r)?r:this}}),Mt.prototype.bind=Mt.prototype.on,Mt.prototype.unbind=Mt.prototype.off;var Yr=Object.create(null);re.prototype={_idx:function(t){return t===this._lastKey?this._lastIndex:(this._lastKey=t,this._lastIndex=this._keys.indexOf(t),this._lastIndex)},_transformKey:function(t){return hr(t)?Yr:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Kr=re,Jr=[function(){this.$get=[function(){return Kr}]}],Qr=/^([^(]+?)=>/,Xr=/^[^(]*\(\s*([^)]*)\)/m,Zr=/,/,to=/^\s*(_?)(\S+?)\1\s*$/,eo=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,no=i("$injector");le.$$annotate=ce;var io=i("$animate"),ro=1,oo=function(){this.$get=_},ao=function(){var t=new Kr,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(t,e,n){var i=!1;return e&&(e=x(e)?e.split(" "):_r(e)?e:[],o(e,function(e){e&&(i=!0,t[e]=n)})),i}function a(){o(e,function(e){var n=t.get(e);if(n){var i=fe(e.attr("class")),r="",a="";o(n,function(t,e){t!==!!i[e]&&(t?r+=(r.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){r&&Vt(t,r),a&&Ut(t,a)}),t.delete(e)}}),e.length=0}function s(n,o,s){var c=t.get(n)||{},l=r(c,o,!0),u=r(c,s,!1);(l||u)&&(t.set(n,c),e.push(n),1===e.length&&i.$$postDigest(a))}return{enabled:_,on:_,off:_,pin:_,push:function(t,e,i,r){r&&r(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&s(t,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},so=["$provide",function(t){var e=this,n=null,i=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw io("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.customFilter=function(t){return 1===arguments.length&&(i=A(t)?t:null),i},this.classNameFilter=function(t){if(1===arguments.length&&(n=t instanceof RegExp?t:null)){if(new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString()))throw n=null,io("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=pe(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&ir(i),r=r&&ir(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",he(o))},move:function(n,i,r,o){return i=i&&ir(i),r=r&&ir(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",he(o))},leave:function(e,n){return t.push(e,"leave",he(n),function(){e.remove()})},addClass:function(e,n,i){return i=he(i),i.addClass=de(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=he(i),i.removeClass=de(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=he(r),r.addClass=de(r.addClass,n),r.removeClass=de(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return o=he(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=de(o.tempClasses,r),t.push(e,"animate",o)}}}]}],co=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},lo=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,i,r){function a(t){this.setHost(t);var e=n(),o=function(t){r(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){i()?o(t):e(t)},this._state=0}return a.chain=function(t,e){function n(){if(i===t.length)return void e(!0);t[i](function(t){if(!1===t)return void e(!1);i++,n()})}var i=0;n()},a.all=function(t,e){function n(n){r=r&&n,++i===t.length&&e(r)}var i=0,r=!0;o(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:_,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},a}]},uo=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){o(),s||c.complete(),s=!0}),c}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=V(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,c=new n;return{start:r,end:r}}}]},po=i("$compile"),fo=new be;ye.$inject=["$provide","$$sanitizeUriProvider"],we.prototype.isFirstChange=function(){return this.previousValue===fo};var ho=/^((?:x|data)[:\-_])/i,_o=/[:\-_]+(.)/g,mo=i("$controller"),go=/^(\S+)(\s+as\s+([\w$]+))?$/,vo=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof ir&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},bo="application/json",yo={"Content-Type":bo+";charset=utf-8"},wo=/^\[|^\{(?!\{)/,$o={"[":/]$/,"{":/}$/},xo=/^\)]\}',?\n/,ko=i("$http"),Co=pr.$interpolateMinErr=i("$interpolate");Co.throwNoconcat=function(t){throw Co("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Co.interr=function(t,e){return Co("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var So=function(){this.$get=function(){function t(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var e=pr.callbacks,n={};return{createCallback:function(i){var r="_"+(e.$$counter++).toString(36),o="angular.callbacks."+r,a=t(r);return n[o]=e[r]=a,o},wasCalled:function(t){return n[t].called},getResponse:function(t){return n[t].data},removeCallback:function(t){var i=n[t];delete e[i.id],delete n[t]}}}},Ao=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Eo={http:80,https:443,ftp:21},To=i("$location"),jo=/^\s*[\\\/]{2,}/,Oo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:rn("$$absUrl"),url:function(t){if(b(t))return this.$$url;var e=Ao.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:rn("$$protocol"),host:rn("$$host"),port:rn("$$port"),path:on("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||k(t))t=t.toString(),this.$$search=it(t);else{if(!w(t))throw To("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=V(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:b(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:on("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([nn,en,tn],function(t){t.prototype=Object.create(Oo),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==tn||!this.$$html5)throw To("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var qo=i("$parse"),Po={}.constructor.prototype.valueOf,Mo=vt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Mo[t]=!0});var Io={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ro=function(t){this.options=t};Ro.prototype={constructor:Ro,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=Mo[e],o=Mo[n],a=Mo[i];if(r||o||a){var s=a?i:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw qo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Xi(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=Io[o]||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Do=function(t,e){this.lexer=t,this.options=e};Do.Program="Program",Do.ExpressionStatement="ExpressionStatement",Do.AssignmentExpression="AssignmentExpression",Do.ConditionalExpression="ConditionalExpression",Do.LogicalExpression="LogicalExpression",Do.BinaryExpression="BinaryExpression",Do.UnaryExpression="UnaryExpression",Do.CallExpression="CallExpression",Do.MemberExpression="MemberExpression",Do.Identifier="Identifier",Do.Literal="Literal",Do.ArrayExpression="ArrayExpression",Do.Property="Property",Do.ObjectExpression="ObjectExpression",Do.ThisExpression="ThisExpression",Do.LocalsExpression="LocalsExpression",Do.NGValueParameter="NGValueParameter",Do.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Do.Program,body:t}},expressionStatement:function(){return{type:Do.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!_n(t))throw qo("lval","Trying to assign a value to a non l-value");t={type:Do.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Do.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Do.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Do.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Do.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Do.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Do.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Do.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Do.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=V(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Do.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Do.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Do.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Do.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Do.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Do.Identifier,name:t.text}},constant:function(){return{type:Do.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Do.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Do.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Do.ObjectExpression,properties:e}},throwError:function(t,e){throw qo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw qo("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw qo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===i||a===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:Do.ThisExpression},$locals:{type:Do.LocalsExpression}}};var No=1,Lo=2;bn.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},fn(t,e.$filter);var n,i="";if(this.stage="assign",n=mn(t)){this.state.computing="assign";var r=this.nextId();this.recurse(n,r),this.return_(r),i="fn.assign="+this.generateFunction("assign","s,v,l")}var a=hn(t.body);e.stage="inputs",o(a,function(t,n){var i="fn"+n;e.state[i]={vars:[],body:[],own:{}},e.state.computing=i;var r=e.nextId();e.recurse(t,r),e.return_(r),e.state.inputs.push({name:i,isPure:t.isPure}),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(t);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,cn,ln,un);return this.state=this.stage=void 0,c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(t){return t.name}).join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,i,r,a){var s,c,l,u,d,p=this;if(i=i||_,!a&&y(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,i,r,!0));switch(t.type){case Do.Program:o(t.body,function(e,n){p.recurse(e.expression,void 0,void 0,function(t){c=t}),n!==t.body.length-1?p.current().body.push(c,";"):p.return_(c)});break;case Do.Literal:u=this.escape(t.value),this.assign(e,u),i(e||u);break;case Do.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){c=t}),u=t.operator+"("+this.ifDefined(c,0)+")",this.assign(e,u),i(u);break;case Do.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){c=t}),u="+"===t.operator?this.plus(s,c):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(c,0):"("+s+")"+t.operator+"("+c+")",this.assign(e,u),i(u);break;case Do.LogicalExpression:e=e||this.nextId(),p.recurse(t.left,e),p.if_("&&"===t.operator?e:p.not(e),p.lazyRecurse(t.right,e)),i(e);break;case Do.ConditionalExpression:e=e||this.nextId(),p.recurse(t.test,e),p.if_(e,p.lazyRecurse(t.alternate,e),p.lazyRecurse(t.consequent,e)),i(e);break;case Do.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",t.name)),function(){p.if_("inputs"===p.stage||"s",function(){r&&1!==r&&p.if_(p.isNull(p.nonComputedMember("s",t.name)),p.lazyAssign(p.nonComputedMember("s",t.name),"{}")),p.assign(e,p.nonComputedMember("s",t.name))})},e&&p.lazyAssign(e,p.nonComputedMember("l",t.name))),i(e);break;case Do.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),p.recurse(t.object,s,void 0,function(){p.if_(p.notNull(s),function(){t.computed?(c=p.nextId(),p.recurse(t.property,c),p.getStringValue(c),r&&1!==r&&p.if_(p.not(p.computedMember(s,c)),p.lazyAssign(p.computedMember(s,c),"{}")),u=p.computedMember(s,c),p.assign(e,u),n&&(n.computed=!0,n.name=c)):(r&&1!==r&&p.if_(p.isNull(p.nonComputedMember(s,t.property.name)),p.lazyAssign(p.nonComputedMember(s,t.property.name),"{}")),u=p.nonComputedMember(s,t.property.name),p.assign(e,u),n&&(n.computed=!1,n.name=t.property.name))},function(){p.assign(e,"undefined")}),i(e)},!!r);break;case Do.CallExpression:e=e||this.nextId(),t.filter?(c=p.filter(t.callee.name),l=[],o(t.arguments,function(t){var e=p.nextId();p.recurse(t,e),l.push(e)}),u=c+"("+l.join(",")+")",p.assign(e,u),i(e)):(c=p.nextId(),s={},l=[],p.recurse(t.callee,c,s,function(){p.if_(p.notNull(c),function(){o(t.arguments,function(e){p.recurse(e,t.constant?void 0:p.nextId(),void 0,function(t){l.push(t)})}),u=s.name?p.member(s.context,s.name,s.computed)+"("+l.join(",")+")":c+"("+l.join(",")+")",p.assign(e,u)},function(){p.assign(e,"undefined")}),i(e)}));break;case Do.AssignmentExpression:c=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(t.right,c),u=p.member(s.context,s.name,s.computed)+t.operator+c,p.assign(e,u),i(e||u)})},1);break;case Do.ArrayExpression:l=[],o(t.elements,function(e){p.recurse(e,t.constant?void 0:p.nextId(),void 0,function(t){l.push(t)})}),u="["+l.join(",")+"]",this.assign(e,u),i(e||u);break;case Do.ObjectExpression:l=[],d=!1,o(t.properties,function(t){t.computed&&(d=!0)}),d?(e=e||this.nextId(),this.assign(e,"{}"),o(t.properties,function(t){t.computed?(s=p.nextId(),p.recurse(t.key,s)):s=t.key.type===Do.Identifier?t.key.name:""+t.key.value,c=p.nextId(),p.recurse(t.value,c),p.assign(p.member(e,s,t.computed),c)})):(o(t.properties,function(e){p.recurse(e.value,t.constant?void 0:p.nextId(),void 0,function(t){l.push(p.escape(e.key.type===Do.Identifier?e.key.name:""+e.key.value)+":"+t)})}),u="{"+l.join(",")+"}",this.assign(e,u)),i(e||u);break;case Do.ThisExpression:this.assign(e,"s"),i(e||"s");break;case Do.LocalsExpression:this.assign(e,"l"),i(e||"l");break;case Do.NGValueParameter:this.assign(e,"v"),i(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/;return n.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,i,r,o){var a=this;return function(){a.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(k(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw qo("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},yn.prototype={compile:function(t){var e=this;fn(t,e.$filter);var n,i;(n=mn(t))&&(i=this.recurse(n));var r,a=hn(t.body);a&&(r=[],o(a,function(t,n){var i=e.recurse(t);i.isPure=t.isPure,t.input=i,r.push(i),t.watchId=n}));var s=[];o(t.body,function(t){s.push(e.recurse(t.expression))});var c=0===t.body.length?_:1===t.body.length?s[0]:function(t,e){var n;return o(s,function(i){n=i(t,e)}),n};return i&&(c.assign=function(t,e,n){return i(t,n,e)}),r&&(c.inputs=r),c},recurse:function(t,e,n){var i,r,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Do.Literal:return this.value(t.value,e);case Do.UnaryExpression:return r=this.recurse(t.argument),this["unary"+t.operator](r,e);case Do.BinaryExpression:case Do.LogicalExpression:return i=this.recurse(t.left),r=this.recurse(t.right),this["binary"+t.operator](i,r,e);case Do.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Do.Identifier:return s.identifier(t.name,e,n);case Do.MemberExpression:return i=this.recurse(t.object,!1,!!n),t.computed||(r=t.property.name),t.computed&&(r=this.recurse(t.property)),t.computed?this.computedMember(i,r,e,n):this.nonComputedMember(i,r,e,n);case Do.CallExpression:return a=[],o(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(r=this.$filter(t.callee.name)),t.filter||(r=this.recurse(t.callee,!0)),t.filter?function(t,n,i,o){for(var s=[],c=0;c<a.length;++c)s.push(a[c](t,n,i,o));var l=r.apply(void 0,s,o);return e?{context:void 0,name:void 0,value:l}:l}:function(t,n,i,o){var s,c=r(t,n,i,o);if(null!=c.value){for(var l=[],u=0;u<a.length;++u)l.push(a[u](t,n,i,o));s=c.value.apply(c.context,l)}return e?{value:s}:s};case Do.AssignmentExpression:return i=this.recurse(t.left,!0,1),r=this.recurse(t.right),function(t,n,o,a){var s=i(t,n,o,a),c=r(t,n,o,a);return s.context[s.name]=c,e?{value:c}:c};case Do.ArrayExpression:return a=[],o(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,i,r));return e?{value:o}:o};case Do.ObjectExpression:return a=[],o(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===Do.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,i,r){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,i,r)]=a[s].value(t,n,i,r):o[a[s].key]=a[s].value(t,n,i,r);return e?{value:o}:o};case Do.ThisExpression:return function(t){return e?{value:t}:t};case Do.LocalsExpression:return function(t,n){return e?{value:n}:n};case Do.NGValueParameter:return function(t,n,i){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=y(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=y(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,i,r,o){var a=!t(n,i,r,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),c=e(i,r,o,a),l=un(s,c);return n?{value:l}:l}},"binary-":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),c=e(i,r,o,a),l=(y(s)?s:0)-(y(c)?c:0);return n?{value:l}:l}},"binary*":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)*e(i,r,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)/e(i,r,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)%e(i,r,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)===e(i,r,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!==e(i,r,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)==e(i,r,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!=e(i,r,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<e(i,r,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>e(i,r,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<=e(i,r,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>=e(i,r,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)&&e(i,r,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)||e(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,i){return function(r,o,a,s){var c=t(r,o,a,s)?e(r,o,a,s):n(r,o,a,s);return i?{value:c}:c}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(i,r,o,a){var s=r&&t in r?r:i;n&&1!==n&&s&&null==s[t]&&(s[t]={});var c=s?s[t]:void 0;return e?{context:s,name:t,value:c}:c}},computedMember:function(t,e,n,i){return function(r,o,a,s){var c,l,u=t(r,o,a,s);return null!=u&&(c=e(r,o,a,s),c=cn(c),i&&1!==i&&u&&!u[c]&&(u[c]={}),l=u[c]),n?{context:u,name:c,value:l}:l}},nonComputedMember:function(t,e,n,i){return function(r,o,a,s){var c=t(r,o,a,s);i&&1!==i&&c&&null==c[e]&&(c[e]={});var l=null!=c?c[e]:void 0;return n?{context:c,name:e,value:l}:l}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}},wn.prototype={constructor:wn,parse:function(t){var e=this.ast.ast(t),n=this.astCompiler.compile(e);return n.literal=gn(e),n.constant=vn(e),n}};var zo=i("$sce"),Fo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Uo=/_([a-z])/g,Vo=i("$compile"),Bo=t.document.createElement("a"),Ho=Un(t.location.href);Hn.$inject=["$document"],Gn.$inject=["$provide"];var Wo=22,Go=".",Yo="0";Xn.$inject=["$locale"],Zn.$inject=["$locale"];var Ko={yyyy:ri("FullYear",4,0,!1,!0),yy:ri("FullYear",2,0,!0,!0),y:ri("FullYear",1,0,!1,!0),MMMM:oi("Month"),MMM:oi("Month",!0),MM:ri("Month",2,1),M:ri("Month",1,1),LLLL:oi("Month",!1,!0),dd:ri("Date",2),d:ri("Date",1),HH:ri("Hours",2),H:ri("Hours",1),hh:ri("Hours",2,-12),h:ri("Hours",1,-12),mm:ri("Minutes",2),m:ri("Minutes",1),ss:ri("Seconds",2),s:ri("Seconds",1),sss:ri("Milliseconds",3),EEEE:oi("Day"),EEE:oi("Day",!0),a:ui,Z:ai,ww:li(2),w:li(1),G:di,GG:di,GGG:di,GGGG:pi},Jo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Qo=/^-?\d+$/;fi.$inject=["$locale"];var Xo=g(Xi),Zo=g(Zi);gi.$inject=["$parse"];var ta=g({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===lr.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),ea={};o(Hr,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!==t){var i=$e("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),ea[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(Gr,function(t,e){ea[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"===i.ngPattern.charAt(0)){var r=i.ngPattern.match(/^\/(.+)\/([a-z]*)$/);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=$e("ng-"+t);ea[e]=function(){return{priority:99,link:function(n,i,r){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===lr.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(e,function(e){if(!e)return void("href"===t&&r.$set(a,null));r.$set(a,e),nr&&o&&i.prop(o,r[a])})}}}});var na={$addControl:_,$$renameControl:bi,$removeControl:_,$setValidity:_,$setDirty:_,$setPristine:_,$setSubmitted:_},ia="ng-pending";yi.$inject=["$element","$attrs","$scope","$animate","$interpolate"],yi.prototype={$rollbackViewValue:function(){o(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){_t(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],o(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),o(this.$error,function(e,n){this.$setValidity(n,null,t)},this),o(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),U(this.$$controls,t),t.$$parentForm=na},$setDirty:function(){this.$$animate.removeClass(this.$$element,Na),this.$$animate.addClass(this.$$element,La),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Na,La+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},$i({clazz:yi,set:function(t,e,n){var i=t[e];if(i){-1===i.indexOf(n)&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(U(i,n),0===i.length&&delete t[e])}});var ra=function(t){return["$timeout","$parse",function(e,n){function i(t){return""===t?n('this[""]').assign:n(t).assign||_}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:yi,compile:function(n,r){n.addClass(Na).addClass(Ra);var o=r.name?"name":!(!t||!r.ngForm)&&"ngForm";return{pre:function(t,n,r,a){var s=a[0];if(!("action"in r)){var c=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",c),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",c)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var l=o?i(s.$name):_;o&&(l(t,s),r.$observe(o,function(e){s.$name!==e&&(l(t,void 0),s.$$parentForm.$$renameControl(s,e),(l=i(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),l(t,void 0),d(s,na)})}}}}}]},oa=ra(),aa=ra(!0),sa=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ca=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,la=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ua=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,da=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,pa=/^(\d{4,})-W(\d\d)$/,fa=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ha="keydown wheel mousedown",_a=vt();o("date,datetime-local,month,time,week".split(","),function(t){_a[t]=!0});var ma={text:Ci,date:Ti("date",/^(\d{4,})-(\d{2})-(\d{2})$/,Ei(/^(\d{4,})-(\d{2})-(\d{2})$/,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Ti("datetimelocal",da,Ei(da,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Ti("time",fa,Ei(fa,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Ti("week",pa,Ai,"yyyy-Www"),month:Ti("month",/^(\d{4,})-(\d\d)$/,Ei(/^(\d{4,})-(\d\d)$/,["yyyy","MM"]),"yyyy-MM"),number:Ri,url:Ni,email:Li,radio:zi,range:Di,checkbox:Ui,hidden:_,button:_,submit:_,reset:_,file:_},ga=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(ma[Xi(a.type)]||ma.text)(r,o,a,s[0],e,t,n,i)}}}}],va=/^(true|false|\d+)$/,ba=function(){function t(t,e,n){var i=y(n)?n:9===nr?"":null;t.prop("value",i),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return va.test(n.ngValue)?function(e,n,i){t(n,i,e.$eval(i.ngValue))}:function(e,n,i){e.$watch(i.ngValue,function(e){t(n,i,e)})}}}},ya=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=bt(t)})}}}}],wa=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){var o=t(i.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=b(t)?"":t})}}}}],$a=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),a=e(r.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(a,function(){var n=o(e);i.html(t.getTrustedHtml(n)||"")})}}}}],xa=g({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),ka=Vi("",!0),Ca=Vi("Odd",0),Sa=Vi("Even",1),Aa=vi({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Ea=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ta={},ja={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=$e("ng-"+t);Ta[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[e]);return function(e,n){n.on(t,function(n){var r=function(){a(e,{$event:n})};ja[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var Oa=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,c,l;n.$watch(r.ngIf,function(n){n?c||a(function(n,o){c=o,n[n.length++]=e.$$createComment("end ngIf",r.ngIf),s={clone:n},t.enter(n,i.parent(),i)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=gt(s.clone),t.leave(l).done(function(t){!1!==t&&(l=null)}),s=null))})}}}],qa=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:pr.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,c,l,u){var d,p,f,h=0,_=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).done(function(t){!1!==t&&(p=null)}),p=f,f=null)};i.$watch(o,function(o){var c=function(t){!1===t||!y(s)||s&&!i.$eval(s)||e()},p=++h;o?(t(o,!0).then(function(t){if(!i.$$destroyed&&p===h){var e=i.$new();l.template=t;var s=u(e,function(t){_(),n.enter(t,null,r).done(c)});d=e,f=s,d.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||p===h&&(_(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(_(),l.template=null)})}}}}],Pa=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){if(lr.call(i[0]).match(/SVG/))return i.empty(),void e(Ot(o.template,t.document).childNodes)(n,function(t){i.append(t)},{futureParentElement:i});i.html(o.template),e(i.contents())(n)}}}],Ma=vi({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ia=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var r=n.ngList||", ",a="false"!==n.ngTrim,s=a?gr(r):r,c=function(t){if(!b(t)){var e=[];return t&&o(t.split(s),function(t){t&&e.push(a?gr(t):t)}),e}};i.$parsers.push(c),i.$formatters.push(function(t){if(_r(t))return t.join(r)}),i.$isEmpty=function(t){return!t||!t.length}}}},Ra="ng-valid",Da="ng-invalid",Na="ng-pristine",La="ng-dirty",za=i("ngModel");Bi.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Bi.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return A(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){A(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw za("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,et(this.$$element))},$render:_,$isEmpty:function(t){return b(t)||""===t||null===t||t!==t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,La),this.$$animate.addClass(this.$$element,Na)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Na),this.$$animate.addClass(this.$$element,La),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!hr(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,function(t){r||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==i&&o.$$writeModelToScope())})}},$$runValidators:function(t,e,n){function i(t,e){a===s.$$currentValidationRunId&&s.$setValidity(t,e)}function r(t){a===s.$$currentValidationRunId&&n(t)}this.$$currentValidationRunId++;var a=this.$$currentValidationRunId,s=this;return function(){var t=s.$$parserName||"parse";return b(s.$$parserValid)?(i(t,null),!0):(s.$$parserValid||(o(s.$validators,function(t,e){i(e,null)}),o(s.$asyncValidators,function(t,e){i(e,null)})),i(t,s.$$parserValid),s.$$parserValid)}()&&function(){var n=!0;return o(s.$validators,function(r,o){var a=Boolean(r(t,e));n=n&&a,i(o,a)}),!!n||(o(s.$asyncValidators,function(t,e){i(e,null)}),!1)}()?void function(){var n=[],a=!0;o(s.$asyncValidators,function(r,o){var s=r(t,e);if(!I(s))throw za("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);i(o,void 0),n.push(s.then(function(){i(o,!0)},function(){a=!1,i(o,!1)}))}),n.length?s.$$q.all(n).then(function(){r(a)},_):r(!0)}():void r(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function t(){i.$modelValue!==o&&i.$$writeModelToScope()}var e=this.$$lastCommittedViewValue,n=e,i=this;if(this.$$parserValid=!b(n)||void 0,this.$$parserValid)for(var r=0;r<this.$parsers.length;r++)if(n=this.$parsers[r](n),b(n)){this.$$parserValid=!1;break}hr(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,t()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(e){a||(i.$modelValue=e?n:void 0,t())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");k(e[t])?e=e[t]:k(e.default)&&(e=e.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t)}},$i({clazz:Bi,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Fa,Ua=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Bi,priority:1,compile:function(e){return e.addClass(Na).addClass("ng-untouched").addClass(Ra),{pre:function(t,e,n,i){var r=i[0],o=i[1]||r.$$parentForm,a=i[2];a&&(r.$options=a.$options),r.$$initGetterSetters(),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){function o(){a.$setTouched()}var a=r[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(t){a.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){a.$touched||(t.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}];Wi.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return t=d({},t),o(t,function(n,i){"$inherit"===n?"*"===i?e=!0:(t[i]=this.$$options[i],"updateOn"===i&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(t.updateOnDefault=!1,t[i]=gr(n.replace(/(\s+|^)default(\s+|$)/,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],Gi(t,this.$$options)),Gi(t,Fa.$$options),new Wi(t)}},Fa=new Wi({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Va=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Fa,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}},Ba=vi({terminal:!0,priority:1e3}),Ha=i("ngOptions"),Wa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ga=["$compile","$document","$parse",function(e,n,i){function a(t,e,n){function o(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function a(t){var e;if(!l&&r(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(Wa);if(!s)throw Ha("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,et(e));var c=s[5]||s[7],l=s[6],u=/ as /.test(s[0])&&s[1],d=s[9],p=i(s[2]?s[1]:c),f=u&&i(u),h=f||p,_=d&&i(d),m=d?function(t,e){return _(n,e)}:function(t){return ie(t)},g=function(t,e){return m(t,x(t,e))},v=i(s[2]||s[1]),b=i(s[3]||""),y=i(s[4]||""),w=i(s[8]),$={},x=l?function(t,e){return $[l]=e,$[c]=t,$}:function(t){return $[c]=t,$};return{trackBy:d,getTrackByValue:g,getWatchables:i(w,function(t){var e=[];t=t||[];for(var i=a(t),r=i.length,o=0;o<r;o++){var c=t===i?o:i[o],l=t[c],u=x(l,c),d=m(l,u);if(e.push(d),s[2]||s[1]){var p=v(n,u);e.push(p)}if(s[4]){var f=y(n,u);e.push(f)}}return e}),getOptions:function(){for(var t=[],e={},i=w(n)||[],r=a(i),s=r.length,c=0;c<s;c++){var l=i===r?c:r[c],u=i[l],p=x(u,l),f=h(n,p),_=m(f,p),$=v(n,p),k=b(n,p),C=y(n,p),S=new o(_,f,$,k,C);t.push(S),e[_]=S}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[g(t)]},getViewValueFromOption:function(t){return d?V(t.viewValue):t.viewValue}}}}}function s(t,i,r,s){function u(t,e){var n=c.cloneNode(!1);e.appendChild(n),p(t,n)}function d(t){var e=$.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}function p(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function f(){var t=$&&h.readValue();if($)for(var e=$.items.length-1;e>=0;e--){var n=$.items[e];Yt(y(n.group)?n.element.parentNode:n.element)}$=x.getOptions();var r={};if($.items.forEach(function(t){var e;y(t.group)?(e=r[t.group],e||(e=l.cloneNode(!1),k.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),u(t,e)):u(t,k)}),i[0].appendChild(k),_.$render(),!_.$isEmpty(t)){var o=h.readValue();(x.trackBy||m?H(t,o):t===o)||(_.$setViewValue(o),_.$render())}}for(var h=s[0],_=s[1],m=r.multiple,g=0,v=i.children(),b=v.length;g<b;g++)if(""===v[g].value){h.hasEmptyOption=!0,h.emptyOption=v.eq(g);break}i.empty();var w=!!h.emptyOption;ir(c.cloneNode(!1)).val("?");var $,x=a(r.ngOptions,i,t),k=n[0].createDocumentFragment();h.generateUnknownOptionValue=function(t){return"?"},m?(h.writeValue=function(t){if($){var e=t&&t.map(d)||[];$.items.forEach(function(t){t.element.selected&&!F(e,t)&&(t.element.selected=!1)})}},h.readValue=function(){var t=i.val()||[],e=[];return o(t,function(t){var n=$.selectValueMap[t];n&&!n.disabled&&e.push($.getViewValueFromOption(n))}),e},x.trackBy&&t.$watchCollection(function(){if(_r(_.$viewValue))return _.$viewValue.map(function(t){return x.getTrackByValue(t)})},function(){_.$render()})):(h.writeValue=function(t){if($){var e=i[0].options[i[0].selectedIndex],n=$.getOptionFromViewValue(t);e&&e.removeAttribute("selected"),n?(i[0].value!==n.selectValue&&(h.removeUnknownOption(),i[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):h.selectUnknownOrEmptyOption(t)}},h.readValue=function(){var t=$.selectValueMap[i.val()];return t&&!t.disabled?(h.unselectEmptyOption(),h.removeUnknownOption(),$.getViewValueFromOption(t)):null},x.trackBy&&t.$watch(function(){return x.getTrackByValue(_.$viewValue)},function(){_.$render()})),w&&(e(h.emptyOption)(t),i.prepend(h.emptyOption),h.emptyOption[0].nodeType===Er?(h.hasEmptyOption=!1,h.registerOption=function(t,e){""===e.val()&&(h.hasEmptyOption=!0,h.emptyOption=e,h.emptyOption.removeClass("ng-scope"),_.$render(),e.on("$destroy",function(){var t=h.$isEmptyOptionSelected();h.hasEmptyOption=!1,h.emptyOption=void 0,t&&_.$render()}))}):h.emptyOption.removeClass("ng-scope")),t.$watchCollection(x.getWatchables,f)}var c=t.document.createElement("option"),l=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=_},post:s}}}],Ya=["$locale","$interpolate","$log",function(t,e,n){var i=/^when(Minus)?(.+)$/;return{link:function(r,a,s){function c(t){a.text(t||"")}var l,u=s.count,d=s.$attr.when&&a.attr(s.$attr.when),p=s.offset||0,f=r.$eval(d)||{},h={},m=e.startSymbol(),g=e.endSymbol(),v=m+u+"-"+p+g,y=pr.noop;o(s,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+Xi(n[2]);f[r]=a.attr(s.$attr[e])}}),o(f,function(t,n){h[n]=e(t.replace(/{}/g,v))}),r.$watch(u,function(e){var i=parseFloat(e),o=hr(i);if(o||i in f||(i=t.pluralCat(i-p)),!(i===l||o&&hr(l))){y();var a=h[i];b(a)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+d),y=_,c()):y=r.$watch(a,c),l=i}})}}}],Ka=["$parse","$animate","$compile",function(t,e,n){var a=i("ngRepeat"),s=function(t,e,n,i,r,o,a){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},c=function(t){return t.clone[0]},l=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,u){var d=u.ngRepeat,p=n.$$createComment("end ngRepeat",d),f=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var h=f[1],_=f[2],m=f[3],g=f[4];if(!(f=h.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",h);var v=f[3]||f[1],b=f[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var y,w,$,x,k={$id:ie};return g?y=t(g):($=function(t,e){return ie(e)},x=function(t){return t}),function(t,n,i,u,f){y&&(w=function(e,n,i){return b&&(k[b]=e),k[v]=n,k.$index=i,y(t,k)});var h=vt();t.$watchCollection(_,function(i){var u,_,g,y,k,C,S,A,E,T,j,O,q=n[0],P=vt();if(m&&(t[m]=i),r(i))E=i,A=w||$;else{A=w||x,E=[];for(var M in i)Qi.call(i,M)&&"$"!==M.charAt(0)&&E.push(M)}for(y=E.length,j=new Array(y),u=0;u<y;u++)if(k=i===E?u:E[u],C=i[k],S=A(k,C,u),h[S])T=h[S],delete h[S],P[S]=T,j[u]=T;else{if(P[S])throw o(j,function(t){t&&t.scope&&(h[t.id]=t)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,S,C);j[u]={id:S,scope:void 0,clone:void 0},P[S]=!0}for(var I in h){if(T=h[I],O=gt(T.clone),e.leave(O),O[0].parentNode)for(u=0,_=O.length;u<_;u++)O[u].$$NG_REMOVED=!0;T.scope.$destroy()}for(u=0;u<y;u++)if(k=i===E?u:E[u],C=i[k],T=j[u],T.scope){g=q;do{g=g.nextSibling}while(g&&g.$$NG_REMOVED);c(T)!==g&&e.move(gt(T.clone),null,q),q=l(T),s(T.scope,u,v,C,b,k,y)}else f(function(t,n){T.scope=n;var i=p.cloneNode(!1);t[t.length++]=i,e.enter(t,null,q),q=i,T.clone=t,P[T.id]=T,s(T.scope,u,v,C,b,k,y)});h=P})}}}}],Ja=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Qa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Xa=vi(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Za=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,a){var s=r.ngSwitch||r.on,c=[],l=[],u=[],d=[],p=function(t,e){return function(n){!1!==n&&t.splice(e,1)}};n.$watch(s,function(n){for(var i,r;u.length;)t.cancel(u.pop());for(i=0,r=d.length;i<r;++i){var s=gt(l[i].clone);d[i].$destroy();(u[i]=t.leave(s)).done(p(u,i))}l.length=0,d.length=0,(c=a.cases["!"+n]||a.cases["?"])&&o(c,function(n){n.transclude(function(i,r){d.push(r);var o=n.element;i[i.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:i};l.push(a),t.enter(i,o.parent(),o)})})})}}}],ts=vi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){o(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),function(t){i.cases["!"+t]=i.cases["!"+t]||[],i.cases["!"+t].push({transclude:r,element:e})})}}),es=vi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),ns=i("ngTransclude"),is=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,i,r,o){function a(t,n){t.length&&c(t)?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}function c(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];if(i.nodeType!==Ar||i.nodeValue.trim())return!0}}if(!o)throw ns("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",et(e));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var l=i.ngTransclude||i.ngTranscludeSlot;o(a,null,l),l&&!o.isSlotFilled(l)&&s()}}}}],rs=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],os={$setViewValue:_,$render:_},as=["$element","$scope",function(e,n){function i(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function r(t){c||(c=!0,n.$$postDigest(function(){n.$$destroyed||(c=!1,o.ngModelCtrl.$setViewValue(o.readValue()),t&&o.ngModelCtrl.$render())}))}var o=this,a=new Kr;o.selectValueMap={},o.ngModelCtrl=os,o.multiple=!1,o.unknownOption=ir(t.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),e.prepend(o.unknownOption),Yi(o.unknownOption,!0),e.val(n)},o.updateUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),Yi(o.unknownOption,!0),e.val(n)},o.generateUnknownOptionValue=function(t){return"? "+ie(t)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(e.val(""),Yi(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&Yi(o.emptyOption,!1)},n.$on("$destroy",function(){o.renderUnknownOption=_}),o.readValue=function(){var t=e.val(),n=t in o.selectValueMap?o.selectValueMap[t]:t;return o.hasOption(n)?n:null},o.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&Yi(ir(n),!1),o.hasOption(t)){o.removeUnknownOption();var i=ie(t);e.val(i in o.selectValueMap?i:t);var r=e[0].options[e[0].selectedIndex];Yi(ir(r),!0)}else o.selectUnknownOrEmptyOption(t)},o.addOption=function(t,e){if(e[0].nodeType!==Er){_t(t,'"option value"'),""===t&&(o.hasEmptyOption=!0,o.emptyOption=e);var n=a.get(t)||0;a.set(t,n+1),i()}},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.delete(t),""===t&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(t,e-1))},o.hasOption=function(t){return!!a.get(t)},o.$hasEmptyOption=function(){return o.hasEmptyOption},o.$isUnknownOptionSelected=function(){return e[0].options[0]===o.unknownOption[0]},o.$isEmptyOptionSelected=function(){return o.hasEmptyOption&&e[0].options[e[0].selectedIndex]===o.emptyOption[0]},o.selectUnknownOrEmptyOption=function(t){null==t&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(t):o.renderUnknownOption(t)};var s=!1,c=!1;o.registerOption=function(t,e,n,a,s){if(n.$attr.ngValue){var c,l=NaN;n.$observe("value",function(t){var n,i=e.prop("selected");y(l)&&(o.removeOption(c),delete o.selectValueMap[l],n=!0),l=ie(t),c=t,o.selectValueMap[l]=t,o.addOption(t,e),e.attr("value",l),n&&i&&r()})}else a?n.$observe("value",function(t){o.readValue();var n,i=e.prop("selected");y(c)&&(o.removeOption(c),n=!0),c=t,o.addOption(t,e),n&&i&&r()}):s?t.$watch(s,function(t,i){n.$set("value",t);var a=e.prop("selected");i!==t&&o.removeOption(i),o.addOption(t,e),i&&a&&r()}):o.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(o.multiple?r(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=o.readValue(),e=n.value;o.removeOption(e),i(),(o.multiple&&t&&-1!==t.indexOf(e)||t===e)&&r(!0)})}}],ss=function(){function t(t,e,n,i){var r=i[0],a=i[1];if(!a)return void(r.registerOption=_);if(r.ngModelCtrl=a,e.on("change",function(){r.removeUnknownOption(),t.$apply(function(){a.$setViewValue(r.readValue())})}),n.multiple){r.multiple=!0,r.readValue=function(){var t=[];return o(e.find("option"),function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in r.selectValueMap?r.selectValueMap[n]:n)}}),t},r.writeValue=function(t){o(e.find("option"),function(e){var n=!!t&&(F(t,e.value)||F(t,r.selectValueMap[e.value]));n!==e.selected&&Yi(ir(e),n)})};var s,c=NaN;t.$watch(function(){c!==a.$viewValue||H(s,a.$viewValue)||(s=wt(a.$viewValue),a.$render()),c=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length}}}function e(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:as,priority:1,link:{pre:t,post:e}}},cs=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var i,r;return y(n.ngValue)||(y(n.value)?i=t(n.value,!0):(r=t(e.text(),!0))||n.$set("value",e.text())),function(t,e,n){var o=e.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.registerOption(t,e,n,i,r)}}}}],ls=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},us=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var o,a=n.ngPattern||n.pattern;n.$observe("pattern",function(t){if(x(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,et(e));o=t||void 0,r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||b(o)||o.test(e)}}}}},ds=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=f(t);r=hr(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return r<0||i.$isEmpty(e)||e.length<=r}}}}},ps=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=f(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};if(t.angular.bootstrap)return void(t.console&&console.log("WARNING: Tried to load angular more than once."));!function(){var e;if(!Cr){var n=yr();rr=b(n)?t.jQuery:n?t[n]:void 0,rr&&rr.fn.on?(ir=rr,d(rr.fn,{scope:Br.scope,isolateScope:Br.isolateScope,controller:Br.controller,injector:Br.injector,inheritedData:Br.inheritedData}),e=rr.cleanData,rr.cleanData=function(t){for(var n,i,r=0;null!=(i=t[r]);r++)(n=rr._data(i,"events"))&&n.$destroy&&rr(i).triggerHandler("$destroy");e(t)}):ir=Mt,pr.element=ir,Cr=!0}}(),function(n){d(n,{errorHandlingConfig:e,bootstrap:lt,copy:V,extend:d,merge:p,equals:H,element:ir,forEach:o,injector:le,noop:_,bind:Y,toJson:J,fromJson:Q,identity:m,isUndefined:b,isDefined:y,isString:x,isFunction:A,isObject:w,isNumber:k,isElement:N,isArray:_r,version:Or,isDate:C,lowercase:Xi,uppercase:Zi,callbacks:{$$counter:0},getTestability:dt,reloadWithDebugInfo:ut,$$minErr:i,$$csp:br,$$encodeUriSegment:ot,$$encodeUriQuery:at,$$stringify:bt}),or=yt(t),or("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:qn}),t.provider("$compile",ye).directive({a:ta,input:ga,textarea:ga,form:oa,script:rs,select:ss,option:cs,ngBind:ya,ngBindHtml:$a,ngBindTemplate:wa,ngClass:ka,ngClassEven:Sa,ngClassOdd:Ca,ngCloak:Aa,ngController:Ea,ngForm:aa,ngHide:Qa,ngIf:Oa,ngInclude:qa,ngInit:Ma,ngNonBindable:Ba,ngPluralize:Ya,ngRepeat:Ka,ngShow:Ja,ngStyle:Xa,ngSwitch:Za,ngSwitchWhen:ts,ngSwitchDefault:es,ngOptions:Ga,ngTransclude:is,ngModel:Ua,ngList:Ia,ngChange:xa,pattern:us,ngPattern:us,required:ls,ngRequired:ls,minlength:ps,ngMinlength:ps,maxlength:ds,ngMaxlength:ds,ngValue:ba,ngModelOptions:Va}).directive({ngInclude:Pa}).directive(ea).directive(Ta),t.provider({$anchorScroll:ue,$animate:so,$animateCss:uo,$$animateJs:oo,$$animateQueue:ao,$$AnimateRunner:lo,$$animateAsyncRun:co,$browser:me,$cacheFactory:ge,$controller:Se,$document:Ae,$$isDocumentHidden:Ee,$exceptionHandler:Te,$filter:Gn,$$forceReflow:vo,$interpolate:Ve,$interval:Be,$http:Le,$httpParamSerializer:Oe,$httpParamSerializerJQLike:qe,$httpBackend:Fe,$xhrFactory:ze,$jsonpCallbacks:So,$location:an,$log:sn,$parse:xn,$rootScope:On,$q:kn,$$q:Cn,$sce:Dn,$sceDelegate:Rn,$sniffer:Nn,$templateCache:ve,$templateRequest:Ln,$$testability:zn,$timeout:Fn,$window:Bn,$$rAF:jn,$$jqLite:ne,$$Map:Jr,$$cookieReader:Wn})}]).info({angularVersion:"1.6.6"})}(pr),pr.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function n(t,n){var i=n;void 0===i&&(i=Math.min(e(t),3));var r=Math.pow(10,i);return{v:i,f:(t*r|0)%r}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var r=0|t,o=n(t,e);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),ir(function(){ct(t.document,lt)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},function(t,e,n){n(260),t.exports=angular},,,function(t,e,n){"use strict";angular.module("genius").factory("PlayerJS",["$window",function(t){return t.playerjs}])},,,,,,,,function(t,e,n){(function(e){t.exports=e.bowser=n(1213)}).call(e,n(4))},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),o=function(t){function e(e){t.call(this),this.scheduler=e}return i(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(r.Observable);e.EmptyObservable=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),o=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return i(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,i=t.subscriber;if(e)return void i.complete();i.next(n),i.closed||(t.done=!0,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.value,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(r.Observable);e.ScalarObservable=o},function(t,e,n){"use strict";function i(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new s(t))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(66),a=n(69);e.mergeAll=i;var s=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.concurrent))},t}();e.MergeAllOperator=s;var c=function(t){function e(e,n){t.call(this,e),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return r(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(a.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeAllSubscriber=c},function(t,e,n){"use strict";function i(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var r=n(61);e.getSymbolObservable=i,e.$$observable=i(r.root)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error);e.ObjectUnsubscribedError=r},function(t,e,n){"use strict";function i(){try{return o.apply(this,arguments)}catch(t){return a.errorObject.e=t,a.errorObject}}function r(t){return o=t,i}var o,a=n(258);e.tryCatch=r},,,,,,,,,function(t,e,n){var i,r;/*! tether 1.3.1 */
!function(o,a){i=a,void 0!==(r="function"==typeof i?i.call(e,n,e,t):i)&&(t.exports=r)}(0,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=getComputedStyle(t)||{},n=e.position,i=[];if("fixed"===n)return[t];for(var r=t;(r=r.parentNode)&&r&&1===r.nodeType;){var o=void 0;try{o=getComputedStyle(r)}catch(t){}if(void 0===o||null===o)return i.push(r),i;var a=o,s=a.overflow,c=a.overflowX;/(auto|scroll)/.test(s+a.overflowY+c)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(o.position)>=0)&&i.push(r)}return i.push(document.body),i}function o(){k&&document.body.removeChild(k),k=null}function a(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,i={},r=t.getBoundingClientRect();for(var o in r)i[o]=r[o];var a=A();return i.top-=a.top,i.left-=a.left,void 0===i.width&&(i.width=document.body.scrollWidth-i.left-i.right),void 0===i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function s(t){return t.offsetParent||document.documentElement}function c(){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");l(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;n===i&&(i=e.clientWidth),document.body.removeChild(e);var r=n-i;return{width:r,height:r}}function l(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function u(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=f(t).replace(n," ");h(t,i)}}function d(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{u(t,e);var n=f(t)+" "+e;h(t,n)}}function p(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=f(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function f(t){return t.className instanceof SVGAnimatedString?t.className.baseVal:t.className}function h(t,e){t.setAttribute("class",e)}function _(t,e,n){n.forEach(function(n){-1===e.indexOf(n)&&p(t,n)&&u(t,n)}),e.forEach(function(e){p(t,e)||d(t,e)})}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function g(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function v(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function b(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){var n=e.top,i=e.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof i&&(i=parseFloat(i,10)),t.top+=n,t.left+=i}),t}function y(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function w(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=a(e),n=t,i=getComputedStyle(e);e=[n.left,n.top,t.width+n.left,t.height+n.top],G.forEach(function(t,n){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[n]+=parseFloat(i["border"+t+"Width"]):e[n]-=parseFloat(i["border"+t+"Width"])})}(),e}var $=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),x=void 0;void 0===x&&(x={modules:[]});var k=null,C=function(){var t=0;return function(){return++t}}(),S={},A=function(){var t=k;t||(t=document.createElement("div"),t.setAttribute("data-tether-id",C()),l(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),k=t);var e=t.getAttribute("data-tether-id");if(void 0===S[e]){S[e]={};var n=t.getBoundingClientRect();for(var i in n)S[e][i]=n[i];T(function(){delete S[e]})}return S[e]},E=[],T=function(t){E.push(t)},j=function(){for(var t=void 0;t=E.pop();)t()},O=function(){function t(){i(this,t)}return $(t,[{key:"on",value:function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if(void 0===this.bindings||void 0===this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(;e<this.bindings[t].length;){var o=this.bindings[t][e],a=o.handler,s=o.ctx,c=o.once,l=s;void 0===l&&(l=this),a.apply(l,i),c?this.bindings[t].splice(e,1):++e}}}}]),t}();x.Utils={getScrollParents:r,getBounds:a,getOffsetParent:s,extend:l,addClass:d,removeClass:u,hasClass:p,updateClasses:_,defer:T,flush:j,uniqueId:C,Evented:O,getScrollBarSize:c,removeUtilElements:o};var q=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),P=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}};if(void 0===x)throw new Error("You must include the utils.js file before tether.js");var M=x.Utils,r=M.getScrollParents,a=M.getBounds,s=M.getOffsetParent,l=M.extend,d=M.addClass,u=M.removeClass,_=M.updateClasses,T=M.defer,j=M.flush,c=M.getScrollBarSize,o=M.removeUtilElements,I=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","webkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var i=e[n];if(void 0!==t.style[i])return i}}(),R=[],D=function(){R.forEach(function(t){t.position(!1)}),j()};!function(){var t=null,e=null,n=null,i=function i(){if(void 0!==e&&e>16)return e=Math.min(e-16,250),void(n=setTimeout(i,250));void 0!==t&&v()-t<10||(null!=n&&(clearTimeout(n),n=null),t=v(),D(),e=v()-t)};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,i)})}();var N={center:"center",left:"right",right:"left"},L={middle:"middle",top:"bottom",bottom:"top"},z={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},F=function(t,e){var n=t.left,i=t.top;return"auto"===n&&(n=N[e.left]),"auto"===i&&(i=L[e.top]),{left:n,top:i}},U=function(t){var e=t.left,n=t.top;return void 0!==z[t.left]&&(e=z[t.left]),void 0!==z[t.top]&&(n=z[t.top]),{left:e,top:n}},V=function(t){var e=t.split(" "),n=q(e,2);return{top:n[0],left:n[1]}},B=V,H=function(t){function e(t){var n=this;i(this,e),P(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),R.push(this),this.history=[],this.setOptions(t,!1),x.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(n)}),this.position()}return m(e,t),$(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=l(i,t);var o=this.options,a=o.element,s=o.target,c=o.targetModifier;if(this.element=a,this.target=s,this.targetModifier=c,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),d(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&d(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=B(this.options.targetAttachment),this.attachment=B(this.options.attachment),this.offset=V(this.options.offset),this.targetOffset=V(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=r(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return a(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=a(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,n=this.target;n===document.body?(n=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=a(n);var i=getComputedStyle(n),r=n.scrollWidth>n.clientWidth||[i.overflow,i.overflowX].indexOf("scroll")>=0||this.target!==document.body,o=0;r&&(o=15);var s=t.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-o,e={width:15,height:.975*s*(s/n.scrollHeight),left:t.left+t.width-parseFloat(i.borderLeftWidth)-15},c=0;s<408&&this.target===document.body&&(c=-11e-5*Math.pow(s,2)-.00727*s+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var l=this.target.scrollTop/(n.scrollHeight-s);return e.top=l*(s-e.height-c)+t.top+parseFloat(i.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==document&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;u(this.target,this.getClass("enabled")),u(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),R.forEach(function(e,n){e===t&&R.splice(n,1)}),0===R.length&&o()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;t.top&&r.push(this.getClass("element-attached")+"-"+t.top),t.left&&r.push(this.getClass("element-attached")+"-"+t.left),e.top&&r.push(this.getClass("target-attached")+"-"+e.top),e.left&&r.push(this.getClass("target-attached")+"-"+e.left);var o=[];i.forEach(function(t){o.push(n.getClass("element-attached")+"-"+t),o.push(n.getClass("target-attached")+"-"+t)}),T(function(){void 0!==n._addAttachClasses&&(_(n.element,n._addAttachClasses,o),!1!==n.options.addTargetClasses&&_(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=F(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var i=this.cache("element-bounds",function(){return a(t.element)}),r=i.width,o=i.height;if(0===r&&0===o&&void 0!==this.lastSize){var l=this.lastSize;r=l.width,o=l.height}else this.lastSize={width:r,height:o};var u=this.cache("target-bounds",function(){return t.getTargetBounds()}),d=u,p=y(U(this.attachment),{width:r,height:o}),f=y(U(n),d),h=y(this.offset,{width:r,height:o}),_=y(this.targetOffset,d);p=b(p,h),f=b(f,_);for(var m=u.left+f.left-p.left,g=u.top+f.top-p.top,v=0;v<x.modules.length;++v){var w=x.modules[v],$=w.position.call(this,{left:m,top:g,targetAttachment:n,targetPos:u,elementPos:i,offset:p,targetOffset:f,manualOffset:h,manualTargetOffset:_,scrollbarSize:C,attachment:this.attachment});if(!1===$)return!1;void 0!==$&&"object"==typeof $&&(g=$.top,m=$.left)}var k={page:{top:g,left:m},viewport:{top:g-pageYOffset,bottom:pageYOffset-g-o+innerHeight,left:m-pageXOffset,right:pageXOffset-m-r+innerWidth}},C=void 0;return document.body.scrollWidth>window.innerWidth&&(C=this.cache("scrollbar-size",c),k.viewport.bottom-=C.height),document.body.scrollHeight>window.innerHeight&&(C=this.cache("scrollbar-size",c),k.viewport.right-=C.width),-1!==["","static"].indexOf(document.body.style.position)&&-1!==["","static"].indexOf(document.body.parentElement.style.position)||(k.page.bottom=document.body.scrollHeight-g-o,k.page.right=document.body.scrollWidth-m-r),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return s(t.target)}),n=t.cache("target-offsetparent-bounds",function(){return a(e)}),i=getComputedStyle(e),r=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(t){o[t.toLowerCase()]=parseFloat(i["border"+t+"Width"])}),n.right=document.body.scrollWidth-n.left-r.width+o.right,n.bottom=document.body.scrollHeight-n.top-r.height+o.bottom,k.page.top>=n.top+o.top&&k.page.bottom>=n.bottom&&k.page.left>=n.left+o.left&&k.page.right>=n.right){var c=e.scrollTop,l=e.scrollLeft;k.offset={top:k.page.top-n.top+c-o.top,left:k.page.left-n.left+l-o.left}}}(),this.move(k),this.history.unshift(k),this.history.length>3&&this.history.pop(),e&&j(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var n={};for(var i in t){n[i]={};for(var r in t[i]){for(var o=!1,a=0;a<this.history.length;++a){var c=this.history[a];if(void 0!==c[i]&&!g(c[i][r],t[i][r])){o=!0;break}}o||(n[i][r]=!0)}}var u={top:"",left:"",right:"",bottom:""},d=function(t,n){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var i=void 0,r=void 0;t.top?(u.top=0,i=n.top):(u.bottom=0,i=-n.bottom),t.left?(u.left=0,r=n.left):(u.right=0,r=-n.right),u[I]="translateX("+Math.round(r)+"px) translateY("+Math.round(i)+"px)","msTransform"!==I&&(u[I]+=" translateZ(0)")}else t.top?u.top=n.top+"px":u.bottom=n.bottom+"px",t.left?u.left=n.left+"px":u.right=n.right+"px"},p=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",d(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",d(n.viewport,t.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){u.position="absolute";var i=e.cache("target-offsetparent",function(){return s(e.target)});s(e.element)!==i&&T(function(){e.element.parentNode.removeChild(e.element),i.appendChild(e.element)}),d(n.offset,t.offset),p=!0}():(u.position="absolute",d({top:!0,left:!0},t.page)),!p){for(var f=!0,h=this.element.parentNode;h&&1===h.nodeType&&"BODY"!==h.tagName;){if("static"!==getComputedStyle(h).position){f=!1;break}h=h.parentNode}f||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element))}var _={},m=!1;for(var r in u){var v=u[r];this.element.style[r]!==v&&(m=!0,_[r]=v)}m&&T(function(){l(e.element.style,_)})}}}]),e}(O);H.modules=[],x.position=D;var W=l(H,x),q=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),M=x.Utils,a=M.getBounds,l=M.extend,_=M.updateClasses,T=M.defer,G=["left","top","right","bottom"];x.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=t.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return a(e.element)}),s=o.height,c=o.width;if(0===c&&0===s&&void 0!==this.lastSize){var u=this.lastSize;c=u.width,s=u.height}var d=this.cache("target-bounds",function(){return e.getTargetBounds()}),p=d.height,f=d.width,h=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&h.push(e),n&&h.push(n)}),h.forEach(function(t){["left","top","right","bottom"].forEach(function(e){h.push(t+"-"+e)})});var m=[],g=l({},r),v=l({},this.attachment);return this.options.constraints.forEach(function(t){var o=t.to,a=t.attachment,l=t.pin;void 0===a&&(a="");var u=void 0,d=void 0;if(a.indexOf(" ")>=0){var h=a.split(" "),_=q(h,2);d=_[0],u=_[1]}else u=d=a;var b=w(e,o);"target"!==d&&"both"!==d||(n<b[1]&&"top"===g.top&&(n+=p,g.top="bottom"),n+s>b[3]&&"bottom"===g.top&&(n-=p,g.top="top")),"together"===d&&("top"===g.top&&("bottom"===v.top&&n<b[1]?(n+=p,g.top="bottom",n+=s,v.top="top"):"top"===v.top&&n+s>b[3]&&n-(s-p)>=b[1]&&(n-=s-p,g.top="bottom",v.top="bottom")),"bottom"===g.top&&("top"===v.top&&n+s>b[3]?(n-=p,g.top="top",n-=s,v.top="bottom"):"bottom"===v.top&&n<b[1]&&n+(2*s-p)<=b[3]&&(n+=s-p,g.top="top",v.top="top")),"middle"===g.top&&(n+s>b[3]&&"top"===v.top?(n-=s,v.top="bottom"):n<b[1]&&"bottom"===v.top&&(n+=s,v.top="top"))),"target"!==u&&"both"!==u||(i<b[0]&&"left"===g.left&&(i+=f,g.left="right"),i+c>b[2]&&"right"===g.left&&(i-=f,g.left="left")),"together"===u&&(i<b[0]&&"left"===g.left?"right"===v.left?(i+=f,g.left="right",i+=c,v.left="left"):"left"===v.left&&(i+=f,g.left="right",i-=c,v.left="right"):i+c>b[2]&&"right"===g.left?"left"===v.left?(i-=f,g.left="left",i-=c,v.left="right"):"right"===v.left&&(i-=f,g.left="left",i+=c,v.left="left"):"center"===g.left&&(i+c>b[2]&&"left"===v.left?(i-=c,v.left="right"):i<b[0]&&"right"===v.left&&(i+=c,v.left="left"))),"element"!==d&&"both"!==d||(n<b[1]&&"bottom"===v.top&&(n+=s,v.top="top"),n+s>b[3]&&"top"===v.top&&(n-=s,v.top="bottom")),"element"!==u&&"both"!==u||(i<b[0]&&("right"===v.left?(i+=c,v.left="left"):"center"===v.left&&(i+=c/2,v.left="left")),i+c>b[2]&&("left"===v.left?(i-=c,v.left="right"):"center"===v.left&&(i-=c/2,v.left="right"))),"string"==typeof l?l=l.split(",").map(function(t){return t.trim()}):!0===l&&(l=["top","left","right","bottom"]),l=l||[];var y=[],$=[];n<b[1]&&(l.indexOf("top")>=0?(n=b[1],y.push("top")):$.push("top")),n+s>b[3]&&(l.indexOf("bottom")>=0?(n=b[3]-s,y.push("bottom")):$.push("bottom")),i<b[0]&&(l.indexOf("left")>=0?(i=b[0],y.push("left")):$.push("left")),i+c>b[2]&&(l.indexOf("right")>=0?(i=b[2]-c,y.push("right")):$.push("right")),y.length&&function(){var t=void 0;t=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),m.push(t),y.forEach(function(e){m.push(t+"-"+e)})}(),$.length&&function(){var t=void 0;t=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),m.push(t),$.forEach(function(e){m.push(t+"-"+e)})}(),(y.indexOf("left")>=0||y.indexOf("right")>=0)&&(v.left=g.left=!1),(y.indexOf("top")>=0||y.indexOf("bottom")>=0)&&(v.top=g.top=!1),g.top===r.top&&g.left===r.left&&v.top===e.attachment.top&&v.left===e.attachment.left||(e.updateAttachClasses(v,g),e.trigger("update",{attachment:v,targetAttachment:g}))}),T(function(){!1!==e.options.addTargetClasses&&_(e.target,m,h),_(e.element,m,h)}),{top:n,left:i}}});var M=x.Utils,a=M.getBounds,_=M.updateClasses,T=M.defer;x.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=this.cache("element-bounds",function(){return a(e.element)}),o=r.height,s=r.width,c=this.getTargetBounds(),l=n+o,u=i+s,d=[];n<=c.bottom&&l>=c.top&&["left","right"].forEach(function(t){var e=c[t];e!==i&&e!==u||d.push(t)}),i<=c.right&&u>=c.left&&["top","bottom"].forEach(function(t){var e=c[t];e!==n&&e!==l||d.push(t)});var p=[],f=[],h=["left","top","right","bottom"];return p.push(this.getClass("abutted")),h.forEach(function(t){p.push(e.getClass("abutted")+"-"+t)}),d.length&&f.push(this.getClass("abutted")),d.forEach(function(t){f.push(e.getClass("abutted")+"-"+t)}),T(function(){!1!==e.options.addTargetClasses&&_(e.target,f,p),_(e.element,f,p)}),!0}});var q=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return x.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var r=void 0,o=void 0;if("string"==typeof i){i=i.split(" "),i[1]=i[1]||i[0];var a=i,s=q(a,2);r=s[0],o=s[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return e+=r,n+=o,{top:e,left:n}}}}),W})},function(t,e,n){var i;!function(r,o){void 0!==(i=function(){return o(r)}.call(e,n,e,t))&&(t.exports=i)}(this,function(t){"use strict";var e=t&&t.I18n||{},n=Array.prototype.slice,i=function(t){return("0"+t.toString()).substr(-2)},r=function(t,e){return p("round",t,-e).toFixed(e)},o=function(t){var e=typeof t;return"function"===e||"object"===e},a=function(t){return"function"==typeof t},s=function(t){return void 0!==t&&null!==t},c=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},l=function(t){return"string"==typeof value||"[object String]"===Object.prototype.toString.call(t)},u=function(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)},d=function(t){return!0===t||!1===t},p=function(t,e,n){return void 0===n||0==+n?Math[t](e):(e=+e,n=+n,isNaN(e)||"number"!=typeof n||n%1!=0?NaN:(e=e.toString().split("e"),e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-n:-n))),e=e.toString().split("e"),+(e[0]+"e"+(e[1]?+e[1]+n:n))))},f=function(t,e){return a(t)?t(e):t},h=function(t,e){var n,i;for(n in e)e.hasOwnProperty(n)&&(i=e[n],l(i)||u(i)||d(i)?t[n]=i:(null==t[n]&&(t[n]={}),h(t[n],i)));return t},_={day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridian:["AM","PM"]},m={precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1},g={unit:"$",precision:2,format:"%u%n",sign_first:!0,delimiter:",",separator:"."},v={unit:"%",precision:3,format:"%n%u",separator:".",delimiter:""},b=[null,"kb","mb","gb","tb"],y={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,fallbacks:!1,translations:{},missingBehaviour:"message",missingTranslationPrefix:""};return e.reset=function(){var t;for(t in y)this[t]=y[t]},e.initializeOptions=function(){var t;for(t in y)s(this[t])||(this[t]=y[t])},e.initializeOptions(),e.locales={},e.locales.get=function(t){var n=this[t]||this[e.locale]||this.default;return a(n)&&(n=n(t)),!1===c(n)&&(n=[n]),n},e.locales.default=function(t){var n,i=[],r=[];return t&&i.push(t),!t&&e.locale&&i.push(e.locale),e.fallbacks&&e.defaultLocale&&i.push(e.defaultLocale),i.forEach(function(t){n=t.split("-")[0],~r.indexOf(t)||r.push(t),e.fallbacks&&n&&n!==t&&!~r.indexOf(n)&&r.push(n)}),i.length||i.push("en"),r},e.pluralization={},e.pluralization.get=function(t){return this[t]||this[e.locale]||this.default},e.pluralization.default=function(t){switch(t){case 0:return["zero","other"];case 1:return["one"];default:return["other"]}},e.currentLocale=function(){return this.locale||this.defaultLocale},e.isSet=s,e.lookup=function(t,e){e=this.prepareOptions(e);var n,i,r,o,a=this.locales.get(e.locale).slice();a[0];for(r=this.getFullScope(t,e);a.length;)if(n=a.shift(),i=r.split(this.defaultSeparator),o=this.translations[n]){for(;i.length&&void 0!==(o=o[i.shift()])&&null!==o;);if(void 0!==o&&null!==o)return o}if(s(e.defaultValue))return f(e.defaultValue,t)},e.pluralizationLookupWithoutFallback=function(t,e,n){var i,r,a=this.pluralization.get(e),c=a(t);if(o(n))for(;c.length;)if(i=c.shift(),s(n[i])){r=n[i];break}return r},e.pluralizationLookup=function(t,e,n){n=this.prepareOptions(n);var i,r,a,c,l=this.locales.get(n.locale).slice();l[0];for(e=this.getFullScope(e,n);l.length;)if(i=l.shift(),r=e.split(this.defaultSeparator),a=this.translations[i]){for(;r.length&&(a=a[r.shift()],o(a));)0==r.length&&(c=this.pluralizationLookupWithoutFallback(t,i,a));if(null!=c&&void 0!=c)break}return null!=c&&void 0!=c||s(n.defaultValue)&&(c=o(n.defaultValue)?this.pluralizationLookupWithoutFallback(t,n.locale,n.defaultValue):n.defaultValue,a=n.defaultValue),{message:c,translations:a}},e.meridian=function(){var t=this.lookup("time"),e=this.lookup("date");return t&&t.am&&t.pm?[t.am,t.pm]:e&&e.meridian?e.meridian:_.meridian},e.prepareOptions=function(){for(var t,e=n.call(arguments),i={};e.length;)if("object"==typeof(t=e.shift()))for(var r in t)t.hasOwnProperty(r)&&(s(i[r])||(i[r]=t[r]));return i},e.createTranslationOptions=function(t,e){var n=[{scope:t}];return s(e.defaults)&&(n=n.concat(e.defaults)),s(e.defaultValue)&&(n.push({message:e.defaultValue}),delete e.defaultValue),n},e.translate=function(t,e){e=this.prepareOptions(e);var n,i=this.prepareOptions(e),r=this.createTranslationOptions(t,e);return r.some(function(i){if(s(i.scope)?n=this.lookup(i.scope,e):s(i.message)&&(n=f(i.message,t)),void 0!==n&&null!==n)return!0},this)?("string"==typeof n?n=this.interpolate(n,e):o(n)&&s(e.count)&&(n=this.pluralize(e.count,t,i)),n):this.missingTranslation(t,e)},e.interpolate=function(t,e){e=this.prepareOptions(e);var n,i,r,o,a=t.match(this.placeholder);if(!a)return t;for(var i;a.length;)n=a.shift(),r=n.replace(this.placeholder,"$1"),i=s(e[r])?e[r].toString().replace(/\$/gm,"_#$#_"):r in e?this.nullPlaceholder(n,t,e):this.missingPlaceholder(n,t,e),o=new RegExp(n.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),t=t.replace(o,i);return t.replace(/_#\$#_/g,"$")},e.pluralize=function(t,e,n){n=this.prepareOptions(n);var i,r;return r=this.pluralizationLookup(t,e,n),void 0==r.translations||null==r.translations?this.missingTranslation(e,n):(n.count=String(t),void 0!=r.message&&null!=r.message?this.interpolate(r.message,n):(i=this.pluralization.get(n.locale),this.missingTranslation(e+"."+i(t)[0],n)))},e.missingTranslation=function(t,e){if("guess"==this.missingBehaviour){var n=t.split(".").slice(-1)[0];return(this.missingTranslationPrefix.length>0?this.missingTranslationPrefix:"")+n.replace("_"," ").replace(/([a-z])([A-Z])/g,function(t,e,n){return e+" "+n.toLowerCase()})}return'[missing "'+[null!=e&&null!=e.locale?e.locale:this.currentLocale(),this.getFullScope(t,e)].join(this.defaultSeparator)+'" translation]'},e.missingPlaceholder=function(t,e,n){return"[missing "+t+" value]"},e.nullPlaceholder=function(){return e.missingPlaceholder.apply(e,arguments)},e.toNumber=function(t,e){e=this.prepareOptions(e,this.lookup("number.format"),m);var n,i,o=t<0,a=r(Math.abs(t),e.precision).toString(),s=a.split("."),c=[],l=e.format||"%n",u=o?"-":"";for(t=s[0],n=s[1];t.length>0;)c.unshift(t.substr(Math.max(0,t.length-3),3)),t=t.substr(0,t.length-3);return i=c.join(e.delimiter),e.strip_insignificant_zeros&&n&&(n=n.replace(/0+$/,"")),e.precision>0&&n&&(i+=e.separator+n),l=e.sign_first?"%s"+l:l.replace("%n","%s%n"),i=l.replace("%u",e.unit).replace("%n",i).replace("%s",u)},e.toCurrency=function(t,e){return e=this.prepareOptions(e,this.lookup("number.currency.format"),this.lookup("number.format"),g),this.toNumber(t,e)},e.localize=function(t,e,n){switch(n||(n={}),t){case"currency":return this.toCurrency(e);case"number":return t=this.lookup("number.format"),this.toNumber(e,t);case"percentage":return this.toPercentage(e);default:var i;return i=t.match(/^(date|time)/)?this.toTime(t,e):e.toString(),this.interpolate(i,n)}},e.parseDate=function(t){var e,n,i;if("object"==typeof t)return t;if(e=t.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})([\.,]\d{1,3})?)?(Z|\+00:?00)?/)){for(var r=1;r<=6;r++)e[r]=parseInt(e[r],10)||0;e[2]-=1,i=e[7]?1e3*("0"+e[7]):null,n=e[8]?new Date(Date.UTC(e[1],e[2],e[3],e[4],e[5],e[6],i)):new Date(e[1],e[2],e[3],e[4],e[5],e[6],i)}else"number"==typeof t?(n=new Date,n.setTime(t)):t.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)?(n=new Date,n.setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" ")))):(t.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/),n=new Date,n.setTime(Date.parse(t)));return n},e.strftime=function(t,n){var r=this.lookup("date"),o=e.meridian();if(r||(r={}),r=this.prepareOptions(r,_),isNaN(t.getTime()))throw new Error("I18n.strftime() requires a valid date object, but received an invalid date.");var a=t.getDay(),s=t.getDate(),c=t.getFullYear(),l=t.getMonth()+1,u=t.getHours(),d=u,p=u>11?1:0,f=t.getSeconds(),h=t.getMinutes(),m=t.getTimezoneOffset(),g=Math.floor(Math.abs(m/60)),v=Math.abs(m)-60*g,b=(m>0?"-":"+")+(g.toString().length<2?"0"+g:g)+(v.toString().length<2?"0"+v:v);return d>12?d-=12:0===d&&(d=12),n=n.replace("%a",r.abbr_day_names[a]),n=n.replace("%A",r.day_names[a]),n=n.replace("%b",r.abbr_month_names[l]),n=n.replace("%B",r.month_names[l]),n=n.replace("%d",i(s)),n=n.replace("%e",s),n=n.replace("%-d",s),n=n.replace("%H",i(u)),n=n.replace("%-H",u),n=n.replace("%I",i(d)),n=n.replace("%-I",d),n=n.replace("%m",i(l)),n=n.replace("%-m",l),n=n.replace("%M",i(h)),n=n.replace("%-M",h),n=n.replace("%p",o[p]),n=n.replace("%S",i(f)),n=n.replace("%-S",f),n=n.replace("%w",a),n=n.replace("%y",i(c)),n=n.replace("%-y",i(c).replace(/^0+/,"")),n=n.replace("%Y",c),n=n.replace("%z",b)},e.toTime=function(t,e){var n=this.parseDate(e),i=this.lookup(t);return n.toString().match(/invalid/i)?n.toString():i?this.strftime(n,i):n.toString()},e.toPercentage=function(t,e){return e=this.prepareOptions(e,this.lookup("number.percentage.format"),this.lookup("number.format"),v),this.toNumber(t,e)},e.toHumanSize=function(t,e){for(var n,i,r=t,o=0;r>=1024&&o<4;)r/=1024,o+=1;return 0===o?(n=this.t("number.human.storage_units.units.byte",{count:r}),i=0):(n=this.t("number.human.storage_units.units."+b[o]),i=r-Math.floor(r)==0?0:1),e=this.prepareOptions(e,{unit:n,precision:i,format:"%n%u",delimiter:""}),this.toNumber(r,e)},e.getFullScope=function(t,e){return e=this.prepareOptions(e),c(t)&&(t=t.join(this.defaultSeparator)),e.scope&&(t=[e.scope,t].join(this.defaultSeparator)),t},e.extend=function(t,e){return void 0===t&&void 0===e?{}:h(t,e)},e.t=e.translate,e.l=e.localize,e.p=e.pluralize,e})},function(t,e){!function(t){t.fn.extend({autocomplete:function(e,n){var i="string"==typeof e;return n=t.extend({},t.Autocompleter.defaults,{url:i?e:null,data:i?null:e,delay:i?t.Autocompleter.defaults.delay:10,max:n&&!n.scroll?10:150},n),n.highlight=n.highlight||function(t){return t},n.formatMatch=n.formatMatch||n.formatItem,this.each(function(){new t.Autocompleter(this,n)})},result:function(t){return this.bind("result",t)},search:function(t){return this.trigger("search",[t])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(t){return this.trigger("setOptions",[t])},unautocomplete:function(){return this.trigger("unautocomplete")}}),t.Autocompleter=function(e,n){function i(){var i=x.selected();if(!i)return!1;var r=i.result;if(b=r,n.multiple){var a=o(v.val());if(a.length>1){var s,c=n.multipleSeparator.length,u=t(e).selection().start,d=0;t.each(a,function(t,e){if(d+=e.length,u<=d)return s=t,!1;d+=c}),a[s]=r,r=a.join(n.multipleSeparator)}r+=n.multipleSeparator}return v.val(r),l(),v.trigger("result",[i.data,i.value]),!0}function r(t,e){if(_==g.DEL)return void x.hide();var i=v.val();(e||i!=b)&&(b=i,i=a(i),i.length>=n.minChars?(v.addClass(n.loadingClass),d(i,u,l)):(f(),x.hide()))}function o(e){return e?n.multiple?t.map(e.split(n.multipleSeparator),function(n){return t.trim(e).length?t.trim(n):null}):[t.trim(e)]:[""]}function a(i){if(!n.multiple)return i;var r=o(i);if(1==r.length)return r[0];var a=t(e).selection().start;return r=o(a==i.length?i:i.replace(i.substring(a),"")),r[r.length-1]}function s(i,r){n.autoFill&&a(v.val()).toLowerCase()==i.toLowerCase()&&_!=g.BACKSPACE&&(v.val(v.val()+r.substring(a(b).length)),t(e).selection(b.length,b.length+r.length))}function c(){clearTimeout(h),h=setTimeout(l,200)}function l(){x.visible();x.hide(),clearTimeout(h),f(),n.mustMatch&&v.search(function(t){if(!t)if(n.multiple){var e=o(v.val()).slice(0,-1);v.val(e.join(n.multipleSeparator)+(e.length?n.multipleSeparator:""))}else v.val(""),v.trigger("result",null)})}function u(t,e){e&&e.length&&w?(f(),x.display(e,t),s(t,e[0].value),x.show()):l()}function d(i,r,o){var s=i;n.matchCase||(i=i.toLowerCase());var c=y.load(i);if(c&&c.length)r(i,c);else if("string"==typeof n.url&&n.url.length>0){var l={timestamp:+new Date};t.each(n.extraParams,function(t,e){l[t]="function"==typeof e?e():e}),t.ajax({mode:"abort",port:"autocomplete"+e.name,dataType:n.dataType,url:n.url,data:t.extend({q:a(i),limit:n.max},l),success:function(t){var e=n.parse&&n.parse(t,s)||p(t);y.add(i,e),r(i,e)}})}else x.emptyList(),o(i)}function p(e){for(var i=[],r=e.split("\n"),o=0;o<r.length;o++){var a=t.trim(r[o]);a&&(a=a.split("|"),i[i.length]={data:a,value:a[0],result:n.formatResult&&n.formatResult(a,a[0])||a[0]})}return i}function f(){v.removeClass(n.loadingClass)}var h,_,m,g={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},v=t(e).attr("autocomplete","off").addClass(n.inputClass),b="",y=t.Autocompleter.Cache(n),w=0,$={mouseDownOnSelect:!1},x=t.Autocompleter.Select(n,e,i,$);t.browser.opera&&t(e.form).bind("submit.autocomplete",function(){if(m)return m=!1,!1}),v.bind((t.browser.opera?"keypress":"keydown")+".autocomplete",function(e){switch(w=1,_=e.keyCode,e.keyCode){case g.UP:e.preventDefault(),x.visible()?x.prev():r(0,!0);break;case g.DOWN:e.preventDefault(),x.visible()?x.next():r(0,!0);break;case g.PAGEUP:e.preventDefault(),x.visible()?x.pageUp():r(0,!0);break;case g.PAGEDOWN:e.preventDefault(),x.visible()?x.pageDown():r(0,!0);break;case n.multiple&&","==t.trim(n.multipleSeparator)&&g.COMMA:case g.TAB:case g.RETURN:if(i())return e.preventDefault(),m=!0,!1;break;case g.ESC:x.hide();break;default:clearTimeout(h),h=setTimeout(r,n.delay)}}).focus(function(){w++}).blur(function(){w=0,$.mouseDownOnSelect||c()}).click(function(){w++>1&&!x.visible()&&r(0,!0)}).bind("search",function(){function e(t,e){var i;if(e&&e.length)for(var r=0;r<e.length;r++)if(e[r].result.toLowerCase()==t.toLowerCase()){i=e[r];break}"function"==typeof n?n(i):v.trigger("result",i&&[i.data,i.value])}var n=arguments.length>1?arguments[1]:null;t.each(o(v.val()),function(t,n){d(n,e,e)})}).bind("flushCache",function(){y.flush()}).bind("setOptions",function(){t.extend(n,arguments[1]),"data"in arguments[1]&&y.populate()}).bind("unautocomplete",function(){x.unbind(),v.unbind(),t(e.form).unbind(".autocomplete")})},t.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:!1,matchSubset:!0,matchContains:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(t){return t[0]},formatMatch:null,autoFill:!1,width:0,multiple:!1,multipleSeparator:", ",highlight:function(t,e){return t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:!0,scrollHeight:180},t.Autocompleter.Cache=function(e){function n(t,n){e.matchCase||(t=t.toLowerCase());var i=t.indexOf(n);return"word"==e.matchContains&&(i=t.toLowerCase().search("\\b"+n.toLowerCase())),-1!=i&&(0==i||e.matchContains)}function i(t,n){s>e.cacheLength&&o(),a[t]||s++,a[t]=n}function r(){if(!e.data)return!1;var n={},r=0;e.url||(e.cacheLength=1),n[""]=[];for(var o=0,a=e.data.length;o<a;o++){var s=e.data[o];s="string"==typeof s?[s]:s;var c=e.formatMatch(s,o+1,e.data.length);if(!1!==c){var l=c.charAt(0).toLowerCase();n[l]||(n[l]=[]);var u={value:c,data:s,result:e.formatResult&&e.formatResult(s)||c};n[l].push(u),r++<e.max&&n[""].push(u)}}t.each(n,function(t,n){e.cacheLength++,i(t,n)})}function o(){a={},s=0}var a={},s=0;return setTimeout(r,25),{flush:o,add:i,populate:r,load:function(i){if(!e.cacheLength||!s)return null;if(!e.url&&e.matchContains){var r=[];for(var o in a)if(o.length>0){var c=a[o];t.each(c,function(t,e){n(e.value,i)&&r.push(e)})}return r}if(a[i])return a[i];if(e.matchSubset)for(var l=i.length-1;l>=e.minChars;l--){var c=a[i.substr(0,l)];if(c){var r=[];return t.each(c,function(t,e){n(e.value,i)&&(r[r.length]=e)}),r}}return null}}},t.Autocompleter.Select=function(e,n,i,r){function o(){v&&(f=t("<div/>").hide().addClass(e.resultsClass).css("position","absolute").appendTo(document.body),h=t("<ul/>").appendTo(f).mouseover(function(e){a(e).nodeName&&"LI"==a(e).nodeName.toUpperCase()&&(m=t("li",h).removeClass(_.ACTIVE).index(a(e)),t(a(e)).addClass(_.ACTIVE))}).click(function(e){return t(a(e)).addClass(_.ACTIVE),i(),n.focus(),!1}).mousedown(function(){r.mouseDownOnSelect=!0}).mouseup(function(){r.mouseDownOnSelect=!1}),e.width>0&&f.css("width",e.width),v=!1)}function a(t){for(var e=t.target;e&&"LI"!=e.tagName;)e=e.parentNode;return e||[]}function s(t){d.slice(m,m+1).removeClass(_.ACTIVE),c(t);var n=d.slice(m,m+1).addClass(_.ACTIVE);if(e.scroll){var i=0;d.slice(0,m).each(function(){i+=this.offsetHeight}),i+n[0].offsetHeight-h.scrollTop()>h[0].clientHeight?h.scrollTop(i+n[0].offsetHeight-h.innerHeight()):i<h.scrollTop()&&h.scrollTop(i)}}function c(t){m+=t,m<0?m=d.size()-1:m>=d.size()&&(m=0)}function l(t){return e.max&&e.max<t?e.max:t}function u(){h.empty();for(var n=l(p.length),i=0;i<n;i++)if(p[i]){var r=e.formatItem(p[i].data,i+1,n,p[i].value,g);if(!1!==r){var o=t("<li/>").html(e.highlight(r,g)).addClass(i%2==0?"ac_even":"ac_odd").appendTo(h)[0];t.data(o,"ac_data",p[i])}}d=h.find("li"),e.selectFirst&&(d.slice(0,1).addClass(_.ACTIVE),m=0),t.fn.bgiframe&&h.bgiframe()}var d,p,f,h,_={ACTIVE:"ac_over"},m=-1,g="",v=!0;return{display:function(t,e){o(),p=t,g=e,u()},next:function(){s(1)},prev:function(){s(-1)},pageUp:function(){s(0!=m&&m-8<0?-m:-8)},pageDown:function(){s(m!=d.size()-1&&m+8>d.size()?d.size()-1-m:8)},hide:function(){f&&f.hide(),d&&d.removeClass(_.ACTIVE),m=-1},visible:function(){return f&&f.is(":visible")},current:function(){return this.visible()&&(d.filter("."+_.ACTIVE)[0]||e.selectFirst&&d[0])},show:function(){var i=t(n).offset();if(f.css({width:"string"==typeof e.width||e.width>0?e.width:t(n).width(),top:i.top+n.offsetHeight,left:i.left}).show(),e.scroll&&(h.scrollTop(0),h.css({maxHeight:e.scrollHeight,overflow:"auto"}),t.browser.msie&&void 0===document.body.style.maxHeight)){var r=0;d.each(function(){r+=this.offsetHeight});var o=r>e.scrollHeight;h.css("height",o?e.scrollHeight:r),o||d.width(h.width()-parseInt(d.css("padding-left"))-parseInt(d.css("padding-right")))}},selected:function(){var e=d&&d.filter("."+_.ACTIVE).removeClass(_.ACTIVE);return e&&e.length&&t.data(e[0],"ac_data")},emptyList:function(){h&&h.empty()},unbind:function(){f&&f.remove()}}},t.fn.selection=function(t,e){if(void 0!==t)return this.each(function(){if(this.createTextRange){var n=this.createTextRange();void 0===e||t==e?(n.move("character",t),n.select()):(n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",e),n.select())}else this.setSelectionRange?this.setSelectionRange(t,e):this.selectionStart&&(this.selectionStart=t,this.selectionEnd=e)});var n=this[0];if(n.createTextRange){var i=document.selection.createRange(),r=n.value,o=i.text.length;i.text="<->";var a=n.value.indexOf("<->");return n.value=r,this.selection(a,a+o),{start:a,end:a+o}}return void 0!==n.selectionStart?{start:n.selectionStart,end:n.selectionEnd}:void 0}}(jQuery)},,,function(t,e,n){"use strict";n(1205),n(62),n(1231),n(1370),n(38),n(1381),n(1202),n(260),n(650),n(647),n(652),n(1375),n(648),n(649),n(653),n(1285),n(1197),n(1256),n(1384),n(1204),n(23),n(1212),n(306),n(1243),n(117),n(1373),n(1380),n(1374),n(1241),n(272),n(1379),n(651),n(1207),n(1198),$("html").toggleClass("windows",!!bowser.windows),angular.module("genius",["ngSanitize","ngAnimate","ngTagsInput","angularMoment","angular-rich-text-diff","angular-inview","angular-svg-round-progressbar","ngComponentRouter","youtube-embed","ngSticky","cfp.loadingBar"]).config(["$locationProvider","$httpProvider","$animateProvider","$compileProvider","tagsInputConfigProvider","AppConfig","$anchorScrollProvider","cfpLoadingBarProvider","$qProvider",function(t,e,n,i,r,o,a,s,c){t.html5Mode({enabled:!0,rewriteLinks:!1}),t.hashPrefix("!"),e.interceptors.push("OnsiteInterceptor"),e.interceptors.push("RetryFailureInterceptor"),e.interceptors.push("GlobalErrorInterceptor"),n.classNameFilter(/nganimate-/),i.debugInfoEnabled(o.enable_angular_debug),i.commentDirectivesEnabled(!1),i.cssClassDirectivesEnabled(!1),a.disableAutoScrolling(),r.setDefaults("tagsInput",{placeholder:""}).setActiveInterpolation("tagsInput",{placeholder:!0}),s.includeSpinner=!1,i.preAssignBindingsEnabled(!0),c.errorOnUnhandledRejections(!1)}]).value("$routerRootComponent","routablePage").run(["AppConfig","Tracking","NewRelic",function(t,e,n){$.embedly.defaults.key=t.embedly_key,e.start_tracking(),n.init($('meta[name="newrelic-resource-path"]').attr("content"))}]),function(){var t=n(319);t.keys().forEach(t)}()},,,,function(t,e,n){"use strict";var i=n(320);i.keys().forEach(i)},function(t,e,n){"use strict";var i=n(321);i.keys().forEach(i)},,,,function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./components/active_referent.js":661,"./components/ad_container_with_close_button.js":662,"./components/admin_task.js":663,"./components/admin_tasks_page.js":664,"./components/admin_user_info.js":665,"./components/adwords_ad_form.js":666,"./components/adwords_ad_group_form.js":667,"./components/adwords_ad_group_list.js":668,"./components/adwords_campaign_form.js":669,"./components/adwords_campaign_list.js":670,"./components/adwords_editor.js":671,"./components/album_admin_menu.js":672,"./components/album_grid.js":673,"./components/album_metadata_form.js":674,"./components/album_page.js":675,"./components/album_tracklist_row.js":676,"./components/android_banner.js":677,"./components/annotation_embed.js":678,"./components/annotation_preview.js":679,"./components/annotation_share_menu.js":680,"./components/answer.js":681,"./components/article_admin_bar.js":682,"./components/article_authors.js":683,"./components/article_content_actions.js":684,"./components/article_contributor_badge.js":685,"./components/article_page.js":686,"./components/artist_badge.js":687,"./components/artist_opportunities.js":688,"./components/artist_songs.js":689,"./components/artist_songs_and_albums.js":690,"./components/artist_songs_modal.js":691,"./components/artist_tooltip.js":692,"./components/artist_verification.js":693,"./components/audio_source_label.js":694,"./components/branded_annotation.js":695,"./components/breadcrumbs.js":696,"./components/charts.js":697,"./components/collapsible_content.js":698,"./components/comment_list.js":699,"./components/comments.js":700,"./components/contact_button.js":701,"./components/contribution_opportunity.js":702,"./components/cover_art_form.js":703,"./components/cover_art_modal.js":704,"./components/defer_compile.js":705,"./components/deleted_answer.js":706,"./components/detailed_song_search.js":707,"./components/dfp_ad.js":708,"./components/edit_artist_profile.js":709,"./components/edit_user_email_preferences.js":710,"./components/edit_user_profile.js":711,"./components/editable_tracklist.js":712,"./components/editable_tracklist_number.js":713,"./components/embedly_embed.js":714,"./components/embedly_youtube.js":715,"./components/expandable_container.js":716,"./components/facebook_share_button.js":717,"./components/hang_initial_quote.js":718,"./components/header_actions.js":719,"./components/header_admin.js":720,"./components/header_auth.js":721,"./components/header_with_cover_art.js":722,"./components/hidden_fields.js":723,"./components/home_charts_album.js":724,"./components/home_charts_artist.js":725,"./components/home_charts_referent.js":726,"./components/home_charts_song.js":727,"./components/home_community.js":728,"./components/home_featured_latest_story.js":729,"./components/home_featured_stories.js":730,"./components/home_featured_story.js":731,"./components/home_page.js":732,"./components/home_recent_stories.js":733,"./components/home_video_lists.js":734,"./components/image_upload_button.js":735,"./components/inbox.js":736,"./components/inbox_container.js":737,"./components/inbox_icon.js":738,"./components/inbox_line_item_detail_discussion.js":739,"./components/inbox_line_item_detail_discussion_header.js":740,"./components/inbox_line_item_detail_forum_post.js":741,"./components/inbox_line_item_detail_forum_post_single.js":742,"./components/inbox_line_item_detail_object.js":743,"./components/inbox_line_item_message.js":744,"./components/iq_inbox.js":745,"./components/iq_notification_list.js":746,"./components/leaderboard_ad.js":747,"./components/lyrics_sync_editor.js":748,"./components/lyrics_sync_home.js":749,"./components/manage_chart_item.js":750,"./components/manage_roles.js":751,"./components/media_player.js":752,"./components/merge_artist.js":753,"./components/messages_inbox.js":754,"./components/mini_album_card.js":755,"./components/mini_annotatable_card.js":756,"./components/mini_article_card.js":757,"./components/mini_artist_card.js":758,"./components/mini_song_card.js":759,"./components/mini_user_card.js":760,"./components/mini_video_card.js":761,"./components/missing_metadata_form.js":762,"./components/on_internal_navigation.js":763,"./components/other_users_with_ip.js":764,"./components/page_transition_overlay.js":765,"./components/paginated_accomplishments.js":766,"./components/paginated_leaderboard.js":767,"./components/profile_admin_pane.js":768,"./components/profile_all_activity.js":769,"./components/profile_annotation.js":770,"./components/profile_artist_description_preview.js":771,"./components/profile_artist_pane.js":772,"./components/profile_contributions_annotations.js":773,"./components/profile_contributions_answers.js":774,"./components/profile_contributions_articles.js":775,"./components/profile_contributions_comments.js":776,"./components/profile_contributions_group.js":777,"./components/profile_contributions_pyongs.js":778,"./components/profile_contributions_questions.js":779,"./components/profile_contributions_transcriptions.js":780,"./components/profile_followers.js":781,"./components/profile_identity.js":782,"./components/profile_page.js":783,"./components/profile_user_description_preview.js":784,"./components/profile_user_pane.js":785,"./components/question.js":786,"./components/question_form.js":787,"./components/question_list.js":788,"./components/reasons_toggle.js":789,"./components/recent_signups_page.js":790,"./components/recirculated_content.js":791,"./components/relevant_videos.js":792,"./components/routable_page.js":793,"./components/routable_profile_page.js":794,"./components/routable_user_page.js":795,"./components/routed_page.js":796,"./components/search_result_item.js":797,"./components/search_result_items.js":798,"./components/search_result_paginated_section.js":799,"./components/search_result_section.js":800,"./components/search_results.js":801,"./components/search_results_page.js":802,"./components/select_dropdown.js":803,"./components/skin_ad.js":804,"./components/song_albums.js":805,"./components/song_attribution_visualization.js":806,"./components/song_metadata_song_relationships_input.js":807,"./components/song_missing_metadata.js":808,"./components/song_page.js":809,"./components/song_page_sidebar_multi_placement.js":810,"./components/song_top_verified_artist.js":811,"./components/song_verified_artists.js":812,"./components/song_verified_artists_section.js":813,"./components/song_verified_artists_section_single.js":814,"./components/spam_status.js":815,"./components/square_item_and_iq.js":816,"./components/statistics_panel.js":817,"./components/statistics_panel_item.js":818,"./components/taboola.js":819,"./components/twitter_share_button.js":820,"./components/user_attribution.js":821,"./components/user_identities.js":822,"./components/user_info_with_actions.js":823,"./components/user_moderation.js":824,"./components/vertical_album_card.js":825,"./components/vertical_search_result_item.js":826,"./components/vertical_search_result_items.js":827,"./components/video_carousel.js":828,"./components/video_edit_form.js":829,"./components/video_list_edit_form.js":830,"./components/video_list_page.js":831,"./components/video_list_video.js":832,"./components/video_page.js":833,"./components/video_relevance_reason.js":834,"./components/videos_modal.js":835,"./components/vttp_button.js":836,"./components/web_annotator_manage_errors.js":837,"./components/web_annotator_manager.js":838,"./components/web_annotator_roles_table.js":839,"./components/youtube_subscribe_button.js":840,"./constants/ad_config.js":841,"./constants/analytics_config.js":842,"./constants/mobile_device.js":843,"./controllers/article_form_ctrl.js":844,"./controllers/custom_app_notification_ctrl.js":845,"./controllers/dev_ctrl.js":846,"./controllers/fact_track_annotation_edit_ctrl.js":847,"./controllers/fact_track_song_edit_ctrl.js":848,"./controllers/header_ctrl.js":849,"./controllers/song_ctrl.js":850,"./directives/add_annotation.js":851,"./directives/always_dirty.js":852,"./directives/annotatable_image.js":853,"./directives/annotation.js":854,"./directives/annotation_edit.js":855,"./directives/annotation_edits.js":856,"./directives/annotation_fragment.js":857,"./directives/annotation_history.js":858,"./directives/annotation_placeholder.js":859,"./directives/annotation_sidebar.js":860,"./directives/apply_annotation_arrow_class.js":861,"./directives/authentication_form.js":862,"./directives/auto_resize_iframe.js":863,"./directives/autocomplete_tags_input.js":864,"./directives/autocomplete_with.js":865,"./directives/brightcove.js":866,"./directives/class_for_browser.js":867,"./directives/class_for_duration.js":868,"./directives/click_outside.js":869,"./directives/click_to_load.js":870,"./directives/clipped_background_image.js":871,"./directives/comment.js":872,"./directives/comment_form.js":873,"./directives/comments_placeholder.js":874,"./directives/component_date_input.js":875,"./directives/compose_message.js":876,"./directives/confirm.js":877,"./directives/conversation_messages.js":878,"./directives/conversation_with_user.js":879,"./directives/conversations.js":880,"./directives/copy_to_clipboard.js":881,"./directives/copy_value_to_scope.js":882,"./directives/cosigns.js":883,"./directives/delayed_href.js":884,"./directives/delimited_keys.js":885,"./directives/description_referent.js":886,"./directives/detect_image_diffs.js":887,"./directives/dirtyable.js":888,"./directives/display_unless_cookie.js":889,"./directives/drag_and_drop.js":890,"./directives/editable_markdown.js":891,"./directives/embedly.js":892,"./directives/embedly_player.js":893,"./directives/empty_copy_content.js":894,"./directives/expandable_accordion_section.js":895,"./directives/expandable_list.js":896,"./directives/exports_form_api.js":897,"./directives/fact_track_simulator.js":898,"./directives/filepicker_input.js":899,"./directives/flash_messages.js":900,"./directives/focus_on_change.js":901,"./directives/follow_button.js":902,"./directives/global_error_message.js":903,"./directives/global_message.js":904,"./directives/handle_intra_page_links.js":905,"./directives/handle_routable_links.js":906,"./directives/header_menu_item.js":907,"./directives/hide_song_form.js":908,"./directives/http_method.js":909,"./directives/inbox_line_item.js":910,"./directives/inbox_line_item_action_icon.js":911,"./directives/inbox_line_item_detail.js":912,"./directives/infinite_scroll.js":913,"./directives/insertable_at_cursor.js":914,"./directives/kb.js":915,"./directives/keep_in_view.js":916,"./directives/leaderboard.js":917,"./directives/links_navigable_by_arrow_keys.js":918,"./directives/local_referent_routing.js":919,"./directives/lock_scroll_position_on_ios.js":920,"./directives/lyric_sync_timestamp_input.js":921,"./directives/lyrics.js":922,"./directives/lyrics_sync_keyboard.js":923,"./directives/markdown_preview.js":924,"./directives/media_controls.js":925,"./directives/mentionable.js":926,"./directives/metadata_custom_performance_role_input.js":927,"./directives/metadata_input_and_label.js":928,"./directives/modal_window.js":929,"./directives/mousetrap_input.js":930,"./directives/mutually_exclusive_switches.js":931,"./directives/navigate_on_click.js":932,"./directives/new_conversation.js":933,"./directives/ng_autofocus.js":934,"./directives/ng_body_class.js":935,"./directives/ng_click_disabled.js":936,"./directives/notification_inbox.js":937,"./directives/odometer.js":938,"./directives/on_hover_with_no_digest.js":939,"./directives/on_inner_height_change.js":940,"./directives/on_load.js":941,"./directives/open_in_app.js":942,"./directives/open_links_in_new_window.js":943,"./directives/placeholder_spinner.js":944,"./directives/placeholder_text.js":945,"./directives/placeholder_user_badge.js":946,"./directives/play_pause_button.js":947,"./directives/position_beside.js":948,"./directives/preload.js":949,"./directives/prevent_default_click.js":950,"./directives/prevent_default_keydown.js":951,"./directives/proxied_image.js":952,"./directives/pusher.js":953,"./directives/pyong_button.js":954,"./directives/pyong_form.js":955,"./directives/quick_search.js":956,"./directives/referent_fragment_container.js":957,"./directives/release_date.js":958,"./directives/remove_class_on_angular_load.js":959,"./directives/role_icon.js":960,"./directives/role_selection_dialog.js":961,"./directives/scroll_from_bottom.js":962,"./directives/scroll_only_this_element.js":963,"./directives/scroll_point.js":964,"./directives/scroll_to_bottom_when.js":965,"./directives/scroll_to_top_on_change.js":966,"./directives/scrollable_data.js":967,"./directives/scrubber.js":968,"./directives/search_form.js":969,"./directives/select_all_on_click.js":970,"./directives/set_class_before_navigate.js":971,"./directives/set_cookie_and_close_on_click.js":972,"./directives/set_desired_location.js":973,"./directives/share_buttons.js":974,"./directives/show_arrow_at_offset.js":975,"./directives/show_if_browser.js":976,"./directives/simple_datetime_input.js":977,"./directives/sized_src.js":978,"./directives/skin.js":979,"./directives/slide_down.js":980,"./directives/slide_over_pane.js":981,"./directives/slide_up_on.js":982,"./directives/song_activity.js":983,"./directives/song_admin_menu.js":984,"./directives/song_album.js":985,"./directives/song_metadata.js":986,"./directives/song_metadata_form.js":987,"./directives/song_metadata_preview.js":988,"./directives/song_primary_album.js":989,"./directives/soundcloud.js":990,"./directives/spotify_onboarding.js":991,"./directives/standalone_referent.js":992,"./directives/standard_rich_content.js":993,"./directives/sticky.js":994,"./directives/stop_propagation.js":995,"./directives/submit_on_cmd_enter.js":996,"./directives/svg.js":997,"./directives/tether_drop.js":998,"./directives/text_corrector.js":999,"./directives/text_selection_changed.js":1e3,"./directives/textarea.js":1001,"./directives/time_ago.js":1002,"./directives/timestamp_input.js":1003,"./directives/tracking.js":1004,"./directives/tracks_link_with_class.js":1005,"./directives/transclude_injecting_local_scope.js":1006,"./directives/upwards_infinite_scroll.js":1007,"./directives/user_badge.js":1008,"./directives/user_badge_and_timestamp.js":1009,"./directives/user_tooltip.js":1010,"./directives/voters.js":1011,"./directives/voting.js":1012,"./directives/watch_images_loaded.js":1013,"./directives/web_annotator_role_row.js":1014,"./directives/yields_bounding_box_height.js":1015,"./directives/youtube_player.js":1016,"./factories/$debounce.js":1017,"./factories/$immediate.js":1018,"./factories/$throttle.js":1019,"./factories/ab_test.js":1020,"./factories/ab_test_client.js":1021,"./factories/accomplishment_client.js":1022,"./factories/admin_task_client.js":1023,"./factories/ads.js":1024,"./factories/adwords_ad_client.js":1025,"./factories/adwords_ad_group_client.js":1026,"./factories/adwords_campaign_client.js":1027,"./factories/adwords_network_client.js":1028,"./factories/album_client.js":1029,"./factories/annotation_client.js":1030,"./factories/answer_client.js":1031,"./factories/api_client.js":1032,"./factories/app_config.js":1033,"./factories/application_bootstrap.js":1034,"./factories/article_client.js":1035,"./factories/artist_client.js":1036,"./factories/asset_client.js":1037,"./factories/async_analytics.js":1038,"./factories/attempt.js":1039,"./factories/authentication_client.js":1040,"./factories/autosize.js":1041,"./factories/before_unload_check.js":1042,"./factories/bindings.js":1043,"./factories/bowser.js":1044,"./factories/brand_client.js":1045,"./factories/brightcove.js":1046,"./factories/chart_client.js":1047,"./factories/clipboard.js":1048,"./factories/comment_client.js":1049,"./factories/contribution_opportunity_assignment_client.js":1050,"./factories/conversation_client.js":1051,"./factories/cookies.js":1052,"./factories/cover_art_client.js":1053,"./factories/cursored_data_feed.js":1054,"./factories/custom_app_notification_client.js":1055,"./factories/custom_performance_role_client.js":1056,"./factories/date_tools.js":1057,"./factories/discussion_client.js":1058,"./factories/eager_loader.js":1059,"./factories/event_emitter.js":1060,"./factories/facebook.js":1061,"./factories/feedback_client.js":1062,"./factories/filepicker.js":1063,"./factories/follow_client.js":1064,"./factories/get_script.js":1065,"./factories/global_error_bus.js":1066,"./factories/global_error_interceptor.js":1067,"./factories/global_page_state_bus.js":1068,"./factories/global_refs.js":1069,"./factories/google.js":1070,"./factories/html_constants.js":1071,"./factories/i18n.js":1072,"./factories/identity_client.js":1073,"./factories/image_transform.js":1074,"./factories/inbox_client.js":1075,"./factories/iq.js":1076,"./factories/leaderboard_client.js":1077,"./factories/librato.js":1078,"./factories/link_events.js":1079,"./factories/local_storage.js":1080,"./factories/lookup_client.js":1081,"./factories/lyrics.js":1082,"./factories/lyrics_anchorer.js":1083,"./factories/lyrics_editing.js":1084,"./factories/lyrics_synchronization_client.js":1085,"./factories/markdown.js":1086,"./factories/markdown_helpers.js":1087,"./factories/markdown_preview_client.js":1088,"./factories/mention_client.js":1089,"./factories/message_client.js":1090,"./factories/meta_tag_data.js":1091,"./factories/mixed_data_feed.js":1092,"./factories/model_router.js":1093,"./factories/moment.js":1094,"./factories/mousetrap.js":1095,"./factories/mutation_observer.js":1096,"./factories/new_relic.js":1097,"./factories/odometer.js":1098,"./factories/on_within_visibility_range.js":1099,"./factories/only_changes.js":1100,"./factories/onsite_interceptor.js":1101,"./factories/page_data_client.js":1102,"./factories/page_transition.js":1103,"./factories/page_visibility.js":1104,"./factories/paged_data_feed.js":1105,"./factories/parse_time_string.js":1106,"./factories/performance_mark.js":1107,"./factories/player_js":264,"./factories/player_js.js":264,"./factories/preloader.js":1108,"./factories/promise_queue.js":1109,"./factories/pusher.js":1110,"./factories/pyong_client.js":1111,"./factories/querystring.js":1112,"./factories/question_client.js":1113,"./factories/referent_client.js":1114,"./factories/referent_element_map.js":1115,"./factories/referent_helper.js":1116,"./factories/referent_locator.js":1117,"./factories/referent_registry.js":1118,"./factories/retry_failure_interceptor.js":1119,"./factories/reversible.js":1120,"./factories/scroll_focus.js":1121,"./factories/scroll_point.js":1122,"./factories/search_client.js":1123,"./factories/session.js":1124,"./factories/session_config.js":1125,"./factories/session_tracking.js":1126,"./factories/shim_inner_html_prop.js":1127,"./factories/signed_out_created_content.js":1128,"./factories/smart_routing.js":1129,"./factories/song_client.js":1130,"./factories/soundcloud.js":1131,"./factories/spotify_annotation_client.js":1132,"./factories/spotify_bridge.js":1133,"./factories/spotify_client.js":1134,"./factories/spotify_local.js":1135,"./factories/spotify_playback.js":1136,"./factories/spotify_remote.js":1137,"./factories/spotify_socket.js":1138,"./factories/stop_watch.js":1139,"./factories/story_client.js":1140,"./factories/string_has_unmatched_parentheses.js":1141,"./factories/string_to_symbol_array.js":1142,"./factories/taboola.js":1143,"./factories/tag_client.js":1144,"./factories/tether_drop.js":1145,"./factories/text_selection.js":1146,"./factories/timestamped_data_feed.js":1147,"./factories/top_bar_indicators_loader.js":1148,"./factories/tracking.js":1149,"./factories/twitter.js":1150,"./factories/user_client.js":1151,"./factories/video_client.js":1152,"./factories/video_list_client.js":1153,"./factories/video_placement.js":1154,"./factories/video_registry.js":1155,"./factories/video_sources_client.js":1156,"./factories/vote_client.js":1157,"./factories/wait_for_global.js":1158,"./factories/waypoint.js":1159,"./factories/web_annotator_client.js":1160,"./factories/web_audio_playback.js":1161,"./factories/window_title.js":1162,"./factories/youtube.js":1163,"./filters/abbreviate_big_number.js":1164,"./filters/and_more.js":1165,"./filters/bounded_count.js":1166,"./filters/capitalize.js":1167,"./filters/cast_to_date.js":1168,"./filters/description_annotation_name.js":1169,"./filters/drop.js":1170,"./filters/generic_line_item_message.js":1171,"./filters/highlight_braced.js":1172,"./filters/human_readable_datetime.js":1173,"./filters/i18n.js":1174,"./filters/imprecise_date.js":1175,"./filters/indefinitize.js":1176,"./filters/millis_to_duration.js":1177,"./filters/milliseconds_to_seconds.js":1178,"./filters/min.js":1179,"./filters/min_by.js":1180,"./filters/minimum_readable_time.js":1181,"./filters/minus_modulo.js":1182,"./filters/model_human_name.js":1183,"./filters/rich_content_preview.js":1184,"./filters/role_human_name.js":1185,"./filters/signed_number.js":1186,"./filters/snake_case.js":1187,"./filters/spotify_artist_metadata.js":1188,"./filters/svg.js":1189,"./filters/timestamp_for_display.js":1190,"./filters/to_utc.js":1191,"./filters/truncate_to_boundary.js":1192,"./filters/with_indefinite_article.js":1193,"./values/current_flash_messages.js":1194,"./values/preload_cache.js":1195,"./values/xpath_range.js":1196};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=319},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./add_annotation.html":322,"./additional_artists.html":323,"./admin_task.html":324,"./admin_tasks_page.html":325,"./admin_user_info.html":326,"./adwords_ad_form.html":327,"./adwords_ad_group_form.html":328,"./adwords_ad_group_list.html":329,"./adwords_campaign_form.html":330,"./adwords_campaign_list.html":331,"./adwords_editor.html":332,"./album_admin_menu.html":333,"./album_grid.html":334,"./album_metadata_form.html":335,"./album_page.html":336,"./album_tracklist_row.html":337,"./annotatable_image.html":338,"./annotation.html":339,"./annotation_edit.html":340,"./annotation_edits.html":341,"./annotation_embed.html":342,"./annotation_history.html":343,"./annotation_placeholder.html":344,"./annotation_share_menu.html":345,"./annotation_sidebar.html":346,"./answer.html":347,"./article_admin_bar.html":348,"./article_authors.html":349,"./article_content_actions.html":350,"./article_contributor_badge.html":351,"./article_page.html":352,"./artist_badge.html":353,"./artist_opportunities.html":354,"./artist_songs.html":355,"./artist_songs_and_albums.html":356,"./artist_songs_modal.html":357,"./artist_tooltip.html":358,"./artist_verification.html":359,"./audio_source_label.html":360,"./authentication_form.html":361,"./autocomplete_result.html":362,"./autocomplete_tags_input.html":363,"./autocomplete_word.html":364,"./breadcrumbs.html":365,"./charts.html":366,"./click_to_load.html":367,"./collapsible_content.html":368,"./comment.html":369,"./comment_form.html":370,"./comment_list.html":371,"./comments.html":372,"./comments_placeholder.html":373,"./component_date_input.html":374,"./compose_message.html":375,"./contact_button.html":376,"./contribution_opportunity.html":377,"./conversation_messages.html":378,"./conversations.html":379,"./cosigns.html":380,"./cover_art_form.html":381,"./cover_art_modal.html":382,"./deleted_answer.html":383,"./description_annotation.html":384,"./detailed_song_search.html":385,"./dfp_ad.html":386,"./edit_artist_profile.html":387,"./edit_user_email_preferences.html":388,"./edit_user_profile.html":389,"./editable_markdown.html":390,"./editable_tracklist.html":391,"./editable_tracklist_number.html":392,"./embedly_embed.html":393,"./embedly_player.html":394,"./embedly_youtube.html":395,"./expandable_accordion_section.html":396,"./expandable_container.html":397,"./facebook_share_button.html":398,"./fact_track_simulator.html":399,"./flash_messages.html":400,"./follow_button.html":401,"./global_error_message.html":402,"./global_message.html":403,"./hang_initial_quote.html":404,"./header_actions.html":405,"./header_admin.html":406,"./header_auth.html":407,"./header_menu_item.html":408,"./header_with_cover_art.html":409,"./hidden_fields.html":410,"./hide_song_form.html":411,"./home_charts_album.html":412,"./home_charts_artist.html":413,"./home_charts_referent.html":414,"./home_charts_song.html":415,"./home_community.html":416,"./home_featured_latest_story.html":417,"./home_featured_stories.html":418,"./home_featured_story.html":419,"./home_page.html":420,"./home_recent_stories.html":421,"./home_video_lists.html":422,"./image_upload_button.html":423,"./inbox.html":424,"./inbox_container.html":425,"./inbox_icon.html":426,"./inbox_line_item.html":427,"./inbox_line_item_action_icon.html":428,"./inbox_line_item_detail/actions.html":429,"./inbox_line_item_detail/actors.html":430,"./inbox_line_item_detail/annotations_with_comments.html":431,"./inbox_line_item_detail/context.html":432,"./inbox_line_item_detail/context_commentable.html":433,"./inbox_line_item_detail/lyrics_changes.html":434,"./inbox_line_item_detail/merged_artist.html":435,"./inbox_line_item_detail/metadata_changes.html":436,"./inbox_line_item_detail/targets.html":437,"./inbox_line_item_detail/user_acted_on_user.html":438,"./inbox_line_item_detail_discussion.html":439,"./inbox_line_item_detail_discussion_header.html":440,"./inbox_line_item_detail_forum_post.html":441,"./inbox_line_item_detail_forum_post_single.html":442,"./inbox_line_item_detail_object.html":443,"./inbox_line_items/generic.html":444,"./inbox_line_items/pyong.html":445,"./iq_inbox.html":446,"./iq_notification_list.html":447,"./leaderboard.html":448,"./leaderboard_ad.html":449,"./lyrics.html":450,"./lyrics_sync_editor.html":451,"./lyrics_sync_home.html":452,"./lyrics_sync_keyboard.html":453,"./manage_chart_item.html":454,"./manage_roles.html":455,"./markdown_preview.html":456,"./media_controls.html":457,"./media_player.html":458,"./merge_artist_form.html":459,"./messages_inbox.html":460,"./metadata_custom_performance_role_input.html":461,"./metadata_input_and_label.html":462,"./mini_album_card.html":463,"./mini_annotatable_card.html":464,"./mini_article_card.html":465,"./mini_artist_card.html":466,"./mini_song_card.html":467,"./mini_user_card.html":468,"./mini_video_card.html":469,"./missing_metadata_form.html":470,"./modal_window.html":471,"./new_conversation.html":472,"./other_users_with_ip.html":473,"./paginated_accomplishments.html":474,"./paginated_leaderboard.html":475,"./placeholder_spinner.html":476,"./placeholder_text.html":477,"./play_pause_button.html":478,"./profile_admin_pane.html":479,"./profile_all_activity.html":480,"./profile_annotation.html":481,"./profile_artist_pane.html":482,"./profile_contributions_annotations.html":483,"./profile_contributions_answers.html":484,"./profile_contributions_articles.html":485,"./profile_contributions_comments.html":486,"./profile_contributions_group.html":487,"./profile_contributions_pyongs.html":488,"./profile_contributions_questions.html":489,"./profile_contributions_transcriptions.html":490,"./profile_followers.html":491,"./profile_identity.html":492,"./profile_page.html":493,"./profile_user_pane.html":494,"./pyong_button_for_header.html":495,"./pyong_button_square_button.html":496,"./pyong_form.html":497,"./question.html":498,"./question_form.html":499,"./question_list.html":500,"./reasons_toggle.html":501,"./recent_signups_page.html":502,"./recirculated_content.html":503,"./referent_editorial_indicator.html":504,"./referent_fragment_container.html":505,"./release_date.html":506,"./relevant_videos.html":507,"./role_icon.html":508,"./role_selection_dialog.html":509,"./scrollable_data.html":510,"./search_form.html":511,"./search_result_item.html":512,"./search_result_items.html":513,"./search_result_paginated_section.html":514,"./search_result_section.html":515,"./search_results.html":516,"./search_results_page.html":517,"./select_dropdown.html":518,"./share_buttons.html":519,"./simple_datetime_input.html":520,"./skin_ad.html":521,"./song_activity.html":522,"./song_admin_menu.html":523,"./song_album.html":524,"./song_albums.html":525,"./song_attribution_visualization.html":526,"./song_metadata.html":527,"./song_metadata_form.html":528,"./song_metadata_preview.html":529,"./song_metadata_song_relationships_input.html":530,"./song_missing_metadata.html":531,"./song_page.html":532,"./song_page_sidebar_multi_placement.html":533,"./song_primary_album.html":534,"./song_relationships.html":535,"./song_verified_artists.html":536,"./song_verified_artists_section.html":537,"./song_verified_artists_section_single.html":538,"./soundcloud.html":539,"./spam_status.html":540,"./square_item_and_iq.html":541,"./standalone_referent.html":542,"./standard_rich_content.html":543,"./statistics_panel.html":544,"./statistics_panel_item.html":545,"./text_corrector.html":546,"./time_ago.html":547,"./twitter_share_button.html":548,"./user_attribution.html":549,"./user_badge.html":550,"./user_badge_and_timestamp.html":551,"./user_identities.html":552,"./user_info_with_actions.html":553,"./user_moderation.html":554,"./user_tooltip.html":555,"./vertical_album_card.html":556,"./vertical_search_result_item.html":557,"./vertical_search_result_items.html":558,"./video_carousel.html":559,"./video_edit_form.html":560,"./video_list_edit_form.html":561,"./video_list_page.html":562,"./video_list_video.html":563,"./video_page.html":564,"./videos_modal.html":565,"./voters.html":566,"./voting.html":567,"./web_annotator_manager.html":568,"./web_annotator_manager_errors.html":569,"./web_annotator_role_row.html":570,"./web_annotator_roles_table.html":571,"./youtube_subscribe_button.html":572};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=320},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./alert.svg":573,"./at_symbol.svg":574,"./billboard.svg":575,"./blockquote.svg":576,"./bts.svg":577,"./calendar.svg":578,"./checkmark.svg":579,"./checky.svg":580,"./circle.svg":581,"./clear_downvotes.svg":582,"./clear_upvotes.svg":583,"./clock.svg":584,"./comment.svg":585,"./deconstructed.svg":586,"./down_arrow.svg":587,"./drag.svg":588,"./envelope.svg":589,"./expand.svg":590,"./external.svg":591,"./eye.svg":592,"./eye_cross.svg":593,"./facebook.svg":594,"./fact_track_icon.svg":595,"./fire.svg":596,"./flag.svg":597,"./gear.svg":598,"./google.svg":599,"./hamburger.svg":600,"./instagram.svg":601,"./irl.svg":602,"./left_arrow.svg":603,"./lightning.svg":604,"./line_graph.svg":605,"./lock.svg":606,"./logo.svg":607,"./magnifying_glass.svg":608,"./new_message.svg":609,"./news.svg":610,"./news_wide.svg":611,"./no_document.svg":612,"./one_document.svg":613,"./pause_transparent.svg":614,"./pencil.svg":615,"./people.svg":616,"./phone.svg":617,"./pin.svg":618,"./play.svg":619,"./play_transparent.svg":620,"./playstore.svg":621,"./right_arrow.svg":622,"./role_icon_contributor_equilateral_triangle.svg":623,"./role_icon_editor_square.svg":624,"./role_icon_mediator_square.svg":625,"./role_icon_moderator_diamond.svg":626,"./role_icon_staff_circle.svg":627,"./sgnarly.svg":628,"./share.svg":629,"./share_android.svg":630,"./soundcloud.svg":631,"./spotify.svg":632,"./star.svg":633,"./tag.svg":634,"./thumbs_down.svg":635,"./thumbs_up.svg":636,"./twitter.svg":637,"./two_documents.svg":638,"./unlock.svg":639,"./up_arrow.svg":640,"./upload_image.svg":641,"./verified.svg":642,"./wordmark.svg":643,"./x.svg":644,"./youtube.svg":645};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=321},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("add_annotation.html",'<div ng-if="can_add_community_annotation">\n  <square-item-and-iq event_type="created_community_annotation">\n    <button\n      ng-disabled="creating_referent"\n      ng-click="start_new_community_referent()"\n      ng-class="{\'square_button--waiting\': enable_waiting_class && creating_referent}"\n      class="square_button square_button--white_background"\n      ng-bind="::\'annotation.new_community_prompt\' | i18n"\n    ></button>\n  </square-item-and-iq>\n</div>\n\n<div ng-if="can_add_pinned_annotation">\n  <square-item-and-iq event_type="created_pinned_annotation">\n    <button\n      ng-disabled="creating_referent"\n      ng-click="start_new_referent()"\n      class="square_button square_button--white_background square_button--green"\n      ng-class="{\'u-top_margin\': can_add_community_annotation, \'square_button--waiting\': enable_waiting_class && creating_referent}"\n      ng-bind="::\'annotation.new_verified_prompt\' | i18n"\n    ></button>\n  </square-item-and-iq>\n</div>\n\n<div ng-if="ctrl.user_signed_in && !(can_add_community_annotation || can_add_pinned_annotation)">\n  <button\n    ng-disabled="true"\n    class="square_button square_button--disabled"\n    ng-bind="::\'annotation.cannot_annotate_on_locked_song\' | i18n"\n  ></button>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("additional_artists.html",'<div\n  class="metadata_unit"\n  ng-class="{\'metadata_unit--table_row\': variants.table}"\n  ng-if="collection.length > 0"\n>\n  <span class="metadata_unit-label">{{label}}</span>\n\n  <span class="metadata_unit-info">\n    <span\n      ng-repeat="artist in collection | limitTo: limit track by artist.id"\n    >\n      <a\n        ng-href="{{artist.url}}"\n        tether-drop-target\n      >\n        <tether-drop show-on="hover" position="bottom center">\n          <artist-tooltip artist="artist"></artist-tooltip>\n        </tether-drop>\n\n        {{ artist.name }}</a>{{ $last ? \'\' : $index === collection.length - 2 && !ctrl.more_to_show() ? \' &amp;\' : \',\' }}\n    </span>\n\n    <span ng-if="ctrl.more_to_show()">\n      &amp; <a href ng-click="ctrl.show_more()" class="metadata_unit-show_more">{{collection.length - limit}} more</a>\n    </span>\n  </span>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("admin_task.html",'<form ng-submit="$ctrl.perform_task()" submit-on-cmd-enter>\n  <div ng-if="$ctrl.success_message" class="form_message form_message--success">{{$ctrl.success_message}}</div>\n  <div ng-repeat="error in $ctrl.validation_errors.base" class="form_message form_message--error">{{error}}</div>\n  <div ng-repeat="property in $ctrl.task.task_properties track by property.name">\n    <div ng-switch="property.type">\n      <div ng-switch-when="string">\n        <metadata-input-and-label label="{{property.human_name}}" errors="$ctrl.validation_errors[property.name]">\n          <input\n              ng-model="$ctrl.property_values[property.name]"\n              class="square_input square_form-standard_element_margin"\n              placeholder=""\n          />\n        </metadata-input-and-label>\n      </div>\n      <div ng-switch-when="boolean">\n        <metadata-input-and-label label="{{property.human_name}}" errors="$ctrl.validation_errors[property.name]">\n          <input\n            type="checkbox"\n            ng-model="$ctrl.property_values[property.name]"\n            class="square_form-standard_element_margin"\n          />\n        </metadata-input-and-label>\n      </div>\n      <div ng-switch-default>\n        ERROR!!! Misconfigured and unrecognized task property type\n      </div>\n    </div>\n  </div>\n  <button\n    type="submit"\n    class="modal_window-save_button square_button square_button--purple"\n    ng-class="{\'square_button--waiting\': $ctrl.saving}"\n    ng-disabled="$ctrl.saving"\n    ng-bind="$ctrl.saving ? \'Running\' : \'Run task\'"\n  ></button>\n\n  <table ng-if="$ctrl.tabular_data" class="admin_table rich_text_formatting">\n    <tr>\n      <th ng-repeat="(header_key, _) in $ctrl.tabular_data[0] track by header_key">\n        {{header_key}}\n      </th>\n    </tr>\n    <tr ng-repeat="row in $ctrl.tabular_data track by $index">\n      <td ng-repeat="(_, value) in row track by $index">\n        <span ng-if="$ctrl.is_url(value)">\n          <a ng-href="{{value}}" target="_blank">{{value}}</a>\n        </span>\n        <span ng-if="!$ctrl.is_url(value)">{{value}}</span>\n      </td>\n    </tr>\n  </table>\n  </div>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("admin_tasks_page.html",'<div class="admin_tasks_list">\n  <div class="column_layout u-xx_large_vertical_margins">\n    <div class="column_layout-column_span--full">\n      <h1>Admin Tasks</h1>\n      <div class="square_select_group">\n        <div class="square_select_group-single u-width_100">\n          <select ng-options="task as task.label for task in $ctrl.select_tasks track by task.name" ng-model="selected_task" class="select_input"></select>\n        </div>\n      </div>\n\n      <div ng-if="selected_task.name !== $ctrl.no_task.name">\n        <placeholder-spinner ng-if="!admin_task"></placeholder-spinner>\n        <admin-task ng-if="admin_task" task="admin_task"></admin-task>\n      </div>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("admin_user_info.html",'<div class="u-vertical_margins">\n  <span class="text_label u-display_block">Email</span>\n  <a href="mailto:{{$ctrl.user.email}}">{{$ctrl.user.email}}</a>\n</div>\n\n<div class="u-vertical_margins">\n  <span class="text_label u-display_block">Linked Accounts</span>\n  <user-identities ng-if="$ctrl.user.identities.length" user="$ctrl.user"></user-identities>\n  <span ng-if="!$ctrl.user.identities.length">No linked accounts</span>\n</div>\n\n<div class="u-vertical_margins">\n  <span class="text_label u-display_block">Browser Info</span>\n  <p><span class="u-bold">Browser: </span>{{$ctrl.user.browser || \'No info\'}}</p>\n  <p><span class="u-bold">Platform: </span>{{$ctrl.user.platform || \'No info\'}}</p>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("adwords_ad_form.html",'<form ng-submit="$ctrl.save($ctrl.model)" class="square_form">\n  <div class="text_label text_label--purple form_section_label">Add an Ad</div>\n\n  <div class="square_form-input_and_label square_form-input_and_label--full_width">\n    <div class="text_label">Theme</div>\n    <div class="square_select_group">\n      <div class="square_select_group-single u-width_100">\n        <select\n          ng-model="$ctrl.model.theme_name"\n          ng-options="theme as theme for theme in $root.themes"\n          ng-init="$ctrl.model.theme_name = $root.themes[0]"\n          autofocus\n        ></select>\n      </div>\n    </div>\n  </div>\n\n  <div class="square_form-input_and_label square_form-input_and_label--full_width">\n    <div class="text_label">Body</div>\n    <textarea class="square_input square_form-standard_element_margin" ng-model="$ctrl.model.body" placeholder="The body of this ad"></textarea>\n  </div>\n\n  <button type="submit" class="modal_window-save_button square_button square_button--purple u-small_vertical_margins" ng-class="{\'square_button--waiting\': $ctrl.saving}" ng-disabled="$ctrl.saving" ng-bind="$ctrl.saving ? \'Saving\' : \'Save\'"></button>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("adwords_ad_group_form.html",'<form ng-submit="$ctrl.save($ctrl.model)" class="square_form">\n  <div class="text_label text_label--purple form_section_label">Add an Ad Group</div>\n\n  <div class="square_form-input_and_label square_form-input_and_label--full_width">\n    <div class="text_label">Song ID</div>\n    <input class="square_input square_form-standard_element_margin" ng-model="$ctrl.model.song_id" placeholder="The ID of the song to link back to" autofocus/>\n  </div>\n\n  <div class="square_form-input_and_label square_form-input_and_label--full_width">\n    <div class="text_label">YouTube ID</div>\n    <input class="square_input square_form-standard_element_margin" ng-model="$ctrl.model.youtube_video_id" placeholder="The ID part of the YouTube URL to traffic against"/>\n  </div>\n\n  <button type="submit" class="modal_window-save_button square_button square_button--purple u-small_vertical_margins" ng-class="{\'square_button--waiting\': $ctrl.saving}" ng-disabled="$ctrl.saving" ng-bind="$ctrl.saving ? \'Saving\' : \'Save\'"></button>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("adwords_ad_group_list.html",'<modal-window ng-if="$ctrl.adding_ad_group" on-close="$ctrl.adding_ad_group = false">\n  <adwords-ad-group-form campaign="$ctrl.campaign" on-save="$ctrl.load_ad_groups()" on-close="$ctrl.adding_ad_group = undefined"></adwords-ad-group-form>\n</modal-window>\n\n<modal-window ng-if="$ctrl.adding_ad_to_group" on-close="$ctrl.adding_ad_to_group = undefined">\n  <adwords-ad-form ad-group="$ctrl.adding_ad_to_group" on-save="$ctrl.load_ad_groups()" on-close="$ctrl.adding_ad_to_group = undefined"></adwords-ad-form>\n</modal-window>\n\n<div ng-repeat="ad_group in $ctrl.ad_groups" class="u-vertical_margins" ng-if="!$ctrl.loading">\n  <div class="text_label">\n    <a ng-href="{{ ad_group.song.url }}">{{ ad_group.song.title }} by {{ ad_group.song.primary_artist.name }}</a>\n    <a ng-href="{{ ad_group.youtube_url }}" target="_blank">({{ ad_group.youtube_video_id }})</a>\n  </div>\n\n  <ul>\n    <li ng-repeat="ad in ad_group.adwords_ads">\n      <a ng-click="$ctrl.change_ad_status(ad, ad.status === \'ENABLED\' ? \'PAUSED\' : \'ENABLED\')" prevent-default-click href="#" ng-switch="ad.status" confirm="Are you sure?">\n        <svg ng-switch-when="PAUSED" class="inline_icon inline_icon--red" src="circle.svg"></svg>\n        <svg ng-switch-when="ENABLED" class="inline_icon inline_icon--green" src="circle.svg"></svg>\n      </a>\n\n      <a class="u-hair_left_margin" ng-href="{{ ad.image_url }}" target="_blank" title="Preview (theme: {{ ad.theme_name }})">\n        <svg class="inline_icon" src="eye.svg"></svg>\n      </a>\n\n      <span class="u-half_left_margin" ng-bind="ad.body"></span>\n    </li>\n\n    <li>\n      <span class="text_label text_label--button text_label--purple" ng-click="$ctrl.adding_ad_to_group = ad_group">+ Ad</span>\n    </li>\n  </ul>\n</div>\n\n<div class="u-vertical_margins">\n  <span class="text_label text_label--button text_label--purple" ng-click="$ctrl.adding_ad_group = true">+ Ad Group</span>\n</div>\n\n<placeholder-spinner ng-if="$ctrl.loading"></placeholder-spinner>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("adwords_campaign_form.html",'<form ng-submit="$ctrl.save($ctrl.model)" class="square_form">\n  <div class="text_label text_label--purple form_section_label">Add a Campaign</div>\n\n  <div class="square_form-input_and_label square_form-input_and_label--full_width">\n    <div class="text_label">Name</div>\n    <input class="square_input square_form-standard_element_margin" ng-model="$ctrl.model.name" placeholder="Name of the campaign" autofocus/>\n  </div>\n\n  <div class="square_form-input_and_label square_form-input_and_label--full_width">\n    <div class="text_label">Network</div>\n    <div class="square_select_group">\n      <div class="square_select_group-single u-width_100">\n        <select ng-options="network as network.name for network in $ctrl.available_adwords_networks" ng-model="$ctrl.model.adwords_network" class="select_input"></select>\n      </div>\n    </div>\n  </div>\n\n  <div class="square_form-input_and_label square_form-input_and_label--full_width">\n    <div class="text_label">Budget (in USD)</div>\n    <input class="square_input square_form-standard_element_margin" ng-model="$ctrl.model.budget" placeholder="50.00" autofocus/>\n  </div>\n\n  <button type="submit" class="modal_window-save_button square_button square_button--purple u-small_vertical_margins" ng-class="{\'square_button--waiting\': $ctrl.saving}" ng-disabled="$ctrl.saving" ng-bind="$ctrl.saving ? \'Saving\' : \'Save\'"></button>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("adwords_campaign_list.html",'<modal-window ng-if="$ctrl.adding_campaign" on-close="$ctrl.adding_campaign = false">\n  <adwords-campaign-form on-save="$ctrl.load_campaigns()" on-close="$ctrl.adding_campaign = false"></adwords-campaign-form>\n</modal-window>\n\n<div ng-repeat="campaigns in $ctrl.grouped_campaigns" ng-if="!$ctrl.loading" class="u-vertical_margins">\n  <div class="text_label" ng-bind="campaigns[0].adwords_network.name"></div>\n\n  <ul>\n    <li ng-repeat="campaign in campaigns">\n      <div ng-switch="campaign === $ctrl.selected_campaign">\n        <span ng-switch-when="true" ng-bind="campaign.name"></span>\n        <a ng-switch-when="false" href="#" ng-click="$ctrl.select(campaign)" prevent-default-click ng-bind="campaign.name"></a>\n      </div>\n    </li>\n  </ul>\n</div>\n\n<div class="u-vertical_margins">\n  <span class="text_label text_label--button text_label--purple" ng-click="$ctrl.adding_campaign = true">+ Campaign</span>\n</li>\n\n<placeholder-spinner ng-if="$ctrl.loading"></placeholder-spinner>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("adwords_editor.html",'<div class="column_layout u-vertical_margins">\n  <div class="column_layout-column_span column_layout-column_span--secondary">\n    <span class="tag_label tag_label--large tag_label--black_background">Campaigns</span>\n    <adwords-campaign-list selected-campaign="$ctrl.campaign" on-select="$ctrl.campaign = campaign"></adwords-campaign-list>\n  </div>\n\n  <div class="column_layout-column_span column_layout-column_span--primary" ng-if="$ctrl.campaign">\n    <span class="tag_label tag_label--large tag_label--black_background">Advertisements</span>\n    <adwords-ad-group-list campaign="$ctrl.campaign" ng-if="$ctrl.campaign"></adwords-ad-group-list>\n  </div>\n</div>\n\n<modal-window ng-if="$ctrl.adding_ad" on-close="$ctrl.adding_ad = false">\n  <adwords-ad-form on-save="$ctrl.create_ad(data)"></adwords-ad-group-form>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("album_admin_menu.html",'<div\n  ng-show="$ctrl.has_admin_items"\n  class="square_button square_button--transparent u-half_horizontal_margins u-bottom_margin"\n  tether-drop-target\n>\n  More\n  <svg src="down_arrow.svg" class="inline_icon inline_icon--short inline_icon--up_1"></svg>\n  <tether-drop\n    show-on="click"\n    position="bottom left"\n    yields-api="$ctrl.tether_api = tetherApi"\n  >\n    <div class="tooltip tooltip--no_padding">\n      <div\n        ng-repeat="action in $ctrl.actions"\n        ng-if="$ctrl.can_perform(action)"\n        class="tooltip-list_item"\n        ng-click="$ctrl.attempt_admin_action(action); $ctrl.tether_api.hide()"\n      >\n        <span ng-switch="action">\n          <svg ng-switch-when="destroy" class="inline_icon tooltip-list_item-icon" src="x.svg"></svg>\n          <svg ng-switch-when="unlock" class="inline_icon inline_icon--reading_size inline_icon--up_1 tooltip-list_item-icon" src="unlock.svg"></svg>\n          <svg ng-switch-when="lock" class="inline_icon tooltip-list_item-icon" src="lock.svg"></svg>\n          <svg ng-switch-when="super_lock" class="inline_icon tooltip-list_item-icon" src="lock.svg"></svg>\n        </span>\n        {{ \'album.actions.\' + action | i18n }}\n        <span ng-if="action === \'unlock\'">&nbsp;({{ \'album.lock_state.\' + $ctrl.album.lock_state | i18n }})</span>\n      </div>\n      <div\n        class="tooltip-list_item"\n        copy-to-clipboard="$ctrl.tracklist_markup()"\n        text-to-show-after-copy="Copied to clipboard"\n      >\n        Copy Tracklist Markup\n      </div>\n      <div\n        ng-if="$ctrl.can_perform(\'see_short_id\')"\n        class="tooltip-list_item"\n        copy-to-clipboard="\'album:{{$ctrl.album.id}}\'"\n        text-to-show-after-copy="Copied to clipboard"\n      >\n        Copy Short ID (<code>album:{{$ctrl.album.id}}</code>)\n      </div>\n    </div>\n  </tether-drop>\n</div>\n\n<modal-window\n  ng-if="$ctrl.show_sorted_modal"\n  on-close="$ctrl.show_sorted_modal = false"\n  variants="{narrow_width: true}"\n>\n  <div\n    ng-repeat="album_appearance in $ctrl.album_appearances | orderBy:\'song.stats.unreviewed_annotations\':true track by album_appearance.id"\n    class="u-bottom_margin"\n  >\n    <mini-song-card\n      object="album_appearance.song"\n      variants="{show_unreviewed_count: true}"\n    ></mini-song-card>\n  </div>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("album_grid.html",'<div class="thumbnail_grid white_container" ng-if="$ctrl.albums.length > 0">\n  <div\n    class="thumbnail_grid-grid_element thumbnail_grid-grid_element--{{ $ctrl.variants.item_size || \'third\' }}"\n    ng-repeat="album in $ctrl.albums | limitTo: $ctrl.count track by $id(album)"\n  >\n    <vertical-album-card object="album"></vertical-album-card>\n  </div>\n</div>\n\n<div\n  class="full_width_button u-clickable u-quarter_top_margin"\n  ng-if="$ctrl.albums.length > 0"\n  ng-click="$ctrl.all_albums_pane_open = true"\n>\n  Show all albums by {{ $ctrl.artist.name }}\n  <svg class="inline_icon inline_icon--reading_size inline_icon--up_1" src="right_arrow.svg"></svg>\n</div>\n\n<modal-window\n  ng-if="$ctrl.all_albums_pane_open"\n  on-close="$ctrl.all_albums_pane_open = undefined; $ctrl.artist_album_scrollable_data.reset()"\n  variants="{narrow_width: true, white_background: true}"\n>\n  <scrollable-data\n    src="$ctrl.artist_album_scrollable_data"\n    scroll-mechanism="infinite_scroll"\n    repeat-with="album"\n  >\n    <div class="profile_list_item" ng-class="{\'profile_list_item--last\': $last}">\n      <mini-album-card object="album" variants="{small: true}"></mini-album-card>\n    </div>\n  </scrollable-data>\n</modal-window>\n\n<div ng-if="$ctrl.albums.length == 0">\n  <div class="text_label text_label--gray u-xx_large_vertical_margins">\n    There are no albums by this artist on Genius\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("album_metadata_form.html",'<form ng-submit="$ctrl.save()" ng-model-options="{updateOn: \'submit\'}" submit-on-cmd-enter dirtyable yields-is-dirty="$ctrl.yields_is_dirty({is_dirty})">\n  <div ng-if="$ctrl.error" class="form_message form_message--error text_label">\n    {{ $ctrl.error.message }}\n    <span ng-repeat="base_error in $ctrl.error.response.validation_errors.base">\n      <br>\n      {{ base_error }}\n    </span>\n  </div>\n\n  <div class="square_form">\n    <metadata-input-and-label label="{{:: \'album.metadata.name\' | i18n}}" full="true" errors="$ctrl.error.response.validation_errors.name">\n      <input name="name" ng-model="$ctrl.album.name" placeholder="Album name" class="square_input square_form-standard_element_margin">\n    </metadata-input-and-label>\n\n    <metadata-input-and-label label="{{:: \'album.metadata.artist\' | i18n}}" errors="$ctrl.error.response.validation_errors.artist">\n      <input\n          ng-model="$ctrl.album.artist"\n          autocomplete-with="artist"\n          class="square_input square_form-standard_element_margin"\n          placeholder="Artist"\n          ng-value="$ctrl.album.artist.name"\n          display-field="name"\n      ></input>\n    </metadata-input-and-label>\n\n    <metadata-input-and-label label="{{:: \'album.metadata.release_date\' | i18n}}" full="true" errors="$ctrl.error.response.validation_errors.release_date_components">\n      <div class="u-bottom_margin">\n        <component-date-input ng-model="$ctrl.album.release_date_components"></component-date-input>\n      </div>\n    </metadata-input-and-label>\n\n    <metadata-input-and-label label="{{:: \'album.metadata.custom_header_image_url\' | i18n}}" full="true" errors="$ctrl.error.response.validation_errors.header_image_url">\n      <image-upload-button\n        default-image="$ctrl.album.custom_header_image_url"\n        on-file-picked="$ctrl.album.custom_header_image_url = url"\n      ></image-upload-button>\n    </metadata-input-and-label>\n\n\n    <metadata-input-and-label label="{{:: \'album.metadata.album_performances\' | i18n}}" full="true" errors="$ctrl.error.response.validation_errors.album_performances">\n      <metadata-custom-performance-role-input\n        custom-performance-roles="$ctrl.album.performance_groups"\n        role-field-placeholder="e.g. Executive Producer"\n        artist-field-placeholder="Phil Spector"\n        validation-errors="$ctrl.error.response.validation_errors"\n        class="u-width_100"\n      ></metadata-custom-performance-role-input>\n    </metadata-input-and-label>\n\n    <div class="u-small_vertical_margins">\n      <button\n        class="square_button square_button--green"\n        type="submit"\n      >Save</button>\n      <button ng-click="$ctrl.close()" class="square_button square_button--transparent square_button--gray">Cancel</button>\n    </div>\n  </div>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("album_page.html",'<div class="u-black_background">\n  <leaderboard-ad\n    name="desktop_album_leaderboard"\n  ></leaderboard-ad>\n</div>\n\n<header-with-cover-art\n  type="album"\n  object="$ctrl.page_data.album"\n  cover-arts="$ctrl.page_data.album.cover_arts"\n  header-image-url="$ctrl.page_data.album.header_image_url"\n  cover-art-url="$ctrl.page_data.album.cover_art_url"\n  title-label="$ctrl.page_data.album.name"\n  artist="$ctrl.page_data.album.artist"\n  can-edit="$ctrl.has_permission(\'edit\')"\n  on-edit="$ctrl.editing = true; $ctrl.current_edit_panel = \'cover_art\'"\n  focused-cover-art-id="$ctrl.focused_cover_art_id"\n  on-close-cover-art-modal="$ctrl.unfocus_cover_art()"\n  variants="{\n    white_title: true,\n    type_label: \'Album\',\n    large_cover_art: true,\n    wide_primary_column: true\n  }"\n>\n  <metadata>\n    <div\n      ng-if="$ctrl.page_data.album.release_date_components"\n      class="metadata_unit"\n    >\n      {{$ctrl.is_released() ? \'Released\' : \'Expected\'}} {{$ctrl.page_data.album.release_date_components | imprecise_date }}\n    </div>\n  </metadata>\n  <secondary>\n    <div class="header_with_cover_art-metadata_preview u-half_top_margin u-right_margin">\n      <div\n        class="header_with_cover_art-metadata_preview-unit"\n        ng-if="$ctrl.page_data.album.song_pageviews"\n        title="{{ $ctrl.page_data.album.song_pageviews | number }} views of songs on this album"\n      >\n        <svg class="inline_icon inline_icon--gray" src="eye.svg"></svg>\n        <span class="text_label text_label--gray text_label--x_small_text_size">{{ $ctrl.page_data.album.song_pageviews | abbreviateBigNumber }}</span>\n      </div>\n    </div>\n  </secondary>\n</header-with-cover-art>\n\n<modal-window\n  hidden="$ctrl.saving"\n  ng-if="$ctrl.editing || $ctrl.saving"\n  on-close="$ctrl.attempt_close(!$ctrl.is_form_dirty(), $ctrl.close_form)"\n>\n  <div class="column_layout" ng-init="$ctrl.current_edit_panel = $ctrl.current_edit_panel || \'album_info\'">\n    <div class="column_layout-column_span column_layout-column_span--secondary">\n      <div\n        class="toggleable_list_item"\n        ng-class="{\'toggleable_list_item--selected\': $ctrl.current_edit_panel === \'album_info\'}"\n        ng-click="$ctrl.current_edit_panel = \'album_info\'"\n      >Edit Info</div>\n      <div\n        class="toggleable_list_item"\n        ng-class="{\'toggleable_list_item--selected\': $ctrl.current_edit_panel === \'cover_art\'}"\n        ng-click="$ctrl.current_edit_panel = \'cover_art\'"\n      >Edit Cover Art</div>\n    </div>\n\n    <div class="column_layout-column_span column_layout-column_span--primary" ng-switch="$ctrl.current_edit_panel">\n      <album-metadata-form\n        ng-switch-when="album_info"\n        album="$ctrl.page_data.album"\n        on-save="$ctrl.save(album)"\n        close="$ctrl.close_form()"\n        yields-is-dirty="$ctrl.is_form_dirty = is_dirty"\n      ></album-metadata-form>\n\n      <cover-art-form\n        ng-switch-when="cover_art"\n        cover-artable="$ctrl.page_data.album"\n        cover-arts="$ctrl.page_data.album.cover_arts"\n        type="album"\n        close="$ctrl.close_form()"\n        yields-is-dirty="$ctrl.is_form_dirty = is_dirty"\n      ></cover-art-form>\n    </div>\n  </div>\n</modal-window>\n\n<div class="column_layout u-top_margin">\n  <div class="column_layout-column_span column_layout-column_span--primary">\n    <div ng-hide="$ctrl.editing_tracklist">\n      <div class="square_button u-bottom_margin" ng-click="$ctrl.editing_tracklist = !$ctrl.editing_tracklist" ng-if="$ctrl.has_permission(\'edit\')">Edit Tracklist</div>\n      <div class="square_button u-bottom_margin" ng-click="$ctrl.editing = true" ng-if="$ctrl.has_permission(\'edit\')">Edit Album Info</div>\n      <album-admin-menu ng-if="$ctrl.user_signed_in" album="$ctrl.page_data.album" album-appearances="$ctrl.page_data.album_appearances"></album-admin-menu>\n      <h2\n        class="text_label text_label--gray u-half_bottom_margin"\n      >{{ $ctrl.page_data.album.name }} Tracklist</h2>\n      <album-tracklist-row\n        ng-repeat="album_appearance in $ctrl.page_data.album_appearances track by album_appearance.id"\n        album-appearance="album_appearance"\n        show-artist="$ctrl.page_data.album.artist.id !== album_appearance.song.primary_artist.id"\n      ></album-tracklist-row>\n    </div>\n    <editable-tracklist\n      ng-if="$ctrl.editing_tracklist"\n      album="$ctrl.page_data.album"\n      album-appearances="$ctrl.page_data.album_appearances"\n      editing="$ctrl.editing_tracklist"\n      on-update="$ctrl.page_data.album_appearances = album_appearances"\n      close="$ctrl.editing_tracklist = false"\n    ></editable-tracklist>\n\n    <recirculated-content\n      stories="$ctrl.page_data.related_articles"\n    ></recirculated-content>\n\n    <comments type="albums" commentable="$ctrl.page_data.album"></comments>\n  </div>\n\n  <div class="column_layout-column_span column_layout-column_span--secondary">\n    <relevant-videos\n      object="$ctrl.page_data.album"\n      placement="sidebar"\n      container-classes="white_container"\n      variants="{show_container_label: true}"\n    ></relevant-videos>\n\n    <div class="white_container u-x_large_top_margin">\n      <description-referent\n        object="$ctrl.page_data.album.description_annotation"\n        variants="{truncated: true}"\n      ></description-referent>\n    </div>\n\n    <dfp-ad\n      class="u-display_block"\n      name="desktop_album_sidebar"\n      ad-classes="{\'u-top_margin\': $filled}"\n    ></dfp-ad>\n\n    <h4\n      class="text_label text_label--gray u-x_large_top_margin u-half_bottom_margin"\n    >“{{ $ctrl.page_data.album.name }}” Q&amp;A</h4>\n    <div class="white_container">\n      <defer-compile\n        use-initial-content-with-key="question_list"\n        within-visibility-range="150px"\n        delay="500"\n      >\n        <question-list\n          questionable="$ctrl.page_data.album"\n          pinned-questions="$ctrl.page_data.pinned_questions"\n          pending-question-count="$ctrl.page_data.pending_question_count"\n          featured-question="$ctrl.page_data.featured_question"\n        ></question-list>\n      </defer-compile>\n    </div>\n\n    <div ng-if="!$ctrl.hide_leaderboard">\n      <h4\n        class="text_label text_label--gray u-x_large_top_margin u-half_bottom_margin"\n      >Top “{{$ctrl.page_data.album.name}}” scholars</h4>\n      <div class="white_container">\n        <paginated-leaderboard\n          source="$ctrl.get_leaderboard_page"\n          per-page="10"\n          on-empty="$ctrl.hide_leaderboard = true"\n          ng-attr-extra-info="{{$ctrl.page_data.album.current_user_metadata.iq_on_object ? \'Your IQ on \' + $ctrl.page_data.album.name + \': \' + ($ctrl.page_data.album.current_user_metadata.iq_on_object | number:0) : undefined}}"\n        ></paginated-leaderboard>\n      </div>\n    </div>\n\n    <div ng-if="$ctrl.page_data.album.performance_groups.length > 0">\n      <div class="white_container u-x_large_top_margin">\n        <h4\n          class="text_label u-half_bottom_margin"\n        >Album Credits</h4>\n        <div\n          ng-repeat="label_artists in $ctrl.page_data.album.performance_groups track by $index"\n        >\n          <expandable-list\n            collection="label_artists.artists"\n            template="additional_artists"\n            limit="3"\n            label="{{label_artists.label}}"\n            variants="{table: true}"\n          ></expandable-list>\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="$ctrl.page_data.album.song_performances.length > 0">\n      <div class="white_container u-x_large_top_margin">\n        <h4\n          class="text_label u-half_bottom_margin"\n        >Song Credits</h4>\n        <div\n          ng-repeat="label_artists in $ctrl.page_data.album.song_performances | limitTo: $ctrl.album_credits_expanded ? null : 5 track by $index"\n        >\n          <expandable-list\n            collection="label_artists.artists"\n            template="additional_artists"\n            limit="3"\n            label="{{label_artists.label}}"\n            variants="{table: true}"\n          ></expandable-list>\n        </div>\n        <a\n          class="test_label text_label--purple u-top_margin u-display_block u-clickable"\n          ng-if="$ctrl.page_data.album.song_performances.length > 5"\n          ng-click="$ctrl.album_credits_expanded = !$ctrl.album_credits_expanded"\n        >\n          {{$ctrl.album_credits_expanded ? \'Show Fewer\' : \'Show \' + ($ctrl.page_data.album.song_performances.length - 5) + \' More\' }}\n          <svg ng-show="!$ctrl.album_credits_expanded" src="down_arrow.svg" class="inline_icon inline_icon--gray inline_icon--short"></svg>\n          <svg ng-show="$ctrl.album_credits_expanded" src="up_arrow.svg" class="inline_icon inline_icon--gray inline_icon--short"></svg>\n        </a>\n      </div>\n    </div>\n\n    <div ng-if="$ctrl.page_data.other_albums_by_artist.length > 0">\n      <h4\n        class="text_label text_label--gray u-x_large_top_margin u-half_bottom_margin"\n      >More {{$ctrl.page_data.album.artist.name}} albums</h4>\n\n      <album-grid\n        albums="$ctrl.page_data.other_albums_by_artist"\n        artist="$ctrl.page_data.album.artist"\n        count="2"\n        variants="{item_size: \'half\'}"\n      ></album-grid>\n    </div>\n  </div>\n</div>\n\n<div class="gray_container u-xx_large_top_margin">\n  <breadcrumbs order="[$ctrl.page_data.album.artist, $ctrl.page_data.album]"></breadcrumbs>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("album_tracklist_row.html",'<div class="chart_row chart_row--light_border chart_row--full_bleed_left chart_row--align_baseline chart_row--no_hover">\n  <div class="chart_row-number_container chart_row-number_container--align_left">\n    <span class="chart_row-number_container-number chart_row-number_container-number--gray">\n      <span>{{$ctrl.album_appearance.track_number}}</span>\n    </span>\n  </div>\n  <div class="chart_row-content">\n    <a ng-if="$ctrl.can(\'view\')" ng-href="{{$ctrl.album_appearance.song.url}}" class="u-display_block">\n      <h3 class="chart_row-content-title">\n        {{$ctrl.show_artist ? $ctrl.album_appearance.song.full_title : $ctrl.album_appearance.song.title_with_featured}}\n        <span class="chart_row-content-title-subtitle">Lyrics</span>\n        <svg src="checky.svg" class="checky checky--up_1 u-quarter_horizontal_margins" ng-if="$ctrl.album_appearance.song.has_verified_artists"></svg>\n      </h3>\n    </a>\n    <h3 ng-if="!$ctrl.can(\'view\')" class="chart_row-content-title">\n      {{$ctrl.show_artist ? $ctrl.album_appearance.song.full_title : $ctrl.album_appearance.song.title_with_featured}}\n      <span class="chart_row-content-title-subtitle">Lyrics</span>\n      <svg src="checky.svg" class="checky checky--up_1 u-quarter_horizontal_margins" ng-if="$ctrl.album_appearance.song.has_verified_artists"></svg>\n    </h3>\n    <div ng-if="$ctrl.expanded">\n      <div ng-if="$ctrl.has_credits()" class="u-half_top_margin">\n        <expandable-list\n          collection="$ctrl.album_appearance.song.featured_artists"\n          label="Featuring"\n          limit="2"\n          template="additional_artists"\n        ></expandable-list>\n        <expandable-list\n          collection="$ctrl.album_appearance.song.producer_artists"\n          label="Produced by"\n          limit="2"\n          template="additional_artists"\n        ></expandable-list>\n        <expandable-list\n          collection="$ctrl.album_appearance.song.writer_artists"\n          label="Written by"\n          limit="2"\n          template="additional_artists"\n        ></expandable-list>\n      </div>\n      <div ng-if="$ctrl.album_appearance.song.description_preview" class="rich_text_formatting u-half_top_margin">\n        <span>{{ $ctrl.album_appearance.song.description_preview | truncateToBoundary:125:{with_ellipsis: true} }}</span>\n        <a class="chart_row-content-read_more" ng-href="{{$ctrl.album_appearance.song.url}}">\n          <span>read more</span>\n          <svg src="external.svg" class="inline_icon inline_icon--dark_purple inline_icon--half_height"></svg>\n        </a>\n      </div>\n      <song-missing-metadata\n        ng-if="$ctrl.can(\'edit_anything\')"\n        song="$ctrl.album_appearance.song"\n        possible-missing-info="[\'writer_artists\', \'producer_artists\', \'release_date_components\']"\n      ></song-missing-metadata>\n    </div>\n  </div>\n  <div\n    class="chart_row-metadata_element chart_row-metadata_element--large"\n    ng-if="$ctrl.album_appearance.song.lyrics_state === \'unreleased\'"\n    tether-drop-target\n  >\n    {{:: \'song.lyrics_state.unreleased.indicator\' | i18n }}\n    <tether-drop show-on="hover">\n      <div class="tooltip u-half_left_margin">{{:: \'song.lyrics_state.unreleased.message\' | i18n }}</div>\n    </tether-drop>\n  </div>\n  <div\n    class="chart_row-metadata_element chart_row-metadata_element--large"\n    ng-if="$ctrl.album_appearance.song.lyrics_state === \'incomplete\'"\n    tether-drop-target\n  >\n    {{:: \'song.lyrics_state.incomplete.indicator\' | i18n }}\n    <tether-drop show-on="hover">\n      <div class="tooltip u-half_left_margin">{{:: \'song.lyrics_state.incomplete.message\' | i18n }}</div>\n    </tether-drop>\n  </div>\n  <div\n    class="chart_row-metadata_element chart_row-metadata_element--hot chart_row-metadata_element--large"\n    ng-if="$ctrl.album_appearance.song.lyrics_state === \'complete\' && $ctrl.album_appearance.song.stats.concurrents + 1 > 50"\n  >\n    <svg src="fire.svg" class="inline_icon inline_icon--pink inline_icon--reading_size inline_icon--up_2"></svg>\n    {{$ctrl.album_appearance.song.stats.concurrents + 1 | number}}\n  </div>\n  <div\n    class="chart_row-metadata_element chart_row-metadata_element--large"\n    ng-if="$ctrl.album_appearance.song.lyrics_state === \'complete\' && $ctrl.album_appearance.song.stats.pageviews"\n  >\n    <svg src="eye.svg" class="inline_icon inline_icon--up_1"></svg>\n    {{$ctrl.album_appearance.song.stats.pageviews | abbreviateBigNumber}}\n  </div>\n  <div\n    class="chart_row-expand u-increase_tap_area_full_space"\n    ng-class="{\'chart_row-expand--expanded\': $ctrl.expanded}"\n    ng-click="$ctrl.expanded = !$ctrl.expanded"\n  >\n    <svg\n      src="down_arrow.svg"\n      ng-if="($ctrl.album_appearance.song.description_preview || $ctrl.has_credits() || $ctrl.can(\'edit_anything\'))"\n      class="inline_icon inline_icon--gray inline_icon--up_1 inline_icon--short"\n    ></svg>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("annotatable_image.html",'<div class="annotatable_image" on-hover-with-no-digest="ctrl.set_current_hover_and_digest(hover)">\n  <div class="annotatable_image-add_annotation_button" ng-if="hovering_over_image">\n    <add-annotation\n      ng-if="!creating_image_referent && !image_referent_created"\n      creating-referent="false"\n      can-add-pinned-annotation="can_perform(\'add_pinned_annotation_to\', song)"\n      can-add-community-annotation="can_perform(\'add_community_annotation_to\', song)"\n      song="song"\n      annotation="annotation"\n      start-new-community-referent="ctrl.create_image_referent({community: true})"\n      start-new-referent="ctrl.create_image_referent()"\n    ></add-annotation>\n    <placeholder-spinner ng-if="creating_image_referent"></placeholder-spinner>\n  </div>\n  <img sized-src="src"/>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("annotation.html",'<div\n  ng-if="annotation.state === \'pending\'"\n  class="dashed_background_message u-clickable"\n  tether-drop-target\n>\n  <svg class="inline_icon inline_icon--pink" src="alert.svg"></svg>\n  <span ng-if="variants.isDescription">{{ \'annotation.unreviewed_notice.notice_description_fragment\' | i18n:{annotation_name: (referent.annotatable._type | descriptionAnnotationName)} }}</span>\n  <span ng-if="!variants.isDescription">{{ \'annotation.unreviewed_notice.notice_fragment\' | i18n }}</span>\n  <span class="dashed_background_message-underlined_word">{{ \'annotation.unreviewed_notice.notice_adjective\' | i18n }}</span>\n\n  <tether-drop\n    show-on="hover"\n    position="bottom center"\n  >\n    <div\n      class="tooltip tooltip--tiny u-half_vertical_margins u-half_horizontal_margins"\n      stop-propagation="click"\n    >\n      <p>\n        {{ \'annotation.unreviewed_notice.tooltip\' | i18n }}\n        <a ng-href="{{ctrl.unreviewed_annotation_tooltip_info_url}}" target="_blank">{{ \'annotation.unreviewed_notice.tooltip_link\' | i18n }}</a>.\n      </p>\n    </div>\n  </tether-drop>\n</div>\n\n<user-badge\n  ng-if="annotation.verified && annotation.new"\n  size="medium"\n  object="annotation.authors[0].user"\n  pinned-role="annotation.authors[0].pinned_role"\n  sponsor="annotation.source && annotation.source.name"\n  variants="{\'hide_iq\': annotation.source && annotation.source.name}"\n></user-badge>\n\n<user-badge-and-timestamp\n  ng-if="annotation.verified && !annotation.new"\n  size="medium"\n  user="annotation.authors[0].user"\n  pinned-role="annotation.authors[0].pinned_role"\n  time="annotation.created_at"\n  sponsor="annotation.source && annotation.source.name"\n  variants="{\'hide_iq\': annotation.source && annotation.source.name}"\n></user-badge-and-timestamp>\n\n<div\n  class="annotation_label"\n  ng-class="{\'u-clickable\': !ctrl.annotation_is_unwritten()}"\n  ng-if="ctrl.show_annotation_label() && annotation.state !== \'pending\'"\n  ng-click="toggle_contributors()"\n>\n  <h3 ng-if="variants.isDescription" class="u-inline">{{:: ctrl.annotation_title() }}</h3>\n  <span ng-if="!variants.isDescription">{{:: ctrl.annotation_title() }}</span>\n  <span class="annotation_label-underline" ng-if="!ctrl.annotation_is_unwritten()">\n    {{ annotation.authors.length }} {{ \'terms.contributor\' | i18n:{count:annotation.authors.length} }}\n  </span>\n</div>\n\n<div ng-if="ctrl.show_placeholder_annotation_label()" class="placeholder">\n  <div class="placeholder-pulsing_content u-bottom_margin">\n    <placeholder-user-badge size="x_small"></placeholder-user-badge>\n  </div>\n</div>\n\n<user-badge-and-timestamp\n  ng-if="annotation.state === \'pending\'"\n  size="x_small"\n  user="annotation.authors[0].user"\n  pinned-role="annotation.authors[0].pinned_role"\n  time="annotation.created_at"\n></user-badge-and-timestamp>\n\n<div ng-if="showing_contributors && !ctrl.annotation_is_unwritten()">\n  <leaderboard collection="annotation.authors"></leaderboard>\n  <div class="u-half_vertical_margins">\n    <span ng-click="ctrl.showing_all_versions = true" class="u-float_right text_label text_label--x_small_text_size text_label--button">View all edits</span>\n    <div class="leaderboard_footer">\n      <p>\n        Created by\n        <a href="{{ annotation.created_by.url }}">{{ annotation.created_by.name }}</a>\n        <time-ago time="annotation.created_at"></time-ago>\n      </p>\n      <p ng-if="annotation.state !== \'pending\' && annotation.accepted_by">\n        Accepted by\n        <a href="{{ annotation.accepted_by.url }}">{{ annotation.accepted_by.name }}</a>\n      </p>\n    </div>\n  </div>\n</div>\n\n<div ng-if="ctrl.annotation_is_being_created_by_someone_else()">\n  <div class="annotation_label u-half_bottom_margin">{{ \'annotation.currently_annotating.header\' | i18n }}</div>\n  {{\n    {\n      \'annotation.currently_annotating.default_body\': !can(\'destroy\'),\n      \'annotation.currently_annotating.taking_awhile_body\': can(\'destroy\')\n    } | i18n:{name: annotation.created_by.login}\n  }}\n  <div class="u-top_margin" ng-if="can(\'destroy\')">\n    <square-item-and-iq\n      event-type="you_deleted_an_annotation"\n      show-pill="!ctrl.is_authored_by_current_user()"\n    >\n      <button\n        ng-click="delete()"\n        confirm="Are you sure?"\n        class="square_button square_button--red"\n      >Delete</button>\n    </square-item-and-iq>\n  </div>\n</div>\n\n<div\n  ng-if="\n    ctrl.annotation_is_unwritten() &&\n    (annotation.needs_exegesis || can(\'edit\')) &&\n    !annotation._editing._form_visible &&\n    ctrl.user_signed_in &&\n    !annotation.deleted\n  "\n  class="u-bottom_margin"\n>\n  <div ng-if="disable_saving_with !== \'Saving\'">\n    <square-item-and-iq\n      event-type="{{ annotation.verified ? \'created_pinned_annotation\' : \'created_community_annotation\' }}"\n      variants="{full_width: true}"\n    >\n      <textarea\n        ng-click="start_editing()"\n        class="square_input square_input--full_width square_input--single_line_height"\n        placeholder="{{(\'annotation.prompts.\' + (variants.isDescription ? \'description\' : \'default\') | i18n:{annotation_name: (referent.annotatable._type | descriptionAnnotationName)})}}"\n        autosize-off\n      ></textarea>\n    </square-item-and-iq>\n\n    <div ng-if="can(\'destroy\')" class="u-half_top_margin">\n      <square-item-and-iq\n        event-type="you_deleted_an_annotation"\n        show-pill="!ctrl.is_authored_by_current_user()"\n      >\n        <button\n          ng-click="delete()"\n          confirm="Are you sure?"\n          class="square_button square_button--red"\n        >Delete</button>\n      </square-item-and-iq>\n    </div>\n  </div>\n\n  <placeholder-spinner ng-if="disable_saving_with === \'Saving\'"></placeholder-spinner>\n</div>\n\n<cosigns ng-if="annotation.cosigned_by.length"></cosigns>\n\n<div\n  class="truncated_annotation_text"\n  ng-if="ctrl.content_is_truncated && !annotation._editing._form_visible && !ctrl.annotation_is_unwritten()"\n>\n  <span\n    embedly\n    class="truncated_annotation_text-body rich_text_formatting"\n    ng-bind-html="annotation.body.html | truncateToBoundary:ctrl.truncation_length:{with_ellipsis: true}"\n  ></span>\n  <span\n    class="truncated_annotation_text-read_more"\n    ng-click="ctrl.content_is_truncated = false"\n  >read more &raquo;</span>\n</div>\n\n<standard-rich-content\n  html="annotation.body.html"\n  ng-show="!annotation._editing._form_visible && !ctrl.annotation_is_unwritten() && !ctrl.content_is_truncated"\n  watch-images-loaded="annotation.body.html"\n  open-links-in-new-window\n  handle-intra-page-links\n></standard-rich-content>\n\n<div\n  ng-if="annotation.source"\n  ng-hide="annotation._editing._form_visible"\n  class="u-bottom_margin "\n>\n  <a\n    ng-if="annotation.source.url"\n    target="_blank"\n    ng-href="{{annotation.source.url}}"\n    class="text_label text_label--button text_label--purple"\n  >\n    <span ng-if="annotation.source.name !== \'Billboard\'">via {{annotation.source.name}}</span>\n    <span ng-if="annotation.source.name === \'Billboard\'">\n      read the full interview on\n      <svg src="billboard.svg" class="inline_icon inline_icon--reading_size inline_icon--up_3"></svg>\n    </span>\n  </a>\n  <span\n    ng-if="!annotation.source.url && annotation.source.name !== \'Billboard\'"\n    class="text_label text_label--purple"\n  >via {{annotation.source.name}}</span>\n  <span\n    ng-if="!annotation.source.url && annotation.source.name === \'Billboard\'"\n    class="text_label text_label--purple"\n  >read the full interview on\n    <svg src="billboard.svg" class="inline_icon inline_icon--reading_size inline_icon--up_3"></svg>\n  </span>\n</div>\n\n<form\n  name="form"\n  ng-if="annotation._editing._form_visible"\n  ng-submit="finish_editing()"\n  ng-model-options="{updateOn: \'submit blur\'}"\n  submit-on-cmd-enter\n  dirtyable\n>\n  <div\n    ng-if="form.$submitted && form.$invalid"\n    class="form_message form_message--error text_label"\n  >{{:: \'annotation.empty_validation\' | i18n}}</div>\n\n  <editable-markdown\n    is-required="true"\n    html="annotation._editing.html"\n    markdown="annotation._editing.markdown"\n    placeholder="{{:: (variants.isDescription ? \'annotation.description_placeholder\' : \'annotation.placeholder\') | i18n }}"\n  ></editable-markdown>\n\n  <div ng-if="can(\'edit_custom_preview\', annotation)">\n    <button\n      ng-if="!ctrl.show_annotation_custom_preview_form()"\n      type="button"\n      class="square_button"\n      ng-click="ctrl.initialize_annotation_custom_preview()"\n    >Add a custom annotation preview</button>\n\n    <div ng-if="ctrl.show_annotation_custom_preview_form()">\n      <label class="text_label">\n        Custom annotation preview\n        <textarea\n          autosize-init-on-focus\n          ng-model="annotation._editing.custom_preview"\n          class="square_input square_input--full_width"\n        ></textarea>\n      </label>\n\n      <button\n        type="button"\n        class="square_button u-top_margin"\n        ng-click="ctrl.clear_annotation_custom_preview()"\n      >Use default preview</button>\n    </div>\n  </div>\n\n  <hr>\n\n  <textarea\n    ng-if="annotation.body.markdown && !annotation.new && !annotation.verified"\n    ng-model="annotation._editing.edit_note"\n    class="square_input square_input--full_width"\n    placeholder="Briefly describe your edit"></textarea>\n\n  <label\n    ng-if="can(\'update_source\', annotation)"\n    class="square_checkbox u-half_top_margin"\n  >\n    <input\n      type="checkbox"\n      stop-propagation="click"\n      ng-model-options="{updateOn: \'default\'}"\n      ng-model="annotation._editing._has_source"\n      mousetrap-input\n    >\n    <div class="text_label">Include Source?</div>\n  </label>\n  <div ng-if="annotation._editing._has_source && can(\'update_source\', annotation)">\n    <input\n      ng-model="annotation._editing.source.name"\n      class="square_input square_input--full_width u-half_top_margin"\n      placeholder="Source"\n    />\n    <input\n      ng-model="annotation._editing.source.url"\n      class="square_input square_input--full_width u-half_top_margin"\n      placeholder="Source URL"\n    />\n  </div>\n\n  <div class="u-top_margin u-xx_large_bottom_margin">\n    <square-item-and-iq\n      event-type="{{ annotation.verified ? \'created_pinned_annotation\' : \'created_community_annotation\' }}"\n      show-pill="annotation.needs_exegesis || annotation.being_created"\n    >\n      <button\n        type="submit"\n        class="square_button square_button--green"\n        ng-class="{\'square_button--waiting\': disable_saving_with}"\n        ng-disabled="disable_saving_with"\n      >{{ disable_saving_with || \'Save\' }}</button>\n    </square-item-and-iq>\n    <button\n      ng-click="cancel_editing()"\n      class="square_button square_button--transparent square_button--gray"\n      ng-hide="disable_saving_with"\n    >Cancel</button>\n  </div>\n</form>\n\n<div\n  ng-if="annotation.body.html"\n  ng-hide="variants.hide_moderation || annotation.needs_exegesis || annotation._editing._form_visible || annotation.deleted"\n  class="u-vertical_margins"\n>\n  <kb shortcut="shift+e" action="start_editing()" ng-if="can(\'edit\')"></kb>\n  <button\n    ng-click="start_editing()"\n    ng-if="can(\'edit\') && !ctrl.content_is_truncated"\n    title="shortcut: shift+e"\n    class="square_button"\n  >Edit</button>\n\n  <button ng-click="toggle_cosign(true)"\n    ng-if="can(\'cosign\') && !saving_cosign || can(\'uncosign\') && saving_cosign && !ctrl.content_is_truncated"\n    class="square_button square_button--green"\n    ng-disabled="saving_cosign"\n  >Cosign</button>\n\n  <button\n    ng-click="toggle_cosign(false)"\n    ng-if="can(\'uncosign\') && !saving_cosign || can(\'cosign\') && saving_cosign && !ctrl.content_is_truncated"\n    class="square_button square_button--transparent square_button--gray"\n    ng-disabled="saving_cosign"\n  >Un-cosign</button>\n\n  <button\n    ng-if="!ctrl.showing_edits && ctrl.edits_to_show_count()"\n    ng-click="ctrl.showing_edits = true"\n    class="square_button"\n    ng-class="{\'square_button--red\': can(\'edit\')}"\n  >\n    {{can(\'edit\') ? \'annotation_edit.resolve_message\' : \'annotation_edit.show_message\' | i18n}} {{ctrl.edits_to_show_count()}} {{ \'annotation_edit\' | i18n:{count: ctrl.edits_to_show_count()} }}\n  </button>\n\n  <button ng-click="ctrl.showing_edits = false" ng-if="ctrl.showing_edits && ctrl.edits_to_show_count()" class="square_button" class="square_button">\n    {{\'annotation_edit.hide_message\' | i18n}}\n  </button>\n\n  <kb shortcut="shift+e" action="start_editing({proposed_edit: true})" ng-if="can(\'propose_edit_to\')"></kb>\n  <button\n    ng-click="start_editing({proposed_edit: true})"\n    ng-if="can(\'propose_edit_to\') && !ctrl.content_is_truncated"\n    title="shortcut: shift+e"\n    class="square_button"\n  >\n    {{ \'annotation.propose_edit_prompt\' | i18n }}\n  </button>\n\n\n  <square-item-and-iq\n    event-type="you_deleted_an_annotation"\n    ng-if="can(\'destroy\') && !ctrl.content_is_truncated"\n    show-pill="!ctrl.is_authored_by_current_user()"\n  >\n    <button ng-click="delete()" confirm="Are you sure?" class="square_button square_button--gray square_button--transparent">Delete</button>\n  </square-item-and-iq>\n\n  <button ng-click-disabled="toggling_pin_status" ng-click="toggle_pin_status()" ng-if="can(\'pin_to_profile\') && !ctrl.content_is_truncated" class="square_button square_button--gray square_button--transparent">\n    <placeholder-spinner ng-show="toggling_pin_status" variants=":: {inline: true}"></placeholder-spinner>\n    Pin To Profile\n  </button>\n\n  <button ng-click-disabled="toggling_pin_status" ng-click="toggle_pin_status()" ng-if="can(\'unpin_from_profile\') && !ctrl.content_is_truncated" class="square_button square_button--gray square_button--transparent">\n    <placeholder-spinner ng-show="toggling_pin_status" variants=":: {inline: true}"></placeholder-spinner>\n    Unpin From Profile\n  </button>\n\n  <button ng-click="clear_votes()" ng-if="can(\'clear_votes\') && !ctrl.content_is_truncated" ng-show="annotation.votes_total < 0" confirm="Are you sure?" class="square_button square_button--gray square_button--transparent">Clear Votes</button>\n</div>\n\n<annotation-edits\n  ng-if="ctrl.showing_edits && ctrl.edits_to_show_count()"\n  object="annotation"\n  on-resolution="ctrl.update_editorial_action_count()"\n  context-updated-at="context_updated_at"\n></annotation-edits>\n\n<div\n  ng-if="rejecting"\n  slide-down\n  slide-down-callback="focus_comment_textarea()"\n  class="comments gray_container u-top_margin"\n>\n  <comment-form\n    on-save="reject_with_comment(comment)"\n    save-text="Submit rejection"\n    saving-text="Rejecting"\n    textarea-placeholder="Explain your rejection"\n    allow-reasons="true"\n    commentable="annotation"\n    show-full-form-by-default="true"\n  ></comment-form>\n</div>\n\n<div ng-if="can(\'accept\') && !variants.hide_moderation && !annotation.deleted" slide-up-on="rejecting">\n  <square-item-and-iq event-type="you_accepted_an_annotation" ng-if="can(\'accept\')">\n    <span\n      ng-click="accept()"\n      class="square_button square_button--green"\n    >Accept</span>\n  </square-item-and-iq>\n  <square-item-and-iq event-type="you_rejected_an_annotation" ng-if="can(\'reject\')">\n    <span\n      ng-click="begin_rejection()"\n      class="square_button square_button--transparent square_button--gray"\n    >Reject</span>\n  </square-item-and-iq>\n  <a\n    href="/Genius-coaching-best-practices-annotated"\n    target="_blank"\n    class="square_button square_button--transparent square_button--x_small_text_size"\n  >Coaching guide</a>\n</div>\n\n<div ng-if="!ctrl.annotation_is_unwritten() && !variants.hide_social" class="u-vertical_margins">\n  <voting\n    vote-total-clicked="toggle_voters()"\n    type="annotation"\n    object="annotation"\n    on-unauthorized="ctrl.prompt_auth = true"\n    variants="{\'hide_upvote_text\': ctrl.content_is_truncated}"\n  ></voting>\n\n  <span\n    ng-click="start_editing()"\n    ng-if="can(\'edit\') && ctrl.content_is_truncated"\n    title="shortcut: shift+e"\n    class="annotation_label"\n  >\n    <span class="annotation_label-underline">\n      {{ variants.isDescription && !annotation.body.html ? (\'annotation.empty_description_prompt\' | i18n:{type_name: (referent.annotatable._type | modelHumanName | withIndefiniteArticle)}) : \'Edit\' }}\n    </span>\n  </span>\n\n  <div class="u-float_right">\n    <div\n      ng-if="variants.hideComments"\n      class="square_button square_button--transparent"\n      ng-class="{\'square_button--purple\': ctrl.hiding_comments, \'square_button--gray\': !ctrl.hiding_comments}"\n      ng-click="ctrl.hiding_comments = !ctrl.hiding_comments"\n    >\n      <svg class="inline_icon inline_icon--reading_size inline_icon--down_1" src="comment.svg"></svg>\n      {{ annotation.comment_count ? annotation.comment_count : \'\' }}\n    </div>\n    <pyong-button\n      ng-if="!ctrl.content_is_truncated"\n      type="annotation"\n      object="annotation"\n      variants="{\'transparent\': true, \'purple\': true}"\n      on-unauthorized="ctrl.prompt_auth = true"\n    ></pyong-button>\n    <div\n      ng-if="!ctrl.content_is_truncated"\n      class="square_button square_button--transparent square_button--gray"\n      ng-click="toggle_ellipsis_menu()"\n    >\n      <svg\n        src="share.svg"\n        class="inline_icon inline_icon--reading_size inline_icon--up_2 inline_icon--gray square_button-right_icon_margin"\n      ></svg>\n      Share\n    </div>\n    <div\n      class="square_button square_button--transparent square_button--gray"\n      tether-drop-target\n    >\n      <svg\n        src="down_arrow.svg"\n        class="inline_icon inline_icon--up_1 inline_icon--short inline_icon--gray"\n      ></svg>\n\n      <tether-drop show-on="click" position="bottom center" on-close="ctrl.choosing_brand = false">\n        <div class="tooltip tooltip--no_padding tooltip--tiny" stop-propagation="click">\n          <span\n             ng-if="!annotation.brand && can(\'set_brand\')"\n             ng-click="ctrl.choosing_brand = true; ctrl.load_brands()"\n             class="tooltip-list_item"\n          >add brand...</span>\n          <span\n             ng-if="can(\'clear_brand\')"\n             ng-click="ctrl.clear_brand()"\n             class="tooltip-list_item"\n          >remove brand</span>\n          <span\n             ng-if="!ctrl.reported_abuse"\n             confirm="Are you sure?"\n             ng-click="ctrl.report_as_abusive()"\n             class="tooltip-list_item"\n          >report abuse</span>\n          <span\n             ng-if="ctrl.reported_abuse"\n             class="tooltip-list_item tooltip-list_item--disabled"\n          >reported</span>\n        </div>\n      </tether-drop>\n\n      <tether-drop ng-if="ctrl.choosing_brand" show-on="always" position="bottom center">\n        <div\n          ng-switch="ctrl.brands"\n          class="tooltip tooltip--no_padding tooltip--tiny"\n          stop-propagation="click"\n        >\n          <div ng-switch-when="null">loading...</div>\n          <div ng-switch-default>\n            <span\n              ng-repeat="brand in ctrl.brands track by brand.id"\n              ng-click="ctrl.choosing_brand = false; ctrl.set_brand(brand)"\n              class="tooltip-list_item"\n            >{{ brand.copy.name }}</span>\n          </div>\n        </div>\n      </tether-drop>\n    </div>\n  </div>\n</div>\n\n<div class="u-vertical_margins" ng-show="showing_ellipsis_menu">\n  <annotation-share-menu\n    annotation="annotation"\n    variants="variants"\n  ></annotation-share-menu>\n</div>\n\n<voters ng-if="showing_voters" type="annotation" object="annotation"></voters>\n\n<authentication-form\n  ng-if="ctrl.prompt_auth"\n  on-cancel="ctrl.prompt_auth = false"\n  variants="{display_in_context: true}"\n></authentication-form>\n\n<div ng-if="focused_comments" class="gray_container">\n  <comment-list\n    comments="focused_comments"\n    commentable="annotation"\n    variants="{first_element_in_container: true}"\n  ></comment-list>\n</div>\n\n<comments\n  ng-if="ctrl.should_show_comments() && !focused_comments"\n  prevent-compose="annotation.needs_exegesis"\n  allow-reasons="!annotation.verified && !variants.isDescription"\n  are-suggestions="!annotation.verified"\n  type="annotations"\n  commentable="annotation"\n  context-updated-at="context_updated_at"\n  on-dirty="on_dirty()"\n  on-clean="on_clean()"\n></comments>\n\n<dfp-ad\n  ng-if="variants.showAd && !ctrl.annotation_is_being_created_by_someone_else()"\n  name="desktop_song_annotation"\n  ad-classes="{\'dfp_unit--in_read u-top_margin\': $filled}"\n  instance-id="annotation_{{annotation.id}}"\n></dfp-ad>\n\n<modal-window ng-if="ctrl.showing_all_versions" on-close="ctrl.showing_all_versions = false">\n  <annotation-history annotation="annotation" on-revert="ctrl.showing_all_versions = false"></annotation-history>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("annotation_edit.html",'<user-badge-and-timestamp size="x_small" user=":: edit.created_by" time=":: edit.created_at"></user-badge-and-timestamp>\n<div class="note_bubble u-small_top_margin" ng-if=":: edit.note" ng-bind-html=":: edit.note"></div>\n\n<rich-text-diff detect-image-diffs ng-if="edit.annotation_before && edit.annotation_after" class="rich_text_formatting" left=":: before_html" right=":: edit.annotation_after.body.html"></rich-text-diff>\n\n<div ng-hide="ctrl.working">\n  <square-item-and-iq\n    event-type="you_merged_an_annotation_edit"\n    ng-if=":: ctrl.can_moderate"\n  >\n    <span\n      class="square_button square_button--green"\n      ng-click="ctrl.merging = true"\n    >Merge</span>\n  </square-item-and-iq>\n  <square-item-and-iq\n    event-type="you_rejected_an_annotation_edit"\n    ng-if=":: ctrl.can_moderate"\n  >\n    <span\n      class="square_button square_button--gray square_button--transparent"\n      confirm="Are you sure?"\n      ng-click="ctrl.reject()"\n    >Reject</span>\n  </square-item-and-iq>\n</div>\n\n<modal-window ng-if="ctrl.merging" on-close="ctrl.merging = false">\n  <div class="proposed_edits">\n    <div class="proposed_edits-before_diff">\n      <div class="text_label text_label--purple form_section_label">Before</div>\n      <standard-rich-content html=":: before_html"></standard-rich-content>\n    </div>\n\n    <div class="proposed_edits-after_diff">\n      <div class="text_label text_label--purple form_section_label">After</div>\n      <standard-rich-content html=":: edit.annotation_after.body.html"></standard-rich-content>\n    </div>\n  </div>\n\n  <div class="u-small_vertical_margins">\n    <span class="square_button square_button--green" ng-click="ctrl.merge()" ng-disabled="working">{{ working ? \'Confirming\' : \'Confirm Merge\' }}</span>\n    <span class="square_button square_button--transparent" ng-click="ctrl.merging = false" ng-hide="working">Cancel</span>\n  </div>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("annotation_edits.html",'<div class="gray_container u-vertical_margins">\n  <annotation-placeholder ng-if="ctrl.loading_edits && (!annotation.edits || !annotation.edits.length)" no-label="true"></annotation-placeholder>\n  <annotation-edit\n    ng-if="!ctrl.loading_edits"\n    ng-repeat="edit in annotation.edits | filter:{_deleted: \'!\', _merged: \'!\'} track by edit.id"\n    object="edit"\n    before-html="annotation.body.html"\n    on-merge="ctrl.on_merge(edit)"\n    on-resolution="on_resolution()"\n    class="comment"\n    ng-class="{\'comment--no_top_margin\': $first}"\n  ></annotation-edit>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("annotation_embed.html",'<div class="annotation_embed annotation_embed--{{$ctrl.display_mode}}_border">\n  <standalone-referent variants="{largeReferent: true, disableTooltips: true, hide_moderation: $ctrl.simple, hide_social: $ctrl.simple, show_full_referent: $ctrl.simple}" object="$ctrl.referent"></standalone-referent>\n  <a\n    ng-href="{{$ctrl.referent.url}}"\n    target="_blank" class="annotation_embed-deep_link"\n    ng-if="!$ctrl.simple"\n  >\n    <svg src="wordmark.svg" class="annotation_embed-wordmark"></svg>\n  </a>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("annotation_history.html",'<div class="annotation_history">\n  <div class="text_label text_label--purple form_section_label">Edit History</div>\n\n  <div class="annotation_history-versions">\n    <placeholder-spinner ng-if="!versions"></placeholder-spinner>\n\n    <div class="annotation_history-version" ng-repeat="version in versions track by version.id">\n      <div class="text_label text_label--purple u-small_vertical_margins" ng-if="$first">Current Version:</div>\n\n      <user-badge-and-timestamp size="x_small" user="version.user" time="version.created_at"></user-badge-and-timestamp>\n\n      <standard-rich-content html="version.body.html"></standard-rich-content>\n\n      <div ng-if="!$first && ctrl.can_revert">\n        <button\n          ng-click="ctrl.revert_to(version.id)"\n          class="square_button square_button--purple"\n          ng-class="{\'square_button--disabled\': reverting_to}"\n          ng-disabled="reverting_to"\n        >\n          {{ reverting_to === version.id ? \'Reverting\' : \'Revert to this version\' }}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("annotation_placeholder.html",'<div class="placeholder" ng-class="[\'annotation_placeholder\', {\'annotation_placeholder--hide\': !showCondition}]">\n  <div class="annotation_label" ng-hide="noLabel">\n    {{:: placeholder_title || (\'annotation.community_brand_name\' | i18n) }}\n  </div>\n\n  <div class="rich_text_formatting placeholder-pulsing_content u-top_margin">\n    <placeholder-text></placeholder-text>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("annotation_share_menu.html",'<div class="ellipsis_menu gray_container">\n  <div class="u-bottom_margin">\n    <facebook-share-button\n      url="$ctrl.annotation.share_url"\n      variants="{ \'showText\': true }"\n    ></facebook-share-button>\n    <twitter-share-button\n      url="$ctrl.annotation.share_url"\n      variants="{ \'showText\': true }"\n      message="$ctrl.annotation.twitter_share_message"\n    ></twitter-share-button>\n  </div>\n  <div class="ellipsis_menu-row">\n    <label for="share_url_{{ $ctrl.annotation.id }}" class="text_label ellipsis_menu-label">Share URL</label>\n    <input\n      id="share_url_{{ $ctrl.annotation.id }}"\n      class="square_input ellipsis_menu-input"\n      value="{{ $ctrl.annotation.share_url }}"\n      readonly\n      select-all-on-click\n    />\n    <div\n      class="square_button"\n      copy-to-clipboard="$ctrl.annotation.share_url"\n      text-to-show-after-copy="Copied!"\n    >Copy</div>\n  </div>\n  <div class="ellipsis_menu-row">\n    <label for="embed_content_{{ $ctrl.annotation.id }}" class="text_label ellipsis_menu-label">Embed</label>\n    <input\n      id="embed_content_{{ $ctrl.annotation.id }}"\n      class="square_input ellipsis_menu-input"\n      value="{{ $ctrl.annotation.embed_content }}"\n      readonly\n      select-all-on-click\n    />\n    <div\n      class="square_button"\n      copy-to-clipboard="$ctrl.annotation.embed_content"\n      text-to-show-after-copy="Copied!"\n    >Copy</div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("annotation_sidebar.html",'<div\n  class="annotation_sidebar_arrow"\n  position-beside="$ctrl.lyrics_positioning_target"\n  apply-annotation-arrow-class\n  ng-show="referent && !referent.stub"\n>\n  <svg src="left_arrow.svg"></svg>\n</div>\n\n<div\n  class="u-relative"\n  ng-class="{\'nganimate-fade_slide_from_left\': referent}"\n  position-beside="$ctrl.lyrics_positioning_target"\n  position-for-maximum-visibility=":: true"\n  click-outside="ctrl.close()"\n  suppress-click-outside-if-handled\n>\n  <div class="annotation_sidebar_unit" ng-show="referent && referent.stub">\n    <annotation-placeholder></annotation-placeholder>\n  </div>\n\n  <div\n    class="annotation_sidebar_unit"\n    ng-class="{\'annotation_sidebar_unit--center_items\': ctrl.can_create_referent_from_selection() || sidebar.signing_up}"\n    ng-if="(!ctrl.referent_creation_failed && ctrl.can_create_referent_from_selection() && !referent) || sidebar.signing_up"\n  >\n    <button ng-if="!ctrl.user_signed_in" class="square_button" ng-hide="sidebar.signing_up" ng-click="sidebar.signing_up = true" ng-bind="\'annotation.sign_up_to_annotate\' | i18n"></button>\n    <authentication-form ng-if="sidebar.signing_up" header-text="\'annotation.sign_up_to_annotate\' | i18n"></authentication-form>\n\n    <add-annotation\n      ng-if="ctrl.can_create_referent_from_selection()"\n      creating-referent="$ctrl.creating_referent"\n      can-add-pinned-annotation="can_perform(\'add_pinned_annotation_to\', song)"\n      can-add-community-annotation="can_perform(\'add_community_annotation_to\', song)"\n      song="song"\n      annotation="annotation"\n      start-new-community-referent="ctrl.start_new_referent_annotation({community: true})"\n      start-new-referent="ctrl.start_new_referent_annotation()"\n      enable-waiting-class="::true"\n    ></add-annotation>\n  </div>\n\n  <div\n    class="annotation_sidebar_unit annotation_sidebar_unit--error"\n    ng-if="ctrl.referent_creation_failed"\n  >\n    <div class="u-vertical_margins">\n      <div class="text_label text_label--red u-half_bottom_margin">Error Saving</div>\n      Something went wrong and your work may not be saved. Please copy your work and reload the page to try again.\n    </div>\n  </div>\n\n  <div\n    ng-if="!ctrl.referent_creation_failed && ctrl.can_create_annotation_type_on_referent(\'verified\')"\n    class="annotation_sidebar_unit annotation_sidebar_unit--verified"\n  >\n    <square-item-and-iq event_type="created_pinned_annotation">\n      <button class="square_button square_button--green" ng-click="ctrl.add_pinned_annotation()">\n        {{::\'annotation.new_verified_prompt\' | i18n}}\n      </button>\n    </square-item-and-iq>\n  </div>\n\n  <div\n    ng-if="referent && !ctrl.referent_creation_failed"\n    ng-repeat="annotation in referent.annotations | filter:{_deleted: \'!\'} track by annotation.id"\n    class="annotation_sidebar_unit"\n    ng-class="{\'annotation_sidebar_unit--verified\': annotation.pinned}"\n    empty-copy-content="referent.fragment_from_lyrics"\n    show-arrow-at-offset\n  >\n    <annotation\n      object="annotation"\n      referent="referent"\n      variants="{showAd: true}"\n      on-dirty="ctrl.annotation_dirty = true"\n      on-clean="ctrl.annotation_dirty = false"\n    ></annotation>\n  </div>\n\n  <div\n    ng-if="!ctrl.referent_creation_failed && ctrl.can_create_community_annotation_on_referent()"\n    class="annotation_sidebar_unit"\n  >\n    <square-item-and-iq event_type="created_community_annotation">\n      <button class="square_button square_button" ng-click="ctrl.add_community_annotation()">\n        {{::\'annotation.new_community_prompt\' | i18n}}\n      </button>\n    </square-item-and-iq>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("answer.html",'<div ng-show="$ctrl.show_answer() && $ctrl.answer.answer_source">\n  <div class="verified_answer">\n    <a ng-href="{{$ctrl.answer.answer_source.artist.url}}">\n      <div\n        class="verified_answer-artist_avatar user_avatar user_avatar--x_large clipped_background_image--background_fill"\n        clipped-background-image=":: $ctrl.answer.answer_source.artist.image_url"\n      ></div>\n    </a>\n\n    <div class="verified_answer-main">\n      <a\n        class="text_label verified_answer-artist"\n        ng-href="{{$ctrl.answer.answer_source.artist.url}}"\n      >\n        {{$ctrl.answer.answer_source.artist.name}}\n        <span ng-if="!$ctrl.answer.answer_source.source_name">:</span>\n      </a>\n\n      <span\n        ng-if="$ctrl.answer.answer_source.source_name"\n        class="tag_label tag_label--lowercase tag_label--gray_background"\n      >via {{ $ctrl.answer.answer_source.source_name }}</span>\n\n      <standard-rich-content\n        html="$ctrl.answer.body.html"\n        watch-images-loaded="$ctrl.answer.body.html"\n        open-links-in-new-window\n        handle-intra-page-links\n        variants="{\'no_vertical_margins\': true}"\n      ></standard-rich-content>\n\n      <div ng-if="$ctrl.answer.editorial_state == \'sourced\'" class="verified_answer-attribution">\n        <a\n          target="_blank"\n          ng-href="{{$ctrl.answer.answer_source.source_url}}"\n          class="text_label text_label--button text_label--purple"\n        >\n          <span ng-if="$ctrl.answer.answer_source.source_name !== \'Billboard\'">via {{$ctrl.answer.answer_source.source_name}}</span>\n          <span ng-if="$ctrl.answer.answer_source.source_name === \'Billboard\'">\n            read the full interview on\n            <svg src="billboard.svg" class="inline_icon inline_icon--reading_size inline_icon--up_3"></svg>\n          </span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div ng-show="$ctrl.show_answer() && !$ctrl.answer.answer_source">\n  <standard-rich-content\n    html="$ctrl.answer.body.html"\n    watch-images-loaded="$ctrl.answer.body.html"\n    open-links-in-new-window\n    handle-intra-page-links\n    variants="{\'no_vertical_margins\': true}"\n  ></standard-rich-content>\n</div>\n\n<div ng-if="$ctrl.show_blank_answer_message()">\n  <em>This question does not yet have an answer.</em>\n</div>\n\n<form\n  name="answer_form"\n  ng-if="$ctrl.show_answer_edit_form()"\n  ng-submit="$ctrl.finish_editing()"\n  ng-model-options="{updateOn: \'submit blur\'}"\n  submit-on-cmd-enter\n  dirtyable\n>\n  <div\n    ng-if="$ctrl.errors"\n    ng-repeat="error in $ctrl.errors"\n    class="form_message form_message--error text_label"\n  >{{ error }}</div>\n\n  <square-item-and-iq\n    ng-if="$ctrl.answer._editing._form_active || !$ctrl.variants.no_answer_prompt"\n    show-pill="!$ctrl.answer._editing._form_active && !$ctrl.answer.id"\n    iq-params="$ctrl.iq_api.answer"\n    variants="{full_width: true}"\n  >\n    <textarea\n      required\n      ng-autofocus="$ctrl.answer._editing._form_active"\n      autosize-init-on-focus\n      ng-focus="$ctrl.start_editing()"\n      ng-model="$ctrl.answer._editing.markdown"\n      class="square_input square_input--full_width square_input--single_line_height"\n      placeholder="{{ \'answer.placeholder\' | i18n }}"\n    ></textarea>\n  </square-item-and-iq>\n\n  <label\n    ng-if="$ctrl.can(\'update_answer_source\', $ctrl.question) && $ctrl.answer._editing._form_active"\n    class="square_checkbox u-half_top_margin"\n  >\n    <input\n      type="checkbox"\n      stop-propagation="click"\n      ng-checked="$ctrl.answer.answer_source || $ctrl.source_form_open"\n      ng-click="$ctrl.source_form_open = !$ctrl.source_form_open"\n      mousetrap-input\n    >\n    <div class="text_label">Add source?</div>\n  </label>\n\n  <label\n    ng-if="$ctrl.can(\'pin\', $ctrl.question) && $ctrl.answer._editing._form_active && !$ctrl.source_form_open && !$ctrl.question_is_pinned()"\n    class="square_checkbox u-half_top_margin"\n  >\n    <input\n      type="checkbox"\n      ng-model="$ctrl.answer._editing.pin_question"\n      ng-model-options="{updateOn: \'default\'}"\n      ng-init="$ctrl.answer._editing.pin_question = true"\n    >\n    <div class="text_label">Pin this answer?</div>\n  </label>\n\n  <div ng-if="$ctrl.source_form_open && $ctrl.can(\'update_answer_source\', $ctrl.question)">\n    <input\n      required\n      autocomplete-with="artist"\n      ng-model="$ctrl.answer.answer_source.artist_name"\n      class="square_input square_input--full_width u-half_top_margin"\n      placeholder="Artist name"\n    />\n    <input\n      ng-model="$ctrl.answer.answer_source.source_name"\n      class="square_input square_input--full_width u-half_top_margin"\n      placeholder="Source"\n    />\n    <input\n      ng-model="$ctrl.answer.answer_source.source_url"\n      class="square_input square_input--full_width u-half_top_margin"\n      placeholder="Source URL"\n    />\n  </div>\n\n  <div class="u-small_top_margin" ng-show="$ctrl.answer._editing._form_active">\n    <square-item-and-iq\n      show-pill="!$ctrl.answer.id"\n      iq-params="$ctrl.iq_api.answer"\n    >\n      <button\n        type="submit"\n        class="square_button"\n        ng-class="{\'square_button--waiting\': $ctrl.disable_saving_with}"\n        ng-disabled="$ctrl.disable_saving_with"\n      >{{ $ctrl.disable_saving_with || \'Save\' }}</button>\n    </square-item-and-iq>\n    <span\n      ng-click="$ctrl.cancel_editing()"\n      class="square_button square_button--transparent square_button--gray"\n      ng-hide="$ctrl.disable_saving_with"\n    >Cancel</span>\n  </div>\n</form>\n\n<div class="question-footer">\n  <voting\n    ng-if="$ctrl.show_answer()"\n    object="$ctrl.answer"\n    variants="{\'hide_upvote_text\': true}"\n    type="answer"\n    on-unauthorized="$ctrl.prompt_auth = true"\n    vote-total-clicked="$ctrl.show_voters = !$ctrl.show_voters"\n    class="u-half_right_margin"\n  ></voting>\n\n  <div\n    class="annotation_label"\n    ng-if="$ctrl.show_contributors()"\n    ng-click="$ctrl.toggle_contributors()"\n  >\n    <span class="annotation_label-underline">\n      {{ $ctrl.question.contributors_count }} {{ \'terms.contributor\' | i18n:{count:$ctrl.question.contributors_count} }}\n    </span>\n  </div>\n</div>\n\n<voters ng-if="$ctrl.show_voters" type="answer" object="$ctrl.answer"></voters>\n\n<authentication-form\n  ng-if="$ctrl.prompt_auth"\n  on-cancel="$ctrl.prompt_auth = false"\n  variants="{display_in_context: true}"\n></authentication-form>\n\n<div ng-if="$ctrl.showing_contributors">\n  <leaderboard collection="$ctrl.answer.authors"></leaderboard>\n  <div ng-if="$ctrl.question.author" class="leaderboard_footer u-half_top_margin">\n    Asked by\n    <a ng-if="$ctrl.question.author.url" ng-href="{{$ctrl.question.author.url}}">{{$ctrl.question.author.name}}</a>\n    <span ng-if="!$ctrl.question.author.url">{{$ctrl.question.author.name}}</span>\n    <time-ago time="$ctrl.question.created_at"></time-ago>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("article_admin_bar.html",'<div\n  ng-if="\n    $ctrl.can(\'edit_article\', $ctrl.video) ||\n    $ctrl.can(\'edit\', $ctrl.article)\n  "\n  class="article_info_and_action_box u-top_margin"\n>\n  <span\n    ng-if="$ctrl.video ? $ctrl.can(\'edit_article\', $ctrl.video) : $ctrl.can(\'edit\', $ctrl.article)"\n    class="article_info_and_action_box-action"\n    title="Edit (shift+e)"\n    ng-click="$ctrl.edit_article()"\n  >\n    <svg src="pencil.svg" class="inline_icon inline_icon--large_reading_size"></svg>\n    <kb\n      shortcut="shift+e"\n      action="$ctrl.edit_article()"\n    ></kb>\n  </span>\n  <span\n    ng-if="$ctrl.video ? $ctrl.can(\'destroy_article\', $ctrl.video) : $ctrl.can(\'destroy\', $ctrl.article)"\n    class="article_info_and_action_box-action u-clickable"\n    ng-click="$ctrl.delete()"\n    title="Delete"\n  >\n    <svg src="x.svg" class="inline_icon inline_icon--red inline_icon--large_reading_size"></svg>\n  </span>\n  <a\n    ng-if="$ctrl.can(\'create_article\', $ctrl.current_user)"\n    class="article_info_and_action_box-action"\n    href="/articles/new"\n    title="New article"\n  >\n    <svg src="new_message.svg" class="inline_icon inline_icon--large_reading_size"></svg>\n  </a>\n  <span\n    ng-if="$ctrl.can(\'manage_articles\', $ctrl.current_user)"\n    class="article_info_and_action_box-action"\n    ng-click="$ctrl.manage_articles()"\n    title="Manage articles (shift+m)"\n  >\n    <svg src="two_documents.svg" class="inline_icon inline_icon--large_reading_size"></svg>\n    <kb\n      shortcut="shift+m"\n      action="$ctrl.manage_articles()"\n    ></kb>\n  </span>\n  <span\n    ng-if=":: $ctrl.can(\'view_video_sources\', $ctrl.video)"\n    ng-click="$ctrl.showing_sources = true"\n    class="article_info_and_action_box-action"\n    title="View video sources (shift+s)"\n  >\n    <svg src="gear.svg" class="inline_icon inline_icon--large_reading_size"></svg>\n    <kb\n      shortcut="shift+s"\n      action="$ctrl.showing_sources = true"\n    ></kb>\n  </span>\n</div>\n\n<modal-window\n  ng-if="$ctrl.showing_sources"\n  on-close="$ctrl.showing_sources = false"\n>\n  <video-edit-form object="$ctrl.video"></video-edit-form>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("article_authors.html",'<div class="article_credit text_label u-vertical_margins">\n  By:\n  <span ng-repeat-start="author in $ctrl.authors track by author.id">{{ $first ? "" : $last ? " &amp; " : ", "}}</span>\n  <a ng-repeat-end ng-href="{{author.url}}" class="text_label--button">{{ author.name }}</a>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("article_content_actions.html",'<div class="article_info_and_action_box">\n  <div class="article_info_and_action_box-action article_info_and_action_box-action--no_padding article_info_and_action_box-action--fill_box">\n    <facebook-share-button\n      url="$ctrl.object.url"\n      variants="{\'transparent\': true}"\n    ></facebook-share-button>\n  </div>\n\n  <div class="article_info_and_action_box-action article_info_and_action_box-action--no_padding article_info_and_action_box-action--fill_box">\n    <twitter-share-button\n      url="$ctrl.object.url"\n      message="$ctrl.object.twitter_share_message"\n      variants="{\'transparent\': true}"\n    ></twitter-share-button>\n  </div>\n\n  <div class="article_info_and_action_box-action article_info_and_action_box-action--no_padding article_info_and_action_box-action--fill_box">\n    <pyong-button\n      type="{{$ctrl.type}}"\n      object="$ctrl.object"\n      on-unauthorized="$ctrl.prompt_auth = true"\n      variants="{\'transparent\': true}"\n    ></pyong-button>\n  </div>\n\n  <div\n    ng-if="!$ctrl.variants.two_rows"\n    class="article_info_and_action_box-action article_info_and_action_box-action--no_padding article_info_and_action_box-action--double_width"\n  >\n    <voting\n      type="{{$ctrl.type}}"\n      object="$ctrl.object"\n      on-unauthorized="$ctrl.prompt_auth = true"\n    ></voting>\n  </div>\n</div>\n\n<div\n  ng-if="$ctrl.variants.two_rows"\n  class="u-vertical_margins u-text_center"\n>\n  <voting\n    vote-total-clicked="$ctrl.toggle_voters()"\n    type="{{$ctrl.type}}"\n    object="$ctrl.object"\n    on-unauthorized="$ctrl.prompt_auth = true"\n  ></voting>\n\n  <voters ng-if="$ctrl.showing_voters" type="{{$ctrl.type}}" object="$ctrl.object"></voters>\n</div>\n\n<modal-window\n  ng-if="$ctrl.prompt_auth"\n  on-close="$ctrl.prompt_auth = false"\n  variants="{narrow_width: true}"\n>\n  <authentication-form></authentication-form>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("article_contributor_badge.html",'<a ng-href="{{:: $ctrl.contributor.url }}" class="user_badge">\n  <div\n    class="user_avatar user_avatar--large u-quarter_right_margin"\n    clipped-background-image="$ctrl.contributor.avatar.small.url"\n  ></div>\n  <div class="user_badge-text">\n    <div class="user_badge-text-emphasis">by {{:: $ctrl.contributor.name }}</div>\n    <div>@{{:: $ctrl.contributor.login }}</div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("article_page.html",'<div class="white_container white_container--no_padding">\n  <div class="grid_layout">\n    <div class="grid_layout--full u-xxx_large_bottom_margin">\n      <dfp-ad\n        class="u-display_block"\n        name="desktop_article_leaderboard"\n        ad-classes="[\'dfp_unit--xx_large_top_margin\', \'dfp_unit--centered_billboard\']"\n      ></dfp-ad>\n\n      <div ng-if="$ctrl.article_params" class="u-flex_directive u-xx_large_vertical_margins">\n        <form action="{{$ctrl.article_update_url}}" method="post" class="u-width_100">\n          <input type="hidden" name="_method" value="put">\n          <input type="hidden" name="authenticity_token" value="{{$ctrl.authenticity_token}}">\n          <hidden-fields key="article" value="$ctrl.article_params"></hidden-fields>\n          <input type="submit" class="square_button square_button--purple u-width_100" value="Save Changes">\n        </form>\n\n        <form action="{{$ctrl.article_edit_url}}" method="post" class="u-width_100">\n          <input type="hidden" name="authenticity_token" value="{{$ctrl.authenticity_token}}">\n          <hidden-fields key="article" value="$ctrl.article_params"></hidden-fields>\n          <input type="submit" class="square_button u-width_100 u-left_margin" value="Continue Editing">\n        </form>\n      </div>\n\n      <h1 class="article_title article_title--outlined u-xx_large_top_margin">{{$ctrl.page_data.article.title}}</h1>\n\n      <div class="u-text_center u-small_top_margin u-x_large_bottom_margin">\n        <div class="article_info_bar">\n          <div class="article_type">{{$ctrl.page_data.article.article_type}}</div>\n\n          <div class="article_info_bar-text u-half_left_margin">\n            <div ng-if="$ctrl.page_data.article.published">\n              {{$ctrl.page_data.article.published_at * 1000 | date:\'mediumDate\'}}\n            </div>\n            <div ng-if="!$ctrl.page_data.article.published && $ctrl.page_data.article.published_at">\n              Scheduled for {{$ctrl.page_data.article.published_at | human_readable_datetime}}\n            </div>\n            <div ng-if="!$ctrl.page_data.article.published && !$ctrl.page_data.article.published_at">\n              Draft\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div ng-if="$ctrl.page_data.article.sponsored" class="u-top_margin u-x_large_bottom_margin">\n        <div ng-if="!$ctrl.page_data.article.sponsor_link" class="article_sponsor">\n          <span class="text_label text_label--gray">{{$ctrl.page_data.article.sponsor_phrase || (\'article.sponsor.phrase\' | i18n)}}</span>\n          <div\n            class="article_sponsor-logo"\n            clipped-background-image="$ctrl.page_data.article.sponsor_image"\n            clipped-background-image-fit-height\n          ></div>\n        </div>\n\n        <a\n          ng-if="$ctrl.page_data.article.sponsor_link"\n          ng-href="{{$ctrl.page_data.article.sponsor_link}}"\n          target="_blank"\n          class="article_sponsor"\n        >\n          <span class="text_label text_label--gray">{{$ctrl.page_data.article.sponsor_phrase || (\'article.sponsor.phrase\' | i18n)}}</span>\n          <div\n            class="article_sponsor-logo"\n            clipped-background-image="$ctrl.page_data.article.sponsor_image"\n            clipped-background-image-fit-height\n          ></div>\n        </a>\n      </div>\n\n      <div class="article_hero" ng-class="{\'article_hero--full_width\': $ctrl.page_data.article.hero_style === \'full\'}">\n        <video\n          brightcove\n          ng-if="$ctrl.video.provider === \'brightcove\'"\n          object="$ctrl.video"\n          player-name="standard"\n          class="article_hero-asset video-js"\n          ng-attr-poster="{{$ctrl.page_data.article.preview_image}}"\n        ></video>\n\n        <div ng-if="$ctrl.video.provider !== \'brightcove\'">\n          <div\n            ng-if="!$ctrl.player_state.is_loaded"\n            clipped-background-image="$ctrl.page_data.article.preview_image"\n            clipped-background-image-fit-height\n            class="article_hero-asset article_hero-asset--background_image"\n          ></div>\n\n          <embedly-player\n            controls="true"\n            ng-if="$ctrl.video"\n            ng-show="$ctrl.player_state.is_loaded"\n            media="$ctrl.video"\n            player-class="article_hero-embedly_player_container"\n            yields-api="$ctrl.player_api = api"\n            yields-state="$ctrl.player_state = state"\n            allow-full-screen="true"\n            preload="true"\n          ></embedly-player>\n        </div>\n      </div>\n\n      <div\n        ng-if="$ctrl.page_data.article.hero_caption"\n        class="u-text_center text_label text_label--light text_label--x_small_text_size text_label--gray text_label--underline_links u-top_margin"\n        ng-bind-html="$ctrl.page_data.article.hero_caption.html"\n      ></div>\n    </div>\n\n    <div class="grid_layout--sidebar">\n      <div class="article_info_and_action_box article_info_and_action_box--full_padding u-bottom_margin">\n        <div>\n          <div\n            ng-repeat="author in $ctrl.page_data.article.authors track by author.id"\n            ng-class="{\'u-bottom_margin\': !$last}"\n          >\n            <article-contributor-badge object="author"></article-contributor-badge>\n          </div>\n        </div>\n      </div>\n\n      <article-admin-bar article="$ctrl.page_data.article"></article-admin-bar>\n\n      <div class="u-top_margin">\n        <article-content-actions\n          type="article"\n          object="$ctrl.page_data.article"\n          variants="{\'two_rows\': true}"\n        ></article-content-actions>\n      </div>\n\n\n      <div\n        ng-repeat="(section, options) in {artists: {title: \'Artists\', link_title: \'name\'}, albums: {title: \'Albums\', link_title: \'name\'}, songs: {title: \'Songs\', link_title: \'title\'}} track by section"\n        ng-if="$ctrl.page_data.article[\'referenced_\' + section].length > 0" class="u-xx_large_vertical_margins"\n      >\n        <div class="text_label text_label--light text_label--x_small_text_size text_label--gray u-bottom_margin">Referenced {{options.title}}</div>\n\n        <div ng-repeat="reference in $ctrl.page_data.article[\'referenced_\' + section] track by reference.id" class="u-half_bottom_margin">\n          <a ng-href="{{reference.url}}" class="article_reference_link" target="_blank">\n            {{reference[options.link_title]}}\n          </a>\n        </div>\n      </div>\n\n      <div ng-if="$ctrl.page_data.article.draft && $ctrl.page_data.article.preview_url" class="u-xx_large_vertical_margins">\n        <div class="text_label text_label--light text_label--x_small_text_size text_label--gray u-half_bottom_margin">External Preview URL</div>\n        <a ng-href="{{$ctrl.page_data.article.preview_url}}" class="article_reference_link article_reference_link--no_text_transform" target="_blank">{{$ctrl.page_data.article.preview_url}}</a>\n      </div>\n\n      <dfp-ad\n        class="u-display_block"\n        name="desktop_article_sidebar"\n        ad-classes="[\'dfp_unit--vertical_margins\']"\n      ></dfp-ad>\n    </div>\n\n    <div class="grid_layout--main u-xxx_large_bottom_margin">\n      <div>\n        <h2 class="article_dek">\n          <hang-initial-quote content="$ctrl.page_data.article.dek"></hang-initial-quote>\n        </h2>\n\n        <standard-rich-content\n          html="$ctrl.page_data.article.body.html"\n          variants="{article: true}"\n          open-links-in-new-window\n        ></standard-rich-content>\n      </div>\n\n      <div tracking="scroll_into_view" tracking-event="Article Page View Footer"></div>\n\n      <div class="u-xxx_large_top_margin">\n        <div class="u-large_bottom_margin">\n          <span class="text_label text_label--x_small_text_size text_label--gray">Share</span>\n        </div>\n\n        <div class="u-top_margin">\n          <article-content-actions type="article" object="$ctrl.page_data.article"></article-content-actions>\n        </div>\n\n        <div class="u-xxx_large_top_margin u-large_bottom_margin">\n          <span class="text_label text_label--x_small_text_size text_label--gray">Comments</span>\n        </div>\n\n        <comments\n          variants="{no_background: true}"\n          type="articles"\n          commentable="$ctrl.page_data.article"\n        ></comments>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div ng-if="$ctrl.page_data.article.suggested_articles.length" class="grid_layout grid_layout--gray_background">\n  <div class="grid_layout--full u-xxx_large_vertical_margins">\n    <div class="article_title u-text_uppercase u-xx_large_bottom_margin">Next Up</div>\n    <div class="article_next_up">\n      <a\n        ng-repeat="suggested_article in $ctrl.page_data.article.suggested_articles track by suggested_article.id"\n        ng-href="{{suggested_article.url}}"\n        class="article_next_up-article"\n        ng-class="{\'u-xx_large_left_margin\': !$first}"\n      >\n        <div\n          clipped-background-image="suggested_article.preview_image"\n          ng-attr-clipped-background-image-fit-height="{{$ctrl.page_data.article.suggested_articles.length === 1 ? \'true\' : undefined}}"\n          class="article_next_up-article-image"\n        ></div>\n        <div class="u-text_center u-vertical_margins">\n          <div class="article_type">{{suggested_article.article_type}}</div>\n        </div>\n        <div\n          class="article_next_up-article-title"\n          ng-class="{\'article_next_up-article-title--large\': $ctrl.page_data.article.suggested_articles.length === 1 }"\n        >{{suggested_article.title}}</div>\n      </a>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("artist_badge.html",'<a ng-href="{{:: $ctrl.artist.url}}" class="user_badge">\n  <div class="user_avatar user_avatar--x_small" clipped-background-image=":: $ctrl.artist.image_url"></div>\n  <div class="user_badge-text">\n    <span class="user_badge-login">{{:: $ctrl.artist.name }}</span>\n    <svg ng-if=":: $ctrl.artist.is_verified" class="checky" src="checky.svg"></svg>\n    <span class="user_badge-iq tag_label tag_label--yellow_background" ng-if=":: $ctrl.artist.iq">{{:: $ctrl.artist.iq | number:0 }}</span>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("artist_opportunities.html",'<scrollable-data\n  src="$ctrl.scrollable_data"\n  repeat-with="opp"\n  scroll-mechanism="infinite_scroll"\n>\n  <contribution-opportunity\n    contribution-opportunity="opp"\n    source="artist_opportunities"\n  ></contribution-opportunity>\n</scrollable-data>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("artist_songs.html",'<div class="square_input_and_icon">\n  <svg src="magnifying_glass.svg" class="square_input_and_icon-icon"></svg>\n  <input\n    ng-change="$ctrl.search()"\n    ng-model="$ctrl.search_text"\n    type="text"\n    class="square_input u-clickable"\n    placeholder="Search {{ $ctrl.artist.name }} Songs"\n    ng-autofocus="true"\n  >\n</div>\n\n<div class="profile_list_item profile_list_item--large_padding">\n  <span class="text_label text_label--x_small_text_size text_label--gray">\n    <span ng-if="$ctrl.search_text.length">\n      <span ng-if="$ctrl.searching">Searching...</span>\n      <span ng-if="!$ctrl.searching">\n        {{ \'profile_page.songs.search\' | i18n:{count: $ctrl.artist_song_infinite_scrollable_data.total_entries} }}\n      </span>\n    </span>\n    <span ng-if="!$ctrl.search_text.length">{{:: \'profile_page.songs.all\' | i18n }}</span>\n  </span>\n  <span ng-if="!$ctrl.search_text.length" class="u-float_right u-clickable">\n    <span class="text_label text_label--pink text_label--x_small_text_size" ng-click="$ctrl.sort_dropdown_opened = !$ctrl.sort_dropdown_opened" click-outside="$ctrl.sort_dropdown_opened = false">\n      {{\'sort.\' + $ctrl.sort_method | i18n}}\n      <svg class="inline_icon inline_icon--short inline_icon--up_1 inline_icon--pink" src="down_arrow.svg"></svg>\n    </span>\n    <div\n      class="tooltip tooltip--tiny tooltip--no_padding tooltip--dock_top_right"\n      ng-show="$ctrl.sort_dropdown_opened"\n      ng-click="$ctrl.sort_dropdown_opened = false"\n    >\n      <div class="tooltip-list_item" ng-click="$ctrl.sort_songs_by(\'popularity\');" ng-show="$ctrl.sort_method !== \'popularity\'">\n        {{:: \'sort.popularity\' | i18n }}\n      </div>\n      <div class="tooltip-list_item" ng-click="$ctrl.sort_songs_by(\'title\');" ng-show="$ctrl.sort_method !== \'title\'">\n        {{:: \'sort.title\' | i18n }}\n      </div>\n      <div class="tooltip-list_item" ng-click="$ctrl.sort_songs_by(\'release_date\');" ng-show="$ctrl.sort_method !== \'release_date\'">\n        {{:: \'sort.release_date\' | i18n }}\n      </div>\n      <div class="tooltip-list_item" ng-click="$ctrl.sort_songs_by(\'unreviewed_annotations\');" ng-show="$ctrl.can(\'sort_artist_songs\', $ctrl.artist) && $ctrl.sort_method !== \'unreviewed_annotations\'">\n        {{:: \'sort.unreviewed_annotations\' | i18n }}\n      </div>\n    </div>\n  </span>\n</div>\n<scrollable-data src="$ctrl.artist_song_infinite_scrollable_data" scroll-mechanism="infinite_scroll" repeat-with="song">\n  <div class="profile_list_item" ng-class="{\'profile_list_item--last\': $last}">\n    <mini-song-card object="song" variants="{small: true, show_unreviewed_count: $ctrl.sort_method == \'unreviewed_annotations\'}"></mini-song-card>\n  </div>\n</scrollable-data>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("artist_songs_and_albums.html",'<div ng-if="$ctrl.artist_songs.length > 0" class="text_label text_label--gray u-xx_large_top_margin u-half_bottom_margin">Popular {{$ctrl.artist.name}} songs</div>\n\n<div class="mini_card_grid">\n  <div class="mini_card_grid-song" ng-if="$ctrl.artist_songs.length > 0" ng-repeat="song in $ctrl.artist_songs">\n    <mini-song-card object="song" artist="$ctrl.artist"></mini-song-card>\n  </div>\n</div>\n\n<div\n  ng-if="$ctrl.artist_has_more_songs && $ctrl.artist_songs.length > 0"\n  class="full_width_button u-clickable"\n  ng-class="{\'u-bottom_margin\' :$ctrl.artist_songs.length >= 10}"\n  ng-click="$ctrl.open_all_songs_pane()"\n>\n  Show all songs by {{ $ctrl.artist.name }} <svg class="inline_icon inline_icon--reading_size inline_icon--up_1" src="right_arrow.svg"></svg>\n</div>\n\n<div ng-if="$ctrl.artist_songs && $ctrl.artist_songs.length == 0">\n  <div class="text_label text_label--gray u-xx_large_vertical_margins">\n    There are no songs by this artist on Genius\n  </div>\n</div>\n\n<div ng-if="$ctrl.artist_albums.length" class="text_label text_label--gray u-xx_large_top_margin u-half_bottom_margin">Popular {{$ctrl.artist.name}} albums</div>\n\n<album-grid\n  albums="$ctrl.artist_albums"\n  artist="$ctrl.artist"\n  count="6"\n></album-grid>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("artist_songs_modal.html",'<modal-window\n  ng-if="$ctrl.modal_open"\n  on-close="$ctrl.modal_open = undefined; $ctrl.artist_song_infinite_scrollable_data.reset()"\n  variants="{narrow_width: true, white_background: true}"\n>\n  <artist-songs artist="$ctrl.artist"></artist-songs>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("artist_tooltip.html",'<div class="tooltip user_info_with_actions u-half_vertical_margins u-half_horizontal_margins" stop-propagation="click">\n  <div class="user_badge">\n    <div class="user_avatar user_avatar--xx_large" clipped-background-image="$ctrl.artist.image_url"></div>\n    <div class="user_badge-text">\n      <div class="user_badge-login_and_iq user_badge-login_and_iq--large">\n        <a href="{{ $ctrl.artist.url }}" class="user_badge-login">{{ $ctrl.artist.name }}</a>\n        <span class="user_badge-iq tag_label tag_label--yellow_background" ng-if=":: $ctrl.artist.iq">{{ $ctrl.artist.iq | number:0 }}</span>\n      </div>\n      <div class="user_info_with_actions-user_badge_actions" ng-if=":: $ctrl.artist.user">\n        <a ng-href="{{$ctrl.artist.user.url}}" target="_blank" class="square_button square_button--green">See verified profile</a>\n      </div>\n    </div>\n  </div>\n  <div class="u-top_margin placeholder" ng-if="!$ctrl.artist.description">\n    <div class="placeholder-pulsing_content">\n      <placeholder-text></placeholder-text>\n    </div>\n  </div>\n  <div class="rich_text_formatting u-top_margin" ng-if="$ctrl.artist.description_preview">{{ $ctrl.artist.description_preview | truncateToBoundary:150:{with_ellipsis: true} }}</p>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("artist_verification.html",'<form\n  name="form"\n  ng-submit="form.$valid && $ctrl.verify()"\n  ng-model-options="{updateOn: \'submit\'}"\n  dirtyable\n  exports-form-api="$ctrl.form = api"\n>\n  <div\n    ng-if="$ctrl.errors"\n    ng-repeat="error in $ctrl.errors"\n    class="form_message form_message--error text_label"\n  >{{ error }}</div>\n\n  <div ng-if="!$ctrl.artist" class="square_form-input_and_label u-vertical_margins">\n    <div class="text_label">Verify this user as</div>\n    <input\n      required\n      autocomplete-with="artist"\n      ng-model="$ctrl.name"\n      class="square_input square_form-standard_element_margin"\n      placeholder="Artist name"\n    />\n  </div>\n  <div ng-if="$ctrl.artist" class="u-vertical_margins">\n    Verified as <a ng-href="{{$ctrl.artist.url}}">{{$ctrl.artist.name}}</a>\n  </div>\n\n  <div class="square_form-input_and_label u-vertical_margins">\n    <div class="text_label">Verification Level</div>\n    <div ng-repeat="role in $ctrl.user_verification_roles" class="u-x_small_vertical_margins">\n      <label>\n        <input\n          required\n          name="role"\n          ng-model="$ctrl.role"\n          value="{{role}}"\n          type="radio"\n        />\n        {{role | roleHumanName}}\n      </label>\n    </div>\n  </div>\n\n  <button\n    class="square_button square_button--green u-small_bottom_margin"\n    ng-class="{\'square_button--waiting\': $ctrl.updating()}"\n    ng-disabled="$ctrl.updating()"\n    type="submit"\n  >{{ $ctrl.verifying ? \'Verifying\' : \'Verify\' }}</button>\n  <button\n    ng-if="$ctrl.artist"\n    ng-click="$ctrl.unverify()"\n    class="square_button square_button--red u-small_bottom_margin"\n    ng-class="{\'square_button--waiting\': $ctrl.updating()}"\n    ng-disabled="$ctrl.updating()"\n  >{{ $ctrl.unverifying ? \'Unverifying\' : \'Unverify\' }}</button>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("audio_source_label.html",'<p>\n  <small>{{ $ctrl.track.title }} <strong>on</strong> {{$ctrl.track.album}} <strong>by</strong> <span ng-repeat="artist in $ctrl.track.artists">{{ artist }}{{$last ? \'\' : \', \'}}</span> <strong>from</strong> <a ng-href="$ctrl.track.provider_url" target="_blank">{{ $ctrl.track.provider | capitalize }}</a><span ng-if="$ctrl.track.cached_audio_url"> (with caching)</span></small>\n</p>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("authentication_form.html",'<div class="authentication_form" ng-class="{\'authentication_form--display_in_context\': variants.display_in_context}">\n  <a ng-click="on_cancel()" href="#" prevent-default-click class="u-float_right" ng-if="variants.display_in_context">\n    <svg class="inline_icon inline_icon--purple inline_icon--up_2" src="x.svg"></svg>\n  </a>\n\n  <form ng-submit="ctrl.submit()" ng-model-options="{updateOn: \'submit\'}" submit-on-cmd-enter>\n    <div class="text_label text_label--purple form_section_label">\n      <span ng-if="!header_text">Sign {{ ctrl.signing_in ? \'in to\' : \'up for\' }} Genius</span>\n      <span ng-if="header_text">{{ header_text }}</span>\n    </div>\n\n    <div ng-if="preamble_text" class="u-half_vertical_margins">\n      <p>{{ preamble_text }}</p>\n    </div>\n\n    <div ng-if="include_social !== false">\n      <div class="u-half_vertical_margins">\n        <a href="/auth/facebook" http-method="post" set-desired-location prevent-default-click class="square_button square_button--facebook">\n          <span class="square_button-padded_icon">\n            <svg class="inline_icon" src="facebook.svg"></svg>\n          </span>\n          Sign in with Facebook\n        </a>\n      </div>\n\n      <div class="u-half_vertical_margins">\n        <a href="/auth/twitter" http-method="post" set-desired-location prevent-default-click class="square_button square_button--twitter">\n          <span class="square_button-padded_icon">\n            <svg class="inline_icon" src="twitter.svg"></svg>\n          </span>\n          Sign in with Twitter\n        </a>\n      </div>\n\n      <div class="u-half_vertical_margins">\n        <a href="/auth/google" http-method="post" set-desired-location prevent-default-click class="square_button square_button--google">\n          <span class="square_button-padded_icon">\n            <svg class="inline_icon" src="google.svg"></svg>\n          </span>\n          Sign in with Google\n        </a>\n      </div>\n    </div>\n\n    <div class="u-half_vertical_margins" ng-show="!ctrl.show_email_fields && !ctrl.signing_in">\n      <a href="#" ng-click="ctrl.show_email_fields = true" prevent-default-click class="square_button square_button--email">\n        <span class="square_button-padded_icon">\n          <svg class="inline_icon" src="envelope.svg"></svg>\n        </span>\n        Sign up with email\n      </a>\n    </div>\n\n    <div ng-show="ctrl.show_email_fields || ctrl.signing_in">\n      <div class="hr" ng-if="include_social !== false"></div>\n      <div class="text_label">\n        <ul ng-if="ctrl.errors" class="form_message form_message--error">\n          <li ng-repeat="error in ctrl.errors">\n            {{error}}\n          </li>\n        </ul>\n      </div>\n\n      <input\n        name="login"\n        type="text"\n        ng-autofocus="ctrl.signing_in"\n        required\n        placeholder="Username"\n        ng-model="user_session.login"\n        class="square_input square_form-standard_element_margin"\n      >\n      <input\n        name="email"\n        type="email"\n        required\n        placeholder="Email"\n        ng-if="!ctrl.signing_in"\n        ng-model="user_session.email"\n        class="square_input square_form-standard_element_margin"\n      >\n      <input\n        name="password"\n        type="password"\n        required\n        placeholder="Password"\n        ng-model="user_session.password"\n        class="square_input square_form-standard_element_margin"\n      >\n\n      <div class="rich_text_formatting" ng-if=\'!ctrl.signing_in\'>\n        <small class="square_form-standard_element_margin">\n          By clicking &ldquo;Sign Up&rdquo;, you are indicating that you have\n          read and agree to the <a href=\'/static/terms\' target="_blank">Terms of Service</a>.\n        </small>\n      </div>\n\n      <button\n        ng-disabled="user_session_form.$invalid || ctrl.saving"\n        class="square_button"\n        ng-class="{\'square_button--disabled\': user_session_form.$invalid, \'square_button--waiting\': ctrl.saving}"\n        type="submit"\n      >{{ ctrl.signing_in ? \'Sign In\' : \'Sign Up\'}}</button>\n    </div>\n\n    <div class="u-top_margin">\n      <a\n        href="/signup"\n        ng-if="ctrl.signing_in"\n        prevent-default-click\n        ng-click="ctrl.toggle_signup_signin()"\n        class="text_label text_label--button text_label--gray"\n      >Create an account</a>\n\n      <a\n        href="/password_resets/new"\n        ng-if="ctrl.signing_in"\n        class="text_label text_label--button text_label--gray"\n      >I forgot my password</a>\n\n      <a\n        href="/login"\n        ng-if="!ctrl.signing_in"\n        prevent-default-click\n        ng-click="ctrl.toggle_signup_signin()"\n        class="text_label text_label--button text_label--gray"\n      >Already have an account? Sign in here</a>\n    </div>\n  </form>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("autocomplete_result.html",'<strong ng-if="::data._new">Create new:</strong> {{:: $getDisplayText()}}\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("autocomplete_tags_input.html",'<tags-input\n  ng-disabled="disabled"\n  min-length="1"\n  template="autocomplete_word.html"\n  key-property="{{ display_property }}"\n  display-property="{{ display_property }}"\n  replace-spaces-with-dashes="false"\n  ng-model="bindTo"\n  placeholder="{{ placeholder() }}"\n  class="{{ inputClasses }}"\n  add-from-autocomplete-only="true"\n  prevent-default-keydown="13"\n>\n  <auto-complete\n    source="autocomplete($query)"\n    template="autocomplete_result.html"\n    min-length="1"\n    max-results-to-show="{{:: max_results }}"\n  ></auto-complete>\n</tags-input>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("autocomplete_word.html",'<span class="autocomplete-word" ng-bind=":: $getDisplayText()"></span>\n<svg src="x.svg" class="tag_item-remove_button" ng-click="$removeTag()"></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("breadcrumbs.html",'<ul class="breadcrumbs">\n  <li\n    ng-repeat="item in $ctrl.heirarchy"\n    ng-class="{\'breadcrumb-current_page\': $last}"\n    class="breadcrumb"\n    itemscope\n    itemtype="http://data-vocabulary.org/Breadcrumb"\n  >\n    <a ng-href="{{ item.url }}" itemprop="url">\n      <span itemprop="title">{{ item.title }}</span>\n    </a>\n  </li>\n</ul>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("charts.html",'<div class="horizontal_section" id="top-songs">\n  <div class="column_layout">\n    <div class="text_label u-bottom_margin u-width_100">{{ \'charts.\' + $ctrl.type + \'.title\' | i18n}}</div>\n  </div>\n\n  <div class="column_layout home_charts">\n    <div class="column_layout-column_span column_layout-column_span--three_quarter">\n      <scrollable-data\n        button-classes="home_charts-show_more_button"\n        preload="$ctrl.preloaded_data"\n        src="$ctrl.feed"\n        repeat-with="chart_item"\n        scroll-mechanism="button"\n        on-show-more="$ctrl.track_load()"\n      >\n        <home-charts-song\n          song="chart_item.item"\n          index="$index"\n          ng-if=":: chart_item.type === \'song\'"\n        ></home-charts-song>\n        <home-charts-artist\n          artist="chart_item.item"\n          index="$index"\n          ng-if=":: chart_item.type === \'artist\'"\n        ></home-charts-artist>\n        <home-charts-album\n          album="chart_item.item"\n          index="$index"\n          ng-if=":: chart_item.type === \'album\'"\n        ></home-charts-album>\n        <home-charts-referent\n          referent="chart_item.item"\n          index="$index"\n          ng-if=":: chart_item.type === \'referent\'"\n        ></home-charts-referent>\n        <show-more>\n          <div class="home_show_more u-large_top_margin">\n            <svg src="down_arrow.svg" class="inline_icon inline_icon--half_height inline_icon--up_1"></svg> Show More\n          </div>\n        </show-more>\n      </scrollable-data>\n    </div>\n    <div class="column_layout-column_span column_layout-column_span--one_quarter">\n      <div ng-repeat="selectable_option in $ctrl.selectable_options">\n        <div class="vertical_selector vertical_selector--big_top_border" ng-if="!selectable_option.unless()">\n          <div\n            ng-repeat="option in selectable_option.options"\n            ng-click="$ctrl[selectable_option.filter] = option.value"\n            class="vertical_selector-option"\n            ng-class="{\'vertical_selector-option--selected\': $ctrl[selectable_option.filter] == option.value}"\n          >\n            <svg\n                src="line_graph.svg"\n                class="inline_icon inline_icon--pink inline_icon--up_2 u-quarter_right_margin"\n                ng-if="$ctrl[selectable_option.filter] == option.value && selectable_option.filter == \'type\'"\n            ></svg>\n            <svg\n                src="calendar.svg"\n                class="inline_icon inline_icon--large_reading_size inline_icon--pink inline_icon--up_3 u-quarter_right_margin"\n                ng-if="$ctrl[selectable_option.filter] == option.value && selectable_option.filter == \'time_period\'"\n            ></svg>\n            {{option.label}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("click_to_load.html",'<div ng-if="loading" ng-transclude></div>\n<span ng-if="!loading" ng-click="load()" class="square_button" ng-bind="message"></button>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("collapsible_content.html",'<div\n  ng-class="{\'referent_container-excerpt_container\': $ctrl.max_height}"\n  ng-style="{maxHeight: $ctrl.max_height}"\n  yields-bounding-box-height="$ctrl.content_height_changed(height)"\n  ng-transclude\n></div>\n\n<p class="text_label u-clickable" ng-if="$ctrl.max_height" ng-click="$ctrl.expand()">\n  {{ $ctrl.text }}\n  <svg class="inline_icon inline_icon--short inline_icon--up_1" src="down_arrow.svg"></svg>\n</p>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("comment.html",'<div\n  class="comment"\n  ng-class="{\n    \'comment--animate_slide_down comment--animate_flash\': comment._new,\n    \'comment--no_top_divider\': variants.first_element_in_container,\n    \'comment--no_top_margin\': variants.first_element_in_container\n  }"\n>\n  <div ng-if="is_removed()" class="dashed_background_message">\n    This {{comment.disposition}} has been {{comment.deleted_at ? \'deleted\' : (\'comment.state.\' + comment.state | i18n)}}.\n  </div>\n\n  <user-badge-and-timestamp\n    size="x_small"\n    user="comment.author"\n    anonymous-user="comment.anonymous_author"\n    time="comment.created_at"\n    pinned-role="comment.pinned_role"\n  ></user-badge-and-timestamp>\n\n  <a class="comment-reason" target="_blank" ng-href="{{ comment.reason.context_url }}" ng-if="comment.reason">\n    {{ \'reason.sentence_intro\' | i18n }}\n    <span class="comment-reason-title">{{ \'reason.inline.\' + comment.reason.name | i18n }}</span>\n  </a>\n\n  <standard-rich-content html="comment.body.html" ng-show="!!comment.body.html"></standard-rich-content>\n\n  <authentication-form\n    on-cancel="ctrl.hide_auth = true"\n    ng-if="comment._new && comment.anonymous_author && !ctrl.hide_auth"\n    user-session="comment.anonymous_author"\n    social="false"\n    sign-in="false"\n    show-email="true"\n    header-text="\'comment.signup_prompt_header\' | i18n"\n    preamble-text="\'comment.signup_prompt_preamble\' | i18n"\n    variants="{display_in_context: true}"\n  ></authentication-form>\n\n  <div ng-if="!is_removed()">\n    <voting\n      vote-total-clicked="toggle_voters()"\n      type="comment"\n      object="comment"\n      on-unauthorized="ctrl.prompt_auth = true"\n      variants="{\'hide_upvote_text\': true}"\n    ></voting>\n\n    <div class="u-float_right">\n      <div\n        ng-if="can_perform(\'accept\')"\n        ng-click="perform_action(\'accept\', \'accepted\')"\n        confirm="Are you sure?"\n        class="square_button square_button--gray square_button--x_small_text_size square_button--transparent"\n      >Accept</div>\n      <div\n        ng-if="can_perform(\'reject\')"\n        ng-click="perform_action(\'reject\', \'rejected\')"\n        class="square_button square_button--gray square_button--x_small_text_size square_button--transparent"\n      >Reject</div>\n      <square-item-and-iq\n        ng-if="can_perform(\'integrate\')"\n        event_type="you_integrated_a_comment"\n      >\n        <div\n          ng-click="integrate()"\n          class="square_button square_button--gray square_button--x_small_text_size square_button--transparent"\n        >Integrate</div>\n      </square-item-and-iq>\n      <square-item-and-iq\n        ng-if="can_perform(\'archive\')"\n        event_type="you_archived_a_comment"\n      >\n        <div\n          ng-if="can_perform(\'archive\')"\n          ng-click="perform_action(\'archive\', \'archived\')"\n          class="square_button square_button--gray square_button--x_small_text_size square_button--transparent"\n        >Archive</div>\n      </square-item-and-iq>\n\n      <div\n        ng-if="can_perform(\'destroy\') || can_perform(\'mark_spam\')"\n        class="square_button square_button--transparent square_button--gray"\n        tether-drop-target\n      >\n        <svg\n          src="down_arrow.svg"\n          class="inline_icon inline_icon--up_2 inline_icon--short inline_icon--gray"\n        ></svg>\n\n        <tether-drop show-on="click" position="bottom center">\n          <div class="tooltip tooltip--no_padding tooltip--tiny" stop-propagation="click">\n            <span\n              class="tooltip-list_item"\n              ng-if="can_perform(\'mark_spam\')"\n              ng-click="perform_action(\'mark_spam\', \'marked_spam\')"\n              confirm="Are you sure you want to mark this comment as spam?"\n            >Mark spam!</span>\n            <span\n              class="tooltip-list_item"\n              ng-if="can_perform(\'destroy\')"\n              ng-click="destroy()"\n              confirm="Are you sure?"\n            >Delete</span>\n          </div>\n        </tether-drop>\n      </div>\n    </div>\n\n    <voters ng-if="showing_voters" type="comment" object="comment"></voters>\n  </div>\n\n  <authentication-form\n    ng-if="ctrl.prompt_auth"\n    on-cancel="ctrl.prompt_auth = false"\n    variants="{display_in_context: true}"\n  ></authentication-form>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("comment_form.html",'<form\n  name="form"\n  ng-submit="form.$valid && ctrl.save()"\n  ng-model-options="{updateOn: \'submit\'}"\n  class="u-large_bottom_margin"\n  submit-on-cmd-enter\n  dirtyable\n>\n  <div\n    ng-if="form.$submitted && form.$invalid"\n    class="form_message form_message--error text_label"\n  >{{:: \'comments.empty_validation\' | i18n}}</div>\n\n  <div ng-if="allowReasons">\n    <div ng-if="ctrl.show_reasons_form()" slide-down no-slide-when="ctrl.show_full_form_by_default || ctrl.show_reasons_by_default">\n      <reasons-toggle reason-changed="comment.reason = reason"></reasons-toggle>\n    </div>\n  </div>\n\n  <div ng-class="{\'u-quarter_top_margin u-small_bottom_margin\': ctrl.showing_full_form}">\n    <div class="square_input_with_avatar">\n      <div class="square_input_with_avatar-avatar" ng-if="!ctrl.showing_full_form && ctrl.current_user">\n        <div class="user_avatar user_avatar--small" clipped-background-image="ctrl.current_user.avatar.small.url"></div>\n      </div>\n      <div class="square_input_with_caret square_input_with_avatar-input">\n        <span\n          ng-if="allowReasons && ctrl.body_is_required() && ctrl.showing_full_form"\n          class="square_input_with_caret-caret"\n        ></span>\n        <textarea\n          mentionable\n          ng-required="ctrl.body_is_required()"\n          ng-model="comment.body.markdown"\n          ng-model-options="{updateOn: \'default\'}"\n          focus-on-change="comment.reason"\n          class="square_input square_input--full_width square_input--single_line_height"\n          ng-attr-placeholder="{{ textareaPlaceholder }}{{ ctrl.body_is_required() ? \'\' : \' (optional)\' }}"\n          ng-focus="ctrl.show_full_form()"\n          autosize-init-on-focus\n        ></textarea>\n      </div>\n    </div>\n\n    <div\n      ng-if="!ctrl.user_signed_in"\n      ng-show="ctrl.showing_full_form"\n    >\n      <input\n        required\n        ng-model="comment.name"\n        class="square_input square_input--full_width u-small_vertical_margins"\n        placeholder="Your name"\n      />\n      <input\n        required\n        ng-model="comment.email"\n        type="email"\n        class="square_input square_input--full_width"\n        placeholder="Your email address"\n      />\n    </div>\n  </div>\n\n  <div ng-show="ctrl.showing_full_form">\n    <button\n      class="square_button square_button--green"\n      ng-class="{\'square_button--waiting\': saving}"\n      ng-disabled="saving"\n      type="submit"\n    >{{ saving ? savingText : saveText }}</button>\n  </div>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("comment_list.html",'<div ng-repeat="comment in $ctrl.comments | filter:{_deleted:\'!true\'} track by comment.id">\n  <comment object="comment" variants="{first_element_in_container: $ctrl.variants.first_element_in_container && $first}"></comment>\n  <dfp-ad\n    ng-if="$ctrl.intersperse_ads && $index % 5 === 0"\n    instance-id="after-comment-{{ comment.id }}"\n    name="{{$ctrl.intersperse_ads}}"\n    ad-classes="[\'comment\']"\n  ></dfp-ad>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("comments.html",'<div\n  ng-hide="$ctrl.prevent_compose && !$ctrl.visible_comments().length"\n  class="comments u-vertical_margins"\n  ng-class="{\'gray_container\': !$ctrl.variants.no_background}"\n>\n  <comment-form\n    ng-show="$ctrl.can_create_comment()"\n    on-save="$ctrl.save_comment(comment)"\n    save-text="Submit"\n    saving-text="Submitting"\n    textarea-placeholder="{{ \'comments.placeholder.\' + ($ctrl.are_suggestions ? \'genius_annotation\' : \'annotation\') | i18n }}"\n    allow-reasons="$ctrl.allow_reasons"\n    show-reasons-by-default="$ctrl.commentable.state === \'pending\'"\n    commentable="$ctrl.commentable"\n    on-dirty="$ctrl.on_dirty()"\n    on-clean="$ctrl.on_clean()"\n  ></comment-form>\n\n  <comment-list\n    commentable="commentable"\n    variants="{first_element_in_container: !$ctrl.can_create_comment()}"\n    intersperse-ads="{{$ctrl.intersperse_ads}}"\n    comments="$ctrl.comments"\n  ></comment-list>\n\n  <comments-placeholder ng-if="$ctrl._loading"></comments-placeholder>\n  <div\n    ng-if="$ctrl.has_next() && !$ctrl._loading"\n    ng-click="$ctrl.load_more()"\n    class="u-top_margin"\n  >\n    <span class="text_label text_label--button text_label--purple">Show More ({{$ctrl.commentable.comment_count - $ctrl.visible_comments().length}})</span>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("comments_placeholder.html",'<div class="comment placeholder placeholder--slide_down">\n  <div class="comment-header">\n    <div class="comment-user_badge"><placeholder-user-badge size="x_small"></placeholder-user-badge></div>\n  </div>\n  <div class="comment-body rich_text_formatting placeholder-pulsing_content u-top_margin">\n    <placeholder-text></placeholder-text>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("component_date_input.html",'<div class="square_select_group">\n  <div class="square_select_group-single">\n    <select\n      ng-disabled="disabled"\n      ng-options="month.number as month.name for month in ctrl.months"\n      ng-model="ngModel.month"\n      ng-model-options="{updateOn: \'default\'}"\n      class="select_input"\n    >\n      <option value="" disabled selected>Month</option>\n    </select>\n  </div>\n  <span\n    class="square_select_group-separator u-clickable u-quarter_left_margin"\n    ng-click="ngModel.month = \'\'"\n  >\n    <svg src="x.svg" class="inline_icon inline_icon--gray"></svg>\n  </span>\n\n  <div class="square_select_group-single">\n    <select\n      ng-disabled="disabled"\n      ng-options="day as day for day in ctrl.days"\n      ng-model="ngModel.day"\n      ng-model-options="{updateOn: \'default\'}"\n      class="select_input"\n    >\n      <option value="" disabled selected>Day</option>\n    </select>\n  </div>\n  <span\n    class="square_select_group-separator u-clickable u-quarter_left_margin"\n    ng-click="ngModel.day = \'\'"\n  >\n    <svg src="x.svg" class="inline_icon inline_icon--gray"></svg>\n  </span>\n\n  <div class="square_select_group-single">\n    <select\n      ng-disabled="disabled"\n      ng-options="year as year for year in ctrl.years"\n      ng-model="ngModel.year"\n      ng-model-options="{updateOn: \'default\'}"\n      class="select_input"\n    >\n      <option value="" disabled selected>Year</option>\n    </select>\n  </div>\n  <span\n    class="square_select_group-separator u-clickable u-quarter_left_margin"\n    ng-click="ngModel.year = \'\'"\n  >\n    <svg src="x.svg" class="inline_icon inline_icon--gray"></svg>\n  </span>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("compose_message.html",'<form\n  dirtyable\n  yields-is-dirty="yields_is_dirty({is_dirty: is_dirty})"\n  exports-form-api="ctrl.form = api"\n  class="conversation-compose_area"\n  ng-class="{\'conversation-compose_area--tall\': ctrl.new_message}"\n  ng-submit="ctrl.send()"\n  submit-on-cmd-enter\n>\n  <div class="conversation-compose_area-recipient" ng-if="ctrl.new_message">\n    <label for="recipient" class="text_label">To</label>\n    <input\n      ng-model="message.recipient"\n      autocomplete-with="user"\n      autofocus\n      class="square_input square_form-standard_element_margin"\n      placeholder="Enter the recipient\'s name"\n    ></input>\n  </div>\n\n  <div class="u-bottom_margin">\n    <span\n      class="text_label text_label--no_margin"\n      ng-class="{\'text_label--purple text_label--button\': ctrl.showing_markdown_preview}"\n      ng-click="ctrl.hide_markdown_preview()"\n    >Write</span>\n    <span\n      class="text_label text_label--no_margin u-small_horizontal_margins"\n      ng-class="{\'text_label--purple text_label--button\': !ctrl.showing_markdown_preview}"\n      ng-click="ctrl.show_markdown_preview()"\n    >Preview</span>\n  </div>\n\n  <div class="u-bottom_margin">\n    <div ng-if="error" class="form_message form_message--error">{{error}}</div>\n  </div>\n\n  <textarea\n    mentionable\n    ng-hide="ctrl.showing_markdown_preview"\n    focus-on-change="message.recipient_id && sending"\n    class="square_input square_input--full_width conversation-message_textarea"\n    placeholder="Enter your message"\n    ng-model="message.body"\n    ng-model-options="{debounce: 300}"\n  ></textarea>\n\n  <div\n    class="conversation-compose_area-markdown_preview"\n    ng-if="ctrl.markdown_preview_initialized"\n    ng-show="ctrl.showing_markdown_preview"\n  >\n    <div ng-cloak class="conversation-message conversation-message--right">\n      <div class="user_avatar user_avatar--medium" clipped-background-image="ctrl.current_user.avatar.small.url"></div>\n      <markdown-preview markdown-content="message.body"></markdown-preview>\n      <span class="conversation-message-timestamp">now</span>\n    </div>\n  </div>\n\n  <div class="u-small_top_margin">\n    <input\n      type="submit"\n      class="square_button square_button--purple modal_window-save_button"\n      ng-class="{\'square_button--disabled\': sending}"\n      ng-disabled="sending"\n      ng-value="sending ? \'Sending…\' : \'Send Message\'"\n    />\n  </div>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("contact_button.html",'<a href ng-click="$ctrl.open_contact_form = true" ng-bind="\'Contact us\'"></a>\n<modal-window ng-if="$ctrl.open_contact_form" on-close="$ctrl.close()">\n  <div class="u-text_center u-vertical_margins">\n    <a href="/press" class="text_label text_label--purple text_label--button">Press</a>\n    <a href="mailto:inquiry@genius.com" class="text_label text_label--purple text_label--button">Advertising</a>\n  </div>\n\n  <hr>\n\n  <div ng-if="$ctrl.success">\n    <div class="text_label u-vertical_margins">Feedback received! Thank you! :)</div>\n    <div ng-click="$ctrl.close()" class="square_button square_button--transparent square_button--gray">Close</div>\n  </div>\n\n  <form\n      ng-if="!$ctrl.success"\n      ng-submit="$ctrl.submit()"\n      dirtyable\n  >\n    <div class="square_form-input_and_label">\n      <div class="text_label">Send us your feedback</div>\n      <textarea\n          class="square_input square_form-standard_element_margin"\n          ng-model="$ctrl.feedback_body"\n      ></textarea>\n    </div>\n\n    <div>\n      <button\n          class="square_button square_button--green u-small_bottom_margin"\n          ng-class="{\'square_button--waiting\': $ctrl.sending}"\n          ng-disabled="$ctrl.sending"\n          type="submit"\n      >Save</button>\n      <div ng-click="$ctrl.close()" class="square_button square_button--transparent square_button--gray">Cancel</div>\n    </div>\n  </form>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("contribution_opportunity.html",'<div class="contribution_opportunity nganimate-fade_slide_out_right" ng-if="!$ctrl.optimistically_removed">\n  <div class="contribution_opportunity-content">\n    <div class="contribution_opportunity-header">\n      <inbox-line-item-action-icon action-name="\'created\'"></inbox-line-item-action-icon>\n      <div class="u-left_margin">\n        {{ \'contribution_opportunity.message.\' + $ctrl.contribution_opportunity.message.key | i18n }}\n        <a\n          ng-href="{{$ctrl.contribution_opportunity.target.url}}"\n          target="_blank"\n          ng-click="$ctrl.track_open($event)"\n        >{{ $ctrl.contribution_opportunity.message.params.context }}</a>\n      </div>\n    </div>\n    <div ng-switch="$ctrl.contribution_opportunity.message.key" class="u-large_top_margin">\n      <div ng-switch-when="answer_question">\n        <question\n          question="$ctrl.contribution_opportunity.target"\n          on-pending-event="$ctrl.on_pending_event(event, result)"\n          yields-iq="$ctrl.iq_api = iq_api"\n          yields-api="$ctrl.question_api = api"\n          variants="{no_drop_down: true, no_answer_prompt: true, no_expansion: true}"\n        ></question>\n      </div>\n\n      <div ng-switch-when="review_annotation">\n        <standalone-referent\n          object="$ctrl.contribution_opportunity.target"\n          on-pending-event="$ctrl.on_pending_event(event, result)"\n          yields-iq="$ctrl.iq_api = iq_api"\n          yields-api="$ctrl.annotation_api = api"\n          variants="{hide_moderation: true}"\n        ></standalone-referent>\n      </div>\n\n      <div ng-switch-when="missing_writer_artists_song">\n        <missing-metadata-form\n          missing-params="{writer_artists: \'autocomplete_artists\'}"\n          object="$ctrl.contribution_opportunity.target"\n          placeholder="e.g., Pharrell Williams, Sean Garrett"\n          type="song"\n          source="IQ Opps"\n          on-pending-event="$ctrl.on_pending_event(event, result)"\n          yields-iq="$ctrl.iq_api = iq_api"\n          yields-api="$ctrl.missing_metadata_api = api"\n        ></missing-metadata-form>\n      </div>\n\n      <div ng-switch-when="missing_producer_artists_song">\n        <missing-metadata-form\n          missing-params="{producer_artists: \'autocomplete_artists\'}"\n          object="$ctrl.contribution_opportunity.target"\n          placeholder="e.g., J Dilla, No I.D."\n          type="song"\n          source="IQ Opps"\n          on-pending-event="$ctrl.on_pending_event(event, result)"\n          yields-iq="$ctrl.iq_api = iq_api"\n          yields-api="$ctrl.missing_metadata_api = api"\n        ></missing-metadata-form>\n      </div>\n\n      <div ng-switch-when="missing_albums_song">\n        <missing-metadata-form\n          missing-params="{albums: \'autocomplete_albums\'}"\n          object="$ctrl.contribution_opportunity.target"\n          type="song"\n          source="IQ Opps"\n          on-pending-event="$ctrl.on_pending_event(event, result)"\n          yields-iq="$ctrl.iq_api = iq_api"\n          yields-api="$ctrl.missing_metadata_api = api"\n        ></missing-metadata-form>\n      </div>\n\n      <div ng-switch-when="missing_release_date_song">\n        <missing-metadata-form\n          missing-params="{release_date_components: \'date_components\'}"\n          object="$ctrl.contribution_opportunity.target"\n          type="song"\n          source="IQ Opps"\n          on-pending-event="$ctrl.on_pending_event(event, result)"\n          yields-iq="$ctrl.iq_api = iq_api"\n          yields-api="$ctrl.missing_metadata_api = api"\n        ></missing-metadata-form>\n      </div>\n\n      <div ng-switch-when="missing_media_song">\n        <missing-metadata-form\n          missing-params="{youtube_url: \'text\', soundcloud_url: \'text\'}"\n          object="$ctrl.contribution_opportunity.target"\n          type="song"\n          source="IQ Opps"\n          on-pending-event="$ctrl.on_pending_event(event, result)"\n          yields-iq="$ctrl.iq_api = iq_api"\n          yields-api="$ctrl.missing_metadata_api = api"\n        ></missing-metadata-form>\n      </div>\n    </div>\n  </div>\n  <div ng-switch="$ctrl.contribution_opportunity.message.key" class="contribution_opportunity-actions">\n    <div ng-switch-when="answer_question">\n      <square-item-and-iq\n        ng-if="$ctrl.can(\'add_answer\')"\n        ng-click="$ctrl.question_api.answer()"\n        iq-params="$ctrl.iq_api.answer"\n      >\n        <span class="square_button square_button--green">Answer</span>\n      </square-item-and-iq>\n      <square-item-and-iq\n        ng-if="$ctrl.can(\'archive\')"\n        ng-click="$ctrl.question_api.archive()"\n        iq-params="$ctrl.iq_api.archive"\n      >\n        <span class="square_button square_button--gray square_button--transparent">Archive</span>\n      </square-item-and-iq>\n    </div>\n    <div ng-switch-when="review_annotation">\n      <square-item-and-iq\n        ng-click="$ctrl.annotation_api.accept()"\n        iq-params="$ctrl.iq_api.accept"\n      >\n        <span class="square_button square_button--green">Accept</span>\n      </square-item-and-iq>\n      <square-item-and-iq\n        ng-click="$ctrl.annotation_api.reject()"\n        iq-params="$ctrl.iq_api.reject"\n      >\n        <span class="square_button square_button--gray square_button--transparent">Reject</span>\n      </square-item-and-iq>\n    </div>\n    <div ng-if="[\'missing_writer_artists_song\', \'missing_producer_artists_song\', \'missing_albums_song\', \'missing_release_date_song\', \'missing_media_song\'].indexOf($ctrl.contribution_opportunity.message.key) !== -1">\n      <square-item-and-iq\n        ng-if="$ctrl.can(\'edit_anything\')"\n        ng-click="$ctrl.missing_metadata_api.edit()"\n        iq-params="$ctrl.iq_api.edit_metadata"\n      >\n        <span class="square_button square_button--green">Edit</span>\n      </square-item-and-iq>\n    </div>\n    <div class="u-text_right">\n      <a\n        ng-href="{{$ctrl.contribution_opportunity.target.url}}"\n        target="_blank"\n        ng-click="$ctrl.track_open($event)"\n        class="square_button square_button--gray square_button--transparent square_button--x_small_text_size"\n      >Open</a>\n      <span\n        ng-if="$ctrl.assignment"\n        ng-click="$ctrl.dismiss()"\n        class="square_button square_button--gray square_button--transparent square_button--x_small_text_size"\n      >Skip</span>\n    </div>\n  </div>\n\n  <div ng-if="$ctrl.submitted" class="local_overlay">\n    <div class="contribution_opportunity-completed_message">Completed!</div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("conversation_messages.html",'<div class="conversation">\n  <div class="text_label text_label--purple form_section_label">\n    Conversation with <a ng-href="{{ conversation.contacts[0].url }}" target="_blank">{{ conversation.contacts[0].name }}</a>\n  </div>\n\n  <div class="conversation-message_list" scroll-from-bottom upwards-infinite-scroll="ctrl.load_next_page()" infinite-scroll-disabled="!ctrl.should_paginate()" scroll-to-bottom-when="messages.length > 0">\n    <placeholder-spinner ng-if="!finished_paginating" placeholder-classes="u-vertical_margins"></placeholder-spinner>\n    <div\n      ng-cloak\n      ng-repeat="message in messages track by message.id"\n      ng-class="{\n        \'conversation-message--left\': message.sender.id === conversation.contacts[0].id,\n        \'conversation-message--right\': message.sender.id !== conversation.contacts[0].id\n      }"\n      class="conversation-message"\n    >\n      <a ng-href="{{ message.sender.url }}">\n        <div class="user_avatar user_avatar--medium" clipped-background-image="message.sender.avatar.small.url"></div>\n      </a>\n      <standard-rich-content html="message.body.html"></standard-rich-content>\n      <span class="conversation-message-timestamp"><time-ago time="message.sent_at"></time-ago></span>\n    </div>\n  </div>\n\n  <compose-message\n    recipient="conversation.contacts[0]"\n    on-sent="ctrl.message_sent(message)"\n    yields-is-dirty="yields_is_dirty({is_dirty: is_dirty})"\n  ></compose-message>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("conversations.html",'<div infinite-scroll="ctrl.load_page()" infinite-scroll-disabled="!ctrl.should_paginate()">\n  <div ng-repeat="conversation in conversations track by conversation.id" ng-click="ctrl.open(conversation.id); $event.preventDefault()" class="feed_dropdown-item" ng-class="{\'feed_dropdown-item--unread\': conversation.unread}">\n    <div class="inbox_line_item">\n      <div class="inbox_line_item-avatars">\n        <div class="user_avatar user_avatar--medium" clipped-background-image="conversation.contacts[0].avatar.small.url"></div>\n        <span class="feed_dropdown-item-unread_indicator numbered_indicator" ng-if="conversation.unread">\n          {{ conversation.unread_messages_count }}\n        </span>\n      </div>\n      <div class="inbox_line_item-content">\n        <div class="inbox_line_item-content-sender">{{ conversation.contacts[0].name }}</div>\n        <span ng-if="conversation.latest_message.sender.id !== conversation.contacts[0].id">&lsh; </span>\n        <span ng-bind="conversation.latest_message.body_preview | truncateToBoundary:100:{with_ellipsis: true}"></span>\n      </div>\n      <div class="inbox_line_item-timestamp">\n        <time-ago time="conversation.latest_message.sent_at"></time-ago>\n      </div>\n    </div>\n    <modal-window ng-if="open_conversation_id == conversation.id" on-close="attempt_close(reason.close_button || !ctrl.is_form_dirty(), ctrl.close)" variants="{full_height: true}">\n      <conversation-messages conversation="conversation" yields-is-dirty="ctrl.is_form_dirty = is_dirty"></conversation-messages>\n    </modal-window>\n  </div>\n\n  <div ng-if="!conversations.length && ctrl.all_pages_loaded" class="u-vertical_margins u-horizontal_margins">\n    No messages\n  </div>\n\n  <placeholder-spinner ng-if="!ctrl.all_pages_loaded" placeholder-classes="feed_dropdown-item"></placeholder-spinner>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("cosigns.html",'<div class="cosigns u-bottom_margin">\n  <a ng-repeat="user in annotation.cosigned_by" ng-href="{{ user.url }}" class="user_badge">\n    <div class="user_avatar" ng-class="{\'user_avatar--large\': user.is_meme_verified, \'user_avatar--medium\': !user.is_meme_verified}" clipped-background-image="user.avatar.medium.url"></div>\n    <div class="user_badge-text">\n      <div class="user_badge-subhead u-quarter_bottom_margin">Cosigned by</div>\n      <span class="user_badge-login">{{ user.name }}</span>\n      <svg class="checky" src="checky.svg" ng-if="user.is_meme_verified"></svg>\n    </div>\n  </a>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("cover_art_form.html",'<div ng-if="$ctrl.error" class="form_message form_message--error text_label">\n  {{ $ctrl.error.message }}\n  <span ng-repeat="error in $ctrl.error.response.errors track by error"><br>{{ error }}</span>\n</div>\n\n<div class="text_label text_label--gray text_label--x_small_text_size u-small_bottom_margin">Drag to reorder</div>\n\n<div class="cover_art_form">\n  <div\n    ng-repeat="cover_art in $ctrl.visible_cover_arts() track by cover_art.id"\n    class="cover_art_form-cover_art_container"\n    drag-and-drop\n    on-drop="$ctrl.move_before(cover_art, data)"\n    cant-drop="$ctrl.cant_drop(cover_art)"\n  >\n    <div\n      class="cover_art_form-cover_art"\n      drag-and-drop="cover_art"\n      draggable="true"\n      on-dragstart="$ctrl.cover_art_being_dragged = cover_art"\n      on-dragend="$ctrl.cover_art_being_dragged = null"\n    >\n      <image-upload-button\n        default-image="cover_art.image_url"\n        on-file-picked="$ctrl.update(cover_art, url)"\n        allow-clear="$ctrl.can(\'destroy\', cover_art)"\n        clear-confirm="Are you sure you want to delete this cover art and its associated annotation?"\n        on-clear="$ctrl.destroy(cover_art)"\n        allow-crop-to-square="true"\n      ></image-upload-button>\n    </div>\n  </div>\n\n  <div\n    class="cover_art_form-cover_art_container"\n    drag-and-drop\n    on-drop="$ctrl.move_before(null, data)"\n    cant-drop="$ctrl.cover_art_being_dragged.id === $ctrl.visible_cover_arts()[$ctrl.visible_cover_arts().length - 1].id"\n  >\n    <div class="cover_art_form-cover_art">\n      <image-upload-button\n        on-file-picked="$ctrl.create(url)"\n        allow-crop-to-square="true"\n      ></image-upload-button>\n    </div>\n  </div>\n\n  <div ng-if="$ctrl.saving" class="local_overlay local_overlay--gray">\n    <placeholder-spinner></placeholder-spinner>\n  </div>\n</div>\n\n<button\n  class="square_button square_button--transparent square_button--gray"\n  ng-disabled="true"\n>{{$ctrl.autosaving || $ctrl.saving ? \'Saving\' : \'Saved\'}}</button>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("cover_art_modal.html",'<modal-window\n  on-close="$ctrl.close()"\n  variants="{window_width: true, width_of_contents: true, vertically_center_self: true}"\n>\n  <div class="cover_art_annotation">\n    <div class="cover_art_annotation-cover_art">\n      <div class="cover_art">\n        <img\n          class="cover_art-image"\n          sized-src="$ctrl.focused_cover_art().image_url"\n          class-for-browser="{msie: \'cover_art-image_ie\', _default: \'cover_art-image\'}"\n        ></img>\n      </div>\n      <div\n        ng-if="$ctrl.focused_cover_art_index() > 0"\n        class="cover_art_annotation-cover_art-arrow cover_art_annotation-cover_art-arrow--left"\n        ng-click="$ctrl.move_cover_art_focus(-1)"\n      >\n        <svg src="left_arrow.svg"></svg>\n        <kb shortcut="left" action="$ctrl.move_cover_art_focus(-1)"></kb>\n      </div>\n      <div\n        class="cover_art_annotation-cover_art-arrow cover_art_annotation-cover_art-arrow--right"\n        ng-if="$ctrl.focused_cover_art_index() < $ctrl.cover_arts().length - 1"\n        ng-click="$ctrl.move_cover_art_focus(1)"\n      >\n        <svg src="right_arrow.svg"></svg>\n        <kb shortcut="right" action="$ctrl.move_cover_art_focus(1)"></kb>\n      </div>\n    </div>\n    <div class="cover_art_annotation-annotation">\n      <description-referent\n        ng-if="$ctrl.focused_cover_art().description_annotation"\n        object="$ctrl.focused_cover_art().description_annotation"\n        variants="{force_genius_annotation_title: true}"\n      ></description-referent>\n      <placeholder-spinner ng-if="!$ctrl.focused_cover_art().description_annotation"></placeholder-spinner>\n\n      <authentication-form\n        ng-if="!$ctrl.user_signed_in && $ctrl.focused_cover_art().description_annotation.classification === \'needs_exegesis\'"\n        header-text="\'annotation.sign_up_to_annotate\' | i18n"\n      ></authentication-form>\n    </div>\n  </div>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("deleted_answer.html",'<div class="u-bottom_padding">\n  <div class="annotation_label">{{$ctrl.answer.question.body}}</div>\n\n  <standard-rich-content\n    html="$ctrl.answer.body.html"\n    watch-images-loaded="$ctrl.answer.body.html"\n    open-links-in-new-window\n    handle-intra-page-links\n    variants="{\'no_vertical_margins\': true}"\n  ></standard-rich-content>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("description_annotation.html",'<annotation\n  variants="{\n    isDescription: true,\n    hideComments: true,\n    truncate_content: variants.truncated,\n    force_genius_annotation_title: variants.force_genius_annotation_title\n  }"\n  object="referent.annotations[0]"\n  referent="referent"\n  annotatable-title="referent.annotatable.title"\n></annotation>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("detailed_song_search.html",'<div class="rich_text_formatting detailed_song_search">\n  <p class="detailed_song_search-error_message" ng-if="$ctrl.error">{{ $ctrl.error.message }}</p>\n  <input\n    ng-model="$ctrl.url"\n    placeholder="genius.com URL"\n    class="square_input square_input--full_width square_form-text_input half u-half_vertical_margins"\n  >\n\n  <input\n    ng-model="$ctrl.autocompleted_song"\n    autocomplete-with="song"\n    display-field="full_title"\n    placeholder="Search"\n    class="square_input square_input--full_width square_form-text_input half u-half_vertical_margins"\n  >\n    <table ng-if="$ctrl.song_data">\n      <tbody>\n        <tr>\n          <th class="detailed_song_search-table_cell">Title</th>\n          <td class="detailed_song_search-table_cell">\n            <a href="/songs/{{$ctrl.song_data.id}}" target="_blank">\n              {{ $ctrl.song_data.title }}\n            </a>\n          </td>\n        </tr>\n        <tr>\n          <th class="detailed_song_search-table_cell">Albums</th>\n          <td class="detailed_song_search-table_cell">\n            <ul class="detailed_song_search-table_artist_list">\n              <li ng-repeat="album in $ctrl.song_data.albums">\n                {{ album.name }}\n              </li>\n            </ul>\n          </td>\n        </tr>\n        <tr>\n          <th class="detailed_song_search-table_cell">Artists</th>\n          <td class="detailed_song_search-table_cell">\n            <ul class="detailed_song_search-table_artist_list">\n              <li ng-repeat="artist in $ctrl.song_data.artists">\n                {{ artist.name }}\n              </li>\n            </ul>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <button\n      ng-disabled="!$ctrl.song.id || $ctrl.saving"\n      ng-class="{\'square_button--disabled\': !$ctrl.song.id || $ctrl.saving}"\n      ng-click="$ctrl.submit({song: this.song})"\n      confirm="Are you sure?"\n      class="square_button square_button--green"\n    >{{ $ctrl.saving ? \'Updating...\' : \'Confirm\' }}</button>\n\n    <button\n      ng-click="$ctrl.cancel()"\n      class="square_button"\n    >Cancel</button>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("dfp_ad.html",'<div\n  id="{{$ctrl.id}}"\n  class="dfp_unit {{$ctrl.compiled_ad_unit_classes()}}"\n></div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("edit_artist_profile.html",'<form\n  name="form"\n  ng-submit="form.$valid && $ctrl.update_artist()"\n  ng-model-options="{updateOn: \'submit\'}"\n  dirtyable\n>\n  <div\n    ng-if="$ctrl.errors"\n    ng-repeat="error in $ctrl.errors"\n    class="form_message form_message--error text_label"\n  >{{ error }}</div>\n\n  <div class="square_form">\n    <div ng-if="$ctrl.can(\'edit\')" class="square_form-input_and_label">\n      <div class="text_label">Artist Name</div>\n      <input\n        required\n        ng-model="$ctrl.editable_artist.name"\n        class="square_input square_form-standard_element_margin"\n        placeholder="Artist\'s name"\n      />\n    </div>\n\n    <div ng-if="$ctrl.can(\'edit_names\')" class="square_form-input_and_label">\n      <div class="text_label">Alternate Names</div>\n      <div class="text_label text_label--x_small_text_size text_label--gray">\n        Separate multiple alternate names with commas\n      </div>\n      <input\n        ng-model="$ctrl.editable_artist.alternate_names"\n        class="square_input square_form-standard_element_margin"\n        placeholder="Artist\'s alternate names"\n      />\n    </div>\n\n    <div class="square_form-input_and_label square_form-input_and_label--half_width" ng-if="$ctrl.can(\'edit_images\')">\n      <div class="text_label">Avatar</div>\n      <image-upload-button\n        default-image="$ctrl.editable_artist.image_url"\n        on-file-picked="$ctrl.editable_artist.image_url = url"\n        allow-crop-to-square="true"\n        variants="{avatar: true}"\n      ></image-upload-button>\n    </div>\n\n    <div class="square_form-input_and_label square_form-input_and_label--half_width" ng-if="$ctrl.can(\'edit_images\')">\n      <div class="text_label">Cover Art</div>\n      <image-upload-button\n        default-image="$ctrl.editable_artist.header_image_url"\n        on-file-picked="$ctrl.editable_artist.header_image_url = url"\n        variants="{dock_tooltip_right: true}"\n      ></image-upload-button>\n    </div>\n\n    <div ng-if="$ctrl.can(\'edit\')" class="square_form-input_and_label">\n      <div class="text_label">Instagram Name</div>\n      <input\n        ng-model="$ctrl.editable_artist.instagram_name"\n        class="square_input square_form-standard_element_margin"\n        placeholder="Artist\'s instagram name"\n      />\n    </div>\n\n    <div ng-if="$ctrl.can(\'edit\')" class="square_form-input_and_label">\n      <div class="text_label">Twitter Name</div>\n      <input\n        ng-model="$ctrl.editable_artist.twitter_name"\n        class="square_input square_form-standard_element_margin"\n        placeholder="Artist\'s twitter name"\n      />\n    </div>\n\n    <div ng-if="$ctrl.can(\'edit\')" class="square_form-input_and_label">\n      <div class="text_label">Facebook Name</div>\n      <input\n        ng-model="$ctrl.editable_artist.facebook_name"\n        class="square_input square_form-standard_element_margin"\n        placeholder="Artist\'s facebook name"\n      />\n    </div>\n\n    <div>\n      <button\n        class="square_button square_button--green u-small_bottom_margin"\n        ng-class="{\'square_button--waiting\': $ctrl.saving}"\n        ng-disabled="$ctrl.saving"\n        type="submit"\n      >Save</button>\n      <button ng-click="$ctrl.close()" class="square_button square_button--transparent square_button--gray">Cancel</button>\n    </div>\n  </div>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("edit_user_email_preferences.html",'<form\n  name="form"\n  ng-submit="form.$valid && $ctrl.update_user()"\n  ng-model-options="{updateOn: \'submit\'}"\n  dirtyable\n>\n  <div\n    ng-if="$ctrl.errors"\n    ng-repeat="error in $ctrl.errors"\n    class="form_message form_message--error text_label"\n  >{{ error }}</div>\n\n  <div class="square_form">\n    <label for="{{preference}}" class="square_checkbox u-quarter_vertical_margins" ng-repeat="(preference, val) in $ctrl.editable_user.preferences track by preference">\n      <input id="{{preference}}" type="checkbox" ng-model="$ctrl.editable_user.preferences[preference]"/>\n      <span class="text_label">{{\'preference.\' + preference | i18n}}</span>\n      <span for="{{preference}}" class="text_label--gray u-display_block">{{\'preference.description.\' + preference | i18n}}</span>\n    </div>\n\n    <div class="u-vertical_margins">\n      <button\n        class="square_button square_button--green u-small_bottom_margin"\n        ng-class="{\'square_button--waiting\': $ctrl.saving}"\n        ng-disabled="$ctrl.saving"\n        type="submit"\n      >Save</button>\n      <button ng-click="$ctrl.close()" class="square_button square_button--transparent square_button--gray">Cancel</button>\n    </div>\n  </div>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("edit_user_profile.html",'<form\n  name="form"\n  ng-submit="form.$valid && $ctrl.update_user()"\n  ng-model-options="{updateOn: \'submit\'}"\n  dirtyable\n>\n  <div\n    ng-if="$ctrl.errors"\n    ng-repeat="error in $ctrl.errors"\n    class="form_message form_message--error text_label"\n  >{{ error }}</div>\n\n  <div class="square_form">\n    <div class="square_form-input_and_label">\n      <div class="text_label">Username</div>\n      <div class="text_label text_label--x_small_text_size text_label--gray">\n        {{$ctrl.can(\'change_login\') ? \'You can only change this once a month\' : \'Moderators can\\\'t change their username\'}}\n      </div>\n      <input\n        required\n        ng-model="$ctrl.editable_user.login"\n        class="square_input square_form-standard_element_margin"\n        placeholder="Username"\n        ng-disabled="!$ctrl.can(\'change_login\')"\n      />\n    </div>\n\n    <div ng-if="!$ctrl.user.artist" class="square_form-input_and_label square_form-input_and_label--half_width" ng-if="!$ctrl.disable_image_edit">\n      <div class="text_label">Avatar</div>\n      <image-upload-button\n        default-image="$ctrl.editable_user.photo_url"\n        on-file-picked="$ctrl.editable_user.photo_url = url"\n        allow-crop-to-square="true"\n        variants="{avatar: true}"\n      ></image-upload-button>\n    </div>\n\n    <div ng-if="!$ctrl.user.artist" class="square_form-input_and_label square_form-input_and_label--half_width" ng-if="!$ctrl.disable_image_edit">\n      <div class="text_label">Cover Art</div>\n      <image-upload-button\n        default-image="$ctrl.editable_user.custom_header_image_url"\n        on-file-picked="$ctrl.editable_user.custom_header_image_url = url"\n        variants="{dock_tooltip_right: true}"\n      ></image-upload-button>\n    </div>\n\n    <div class="square_form-input_and_label" ng-if="!$ctrl.disable_user_bio_edit">\n      <div class="text_label">Change Bio</div>\n      <editable-markdown\n        html="$ctrl.editable_user.about_me.html"\n        markdown="$ctrl.editable_user.about_me.markdown"\n        placeholder="{{:: \'profile_page.about_me.placeholder\' | i18n }}"\n      ></editable-markdown>\n    </div>\n\n    <div class="square_form-input_and_label">\n      <div class="text_label">Change Email</div>\n      <input\n        required\n        ng-model="$ctrl.editable_user.email"\n        class="square_input square_form-standard_element_margin"\n        placeholder="Email"\n      />\n    </div>\n\n    <div class="square_form-input_and_label">\n      <div class="text_label">Change Password</div>\n      <input\n        ng-model="$ctrl.editable_user.password"\n        class="square_input square_form-standard_element_margin"\n        placeholder="New password"\n        type="password"\n      />\n    </div>\n\n    <div class="square_form-input_and_label">\n      <div class="text_label">Confirm Password</div>\n      <input\n        ng-model="$ctrl.editable_user.confirm_password"\n        class="square_input square_form-standard_element_margin"\n        placeholder="Confirm password"\n        type="password"\n      />\n    </div>\n\n    <div>\n      <button\n        class="square_button square_button--green u-small_bottom_margin"\n        ng-class="{\'square_button--waiting\': $ctrl.saving}"\n        ng-disabled="$ctrl.saving"\n        type="submit"\n      >Save</button>\n      <button ng-click="$ctrl.close()" class="square_button square_button--transparent square_button--gray">Cancel</button>\n    </div>\n  </div>\n</form>\n\n<user-identities user="$ctrl.user" editable="true"></user-identities>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("editable_markdown.html",'<div class="editable_markdown u-bottom_margin">\n  <textarea\n    ng-required="is_required"\n    ng-init="resize_textarea()"\n    ng-model="editable.markdown"\n    insertable-at-cursor="ctrl.insert_at_markdown_cursor = insertFn"\n    class="wysiwyg_input wysiwyg_input--full_width u-vertical_margins"\n    placeholder="{{ placeholder }}"\n    autofocus\n    ng-autofocus="true"\n    rows="8"\n  ></textarea>\n\n  <div class="editable_markdown-tools">\n    <div><span class="text_label text_label--gray editable_markdown-text_label_header">Tools:</span></div>\n    <div>\n      <span ng-click="ctrl.pick_image()" class="text_label text_label--purple editable_markdown-text_label">Add image</span>\n      <span ng-click="ctrl.show_formatting_help = !ctrl.show_formatting_help" class="text_label editable_markdown-text_label" ng-class="{\'text_label--purple\': !ctrl.show_formatting_help, \'text_label--gray\': ctrl.show_formatting_help}">Formatting help</span>\n      <a href="/Genius-how-genius-works-annotated" target="_blank" class="text_label text_label--purple editable_markdown-text_label" tabindex="-1">How to annotate</a>\n    </div>\n  </div>\n\n  <div class="gray_container u-vertical_margins" ng-show="ctrl.show_formatting_help">\n    <p>Add an image, video, or tweet by pasting the URL</p>\n    <pre class="gray_container rich_text_formatting u-vertical_margins"><code>http://genius.com/logo.png</code></pre>\n    <p>Add a link</p>\n    <pre class="gray_container rich_text_formatting u-vertical_margins"><code>[Check out my fave website](http://genius.com)</code></pre>\n    <p>Simple formatting</p>\n    <pre class="gray_container rich_text_formatting u-top_margin"><code>*Italicize*\n**Bold**\n&gt; Blockquote</code></pre>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("editable_tracklist.html",'<div ng-if="$ctrl.editing" class="u-bottom_margin">\n  <div\n    class="square_button square_button--green"\n    ng-click="$ctrl.save()"\n    ng-class="{\'square_button--disabled\': $ctrl.saving}"\n  >{{$ctrl.saving ? \'Saving\' : \'Save\'}}</div>\n  <div\n    class="square_button square_button--gray square_button--transparent"\n    ng-click="$ctrl.close()"\n    ng-class="{\'square_button--disabled\': $ctrl.saving}"\n  >Cancel</div>\n</div>\n\n<div ng-if="$ctrl.error" class="form_message form_message--error text_label">{{ $ctrl.error }}</div>\n\n<div class="editable_tracklist" always-dirty>\n  <div\n    ng-repeat="slot in $ctrl.numbered_slots track by $index"\n    class="editable_tracklist-row u-vertical_margins nganimate-fade_in nganimate-fade_out"\n  >\n    <editable-tracklist-number track-number="slot.track_number" on-update="$ctrl.update_slot_number(slot, input)"></editable-tracklist-number>\n    <div\n      class="editable_tracklist-row-entry-container"\n      ng-if="slot.song_id"\n      drag-and-drop\n      on-drop="$ctrl.place_song_into_slot(data, slot)"\n      cant-drop="$ctrl.slot_being_dragged.track_number === slot.track_number"\n    >\n      <div\n        class="editable_tracklist-row-entry"\n        drag-and-drop="slot"\n        draggable="true"\n        on-dragstart="$ctrl.slot_being_dragged = slot"\n        on-dragend="$ctrl.slot_being_dragged = null; $ctrl.remove_trailing_empty_slots()"\n      >\n        <div class="editable_tracklist-row-entry-title">{{slot.title}}</div>\n        <div ng-if="slot.lyrics_state" class="text_label text_label--gray">\n          <input\n            type="checkbox"\n            ng-checked="slot.lyrics_state === \'unreleased\'"\n          >\n          <label ng-click="$ctrl.toggle_unreleased(slot)" class="editable_tracklist-row-entry-unreleased_label u-clickable">Unreleased</label>\n        </div>\n        <div>\n          <svg src="drag.svg" class="inline_icon inline_icon--gray u-small_left_margin"></svg>\n        </div>\n        <div>\n          <svg src="x.svg" ng-click="$ctrl.clear_slot(slot); $ctrl.remove_trailing_empty_slots()" class="u-clickable inline_icon inline_icon--gray inline_icon--small_reading_size u-small_left_margin"></svg>\n        </div>\n      </div>\n    </div>\n    <div\n      ng-if="!slot.song_id"\n      class="editable_tracklist-row-placeholder"\n      drag-and-drop\n      on-drop="$ctrl.place_song_into_slot(data, slot)"\n    ></div>\n  </div>\n\n  <div class="editable_tracklist-row u-vertical_margins">\n    <div class="editable_tracklist-row-number"></div>\n    <div\n      class="editable_tracklist-row-placeholder"\n      drag-and-drop\n      on-dragenter="$ctrl.add_slot_after_delay()"\n      on-dragleave="$ctrl.cancel_add_slot()"\n      on-drop="$ctrl.add_slot_and_fill(data)"\n    >\n      <div class="text_label text_label--gray">Drop here to add as track {{$ctrl.numbered_slots.length + 1}}</div>\n    </div>\n  </div>\n\n  <div class="text_label text_label--gray">Unnumbered</div>\n\n  <div\n    ng-repeat="slot in $ctrl.unnumbered_slots track by $index"\n    class="editable_tracklist-row u-vertical_margins nganimate-fade_in nganimate-fade_out"\n  >\n    <editable-tracklist-number track-number="slot.track_number" on-update="$ctrl.update_slot_number(slot, input)"></editable-tracklist-number>\n    <div class="editable_tracklist-row-entry-container">\n      <div\n        class="editable_tracklist-row-entry"\n        draggable="true"\n        drag-and-drop="slot"\n        on-dragstart="$ctrl.slot_being_dragged = slot"\n        on-dragend="$ctrl.slot_being_dragged = null; $ctrl.remove_trailing_empty_slots()"\n      >\n        <div class="editable_tracklist-row-entry-title">{{slot.title}}</div>\n        <div ng-if="slot.lyrics_state" class="text_label text_label--gray">\n          <input\n            type="checkbox"\n            ng-checked="slot.lyrics_state === \'unreleased\'"\n          >\n          <label ng-click="$ctrl.toggle_unreleased(slot)" class="editable_tracklist-row-entry-unreleased_label u-clickable">Unreleased</label>\n        </div>\n        <div>\n          <svg src="drag.svg" class="inline_icon inline_icon--gray u-small_left_margin"></svg>\n        </div>\n        <div>\n          <svg src="x.svg" ng-click="$ctrl.clear_slot(slot); $ctrl.remove_trailing_empty_slots()" class="u-clickable inline_icon inline_icon--gray inline_icon--small_reading_size u-small_left_margin"></svg>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="editable_tracklist-row u-vertical_margins">\n    <div class="editable_tracklist-row-number"></div>\n    <div\n      class="editable_tracklist-row-placeholder"\n      drag-and-drop\n      on-drop="$ctrl.clear_slot(data); $ctrl.make_unnumbered(data); $ctrl.remove_trailing_empty_slots()"\n      cant-drop="!$ctrl.slot_being_dragged.track_number"\n    >\n      <div class="text_label text_label--gray">Drop here to clear track number</div>\n    </div>\n  </div>\n\n  <div class="editable_tracklist-row u-vertical_margins">\n    <div class="editable_tracklist-row-number"></div>\n    <input\n      autocomplete-with="song"\n      on-select="$ctrl.add_song(data)"\n      class="square_input square_input--full_width"\n      placeholder="Add a song"\n      create-result="$ctrl.create_result(term)"\n    >\n  </div>\n\n  <div ng-if="$ctrl.saving" class="local_overlay local_overlay--page_background_color">\n    <placeholder-spinner></placeholder-spinner>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("editable_tracklist_number.html",'<div class="editable_tracklist-row-number">\n  <div ng-click="$ctrl.editing = true" ng-hide="$ctrl.editing">\n    {{$ctrl.track_number}}\n    <div\n      class="editable_tracklist-row-number-edit_icon"\n      ng-class="{\n        \'editable_tracklist-row-number-edit_icon--no_number\': $ctrl.track_number === undefined\n      }"\n    >\n      <svg src="pencil.svg" class="inline_icon inline_icon--gray"></svg>\n    </div>\n  </div>\n  <form ng-if="$ctrl.editing" ng-submit="$ctrl.submit()" submit-on-cmd-enter>\n    <input ng-model="$ctrl.editable_track_number" class="square_input editable_tracklist-row-number-input u-x_small_right_margin" ng-autofocus>\n    <svg\n      src="checkmark.svg"\n      class="inline_icon inline_icon--gray u-x_small_right_margin u-clickable"\n      ng-click="$ctrl.submit()"\n    ></svg>\n    <svg\n      src="x.svg"\n      class="inline_icon inline_icon--gray u-x_small_right_margin u-clickable"\n      ng-click="$ctrl.reset()"\n    ></svg>\n  </form>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("embedly_embed.html",'<div\n  class="embedly_preview"\n  ng-class="{\'embedly_preview--video\': $ctrl.embed.type === \'video\'}"\n>\n  <div ng-if=":: $ctrl.embed.html" ng-bind-html=":: $ctrl.trusted_html()"></div>\n  <div ng-if=":: !$ctrl.embed.html" class="gray_container gray_container--full_padding">\n    <div class="embedly_preview-thumb" ng-if=":: $ctrl.embed.thumbnail_url">\n      <img ng-src="{{:: $ctrl.embed.thumbnail_url}}" style="{{:: $ctrl.embed.style}}"/>\n    </div>\n    <div class="embedly_preview-text">\n      <a ng-href="{{:: $ctrl.embed.original_url}}" class="embedly_preview-title">{{:: $ctrl.embed.title}}</a>\n      <a ng-if=":: $ctrl.embed.provider_name" href="{{:: $ctrl.embed.provider_url }}" class="embedly_preview-provider">{{:: $ctrl.embed.provider_name }}</a>\n      <div class="embedly_preview-description" ng-if=":: $ctrl.embed.description">{{:: $ctrl.embed.description}}</div>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("embedly_player.html",'<div ng-class="playerClass" ng-bind-html="media_html" ng-show="state.is_loaded" ng-if="media && is_initialized"></div>\n<div ng-class="playerClass" ng-if="!media" ng-transclude></div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("embedly_youtube.html",'<div class="embedly_preview embedly_preview--video">\n  <youtube-video\n    video-id="$ctrl.video_id"\n    player-vars="{modestbranding: 1, start: $ctrl.start, showinfo:0}"\n    player="youtubePlayer"\n  ></youtube-video>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("expandable_accordion_section.html",'<div class="expandable_accordion_section" ng-class="{\'expandable_accordion_section--expanded\':expanded}">\n  <div class="accordion_label form_section_label" ng-click="expand_content()">\n    <div class="accordion_label-text text_label text_label--purple">\n      {{::label}}\n      <span class="text_label text_label--x_small_text_size">({{::shortcut}})</span>\n    </div>\n\n    <svg class="inline_icon inline_icon--purple inline_icon--short" ng-src="expanded ? \'up_arrow.svg\' : \'down_arrow.svg\'"></svg>\n  </div>\n  <ng-transclude class="expandable_accordion_section-content"></ng-transclude>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("expandable_container.html",'<div\n  class="accordion_label"\n  ng-click="$ctrl.toggle_expand()"\n>\n  <div class="accordion_label-text">\n    <ng-transclude ng-transclude-slot="expandable_container_title">\n      <span class="text_label text_label--gray" ng-bind="$ctrl.title"></span>\n    </ng-transclude>\n  </div>\n  <svg\n    ng-if="!$ctrl.variants.no_arrow"\n    class="inline_icon inline_icon--short"\n    ng-src="$ctrl.expanded ? \'up_arrow.svg\' : \'down_arrow.svg\'"\n  ></svg>\n</div>\n\n<ng-transclude ng-if="$ctrl.start_initialized || $ctrl.expanded" ng-show="$ctrl.expanded"></ng-transclude>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("facebook_share_button.html",'<a\n  ng-click="$ctrl.share_on_facebook()"\n  class="square_button"\n  ng-class="{\n    \'square_button--transparent square_button--facebook_inverse nganimate-disable_transition\': $ctrl.variants.transparent,\n    \'square_button--facebook\': !$ctrl.variants.transparent\n  }"\n>\n  <svg class="inline_icon" src="facebook.svg"></svg>\n  <span ng-if="$ctrl.variants.showText">Share</span>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("fact_track_simulator.html",'<div class="fact_track_card fact_track_card-{{ current_annotation.content_type }}_card fact_track_card--front" ng-click="ctrl.card_clicked()">\n  <div class="fact_track_card-album_image" ng-show="album.images.length && current_annotation.content_type === \'intro\'" ng-attr-style="background-image: url(\'{{ album.images[0].url }}\')"></div>\n  <div class="fact_track_card-headline" ng-switch="current_annotation.content_type">\n    <span ng-switch-when="lyrics">Lyrics</span>\n    <span ng-switch-when="verified">Lyrics</span>\n    <span ng-switch-when="verified_annotation">\n      <span class="fact_track_card-headline-artist_name">{{ (current_annotation.spotify_artist_uuid | spotify_artist_metadata).name }}</span> Exclusive\n    </span>\n    <span ng-switch-when="annotation">Behind the Lyrics</span>\n    <span ng-switch-when="iq">Track Fact</span>\n    <span ng-switch-when="credits">Credits</span>\n  </div>\n  <div class="fact_track_card-body fact_track_card-body--{{ current_annotation.content_type }}">\n    <span class="fact_track_card-body-highlight" ng-bind-html="current_annotation.content | highlight_braced:{class_name:\'fact_track_card-emphasis\'}"></span>\n  </div>\n  <div class="fact_track_card-verified_headline" ng-show="current_annotation.content_type == \'verified_annotation\'">\n    <div class="user_avatar user_avatar--xxx_large" clipped-background-image="((current_annotation.spotify_artist_uuid | spotify_artist_metadata).images | minBy:\'width\').url"></div>\n  </div>\n  <div class="fact_track_card-countdown_timer">\n    <div class="fact_track_card-countdown_timer-time_remaining" style="width:{{ (ctrl.annotation_percentage() * 100).toFixed(3) }}%"></div>\n  </div>\n</div>\n\n<div class="fact_track_controls media_control">\n  <div class="media_control-button_group" ng-click="ctrl.toggle_play_pause()">\n    <play-pause-button playing="playing"></play-pause-button>\n  </div>\n  <div class="media_control-scrubber">\n    <div class="media_control-scubber-handle_container" scrubber scrub-percentage="scrub_percentage" scrubbed="ctrl.seek_to_percentage(percentage)">\n      <span class="media_control-scubber-handle" style="left:{{ ((scrub_percentage || (time / duration)) * 100).toFixed(3) }}%"></span>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("flash_messages.html",'<div ng-repeat="message in flash_messages" ng-click="$parent.ctrl.close_message(message)" class="global_message global_message--{{ message.type }}">\n  <div class="global_message-message" ng-bind-html="message.message"></div>\n  <div class="global_message-close"><svg src="x.svg" class="global_message-x_icon x_icon"></svg></div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("follow_button.html",'<a\n  ng-click="toggle_following()"\n  class="square_button"\n  ng-class="{\n    \'square_button--purple\': variants.purple,\n    \'square_button--transparent\': variants.transparent,\n    \'square_button--active\': following,\n    \'square_button--disabled\': disabled\n  }"\n  ng-disabled="disabled"\n  ng-if=":: can_follow()"\n>\n  <span ng-bind="label()"></span>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("global_error_message.html",'<modal-window ng-if="ctrl.message_html" on-close="ctrl.message_html = null" ng-cloak>\n  <div ng-bind-html="ctrl.message_html" class="rich_text_formatting"></div>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("global_message.html",'<div class="global_message global_message--error">\n  <div class="global_message-message" ng-transclude></div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("hang_initial_quote.html",'<div ng-class="{\'u-hang_initial_quote\': $ctrl.hang_initial_quote}" ng-bind="$ctrl.content"></div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("header_actions.html",'<mutually-exclusive-switches property="open_header_menus">\n  <div ng-if="$ctrl.user_signed_in" class="header-actions">\n    <inbox-container inbox-name="groups_inbox" open-inboxes="open_header_menus"></inbox-container>\n    <inbox-container inbox-name="newsfeed_inbox" abbreviate-after="20" open-inboxes="open_header_menus"></inbox-container>\n    <inbox-container inbox-name="main_activity_inbox" sync-count-to-title="true" open-inboxes="open_header_menus"></inbox-container>\n    <inbox-container inbox-name="messages_inbox" use-messages-inbox="true" open-inboxes="open_header_menus"></inbox-container>\n    <inbox-container\n      ng-if="$ctrl.can(\'view_contribution_opportunity_assignments\')"\n      inbox-name="iq_inbox"\n      use-iq-inbox="true"\n      open-inboxes="open_header_menus"\n    ></inbox-container>\n    <header-admin open-header-menus="open_header_menus"></header-admin>\n  </div>\n  <header-auth ng-if="!$ctrl.user_signed_in"></header-auth>\n</mutually-exclusive-switches>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("header_admin.html",'<div\n  class="header-action"\n  ng-class="{\'header-action--active\': $ctrl.open_header_menus.admin_menu}"\n  ng-click="$ctrl.open_header_menus.admin_menu = !$ctrl.open_header_menus.admin_menu"\n  stop-propagation="click"\n>\n  <div\n    class="header-user_avatar"\n    clipped-background-image=":: $ctrl.user.avatar.thumb.url"\n  ></div>\n  <div class="header-action-label">{{ $ctrl.user.iq | number:0 }} IQ</div>\n</div>\n\n<div\n  click-outside="$ctrl.open_header_menus.admin_menu = false"\n  class="feed_dropdown feed_dropdown--narrow_width"\n  ng-show="$ctrl.open_header_menus.admin_menu"\n  scroll-only-this-element=""\n>\n  <div class="feed_dropdown-header">\n    <span class="text_label">Account</span>\n  </div>\n\n  <a\n    ng-href="{{$ctrl.user.url}}"\n    class="feed_dropdown-item feed_dropdown-item--link"\n  >View Profile</a>\n\n  <a\n    href="/feedback/new"\n    class="feed_dropdown-item feed_dropdown-item--link"\n  >Report a Problem</a>\n\n  <a\n    ng-click="$ctrl.logout()"\n    class="feed_dropdown-item feed_dropdown-item--link"\n  >Sign out</a>\n\n  <a\n    ng-if="$ctrl.can(\'view_activity_stream_firehose\')"\n    href="/firehose"\n    class="feed_dropdown-item feed_dropdown-item--link"\n  >Firehose</a>\n\n  <a\n    ng-if="$ctrl.can(\'manage_messages\')"\n    href="/messages/all"\n    class="feed_dropdown-item feed_dropdown-item--link"\n  >MsgSnoop</a>\n\n  <a\n    ng-if="$ctrl.can(\'impersonate\')"\n    ng-click="$ctrl.impersonate_user()"\n    class="feed_dropdown-item feed_dropdown-item--link"\n  >Impersonate Another User</a>\n  <modal-window ng-if="$ctrl.impersonating">\n    <p><b>Hang tight!</b> We\'re trying to log you in to the account you specified...</p>\n  </modal-window>\n\n  <a\n    ng-if="$ctrl.can(\'remove_asset\')"\n    ng-click="$ctrl.remove_asset()"\n    class="feed_dropdown-item feed_dropdown-item--link"\n  >Remove Asset</a>\n\n  <a\n    ng-if="$ctrl.can(\'view_rate_limits\')"\n    href="/rate_limits"\n    class="feed_dropdown-item feed_dropdown-item--link"\n  >View Rate Limits</a>\n\n  <a\n    ng-if="$ctrl.can(\'view_penalties\')"\n    href="/penalties"\n    class="feed_dropdown-item feed_dropdown-item--link"\n  >View Penalties</a>\n\n  <a\n    ng-if="$ctrl.can(\'search_user_aliases\')"\n    ng-click="$ctrl.search_user_aliases()"\n    class="feed_dropdown-item feed_dropdown-item--link"\n  >Search User Aliases</a>\n\n  <a\n    ng-if="$ctrl.can(\'manage_incoming_emails\')"\n    href="/incoming_emails/manage"\n    class="feed_dropdown-item feed_dropdown-item--link"\n  >Manage Incoming Emails</a>\n\n  <a\n    ng-if="$ctrl.can(\'view_probably_spam_songs\')"\n    href="/songs/probably_spam"\n    class="feed_dropdown-item feed_dropdown-item--link"\n  >View Probably Spam Songs</a>\n\n  <div ng-if="$ctrl.can(\'view_chartbeat\')">\n    <a\n      href="/chartbeat"\n      class="feed_dropdown-item feed_dropdown-item--link"\n    >View Chartbeat</a>\n\n    <a\n      href="/chartbeat?bigboard=1"\n      class="feed_dropdown-item feed_dropdown-item--link"\n    >View Chartbeat Top Pages</a>\n\n    <a\n      href="/chartbeat?ios=1"\n      class="feed_dropdown-item feed_dropdown-item--link"\n    >View iOS Chartbeat</a>\n  </div>\n\n  <div ng-if="$ctrl.loading" class="local_overlay">\n    <placeholder-spinner></placeholder-spinner>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("header_auth.html",'<div class="header-actions">\n  <a\n    href="/signup"\n    class="header-action"\n    ng-class="{\'header-action--active\': $ctrl.prompt_auth === \'signing_up\'}"\n    ng-click="$ctrl.prompt_auth = \'signing_up\'"\n    prevent-default-click="true"\n  >Sign Up</a>\n  <a\n    href="/login"\n    class="header-action header-action--sign_in"\n    ng-class="{\'header-action--active\': $ctrl.prompt_auth === \'signing_in\'}"\n    ng-click="$ctrl.prompt_auth = \'signing_in\'"\n    prevent-default-click="true"\n  >Sign In</a>\n</div>\n\n<modal-window\n  ng-if="$ctrl.prompt_auth"\n  on-close="$ctrl.prompt_auth = false"\n  variants="{narrow_width: true}"\n>\n  <authentication-form signing-in="$ctrl.prompt_auth === \'signing_in\'"></authentication-form>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("header_menu_item.html",'<li class="nav_menu-item" click-outside="opened = false" ng-if="!url">\n  <a ng-click="opened = !opened" class="nav_menu-link nav_menu-link--has_dropdown" ng-class="{pressed: opened}">{{ name }}</a>\n  <div ng-transclude ng-show="opened"></div>\n</li>\n\n<li class="nav_menu-item" ng-if="url">\n  <a class="nav_menu-link" ng-href="{{ url }}">{{ name }}</a>\n</li>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("header_with_cover_art.html",'<div\n  class="header_with_cover_art"\n  ng-class="{\'header_with_cover_art--fade_in_background\': $ctrl.header_image_url && !$ctrl.variants.skin_ad}"\n  clipped-background-image="$ctrl.variants.skin_ad ? \'\' : $ctrl.header_image_url"\n  clipped-background-image-width-increment="10"\n>\n  <div class="header_with_cover_art-inner column_layout">\n    <div\n      class="column_layout-column_span"\n      ng-class="{\n        \'column_layout-column_span--primary\': !$ctrl.variants.wide_primary_column,\n        \'column_layout-column_span--three_quarter column_layout-column_span--force_padding\': $ctrl.variants.wide_primary_column\n      }"\n    >\n      <pyong-button\n        for-header\n        type="{{$ctrl.type}}"\n        object="$ctrl.object"\n        on-unauthorized="$ctrl.prompt_auth = true"\n        variants="{\n          tooltip_position: \'bottom left\',\n          disable_hang_left: $ctrl.variants.skin_ad,\n          far_hang: $ctrl.cover_arts.length > 1\n        }"\n      ></pyong-button>\n      <modal-window ng-if="$ctrl.prompt_auth" on-close="$ctrl.prompt_auth = false" variants="{narrow_width: true}">\n        <authentication-form></authentication-form>\n      </modal-window>\n\n      <div\n        class="header_with_cover_art-cover_art show_tiny_edit_button_on_hover"\n        ng-class="{\n          \'header_with_cover_art-cover_art--no_overhang\': $ctrl.variants.skin_ad,\n          \'header_with_cover_art-cover_art--large\': $ctrl.variants.large_cover_art,\n          \'header_with_cover_art-cover_art--annotated\': $ctrl.cover_arts.length\n        }"\n      >\n        <a\n          ng-if="$ctrl.cover_arts.length"\n          ng-href="{{$ctrl.cover_arts[0].url}}"\n        >\n          <div\n            ng-repeat="cover_art in $ctrl.cover_arts | limitTo:3 track by cover_art.id"\n            class="cover_art"\n            ng-class="{\'u-absolute\': !$first}"\n          >\n            <img\n              class="cover_art-image"\n              sized-src="cover_art.image_url"\n              class-for-browser="{msie: \'cover_art-image_ie\', _default: \'cover_art-image\'}"\n            ></img>\n            <div ng-if="$first" class="cover_art-cta">\n              <svg src="expand.svg" class="u-quarter_horizontal_margins inline_icon inline_icon--white inline_icon--small_reading_size inline_icon--up_1"></svg>\n              {{$ctrl.cover_art_cta_text()}}\n            </div>\n          </div>\n        </a>\n\n        <div ng-if="!$ctrl.cover_arts.length" class="cover_art">\n          <img\n            class="cover_art-image"\n            sized-src="$ctrl.cover_art_url"\n            class-for-browser="{msie: \'cover_art-image_ie\', _default: \'cover_art-image\'}"\n          ></img>\n        </div>\n\n        <div\n          class="tiny_edit_button"\n          ng-if="$ctrl.can_edit"\n          ng-click="$ctrl.on_edit()"\n          stop-propagation="click"\n        >\n          <svg src="pencil.svg" class="tiny_edit_button-svg"></svg>\n        </div>\n      </div>\n\n      <div class="header_with_cover_art-primary_info_container">\n        <div class="header_with_cover_art-primary_info">\n          <div ng-if="$ctrl.variants.type_label" class="text_label text_label--yellow text_label--x_small_text_size u-small_bottom_margin">{{$ctrl.variants.type_label}}</div>\n          <h1\n            class="header_with_cover_art-primary_info-title"\n            ng-class="{\'header_with_cover_art-primary_info-title--white\': $ctrl.variants.white_title}"\n          >{{$ctrl.titleLabel}}</h1>\n          <h2>\n            <span tether-drop-target>\n              <a\n                ng-href="{{$ctrl.artist.url}}"\n                class="header_with_cover_art-primary_info-primary_artist"\n              >{{$ctrl.artist.name}}</a>\n              <tether-drop show-on="hover">\n                <artist-tooltip artist="$ctrl.artist"></artist-tooltip>\n              </tether-drop>\n            </span>\n          </h2>\n          <ng-transclude ng-transclude-slot="metadata"></ng-transclude>\n        </div>\n      </div>\n      <song-verified-artists\n        ng-if="$ctrl.verified_contributors"\n        verified-contributors="$ctrl.verified_contributors"\n      ></song-verified-artists>\n    </div>\n    <div\n      class="column_layout-column_span u-top_margin"\n      ng-class="{\n        \'column_layout-column_span--secondary\': !$ctrl.variants.wide_primary_column,\n        \'column_layout-column_span--one_quarter\': $ctrl.variants.wide_primary_column\n      }"\n    >\n      <ng-transclude ng-transclude-slot="secondary"></ng-transclude>\n    </div>\n  </div>\n</div>\n\n<cover-art-modal\n  ng-if="$ctrl.focused_cover_art_id"\n  focused-cover-art-id="$ctrl.focused_cover_art_id"\n  close="$ctrl.close_cover_art_modal()"\n  cover-artable="$ctrl.object"\n  tiny-cover-arts="$ctrl.cover_arts"\n  type="album"\n></cover-art-modal>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("hidden_fields.html",'<div ng-switch="$ctrl.type">\n  <hidden-fields ng-switch-when="object" ng-repeat="(key, value) in $ctrl.value track by key" key="{{$ctrl.key + \'[\' + key + \']\'}}" value="value"></hidden-fields>\n  <hidden-fields ng-switch-when="array" ng-repeat="value in $ctrl.value track by $index" key="{{$ctrl.key + \'[]\'}}" value="value"></hidden-fields>\n  <input ng-switch-when="constant" type="hidden" name="{{$ctrl.key}}" value="{{$ctrl.value}}">\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("hide_song_form.html",'<modal-window on-close="on_close()">\n  <role-selection-dialog\n    save="ctrl.save(selected_roles)"\n    error="error"\n    prompt="Select who should be able to see this song"\n    saving="ctrl.saving"\n  ></role-selection-dialog>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("home_charts_album.html",'<a\n  class="chart_row"\n  ng-href="{{$ctrl.album.url}}"\n  ng-class="{\'chart_row--large_border\': $ctrl.index === 0}"\n>\n  <div class="chart_row-number_container chart_row-number_container--large">\n    <span\n      class="chart_row-number_container-number chart_row-number_container-number--large"\n      ng-class="{\'chart_row-number_container-number--square\': $ctrl.is_featured_chart()}"\n    >\n      <span>{{$ctrl.index + 1}}</span>\n    </span>\n  </div>\n  <div\n    class="chart_row-cover_art"\n    ng-class="{\'chart_row-cover_art--large\': $ctrl.is_featured_chart()}"\n  >\n    <div class="cover_art">\n      <img\n        sized-src="$ctrl.album.cover_art_url"\n        class-for-browser="{msie: \'cover_art-image_ie\', _default: \'cover_art-image\'}"\n      >\n    </div>\n  </div>\n  <div class="chart_row-two_line_title_and_artist" ng-if="$ctrl.is_featured_chart()">\n    <div class="chart_row-two_line_title_and_artist-title">{{$ctrl.album.name}}</div>\n    {{$ctrl.album.artist.name}}\n  </div>\n  <div class="chart_row-content" ng-if="!$ctrl.is_featured_chart()">\n    {{$ctrl.album.name}} by {{$ctrl.album.artist.name}}\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("home_charts_artist.html",'<a\n  class="chart_row"\n  ng-href="{{$ctrl.artist.url}}"\n  ng-class="{\'chart_row--large_border\': $ctrl.index === 0}"\n>\n  <div class="chart_row-number_container chart_row-number_container--large">\n    <span\n      class="chart_row-number_container-number chart_row-number_container-number--large"\n      ng-class="{\'chart_row-number_container-number--square\': $ctrl.is_featured_chart()}"\n    >\n      <span>{{$ctrl.index + 1}}</span>\n    </span>\n  </div>\n  <div\n    class="chart_row-cover_art"\n    ng-class="{\'chart_row-cover_art--large\': $ctrl.is_featured_chart()}"\n  >\n    <div class="cover_art">\n      <img\n        sized-src="$ctrl.artist.image_url"\n        class-for-browser="{msie: \'cover_art-image_ie\', _default: \'cover_art-image\'}"\n      >\n    </div>\n  </div>\n  <div class="chart_row-content">{{$ctrl.artist.name}}</div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("home_charts_referent.html",'<a\n  class="chart_row chart_row--align_top"\n  ng-href="{{$ctrl.referent.url}}"\n  ng-class="{\'chart_row--large_border\': $ctrl.index === 0}"\n>\n  <div class="u-vertically_center_contents u-hair_top_margin">\n    <div class="chart_row-number_container chart_row-number_container--large">\n      <span\n        class="chart_row-number_container-number chart_row-number_container-number--large"\n        ng-class="{\'chart_row-number_container-number--square\': $ctrl.is_featured_chart()}"\n      >\n        <span>{{$ctrl.index + 1}}</span>\n      </span>\n    </div>\n    <div\n      class="chart_row-cover_art"\n      ng-class="{\'chart_row-cover_art--large\': $ctrl.is_featured_chart()}"\n    >\n      <div class="cover_art">\n        <img\n          sized-src="$ctrl.referent.annotatable.image_url"\n          class-for-browser="{msie: \'cover_art-image_ie\', _default: \'cover_art-image\'}"\n        >\n      </div>\n    </div>\n  </div>\n  <div class="chart_row-content u-half_left_margin">\n    <span class="referent referent--line_break">{{$ctrl.referent.fragment}}</span>\n    <div class="chart_row-content-attribution">— {{$ctrl.referent.annotatable.link_title}}</div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("home_charts_song.html",'<a\n  class="chart_row"\n  ng-href="{{$ctrl.song.url}}"\n  ng-class="{\'chart_row--large_border\': $ctrl.index === 0}"\n>\n  <div class="chart_row-number_container chart_row-number_container--large">\n    <span\n      class="chart_row-number_container-number chart_row-number_container-number--large"\n      ng-class="{\'chart_row-number_container-number--square\': $ctrl.is_featured_chart()}"\n    >\n      <span>{{$ctrl.index + 1}}</span>\n    </span>\n  </div>\n  <div\n    class="chart_row-cover_art"\n    ng-class="{\'chart_row-cover_art--large\': $ctrl.is_featured_chart()}"\n  >\n    <div class="cover_art">\n      <img\n        sized-src="$ctrl.song.song_art_image_thumbnail_url"\n        class-for-browser="{msie: \'cover_art-image_ie\', _default: \'cover_art-image\'}"\n      >\n    </div>\n  </div>\n  <div class="chart_row-two_line_title_and_artist" ng-if="$ctrl.is_featured_chart()">\n    <div class="chart_row-two_line_title_and_artist-title">{{$ctrl.song.title}}</div>\n    {{$ctrl.song.primary_artist.name}}\n    <svg src="checky.svg" class="checky checky--up_1 u-quarter_horizontal_margins" ng-if="$ctrl.song.has_verified_artists"></svg>\n  </div>\n  <div class="chart_row-content" ng-if="!$ctrl.is_featured_chart()">\n    {{$ctrl.song.title}} by {{$ctrl.song.primary_artist.name}}\n    <svg src="checky.svg" class="checky checky--up_1 u-quarter_horizontal_margins" ng-if="$ctrl.song.has_verified_artists"></svg>\n  </div>\n  <div\n    class="chart_row-metadata_element"\n    ng-show="$ctrl.song.stats.concurrents + 1 > 50 && $ctrl.index < 3"\n    ng-class="{\'chart_row-metadata_element--hot\': $ctrl.song.stats.concurrents + 1 > 50}"\n  >\n    <svg src="fire.svg" class="inline_icon inline_icon--pink inline_icon--reading_size inline_icon--up_3"></svg>\n    {{$ctrl.song.stats.concurrents + 1 | number}}\n  </div>\n  <div class="chart_row-metadata_element">\n    <svg src="eye.svg" class="inline_icon inline_icon--up_2"></svg>\n    {{$ctrl.song.stats.pageviews | abbreviateBigNumber}}\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("home_community.html",'<div class="horizontal_section" id="community">\n  <div class="column_layout home_community_section u-xx_large_bottom_margin">\n    <div class="column_layout-column_span column_layout-column_span--half">\n      <div class="text_label u-large_bottom_margin">Join Our Community</div>\n      <div class="home_community_section-headline home_community_section-headline--extra_large u-x_large_bottom_margin">Genius is the world\'s biggest collection of song lyrics and musical knowledge</div>\n      <div class="u-xx_large_bottom_margin">Earn IQ points when you contribute. Sign up now to add new songs, unpack the meaning of important lines, and compete to become the Top Scholar on your favorite artist.</div>\n      <svg height="50px" class="home_community_section-headline home_community_section-headline--iq_count">\n        <text x="6" y="41">{{ $ctrl.total_iq | number:0 }}</text>\n        <text x="3" y="39">{{ $ctrl.total_iq | number:0 }}</text>\n        <text x="0" y="36">{{ $ctrl.total_iq | number:0 }}</text>\n      </svg>\n      <div class="text_label text_label--pink u-xx_large_bottom_margin">Total IQ Earned</div>\n      <div class="home_community_section-call_to_action">\n        <a href="/login" ng-if="!$ctrl.user_signed_in" class="square_button u-right_margin" ng-click="$ctrl.prompt_auth = \'signing_up\'" prevent-default-click="true">Create An Account</a>\n        <a class="text_label text_label--button" href="/contributor_guidelines">Learn How Genius Works</a>\n      </div>\n    </div>\n    <div class="column_layout-column_span column_layout-column_span--half column_layout-column_span--big_left_margin">\n      <div class="home_community_section-leaderboard-filters">\n        <div class="u-relative">\n          <select-dropdown\n            variants="{left_aligned: true}"\n            on-select="$ctrl.filter_by_period(selection.value)"\n            options="$ctrl.period_options"\n          ></select-dropdown>\n        </div>\n\n        <div class="u-relative">\n          <select-dropdown\n            variants="{right_aligned: true}"\n            on-select="$ctrl.filter_by_tag(selection.value)"\n            options="$ctrl.tag_options"\n          ></select-dropdown>\n        </div>\n      </div>\n\n      <div class="leaderboard" ng-switch="$ctrl.loading">\n        <div class="home_community_section-leaderboard_row leaderboard-row leaderboard-row--no_padding">\n          <div class="leaderboard-rank leaderboard-label">Rank</div>\n          <div class="leaderboard-user leaderboard-label">Scholar</div>\n          <div class="leaderboard-sort_value leaderboard-label">IQ</div>\n        </div>\n\n        <div ng-switch-when="true">\n          <placeholder-spinner></placeholder-spinner>\n        </div>\n        <div ng-switch-when="false">\n          <div\n            class="home_community_section-leaderboard_row leaderboard-row leaderboard-row--gray_border"\n            ng-repeat="ranking in $ctrl.leaderboard track by ranking.user.id"\n          >\n            <span class="leaderboard-rank" ng-class="{\'leaderboard-rank--large\': $index == 0}">\n              <span ng-if="$index == 0">#</span>{{$index + 1}}\n            </span>\n            <span class="leaderboard-user" ng-class="{\'home_community_section-leaderboard-top_user\': $index == 0}">\n              <user-badge\n                size="{{$index === 0 ? \'large\' : \'small\'}}"\n                variants="{show_user_role: $index === 0}"\n                object="ranking.user"\n              ></user-badge>\n            </span>\n            <span class="leaderboard-sort_value leaderboard-sort_value--emphasis">\n              <span>{{ ranking.attribution_value | number:0 }}</span>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<modal-window\n  ng-if="$ctrl.prompt_auth"\n  on-close="$ctrl.prompt_auth = false"\n  variants="{narrow_width: true}"\n>\n  <authentication-form></authentication-form>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("home_featured_latest_story.html",'<a\n  class="home_featured_latest_story"\n  ng-class="{\'home_featured_latest_story--no_bottom_margin\': $last}"\n  ng-href="{{$ctrl.story.behavior.attributes.url}}?utm_source=home_featured_latest_stories"\n>\n  <div\n    clipped-background-image="$ctrl.story.appearance.image_url"\n    class="home_featured_latest_story-image"\n    ng-class="{\'home_featured_latest_story-image--with_play_button\': $ctrl.story.behavior.classification === \'video\'}"\n  >\n    <svg\n      ng-if="$ctrl.story.behavior.classification === \'video\'"\n      src="play.svg"\n      class="dark_background_play_button dark_background_play_button--small"\n    ></svg>\n  </div>\n  <div class="home_featured_latest_story-title " ng-style="{color: $ctrl.variants.override_text_color}">\n    {{$ctrl.story.appearance.title}}\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("home_featured_stories.html",'<div class="horizontal_section horizontal_section--white_background horizontal_section--large" id="featured-stories">\n  <div class="column_layout home_featured_stories home_featured_stories--labels">\n    <div class="column_layout-column_span column_layout-column_span--three_quarter">\n      <div class="text_label u-bottom_margin" ng-style="{color: $ctrl.variants.override_text_color}">Featured Stories</div>\n    </div>\n    <div class="column_layout-column_span column_layout-column_span--one_quarter">\n      <div class="text_label u-bottom_margin" ng-style="{color: $ctrl.variants.override_text_color}">Latest</div>\n    </div>\n  </div>\n  <div class="column_layout home_featured_stories">\n    <div class="home_featured_stories-featured_column column_layout-column_span column_layout-column_span--half">\n      <home-featured-story story="$ctrl.stories[0]" variants="{large: true}" class="u-flex_directive"></home-featured-story>\n    </div>\n    <div class="home_featured_stories-featured_column column_layout-column_span column_layout-column_span--one_quarter">\n      <div class="home_featured_stories-stack">\n        <div class="home_featured_stories-stack_child home_featured_stories-stack_child--primary">\n          <home-featured-story story="$ctrl.stories[1]" class="u-flex_directive"></home-featured-story>\n        </div>\n        <div class="home_featured_stories-stack_child home_featured_stories-stack_child--secondary">\n          <home-featured-story story="$ctrl.stories[2]" class="u-flex_directive"></home-featured-story>\n        </div>\n      </div>\n    </div>\n    <div class="column_layout-column_span column_layout-column_span--one_quarter">\n      <home-featured-latest-story\n        story="story"\n        ng-repeat="story in $ctrl.stories | drop:3 | limitTo:5 track by $id(story)"\n        variants="$ctrl.variants"\n      ></home-featured-latest-story>\n      <div class="u-clickable" ng-click="$ctrl.scroll_to(\'recent_stories\')" ng-style="{color: $ctrl.variants.override_text_color}">\n        <svg src="down_arrow.svg" class="inline_icon inline_icon--half_height inline_icon--up_1"></svg> Show More\n      </div>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("home_featured_story.html",'<a ng-if="$ctrl.story"\n  class="u-flex_directive home_featured_story"\n  ng-class="{\'home_featured_story--large\': $ctrl.variants.large}"\n  clipped-background-image="$ctrl.story.appearance.overlay_compatible_image_url || $ctrl.story.appearance.image_url"\n  ng-href="{{$ctrl.story.behavior.attributes.url}}?utm_source=home_featured_stories"\n>\n  <div class="home_featured_story-group home_featured_story-group--primary">\n    <div ng-show="$ctrl.story.appearance.label">\n      <span class="tag_label tag_label--black_background">{{$ctrl.story.appearance.label}}</span>\n    </div>\n    <div class="home_featured_story-title">\n      <svg ng-if="$ctrl.story.behavior.classification === \'video\'" src="play_transparent.svg" class="home_featured_story-title-play_icon"></svg>\n      {{$ctrl.story.appearance.title}}\n    </div>\n  </div>\n  <div class="home_featured_story-group">\n    <span ng-if="$ctrl.story.behavior.classification === \'link\'" ng-show="$ctrl.story.appearance.attribution" class="home_featured_story-author">\n      {{$ctrl.story.appearance.attribution}}\n    </span>\n    <span ng-show="$ctrl.story.appearance.publish_date" class="home_featured_story-date">\n      {{$ctrl.story.appearance.publish_date | cast_to_date | date:\'MMMM d\' }}\n    </span>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("home_page.html",'<div\n  ng-class="{\n    skinned: $ctrl.has_skin_ad,\n    home_skinned: $ctrl.has_skin_ad\n  }"\n>\n  <div class="banner_container u-display_block" ng-class="{\'banner_container--filled\': $ctrl.has_banner_ad}">\n    <dfp-ad\n      class="u-display_block"\n      name="desktop_home_leaderboard"\n      ad-classes="[\n        \'dfp_unit--vertical_margins\',\n        \'dfp_unit--centered_billboard\'\n      ]"\n      on-filled="$ctrl.has_banner_ad = true"\n    ></dfp-ad>\n  </div>\n  <home-featured-stories\n    stories="$ctrl.page_data.featured_stories"\n    variants="{override_text_color: $ctrl.override_text_color}"\n  ></home-featured-stories>\n\n  <charts\n    preloaded-songs="$ctrl.page_data.songs_chart_items"\n    tags="$ctrl.page_data.tags"\n  ></charts>\n\n  <home-video-lists\n    video-lists="$ctrl.page_data.video_lists"\n  ></home-video-lists>\n\n  <home-recent-stories\n    recent-stories="$ctrl.page_data.recent_stories"\n    scroll-point="recent_stories"\n    per-page="12"\n  ></home-recent-stories>\n\n  <home-community\n    total-iq="$ctrl.page_data.total_iq"\n    top-users="$ctrl.page_data.top_users"\n    tags="$ctrl.page_data.tags"\n  ></home-community>\n\n  <dfp-ad name="desktop_home_footer" ad-classes="[\'u-bottom_margin\']"></dfp-ad>\n\n  <skin-ad\n    name="desktop_home_skin"\n    on-filled="$ctrl.has_skin_ad = true; $ctrl.override_text_color = custom_values.text_color"\n  ></skin-ad>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("home_recent_stories.html",'<div class="horizontal_section horizontal_section--white_background">\n  <div class="column_layout">\n    <div class="u-width_100">\n      <div class="u-bottom_margin">\n        <a\n          ng-repeat="source_option in $ctrl.source_options"\n          class="text_label u-large_right_margin u-clickable"\n          ng-click="$ctrl.filter_by_source(source_option.value)"\n          ng-class="{\'text_label--gray\': $ctrl.selected_source !== source_option.value}"\n        >{{source_option.label}}</a>\n      </div>\n\n      <placeholder-spinner ng-if="$ctrl.loading"></placeholder-spinner>\n\n      <div ng-class="{\'home_grid--loading\': $ctrl.loading}">\n        <scrollable-data\n          button-classes="home_grid-show_more_button"\n          container-classes="home_grid"\n          item-classes="home_grid-section"\n          preload="$ctrl.recent_stories"\n          src="$ctrl.recent_stories_feed"\n          repeat-with="story"\n          scroll-mechanism="button"\n          on-show-more="$ctrl.track_load()"\n        >\n          <a ng-href="{{story.behavior.attributes.url}}?utm_source=home_recent_stories">\n            <div class="home_grid-section-thumbnail">\n              <div\n                class="home_grid-section-thumbnail-background"\n                clipped-background-image="story.appearance.image_url"\n              ></div>\n              <svg\n                ng-if="story.behavior.classification === \'video\'"\n                src="play.svg"\n                class="dark_background_play_button"\n              ></svg>\n              <span class="home_grid-section-thumbnail-tag_label tag_label tag_label--black_background">{{story.appearance.label}}</span>\n            </div>\n            <div class="home_grid-section-title">{{ story.appearance.title }}</div>\n          </a>\n\n          <show-more>\n            <div class="home_show_more">\n              <svg src="down_arrow.svg" class="inline_icon inline_icon--half_height inline_icon--up_1"></svg> Show More\n            </div>\n          </show-more>\n        </scrollable-data>\n      </div>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("home_video_lists.html",'<div class="horizontal_section horizontal_section--black_background" id="videos">\n  <div class="column_layout">\n    <div class="u-width_100">\n      <div class="u-bottom_margin">\n        <span class="text_label text_label--gray">Video Series</span>\n      </div>\n      <scrollable-data\n        button-classes="home_grid-show_more_button"\n        container-classes="home_grid"\n        item-classes="home_grid-section"\n        preload="$ctrl.video_lists"\n        src="$ctrl.video_lists_feed"\n        repeat-with="video_list"\n        scroll-mechanism="button"\n      >\n        <a\n          ng-href="{{ video_list.url }}"\n          class="home_grid-section-logo"\n          ng-class="{\n            \'home_grid-section-logo--small\': [\'news\', \'irl\', \'bts\'].indexOf(video_list.slug) < 0,\n            \'home_grid-section-logo--medium\': video_list.slug == \'irl\',\n            \'home_grid-section-logo--large\': [\'news\', \'bts\'].indexOf(video_list.slug) >= 0,\n            \'home_grid-section-logo--down_8\': video_list.slug == \'news\'\n          }"\n        >\n          <svg ng-if="$ctrl.has_logo(video_list)" ng-src="$ctrl.logo_name(video_list)"></svg>\n          <span ng-if="!$ctrl.has_logo(video_list)">{{ video_list.title }}</span>\n        </a>\n        <a ng-href="{{ video_list.latest_episode.url }}?utm_source=home_video_series" class="u-display_block">\n          <div class="home_grid-section-thumbnail">\n            <div\n              class="home_grid-section-thumbnail-background"\n              clipped-background-image="video_list.latest_episode.poster_url"\n            ></div>\n            <svg\n              src="play.svg"\n              class="dark_background_play_button"\n            ></svg>\n          </div>\n          <div class="text_label text_label--gray text_label--x_small_text_size u-text_center u-x_small_bottom_margin">Latest Episode</div>\n          <div class="home_grid-section-title home_grid-section-title--white">{{ video_list.latest_episode.short_title }}</div>\n        </a>\n\n        <show-more>\n          <div class="home_show_more home_show_more--dark_background">\n            <svg src="down_arrow.svg" class="inline_icon inline_icon--half_height inline_icon--up_1"></svg> Show More\n          </div>\n        </show-more>\n      </scrollable-data>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("image_upload_button.html",'<div click-outside="$ctrl.tooltip_opened = false" class="image_upload_button-container">\n  <div\n    class="image_upload_button"\n    ng-class="{\'image_upload_button--avatar\': $ctrl.variants.avatar, \'image_upload_button--active\': $ctrl.tooltip_opened}"\n    clipped-background-image="$ctrl.default_image"\n    ng-click="$ctrl.pick_image_for_artist(\'COMPUTER\')"\n  >\n    <svg src="upload_image.svg" class="inline_icon inline_icon--large_reading_size inline_icon--white"></svg>\n  </div>\n  <div\n    ng-if="$ctrl.allow_clear"\n    ng-click="$ctrl.on_clear()"\n    confirm="{{$ctrl.clear_confirm || \'Are you sure you want to delete this image?\'}}"\n    class="image_upload_button-clear u-clickable"\n  >\n    <svg\n      src="x.svg"\n      class="inline_icon inline_icon--short inline_icon--gray"\n    ></svg>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox.html",'<div class="feed_dropdown-header">\n  <span class="text_label">{{:: \'header.\' + $ctrl.inbox_name | i18n }}</span>\n</div>\n<div infinite-scroll="$ctrl.load_next_page()" infinite-scroll-disabled="!$ctrl.should_paginate()" scroll-only-this-element="">\n  <div ng-repeat="line_item in $ctrl.line_items track by line_item.event_ids">\n    <inbox-line-item inbox-name=":: $ctrl.inbox_name" object=":: line_item" eager-load-details="$first && $ctrl.opened"></inbox-line-item>\n  </div>\n  <placeholder-spinner ng-if="!$ctrl.done_loading" placeholder-classes="feed_dropdown-item"></placeholder-spinner>\n\n  <div ng-if="$ctrl.done_loading && !$ctrl.line_items.length" class="feed_dropdown-item feed_dropdown-item--active">\n    No notifications\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_container.html",'<inbox-icon\n  ng-click="$ctrl.opened_once = true; $ctrl.open_inboxes[$ctrl.inbox_name] = !$ctrl.open_inboxes[$ctrl.inbox_name]"\n  stop-propagation="click"\n  inbox-name="{{$ctrl.inbox_name}}"\n  opened="$ctrl.open_inboxes[$ctrl.inbox_name]"\n  sync-count-to-title="$ctrl.sync_count_to_title"\n  abbreviate-after="$ctrl.abbreviate_after"\n  yields-api="$ctrl.unread_count_api = api"\n></inbox-icon>\n\n<div\n  class="feed_dropdown"\n  ng-if="$ctrl.opened_once"\n  ng-show="$ctrl.open_inboxes[$ctrl.inbox_name]"\n  click-outside="$ctrl.open_inboxes[$ctrl.inbox_name] = false"\n  stop-propagation="click"\n  scroll-only-this-element=""\n  infinite-scroll-container\n>\n  <iq-inbox\n    ng-if="$ctrl.use_iq_inbox"\n    opened="$ctrl.open_inboxes[$ctrl.inbox_name]"\n    clear-unread-count="$ctrl.unread_count_api.clear()"\n  ></iq-inbox>\n  <messages-inbox\n    ng-if="$ctrl.use_messages_inbox"\n    opened="$ctrl.open_inboxes[$ctrl.inbox_name]"\n    decrement-unread-count="$ctrl.unread_count_api.decrement(unread_messages_count)"\n  ></messages-inbox>\n  <inbox\n    ng-if="!$ctrl.use_messages_inbox && !$ctrl.use_iq_inbox"\n    inbox-name="{{$ctrl.inbox_name}}"\n    opened="$ctrl.open_inboxes[$ctrl.inbox_name]"\n    clear-unread-count="$ctrl.unread_count_api.clear()"\n  ></inbox>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_icon.html",'<span class="header-action" ng-class="{\'header-action--active\': $ctrl.opened}">\n  <span class="header-action-icon header-action-icon--{{ $ctrl.inbox_name }}"></span>\n  <span class="header-action-label">{{ \'header.\' + $ctrl.inbox_name | i18n }}</span>\n  <span ng-if="$ctrl.unread_count" class="header-action-count numbered_indicator numbered_indicator--pink_filled">{{ $ctrl.unread_count | boundedCount:$ctrl.abbreviate_after }}</span>\n</span>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item.html",'<div\n  class="feed_dropdown-item"\n  ng-class="{\n    \'feed_dropdown-item--unread\': line_item.unread && !variants.active_display,\n    \'feed_dropdown-item--active\': ctrl.state.show_details || variants.active_display\n  }"\n  ng-click="ctrl.toggle_visible()"\n>\n  <div class="inbox_line_item">\n    <div class="inbox_line_item-avatars">\n      <div\n        class="user_avatar user_avatar--medium"\n        ng-class=":: {\'inbox_line_item-avatars-stacked_avatar--over\': line_item.actor_avatars.length > 1}"\n        clipped-background-image=":: line_item.actor_avatars[0].small.url"\n      ></div>\n      <div\n        class="user_avatar user_avatar--medium inbox_line_item-avatars-stacked_avatar--under"\n        ng-if=":: line_item.actor_avatars.length > 1"\n        clipped-background-image=":: line_item.actor_avatars[1].thumb.url"\n      ></div>\n    </div>\n    <div class="inbox_line_item-action">\n      <div class="inbox_line_item-action-center">\n        <div class="feed_dropdown-item-unread_indicator numbered_indicator" ng-if=":: line_item.event_ids.length > 1" ng-class="{\'numbered_indicator--gray\': !line_item.unread}">\n          {{ line_item.event_ids.length }}\n        </div>\n        <inbox-line-item-action-icon action-name="line_item.action_name"></inbox-line-item-action-icon>\n        <div\n          ng-if=":: line_item.iq_gained"\n          class="inbox_line_item-action-iq_difference text_label"\n          ng-class=":: {\n            \'text_label--red\': line_item.iq_gained < 0,\n            \'text_label--green\': line_item.iq_gained > 0\n          }"\n        >{{:: (line_item.iq_gained | signed_number) }}</div>\n      </div>\n    </div>\n    <div class="inbox_line_item-content inbox_line_item-content--emphasized_title">\n      <inbox-line-item-message\n        template="ctrl.message_template"\n        key="ctrl.message_components.key"\n        params="ctrl.message_components.params"\n        state="ctrl.state"\n      ></inbox-line-item-message>\n    </div>\n    <div class="inbox_line_item-timestamp">\n      <time-ago time=":: line_item.timestamp"></time-ago>\n    </div>\n  </div>\n</div>\n\n<div\n  ng-if="ctrl.state.load_details"\n  ng-show="ctrl.state.show_details"\n  class="feed_dropdown-expanded_section"\n>\n  <inbox-line-item-detail\n    ng-if="ctrl.formation && ctrl.line_item_detail"\n    line-item-detail="ctrl.line_item_detail"\n    formation="ctrl.formation"\n  ></inbox-line-item-detail>\n\n  <div class="u-vertical_margins" ng-if="!ctrl.iframe_loaded && !ctrl.line_item_detail">\n    <placeholder-spinner></placeholder-spinner>\n  </div>\n\n  <iframe\n    ng-if=":: !ctrl.formation"\n    on-load="ctrl.iframe_loaded = true"\n    auto-resize-iframe\n    ng-src="{{:: details_url}}"\n    class="feed_dropdown-expanded_section-legacy_iframe_content"\n  ></iframe>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_action_icon.html",'<div ng-switch=":: action_name">\n  <svg ng-switch-when="upvoted" src="thumbs_up.svg" class="inline_icon inline_icon--green"></svg>\n  <svg ng-switch-when="downvoted" src="thumbs_down.svg" class="inline_icon inline_icon--red"></svg>\n  <svg ng-switch-when="replied_to" src="comment.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="added_a_suggestion_to" src="comment.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="mentioned" src="at_symbol.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="posted_in" src="pin.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="pinned" src="pin.svg" class="inline_icon inline_icon--green"></svg>\n  <svg ng-switch-when="unpinned" src="pin.svg" class="inline_icon inline_icon--red"></svg>\n  <svg ng-switch-when="created" src="blockquote.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="pyonged" src="lightning.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="edited" src="pencil.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="edited_the_lyrics_of" src="pencil.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="edited_the_metadata_of" src="pencil.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="proposed_an_edit_to" src="pencil.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="accepted" src="checkmark.svg" class="inline_icon inline_icon--green"></svg>\n  <svg ng-switch-when="archived" src="checkmark.svg" class="inline_icon inline_icon--green"></svg>\n  <svg ng-switch-when="rejected" src="x.svg" class="inline_icon inline_icon--red"></svg>\n  <svg ng-switch-when="deleted" src="x.svg" class="inline_icon inline_icon--red"></svg>\n  <svg ng-switch-when="marked_as_spam" src="x.svg" class="inline_icon inline_icon--red"></svg>\n  <svg ng-switch-when="followed" src="eye.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="are_commanded_to_follow" src="eye.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="added_a_photo" src="eye.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="cosigned" src="checky.svg" class="inline_icon checky"></svg>\n  <svg ng-switch-when="verified_the_lyrics_of" src="checky.svg" class="inline_icon checky"></svg>\n  <svg ng-switch-when="unverified_the_lyrics_of" src="x.svg" class="inline_icon inline_icon--red"></svg>\n  <svg ng-switch-when="locked" src="lock.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="unpublished" src="eye_cross.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="integrated" src="checkmark.svg" class="inline_icon inline_icon--green"></svg>\n  <svg ng-switch-when="made_an_editor_out_of" src="up_arrow.svg" class="inline_icon inline_icon--green"></svg>\n  <svg ng-switch-when="made_a_moderator_out_of" src="up_arrow.svg" class="inline_icon inline_icon--green"></svg>\n  <svg ng-switch-when="staffed" src="up_arrow.svg" class="inline_icon inline_icon--green"></svg>\n  <svg ng-switch-when="mediatored" src="up_arrow.svg" class="inline_icon inline_icon--green"></svg>\n  <svg ng-switch-when="made_an_educator_out_of" src="up_arrow.svg" class="inline_icon inline_icon--green"></svg>\n  <svg ng-switch-when="de-modded" src="down_arrow.svg" class="inline_icon inline_icon--red"></svg>\n  <svg ng-switch-when="de-staffed" src="down_arrow.svg" class="inline_icon inline_icon--red"></svg>\n  <svg ng-switch-when="accepted_the_invitation" src="envelope.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="invited" src="envelope.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="unlocked" src="unlock.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="moved" src="right_arrow.svg" class="inline_icon inline_icon--gray"></svg>\n  <svg ng-switch-when="marked" src="circle.svg" class="inline_icon inline_icon--purple"></svg>\n  <svg ng-switch-when="incorporated" src="two_documents.svg" class="inline_icon inline_icon--green"></svg>\n  <svg ng-switch-when="merged" src="two_documents.svg" class="inline_icon inline_icon--green"></svg>\n  <svg ng-switch-when="recognized" src="one_document.svg" class="inline_icon inline_icon--green"></svg>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail/actions.html",'<div\n  ng-repeat="action in $ctrl.detail.actions track by $index"\n  ng-class="{\'u-bottom_margin\': !$last}"\n>\n  <inbox-line-item-detail-object\n    object="action"\n    variants="{deleted: $ctrl.detail.action_name === \'deleted\'}"\n  ></inbox-line-item-detail-object>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail/actors.html",'<div class="gray_container">\n  <div\n    class="inbox_line_item_detail-actor"\n    ng-repeat="user in $ctrl.detail.actors track by user.id"\n  >\n    <inbox-line-item-action-icon action_name=":: $ctrl.detail.action_name"></inbox-line-item-action-icon>\n    <user-badge-and-timestamp\n      size="x_small"\n      user=":: user"\n      time=":: $ctrl.detail.timestamp"\n      class="u-flex_directive"\n    ></user-badge-and-timestamp>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail/annotations_with_comments.html",'<div\n  ng-repeat="target in $ctrl.detail.targets track by $index"\n  ng-class="{\'u-bottom_margin\': !$last}"\n>\n  <standalone-referent object=":: target" focused-comments="$ctrl.detail.actions"></standalone-referent>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail/context.html",'<inbox-line-item-detail-object\n  object="$ctrl.detail.context"\n  variants="{deleted: $ctrl.detail.action_name === \'deleted\'}"\n></inbox-line-item-detail-object>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail/context_commentable.html",'<div ng-if="$ctrl.detail.context._type === \'comment\'">\n  <inbox-line-item-detail-object object="$ctrl.detail.context.commentable"></inbox-line-item-detail-object>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail/lyrics_changes.html",'<div\n  ng-repeat="metadata in $ctrl.detail.metadata track by $index"\n  class="gray_container"\n  ng-class="{\'u-bottom_margin\': !$last}"\n>\n  <rich-text-diff\n    detect-image-diffs\n    class="rich_text_formatting"\n    left="metadata.before || \'\'"\n    right="metadata.after"\n  ></rich-text-diff>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail/merged_artist.html",'<div class="gray_container">\n  Merged {{$ctrl.detail.metadata[0].artist_name_at_time_of_merge}} (Artist ID: {{$ctrl.detail.targets[0].id}})\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail/metadata_changes.html",'<div\n   ng-repeat="metadata in $ctrl.detail.metadata track by $index"\n   ng-class="{\'u-bottom_margin\': !$last}"\n>\n  <div\n    ng-repeat="(attribute, changes) in metadata.changes track by attribute"\n    ng-class="{\'u-bottom_margin\': !$last}"\n    class="gray_container"\n  >\n    <div class="text_label text_label--gray u-half_bottom_margin">{{attribute}}</div>\n    <div>Before:</div>\n    <div class="rich_text_formatting" ng-bind-html="changes[0]"></div>\n    <div>After:</div>\n    <div class="rich_text_formatting" ng-bind-html="changes[1]"></div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail/targets.html",'<div\n  ng-repeat="target in $ctrl.detail.targets track by $index"\n  ng-class="{\'u-bottom_margin\': !$last}"\n>\n  <inbox-line-item-detail-object\n    object="target"\n    variants="{deleted: $ctrl.detail.action_name === \'deleted\'}"\n  ></inbox-line-item-detail-object>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail/user_acted_on_user.html",'<div\n  class="user_acts_on_user"\n  ng-repeat="target in $ctrl.detail.targets track by $index"\n  ng-class="{\'u-bottom_margin\': !$last}"\n>\n  <div class="user_acts_on_user-user u-half_horizontal_margins">\n    <user-badge variants="::{show_user_role: true}" size="medium" object=":: $ctrl.detail.actors[0]"></user-badge>\n  </div>\n  <div class="user_acts_on_user-user u-half_horizontal_margins">\n    <user-badge variants="::{show_user_role: true}" size="medium" object=":: target"></user-badge>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail_discussion.html",'<div class="inbox_line_item_detail_forum_post">\n  <inbox-line-item-detail-discussion-header discussion="$ctrl.discussion"></inbox-line-item-detail-discussion-header>\n\n  <span\n    ng-if="$ctrl.has_next() && !$ctrl.loading"\n    ng-click="$ctrl.load_more()"\n    class="text_label text_label--purple text_label--button text_label--x_small_text_size"\n  >\n    Load older replies\n  </span>\n  <div class="u-bottom_margin">\n    <placeholder-spinner ng-if="$ctrl.loading"></placeholder-spinner>\n  </div>\n\n  <inbox-line-item-detail-forum-post-single\n    ng-repeat="forum_post in $ctrl.forum_posts | orderBy:\'-\' track by forum_post.id"\n    forum-post="forum_post"\n  ></inbox-line-item-detail-forum-post-single>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail_discussion_header.html",'<div class="inbox_line_item_detail_forum_post-titles">\n  <div class="inbox_line_item_detail_forum_post-titles-post_title">\n    <a ng-href="{{:: $ctrl.discussion.url }}">\n      {{:: $ctrl.discussion.title }}\n    </a>\n  </div>\n  <div>\n    <a\n      ng-href="{{:: $ctrl.discussion.group.url }}"\n      class="text_label text_label--gray text_label--x_small_text_size"\n    >{{:: $ctrl.discussion.group.name }}</a>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail_forum_post.html",'<div class="inbox_line_item_detail_forum_post">\n  <inbox-line-item-detail-discussion-header discussion="$ctrl.forum_post.discussion"></inbox-line-item-detail-discussion-header>\n  <inbox-line-item-detail-forum-post-single forum-post="$ctrl.forum_post"></inbox-line-item-detail-forum-post-single>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail_forum_post_single.html",'<div class="inbox_line_item_detail_forum_post-body_container u-bottom_margin">\n  <user-badge-and-timestamp\n    size="medium"\n    variants="::{show_user_role: true}"\n    user=":: $ctrl.forum_post.author"\n    time=":: $ctrl.forum_post.created_at"\n  ></user-badge-and-timestamp>\n\n  <standard-rich-content\n    ng-if="$ctrl.forum_post.body"\n    html="$ctrl.forum_post.body.html"\n  ></standard-rich-content>\n  <div\n    ng-if="!$ctrl.forum_post.body"\n    class="rich_text_formatting rich_text_formatting--small rich_text_formatting--no_vertical_margins"\n  >\n    <p>{{ $ctrl.forum_post.deleted_body | i18n }}</p>\n  </div>\n\n  <div class="u-top_margin">\n    <voting\n      type="forum_post"\n      object="$ctrl.forum_post"\n      variants="{\'hide_upvote_text\': true}"\n    ></voting>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_item_detail_object.html",'<div ng-switch="$ctrl.object._type">\n  <div ng-switch-when="referent">\n    <standalone-referent object=":: $ctrl.object"></standalone-referent>\n  </div>\n\n  <inbox-line-item-detail-forum-post object=":: $ctrl.object" ng-switch-when="forum_post"></inbox-line-item-detail-forum-post>\n\n  <inbox-line-item-detail-discussion object=":: $ctrl.object" ng-switch-when="discussion"></inbox-line-item-detail-discussion>\n\n  <mini-song-card object=":: $ctrl.object" ng-switch-when="song"></mini-song-card>\n\n  <mini-album-card object=":: $ctrl.object" ng-switch-when="album"></mini-album-card>\n\n  <mini-video-card object=":: $ctrl.object" ng-switch-when="video"></mini-video-card>\n\n  <mini-article-card object=":: $ctrl.object" ng-switch-when="article"></mini-article-card>\n\n  <mini-artist-card object=":: $ctrl.object" ng-switch-when="artist"></mini-artist-card>\n\n  <div ng-switch-when="question" class="gray_container">\n    <question question=":: $ctrl.object" variants="{link: true}"></question>\n  </div>\n\n  <div ng-switch-when="answer">\n    <deleted-answer ng-if="$ctrl.variants.deleted" answer=":: $ctrl.object"></deleted-answer>\n    <div ng-if="!$ctrl.variants.deleted" class="gray_container">\n      <question question=":: $ctrl.object.question" variants="{link: true}"></question>\n    </div>\n  </div>\n\n  <div ng-switch-when="cover_art">\n    <a ng-href="{{$ctrl.object.url}}">\n      <img sized-src="$ctrl.object.image_url">\n    </a>\n  </div>\n\n  <div ng-switch-when="comment" class="gray_container">\n    <comment\n      object=":: $ctrl.object"\n      variants="{first_element_in_container: true, only_delete: true}"\n    ></comment>\n  </div>\n\n  <div ng-switch-when="annotation_edit" class="gray_container">\n    <annotation-edit\n      object=":: $ctrl.object"\n      before-html="$ctrl.object.annotation_before.body.html"\n    ></annotation-edit>\n  </div>\n\n  <div ng-switch-when="group">\n    <a ng-href="{{$ctrl.object.url}}" class="mini_card">\n      <div\n        class="mini_card-thumbnail clipped_background_image--background_fill"\n        clipped-background-image="$ctrl.object.image_url"\n      ></div>\n\n      <div class="mini_card-info">\n        <div class="mini_card-title_and_subtitle">\n          <div class="mini_card-title">{{$ctrl.object.name}}</div>\n        </div>\n      </div>\n    </a>\n  </div>\n\n  <div ng-switch-when="web_page">\n    <a ng-href="{{$ctrl.object.url}}">{{$ctrl.object.title}}</a>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_items/generic.html",'<span ng-bind-html=":: $ctrl.key | genericLineItemMessage:$ctrl.params"></span>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("inbox_line_items/pyong.html",'<span>\n  {{:: $ctrl.params.actors }}\n  {{:: $ctrl.params.verb }}\n  <span ng-bind-html=":: $ctrl.params.target"></span>\n  <span ng-bind-html=":: $ctrl.params.context"></span>\n\n  <span ng-if=":: $ctrl.params.note">\n    <span ng-if="!$ctrl.state.show_details" class=\'inbox_line_item-content-note note_bubble\' ng-bind-html=":: $ctrl.params.note | richContentPreview"></span>\n    <span ng-if="$ctrl.state.show_details" class=\'inbox_line_item-content-note note_bubble\' ng-bind-html=":: $ctrl.params.note"></span>\n  </span>\n</span>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("iq_inbox.html",'<div class="u-horizontal_margins u-vertical_margins">\n  <span class="text_label text_label--gray u-half_left_margin">\n    IQ Opportunities\n  </span>\n\n  <div ng-if="$ctrl.show_explanation" class="feed_dropdown-notice feed_dropdown-notice--fill_full_space">\n    <div class="feed_dropdown-notice-header">\n      <span class="feed_dropdown-notice-header-title">What\'s this?</span>\n      <svg\n        src="x.svg"\n        class="u-clickable inline_icon inline_icon--white inline_icon--reading_size"\n        ng-click="$ctrl.dismiss_explanation()"\n      ></svg>\n    </div>\n    <div class="rich_text_formatting">\n      <p>The Earn IQ feed provides an ongoing stream of IQ opportunities personalized just for you based on artists you follow or have contributed to. You can find questions to answer, metadata to fill in, and more that will all help boost your IQ. Want more opportunities? Follow more artists!</p>\n    </div>\n  </div>\n\n  <div\n    ng-repeat="assignment in $ctrl.assignments track by assignment.id"\n    class="nganimate-fade_slide_from_left nganimate-short_stagger nganimate-fade_slide_out_right"\n  >\n    <contribution-opportunity\n      contribution-opportunity="assignment.contribution_opportunity"\n      assignment="assignment"\n      on-dismiss="$ctrl.remove(assignment)"\n      source="iq_inbox"\n    ></contribution-opportunity>\n  </div>\n\n  <placeholder-spinner ng-if="!$ctrl.loaded"></placeholder-spinner>\n  <div\n    ng-if="$ctrl.loaded && !$ctrl.assignments.length"\n    class="u-half_left_margin u-top_margin"\n  >No IQ opportunities.</div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("iq_notification_list.html",'<div class="iq_notification_list">\n  <div\n    class="iq_notification_list-list_item nganimate-fade_slide_from_left nganimate-fade_out nganimate-stagger"\n    ng-repeat="notification in $ctrl.notifications track by $id(notification)"\n    ng-switch=":: notification._type"\n  >\n    <div ng-switch-when="activity_stream/line_item" class="iq_notification">\n      <div\n        class="iq_notification-action"\n        ng-class=":: {\'iq_notification-action--positive\': notification.iq_gained > 0, \'iq_notification-action--negative\': notification.iq_gained < 0}"\n      >\n        <inbox-line-item-action-icon action-name=":: notification.action_name">\n        </inbox-line-item-action-icon>\n        <div>{{:: notification.iq_gained | signed_number }} IQ</div>\n      </div>\n      <div class="iq_notification-message">\n        <div\n          class="user_avatar user_avatar--x_small"\n          clipped-background-image=":: notification.actor_avatars[0].thumb.url"\n        ></div>\n        <span ng-bind-html=":: notification.message_components.key | genericLineItemMessage:notification.message_components.params"></span>\n      </div>\n    </div>\n\n    <div ng-switch-when="user" class="iq_notification iq_notification--user">\n      <div\n        class="user_avatar user_avatar--small"\n        clipped-background-image=":: $ctrl.user.avatar.thumb.url"\n      ></div>\n      <div class="u-half_left_margin">\n        <odometer value="$ctrl.user.iq" options="{format: \',ddd\'}"></odometer> IQ\n      </div>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("leaderboard.html",'<div class="leaderboard u-half_top_margin">\n  <user-attribution rank="$index + 1" object="leaderboard_row" class="leaderboard-row" ng-class="{\'leaderboard-row--no_border\': $last}" ng-repeat="leaderboard_row in leaderboard_rows track by leaderboard_row.user.id"></user-attribution>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("leaderboard_ad.html","<dfp-ad\n  class=\"u-display_block banner_container\"\n  name=\"{{ $ctrl.name }}\"\n  ad-classes=\"[\n    'dfp_unit--vertical_margins',\n    'dfp_unit--centered_billboard',\n    {\n      'dfp_unit--skin_banner': $ctrl.has_skin,\n      'dfp_unit--black_container': !$ctrl.has_skin\n    }\n  ]\"\n  ng-class=\"{\n    'banner_container--filled': $ctrl.has_banner_ad\n  }\"\n  on-filled=\"$ctrl.has_banner_ad = true\"\n></dfp-ad>\n")}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("lyrics.html",'<div class="lyrics_controls" sticky sticky-class="lyrics_controls--stuck" ng-if="can_perform(\'edit_anything\')">\n  <span ng-if="can_perform(\'edit_lyrics_or_annotation_brackets\')">\n    <kb shortcut="shift+l" action="lyrics_ctrl.start_editing()" ng-if="can_perform(\'edit_lyrics_or_annotation_brackets\')"></kb>\n    <button ng-click="lyrics_ctrl.start_editing()" ng-show="!lyrics_ctrl.editing" ng-disabled="lyrics_ctrl.edit_blocked" title="shortcut: shift+l" class="square_button" ng-class="{\'square_button--disabled\': lyrics_ctrl.edit_blocked}">\n      <span ng-if="lyrics_ctrl.saving">Saving</span>\n      <span ng-if="!lyrics_ctrl.saving" title="(shift+l)">{{ can_perform(\'edit_lyrics\') ? \'Edit Lyrics\' : \'Edit Annotation Brackets\' }}</span>\n    </button>\n    <button tabindex="2" ng-click="lyrics_ctrl.lyrics_form.submit()" class="square_button square_button--green" ng-disabled="lyrics_ctrl.editable_lyrics_stale" ng-class="{\'square_button--waiting\': lyrics_ctrl.saving, \'square_button--disabled\': lyrics_ctrl.editable_lyrics_stale}" ng-show="lyrics_ctrl.editing">\n      <span ng-if="lyrics_ctrl.saving">Saving</span>\n      <span ng-if="!lyrics_ctrl.saving" title="(shift+enter)">Save</span>\n    </button>\n    <button tabindex="3" ng-click="lyrics_ctrl.cancel_editing()" class="square_button" ng-show="lyrics_ctrl.editing && !lyrics_ctrl.saving">Cancel</button>\n  </span>\n  <button ng-disabled="song_ctrl.edit_blocked" ng-if="can_perform(\'edit_anything\')" class="square_button" ng-click="song_ctrl.show_metadata_form(\'title_and_artists\')" stop-propagation="click" ng-hide="lyrics_ctrl.editing" title="(shift+a)" ng-disabled="song_ctrl.saving" ng-class="{\'square_button--disabled\': song_ctrl.saving || song_ctrl.edit_blocked}">Edit Song Facts</button>\n  <song-admin-menu ng-if="user_signed_in" ng-cloak></song-admin-menu>\n\n  <div ng-if="lyrics_ctrl.lyrics_errors.length" class="u-vertical_margins form_message form_message--error">\n    <div class="text_label">{{:: \'lyrics.save_error\' | i18n }}</div>\n    <ul class="u-half_top_margin">\n      <li ng-repeat="lyrics_error in lyrics_ctrl.lyrics_errors" ng-bind-html="lyrics_error"></li>\n      <li ng-if="lyrics_ctrl.edit_blocked">{{:: \'lyrics.reload_instructions\' | i18n }}</li>\n    </ul>\n  </div>\n  <div class="u-vertical_margins form_message form_message--error" ng-if="lyrics_ctrl.editing && lyrics_ctrl.editable_lyrics_stale" ng-bind=":: \'lyrics.editing_stale\' | i18n"></div>\n</div>\n\n<div class="lyrics">\n  <div ng-if="!lyrics_ctrl.editing && !canonical_lyrics_html">\n    <span ng-if="song.lyrics_state === \'unreleased\'">{{:: \'song.lyrics_state.unreleased.message\' | i18n }}</span>\n    <span ng-if="song.lyrics_state === \'incomplete\'">{{:: \'song.lyrics_state.incomplete.message\' | i18n }}</span>\n  </div>\n\n  <form ng-submit="lyrics_ctrl.finish_editing()" ng-model-options="{updateOn: \'submit\'}" submit-on-cmd-enter dirtyable exports-form-api="lyrics_ctrl.lyrics_form = api">\n    <textarea ng-show="lyrics_ctrl.editing" ng-disabled="lyrics_ctrl.edit_blocked" tabindex="1" ng-model="editable.markdown" class="wysiwyg_input wysiwyg_input--full_width u-vertical_margins" ng-class="{\'wysiwyg_input--warning\': lyrics_ctrl.editable_lyrics_stale}"></textarea>\n  </form>\n  <section ng-hide="lyrics_ctrl.editing" text-selection-changed="lyrics_ctrl.update_selection_range(ranges[0])"></section>\n\n  <div\n    ng-if="can_perform(\'edit_lyrics\')"\n    class="lyrics-correct_line"\n    position-beside="$ctrl.lyrics_positioning_target || lyrics_ctrl.correction.rect"\n  >\n    <span\n      ng-if="(current_referent && !current_referent.is_image) || lyrics_ctrl.selection_range || lyrics_ctrl.correction"\n      class="lyrics-correct_line-button"\n      click-outside="lyrics_ctrl.text_corrector.cancel()"\n      tether-drop-target\n      title="Correct this line"\n    >\n      <svg ng-click="lyrics_ctrl.correction = lyrics_ctrl.lyrics_anchorer.build_correction()" ng-hide="lyrics_ctrl.correction" src="pencil.svg" class="inline_icon inline_icon--purple inline_icon--reading_size inline_icon--up_1"></svg>\n      <tether-drop visible="lyrics_ctrl.correction" position="bottom left">\n        <div stop-propagation="click" ng-if="lyrics_ctrl.correction" class="tooltip u-large_top_vertical_margin u-half_horizontal_margins tooltip--wide">\n          <p>Correct This Line</p>\n          <div ng-if="lyrics_ctrl.correction_error" class="u-vertical_margins form_message form_message--error">\n            <ul>\n              <li ng-bind-html="lyrics_ctrl.correction_error"></li>\n            </ul>\n          </div>\n          <text-corrector\n            yields-text-corrector="lyrics_ctrl.text_corrector = text_corrector"\n            text="lyrics_ctrl.correction.replacement.markdown"\n            submit="lyrics_ctrl.submit_correction(corrected)"\n            cancel="lyrics_ctrl.correction = null; lyrics_ctrl.correction_error = null"\n          ></text-corrector>\n        </div>\n      </tether-drop>\n    </span>\n  </div>\n</div>\n<div ng-if="can_perform(\'edit_lyrics_or_annotation_brackets\')">\n  <button tabindex="4" ng-click="lyrics_ctrl.lyrics_form.submit()" class="square_button square_button--green" ng-disabled="lyrics_ctrl.edit_blocked || lyrics_ctrl.editable_lyrics_stale" ng-class="{\'square_button--waiting\': lyrics_ctrl.saving, \'square_button--disabled\': lyrics_ctrl.editable_lyrics_stale}" ng-bind="lyrics_ctrl.saving ? \'Saving\' : \'Save\'" ng-show="lyrics_ctrl.editing"></button>\n  <button tabindex="5" ng-click="lyrics_ctrl.cancel_editing()" class="square_button" ng-show="lyrics_ctrl.editing && !lyrics_ctrl.saving">Cancel</button>\n  <hr ng-if="lyrics_ctrl.editing">\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("lyrics_sync_editor.html",'<div class="lyrics_sync_editor column_layout column_layout--no_max_width u-body_bottom_padding">\n  <div class="column_layout-column_span column_layout-column_span--primary">\n    <table\n      ng-if="$ctrl.lyrics_synchronization.song_id"\n      class="lyrics_sync_editor-lyrics-table">\n      <tbody>\n        <tr\n          class="lyrics_sync_editor-start_row"\n          ng-class="{\'lyrics_sync_editor-start_row--focused\': $ctrl.current_line_index === -1 && !$ctrl.lyrics_synchronization.preview,\'lyrics_sync_editor-start_row--pulsing\': $ctrl.position === 0 && !$ctrl.lyrics_synchronization.preview, \'lyrics_sync_editor-start_row--preview\': $ctrl.lyrics_synchronization.preview }"\n        >\n          <td ng-if="$ctrl.can(\'sync\') && $ctrl.can(\'submit\')" class="lyrics_sync_editor-timestamp_cell lyrics_sync_editor-timestamp--gray">\n            <span class="lyrics_sync_editor-timestamp">0:00.000</span>\n          </td>\n          <td class="lyrics_sync_editor-timestamp_cell lyrics_sync_editor-timestamp--gray">\n            <span class="lyrics_sync_editor-timestamp">0:00.000</span>\n          </td>\n          <td\n            class="lyrics_sync_editor-start_cell u-clickable"\n            ng-click="$ctrl.seek_to_index_and_play(-1)"\n          >{{ $ctrl.lyrics_synchronization.preview ? \'Preview\' : \'Start\' }}</td>\n          <td\n            ng-if="$ctrl.can(\'edit\')"\n            class="lyrics_sync_editor-line_control_cell"\n          >\n            <button\n              ng-if="$ctrl.can(\'sync\')"\n              ng-click="$ctrl.lyrics_synchronization.add_line_at_index(0)"\n              class="lyrics_sync_editor-line_control square_button lyrics_sync_editor-tiny_square_button square_button--gray"\n            >&darr;&nbsp;Break</button>\n          </td>\n          <td\n            ng-if="$ctrl.can(\'edit\')"\n            class="lyrics_sync_editor-state_visibility_cell"\n          ></td>\n        </tr>\n        <tr\n          keep-in-view="$index === $ctrl.current_line_index"\n          ng-class="{\'lyrics_sync_editor-line_row--focused\': $index === $ctrl.current_line_index, \'lyrics_sync_editor-line_row--marked\': line.marked, \'lyrics_sync_editor-line_row--fixed\': line.fixed}"\n          ng-repeat="line in $ctrl.lyrics_synchronization.lines"\n          class="lyrics_sync_editor-line_row"\n          ng-if="!line.hidden || $ctrl.showing_hidden_lines"\n        >\n          <td ng-if="$ctrl.can(\'sync\') && $ctrl.can(\'submit\')" class="lyrics_sync_editor-timestamp_cell">\n            <span\n              class="lyrics_sync_editor-timestamp"\n              ng-if="($ctrl.lyrics_synchronization.next_visible_line_index_after_index($ctrl.current_line_index) === $index && $ctrl.position > 0) || ($index === 0 && $ctrl.position === 0)">\n              {{ $ctrl.position | timestamp_for_display:{always_millis: true} }}\n            </span>\n          </td>\n          <td class="lyrics_sync_editor-timestamp_cell">\n            <div\n              class="lyrics_sync_editor-timestamp"\n              ng-class="{\'u-clickable\': $ctrl.can(\'edit\')}"\n              ng-click="line._editing_time = $ctrl.can(\'edit\')"\n              ng-if="!line._editing_time">\n              <span\n                ng-if="line.timestamp !== null || $index === 0">\n                {{ (line.timestamp || 0) | timestamp_for_display:{always_millis: true} }}\n              </span>\n            </div>\n            <form\n              ng-submit="\n              $ctrl.after_edit_line_timestamp_at_index($index)"\n              ng-if="line._editing_time">\n              <input\n                ng-autofocus\n                lyric-sync-timestamp-input\n                validators="{in_order: $ctrl.in_order_validator_for_index($index)}"\n                ng-blur="line._editing_time = false"\n                ng-model="line.timestamp"\n                class="square_input u-width_100 lyrics_sync_editor-table_input lyrics_sync_editor-timestamp_input"/>\n            </form>\n          </td>\n          <td class="lyrics_sync_editor-lyric_cell" ng-class="{\'u-clickable\': !line._editing, \'lyrics_sync_editor-lyric_cell--gray\': line.hidden}" ng-click="!line._editing ? $ctrl.seek_to_index($index) : null">\n            <span\n              class="lyrics_sync_editor-lyric"\n              ng-if="!line._editing">{{ line.lyrics }}</span>\n            <input\n              ng-autofocus\n              ng-if="line._editing"\n              class="square_input u-width_100 lyrics_sync_editor-table_input" type="text"\n              ng-model="line.lyrics">\n          </td>\n          <td ng-if="$ctrl.can(\'edit\')" class="lyrics_sync_editor-line_control_cell">\n            <div ng-if="$ctrl.can(\'approve\') || $ctrl.can(\'staff_approve\')">\n             <button\n                ng-click="$ctrl.lyrics_synchronization.set_line_at_index_marked($index, !line.marked)"\n                class="lyrics_sync_editor-line_control square_button lyrics_sync_editor-tiny_square_button square_button--gray"\n              >{{ line.marked ? \'&check;&nbsp;Unmark\' : \'&cross;&nbsp;Mark\' }}</button>\n            </div>\n            <div ng-if="$ctrl.can(\'sync\')">\n              <button\n                ng-if="!line.added && !line.marked"\n                ng-click="$ctrl.lyrics_synchronization.set_line_at_index_hidden($index, !line.hidden)"\n                class="lyrics_sync_editor-line_control square_button lyrics_sync_editor-tiny_square_button square_button--gray"\n              >{{ line.hidden ? \'&check;&nbsp;Show\' : \'&cross;&nbsp;Hide\' }}</button>\n\n              <button\n                ng-if="line.added && !line.marked && $ctrl.text_editing_enabled"\n                ng-click="line._editing = !line._editing"\n                class="lyrics_sync_editor-line_control square_button lyrics_sync_editor-tiny_square_button square_button--gray"\n              >{{line._editing ? \'&check;&nbsp;Save\' : \'&#9998;&nbsp;Edit\'}}</button>\n\n              <button\n                ng-if="line.added && !line.marked"\n                ng-click="$ctrl.lyrics_synchronization.remove_line_at_index($index)"\n                class="lyrics_sync_editor-line_control square_button lyrics_sync_editor-tiny_square_button square_button--gray"\n              >&cross;&nbsp;Remove</button>\n\n              <button\n                ng-if="!line._editing && !line.marked"\n                ng-click="$ctrl.lyrics_synchronization.add_line_at_index($index + 1)"\n                class="lyrics_sync_editor-line_control square_button lyrics_sync_editor-tiny_square_button square_button--gray"\n              >&darr;&nbsp;Break</button>\n\n              <button\n                ng-if="line.marked"\n                ng-click="$ctrl.lyrics_synchronization.set_line_at_index_fixed($index)"\n                class="lyrics_sync_editor-line_control square_button lyrics_sync_editor-tiny_square_button square_button--gray"\n              >&check;&nbsp;Fixed</button>\n            </div>\n          </td>\n          <td\n            ng-if="$ctrl.can(\'edit\')"\n            class="lyrics_sync_editor-state_visibility_cell"\n          ></td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div class="u-horizontal_margins u-vertical_margins column_layout-column_span column_layout-column_span--secondary rich_text_formatting">\n    <div sticky class="lyrics_sync_editor-controls" sticky-class="lyrics_sync_editor-controls--stuck">\n      <p>\n        <a href ng-click="$ctrl.go_to_home()">&larr; Back to Dashboard</a> |\n        <a ng-href="{{$ctrl.lyrics_synchronization.instructions_url}}" target="_blank">View Instructions</a>\n        <span ng-if="$ctrl.lyrics_synchronization.song_id">\n          | <a ng-href="/songs/{{$ctrl.lyrics_synchronization.song_id}}">Song Page</a>\n        </span>\n        <span ng-if="$ctrl.can(\'edit\')">\n          | <a href ng-click="$ctrl.showing_keyboard_shortcuts = !$ctrl.showing_keyboard_shortcuts">Keyboard Shortcuts (?)</a>\n        </span>\n      </p>\n\n      <lyrics-sync-keyboard\n        ng-if="$ctrl.lyrics_synchronization"\n        showing="$ctrl.showing_keyboard_shortcuts"\n      ></lyrics-sync-keyboard>\n\n      <hr>\n\n      <div ng-if="!$ctrl.lyrics_synchronization.song_id">\n        <p><strong>No song page associated with this audio.</strong> Use the "Change Lyrics" tool below to associate a song page with search or by URL.</p>\n      </div>\n\n      <div ng-if="$ctrl.lyrics_synchronization.state === \'preview\'">\n        <p><strong>Previewing new lyrics taken from "{{ $ctrl.lyrics_synchronization.title_with_artists }}".</strong></p>\n      </div>\n\n      <div ng-if="$ctrl.lyrics_synchronization.checked_out_by_other_user">\n        <p><strong>{{ $ctrl.lyrics_synchronization.checked_out_by.login }}</strong> is currently working on this song.</p>\n        <div ng-if="$ctrl.can(\'check_in\')">\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'check_in\')"\n            class="square_button u-quarter_vertical_margins"\n          >Unlock from {{ $ctrl.lyrics_synchronization.checked_out_by.login }}</button>\n        </div>\n        <hr>\n      </div>\n\n      <div ng-if="$ctrl.can(\'clean_up\') && !$ctrl.redirecting">\n        <div ng-if="$ctrl.can(\'submit\')">\n          <p>Cleaning Up "{{ $ctrl.lyrics_synchronization.title_with_artists }}"</p>\n          <p>Visit the <a href="/songs/{{$ctrl.lyrics_synchronization.song_id}}">main song page</a> to edit the lyrics for synchronization.</p>\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'clean_up\').then($ctrl.go_to_home)"\n            class="square_button square_button--green u-quarter_vertical_margins"\n          >Submit Clean Up</button>\n\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'check_in\').then($ctrl.go_to_home)"\n            class="square_button u-quarter_vertical_margins"\n          >Cancel Clean Up</button>\n\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.skipping = \'clean_up\'"\n            class="square_button u-quarter_vertical_margins"\n          >Skip This Song</button>\n        </div>\n        <div ng-if="$ctrl.can(\'check_out\')">\n          <p>This song is available to <strong>clean up</strong>.</p>\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'check_out\')"\n            class="square_button u-quarter_vertical_margins">Lock for Clean Up</button>\n        </div>\n        <hr>\n      </div>\n\n      <div ng-if="$ctrl.can(\'sync\') && !$ctrl.redirecting">\n        <div ng-if="$ctrl.can(\'submit\')">\n          <p>Syncing "{{ $ctrl.lyrics_synchronization.title_with_artists }}"</p>\n          <p>Use the player and line selection controls to assign timestamps.</p>\n          <button\n            ng-disabled="!$ctrl.lyrics_synchronization.all_lines_timestamped || saving"\n            ng-class="{\'square_button--disabled\': !$ctrl.lyrics_synchronization.all_lines_timestamped || saving}"\n            ng-click="$ctrl.submit_sync().then($ctrl.go_to_home)"\n            class="square_button u-quarter_vertical_margins square_button--green"\n          >Submit Sync</button>\n\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'check_in\').then($ctrl.go_to_home)"\n            class="square_button u-quarter_vertical_margins"\n          >Cancel Sync</button>\n\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.skipping = \'sync\'"\n            class="square_button u-quarter_vertical_margins"\n          >Skip This Song</button>\n\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.update_state(\'pristine\').then($ctrl.go_to_home)"\n            class="square_button square_button--red u-quarter_vertical_margins"\n            confirm="Are you sure? This will clear existing sync data."\n          >Needs Clean Up</button>\n        </div>\n        <div ng-if="$ctrl.can(\'check_out\')">\n          <p>This song is available to <strong>sync</strong>.</p>\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'check_out\')"\n            class="square_button u-quarter_vertical_margins"\n          >Lock for Sync</button>\n        </div>\n        <hr>\n      </div>\n\n      <div ng-if="$ctrl.can(\'approve\') && !$ctrl.redirecting">\n        <div ng-if="$ctrl.can(\'submit\')">\n          <p>Approve "{{ $ctrl.lyrics_synchronization.title_with_artists }}"?</p>\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'approve\').then($ctrl.go_to_home)"\n            class="square_button square_button--green u-quarter_vertical_margins"\n          >Approve</button>\n\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'reject\', {note: $ctrl.note}).then($ctrl.go_to_home)"\n            class="square_button square_button--red u-quarter_vertical_margins"\n          >Reject</button>\n\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'check_in\').then($ctrl.go_to_home)"\n            class="square_button u-quarter_vertical_margins"\n          >Cancel Approve</button>\n\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.skipping = \'approve\'"\n            class="square_button u-quarter_vertical_margins"\n          >Skip This Song</button>\n\n          <textarea class="square_input square_input--full_width u-vertical_margins" ng-model="$ctrl.note"></textarea>\n          <small>Note required for rejection.</small>\n        </div>\n        <div ng-if="$ctrl.can(\'check_out\')">\n          <p>This song is available to <strong>approve</strong>.</p>\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'check_out\')"\n            class="square_button u-quarter_vertical_margins"\n          >Lock to Approve</button>\n        </div>\n        <hr>\n      </div>\n\n      <div ng-if="$ctrl.can(\'staff_approve\') && !$ctrl.redirecting">\n        <div ng-if="$ctrl.can(\'submit\')">\n          <p>Approve "{{ $ctrl.lyrics_synchronization.title_with_artists }}" as staff?</p>\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'staff_approve\').then($ctrl.go_to_home)"\n            class="square_button square_button--green u-quarter_vertical_margins"\n          >Approve</button>\n\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'staff_reject\', {note: $ctrl.note}).then($ctrl.go_to_home)"\n            class="square_button square_button--red u-quarter_vertical_margins"\n          >Reject</button>\n\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'check_in\').then($ctrl.go_to_home)"\n            class="square_button u-quarter_vertical_margins"\n          >Cancel Approve</button>\n\n          <textarea class="square_input square_input--full_width u-vertical_margins" ng-model="$ctrl.note"></textarea>\n          <small>Note required for rejection.</small>\n        </div>\n        <div ng-if="$ctrl.can(\'check_out\')">\n          <p>This song is available to <strong>staff approve</strong>.</p>\n          <button\n            ng-disabled="saving"\n            ng-class="{\'square_button--disabled\': saving}"\n            ng-click="$ctrl.submit(\'check_out\')"\n            class="square_button u-quarter_vertical_margins"\n          >Lock to Approve</button>\n        </div>\n        <hr>\n      </div>\n\n      <div ng-if="$ctrl.error">\n        <p class=lyrics_sync_editor-error_message>{{$ctrl.error.message}}</p>\n        <hr>\n      </div>\n\n      <media-controls\n        ng-if="$ctrl.media_player"\n        class="u-flex_directive lyrics_sync_editor-media_control"\n        media-player="$ctrl.media_player"\n        variants="{show_time_elapsed: true}"\n      ></media-controls>\n\n      <audio-source-label\n        track="$ctrl.lyrics_synchronization.audio_track"\n        ng-if="$ctrl.lyrics_synchronization.audio_track"\n      ></audio-source-label>\n\n      <button\n        ng-if="!$ctrl.reassociating && $ctrl.can(\'change_song\')"\n        class="square_button square_button--red"\n        ng-click="$ctrl.reassociating = true"\n      >Change Lyrics</button>\n\n      <detailed-song-search\n        class="u-vertical_margins u-display_block"\n        ng-if="$ctrl.reassociating"\n        on-cancel="$ctrl.cancel_reassociation()"\n        on-select="$ctrl.preview_with_song(song)"\n        on-confirm="$ctrl.change_song(song)"\n      ></detailed-song-search>\n\n      <div\n        class="square_form-input_and_label"\n        ng-if="$ctrl.lyrics_synchronization.lines"\n      >\n        <label class="square_checkbox">\n          <input type="checkbox" stop-propagation="click" ng-model="$ctrl.auto_advance" mousetrap-input>\n          <div class="text_label">Auto Advance?</div>\n        </label>\n      </div>\n\n      <button\n        ng-if="$ctrl.can(\'edit\') && !$ctrl.redirecting"\n        class="square_button square_button--green"\n        ng-disabled="saving"\n        ng-class="{\'square_button--disabled\': saving}"\n        ng-click="$ctrl.save()"\n      >{{ $ctrl.saving ? \'Saving...\' : \'Save\' }}</button>\n\n      <button\n        ng-if="$ctrl.can(\'sync\') && $ctrl.can(\'edit\') && !$ctrl.redirecting"\n        class="square_button"\n        ng-disabled="saving"\n        ng-class="{\'square_button--disabled\': saving}"\n        ng-click="$ctrl.showing_hidden_lines = !$ctrl.showing_hidden_lines"\n      >{{ $ctrl.showing_hidden_lines ? \'Stop Showing Hidden\' : \'Show Hidden Lines\' }}</button>\n\n      <hr>\n\n      <table>\n        <tbody>\n          <tr ng-repeat="action in $ctrl.lyrics_synchronization.actions">\n            <td class="lyrics_sync_editor-history_table_cell">\n              Marked <strong>{{action.label}}</strong> by {{action.performed_by_login}}\n              <div ng-if="action.note">\n                <small>"{{action.note}}"</small>\n              </div>\n            </td>\n            <td class="lyrics_sync_editor-history_table_cell">{{action.performed_at | human_readable_datetime:{year: \'numeric\', month: \'numeric\', day: \'numeric\', hour: \'2-digit\', minute: \'2-digit\'} }}</td>\n            <td class="lyrics_sync_editor-history_table_undo_cell"><a href ng-if="$last && $ctrl.can(\'revert_last\') && !$ctrl.redirecting" confirm="Are you sure?" ng-click="$ctrl.revert_action(action)" ng-hide="saving">Revert</a></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  <modal-window ng-if="$ctrl.skipping" on-close="$ctrl.skipping = false">\n    <div class="rich_text_formatting">\n      <h1>What Made You Skip This Song?</h1>\n      <textarea ng-disabled="$ctrl.saving" class="square_input square_input--full_width u-vertical_margins" ng-model="$ctrl.skip_note"></textarea>\n      <button\n        class="square_button u-vertical_margins"\n        ng-disabled="!$ctrl.skip_note || $ctrl.saving"\n        ng-class="{\'square_button--disabled\': !$ctrl.skip_note}"\n        ng-click="$ctrl.skip({verb: $ctrl.skipping, note: $ctrl.skip_note}).then($ctrl.go_to_home)"\n      >Skip</button>\n    </div>\n  </modal-window>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("lyrics_sync_home.html",'<div>\n  <lyrics-sync-editor\n    ng-if="$ctrl.id"\n    model-id="$ctrl.id"\n    instruction-url="{{ $ctrl.instruction_url }}"\n    go-to-home="$ctrl.navigate_to(\'home\')"\n  ></lyrics-sync-editor>\n  <div ng-if="!$ctrl.id" class="rich_text_formatting lyrics_sync_editor column_layout u-body_bottom_padding">\n    <div class="u-width_100">\n      <h1>Lyrics Synchronization Dashboard</h1>\n      <p ng-if="!$ctrl.navigating">\n        <a ng-href="{{:: $ctrl.instructions_url }}" target="_blank">Instructions</a>\n      </p>\n\n      <div ng-if="$ctrl.tasks.length">\n        <hr>\n        <button\n          class="square_button u-quarter_vertical_margins u-quarter_horizontal_margins"\n          ng-repeat="task in $ctrl.tasks"\n          ng-click="$ctrl.start(task.verb)"\n          ng-disabled="!task.verb || $ctrl.checked_out.length || $ctrl.assignments.length"\n          ng-class="{\'square_button--disabled\': !task.verb || $ctrl.checked_out.length || $ctrl.assignments.length}"\n        >{{ task.label }}</button>\n        <small\n          class="u-display_block u-quarter_vertical_margins u-quarter_horizontal_margins"\n          ng-if="$ctrl.checked_out.length">\n          Can\'t start a new task until current one is completed, skipped, or unlocked.\n        </small>\n\n        <small\n          class="u-display_block u-quarter_vertical_margins u-quarter_horizontal_margins"\n          ng-if="$ctrl.assignments.length && !$ctrl.checked_out.length">\n          Can\'t start a new task until assigned ones have been completed.\n        </small>\n      </div>\n      <div ng-if="$ctrl.checked_out.length">\n        <hr>\n        <h2>Currently Locked Tasks:</h2>\n        <table class="lyrics_sync-task_table">\n          <tbody>\n            <tr ng-repeat="sync in $ctrl.checked_out">\n              <td class="lyrics_sync-task_table_song_name">\n                <a href ng-click="$ctrl.navigate_to(sync.id)">\n                  {{ sync.title_with_artists }}\n                </a>\n              </td>\n              <td>\n                <button class="square_button" ng-click="$ctrl.check_in(sync)">\n                  Unlock\n                </button>\n                <br>\n                <small ng-if="sync.assigned">Assigned</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div ng-if="$ctrl.assignments.length">\n        <hr>\n        <h2>Assigned Tasks:</h2>\n        <table class="lyrics_sync-task_table">\n          <tbody>\n            <tr ng-repeat="sync in $ctrl.assignments">\n              <td class="lyrics_sync-task_table_song_name">\n                <a href ng-click="$ctrl.navigate_to(sync.id)">\n                  {{ sync.title_with_artists }}\n                </a>\n              </td>\n              <td>\n                <button class="square_button" ng-click="$ctrl.check_out(sync)">\n                  Start\n                </button>\n              </td>\n              <td></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("lyrics_sync_keyboard.html",'<table ng-show="showing">\n  <tbody>\n    <tr ng-if=":: definition.label" ng-repeat="definition in :: definitions">\n      <td><em ng-bind-html=":: definition.label"></em></td>\n      <td>{{:: definition.description }}</td>\n    </tr>\n  </tbody>\n</table>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("manage_chart_item.html","<div>\n  <placeholder-spinner ng-if=\"$ctrl.loading\"></placeholder-spinner>\n  <div ng-if=\"!$ctrl.loading\">\n    <div ng-click=\"$ctrl.toggle_excluded()\">\n      {{ 'charts.actions.' + ($ctrl.excluded ? 'allow_in_charts' : 'exclude_from_charts') | i18n }}\n    </div>\n  </div>\n</div>\n")}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("manage_roles.html",'<div class="u-vertical_margins">\n  <div ng-repeat="role in $ctrl.user.roles_for_display" class="text_label text_label--gray">\n    {{ role | roleHumanName }}<role-icon role="role" has-checky="role == \'verified_artist\'"></role-icon>\n  </div>\n</div>\n\n<div class="u-vertical_margins rich_text_formatting">\n  <ul>\n    <li ng-repeat="role in $ctrl.user.calculated_roles">{{role}}</li>\n  </ul>\n</div>\n\n<div ng-repeat="role in $ctrl.user_authority_roles" ng-if="$ctrl.has_role(role)">\n  <hr class="hr hr--gray">\n  <div class="u-vertical_margins">\n    <div class="manage_roles-role">\n      <div class="text_label text_label--gray manage_roles-role_label">{{ role | roleHumanName }}<role-icon role="role"></role-icon></div>\n      <button\n        ng-click="$ctrl.grant(role, false)"\n        ng-if="$ctrl.can_toggle(role)"\n        class="square_button square_button--purple"\n      >De-{{ role | roleHumanName }}</button>\n    </div>\n    <p class="u-half_top_margin rich_text_formatting" ng-if="$ctrl.role_grant(role)">\n      <a ng-href="{{$ctrl.role_grant(role).actor.url}}">{{$ctrl.role_grant(role).actor.login}}</a> granted {{$ctrl.user.login}} the {{ role | roleHumanName }} role <span am-time-ago="$ctrl.role_grant(role).occurred_at*1000"></span>.\n    </p>\n    <p class="u-half_top_margin" ng-if="!$ctrl.role_grant(role)">\n      Unfortunately, we don\'t know who granted {{$ctrl.user.login}} the {{ role | roleHumanName }} role.\n    </p>\n  </div>\n</div>\n\n<div ng-repeat="role in $ctrl.user_authority_roles" ng-if="!$ctrl.has_role(role) && $ctrl.can_toggle(role)">\n  <hr class="hr hr--gray">\n  <div class="u-vertical_margins">\n    <div\n      ng-if="$ctrl.errors[role]"\n      ng-repeat="error in $ctrl.errors[role]"\n      class="form_message form_message--error text_label"\n    >{{ error }}</div>\n\n    <button\n      ng-click="$ctrl.grant(role, true)"\n      class="square_button square_button--purple"\n    ><role-icon role="role"></role-icon>Grant {{$ctrl.user.login}} the {{ role | roleHumanName }} role</button>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("markdown_preview.html",'<standard-rich-content html="html_content"></standard-rich-content>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("media_controls.html",'<div class="media_control">\n  <div\n    class="media_control-button_group"\n    stop-propagation="click"\n    ng-click="media.api.playpause()"\n    ng-if="!hide_playpause"\n  >\n    <play-pause-button playing="media.state.is_playing" loading="media.state.is_loading"></play-pause-button>\n  </div>\n\n  <div\n    ng-if="variants.show_time_elapsed"\n    class="media_control-timer media_control-timer--left_side"\n    ng-bind="(media.state.time_elapsed || 0) | timestamp_for_display:{skip_millis:true}"\n  ></div>\n\n  <div class="media_control-scrubber">\n    <div\n      class="media_control-scubber-handle_container"\n      scrubber\n      scrub-percentage="scrub_percentage"\n      scrubbed="media.api.seek_to(percentage)"\n    >\n      <span\n        class="media_control-scubber-handle"\n        ng-style="{left: ((scrub_percentage !== undefined ? scrub_percentage : media.state.percentage) * 100).toFixed(2) + \'%\'}"\n      ></span>\n    </div>\n  </div>\n  <div class="media_control-timer" ng-bind="(media.state.time_remaining || 0) | timestamp_for_display:{skip_millis:true}"></div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("media_player.html",'<div\n  class="song_media_controls u-bottom_margin show_tiny_edit_button_on_hover"\n  ng-if="$ctrl.media"\n  ng-switch="$ctrl.media.provider"\n>\n  <div\n    class="song_media_controls-controls"\n    sticky="$ctrl.played_once"\n    sticky-use-parent-as-wrapper\n    sticky-class="song_media_controls-controls--docked"\n    sticky-offset="{{$ctrl.sticky_offset}}"\n  >\n    <div class="song_media_controls-playpause_container">\n      <div\n        class="song_media_controls-playpause"\n        stop-propagation="click"\n        ng-click="$ctrl.play(); $ctrl.show_video_player = true"\n      >\n        <play-pause-button\n          loading="$ctrl.media_player.state.is_loading"\n          playing="$ctrl.media_player.state.is_playing"\n        ></play-pause-button>\n      </div>\n    </div>\n\n    <media-controls\n      class="u-flex_directive"\n      media-player="$ctrl.media_player"\n      hide-playpause="true"\n    ></media-controls>\n\n    <div class="song_media_controls-provider">\n      <div class="song_media_controls-provider-icon">\n         <a\n           href="{{ $ctrl.media.url }}"\n           target="_blank"\n           stop-propagation="click"\n         >\n           <svg class="inline_icon inline_icon--purple" ng-src="$ctrl.media.provider + \'.svg\'"></svg>\n         </a>\n      </div>\n    </div>\n  </div>\n\n  <div\n    class="tiny_edit_button song_media_controls-edit_button"\n    ng-if="$ctrl.can_edit"\n    ng-click="$ctrl.on_edit()"\n    stop-propagation="click"\n  >\n    <svg src="pencil.svg" class="tiny_edit_button-svg"></svg>\n  </div>\n\n  <div\n    ng-switch-when="youtube"\n    class="song_media_controls-docked_video"\n    ng-show="$ctrl.media_player.state.is_loaded && $ctrl.show_video_player"\n  >\n    <youtube-player\n      controls="true"\n      fullscreen="true"\n      src="$ctrl.media.url"\n      start="$ctrl.media.start"\n      yields-api="$ctrl.media_player.api = api"\n      yields-state="$ctrl.media_player.state = state"\n    ></youtube-player>\n    <div\n      class="song_media_controls-close_player u-clickable"\n      ng-click="$ctrl.media_player.api.pause(); $ctrl.show_video_player = false"\n      stop-propagation="click"\n    >\n      <svg class="inline_icon inline_icon--white" src="x.svg"></svg>\n    </div>\n  </div>\n\n  <soundcloud\n    ng-switch-when="soundcloud"\n    soundcloud-src="$ctrl.media.url"\n    ng-hide="::true"\n    yields-api="$ctrl.media_player.api = api"\n    yields-state="$ctrl.media_player.state = state"\n  ></soundcloud>\n\n  <global-message ng-if="$ctrl.can_edit && $ctrl.media_player.state.has_errored" ng-cloak>\n    <span>There was a problem loading the media player</span>\n    <span class="text_label text_label--white text_label--button" ng-click="$ctrl.on_edit()" stop-propagation="click">Fix it</span>\n  </global-message>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("merge_artist_form.html",'<div\n    ng-if="$ctrl.errors"\n    ng-repeat="error in $ctrl.errors"\n    class="form_message form_message--error text_label u-bottom_margin"\n>{{ error }}</div>\n\n<div\n    ng-if="$ctrl.artist_merge_complete"\n    class="form_message form_message--success text_label u-bottom_margin"\n>{{ \'artist.merge_request_complete_message\' | i18n }}</div>\n\n<form\n    name="merge_form"\n    ng-submit="$ctrl.merge_artist()"\n    ng-model-options="{updateOn: \'submit\'}"\n    ng-if="$ctrl.can(\'merge\', $ctrl.artist) && !$ctrl.artist_merge_complete"\n>\n\n  <div\n      class="square_form-standard_element_margin"\n  >\n    If {{:: $ctrl.artist.name }} is an alternate name for another artist (e.g., "Tupac" is an alternate name for "2Pac"),\n    you can move {{:: $ctrl.artist.name }}\'s songs into that artist and DELETE {{:: $ctrl.artist.name }}.\n  </div>\n\n  <div ng-if="$ctrl.show_warning" class="u-bottom_margin">\n    <input\n        ng-model="$ctrl.artist_name_to_merge_with"\n        autocomplete-with="artist"\n        autofocus\n        class="square_input square_form-standard_element_margin"\n        placeholder="Enter the artist\'s name">\n\n    <span class="form_message form_message--error text_label">\n      (this action cannot be undone! If you abuse this tool you will corrupt data and will immediately lose your moderator status.)\n    </span>\n  </div>\n\n  <button\n      class="square_button square_button--red u-small_bottom_margin"\n      ng-class="{\'square_button--waiting\': $ctrl.saving}"\n      ng-disabled="$ctrl.saving"\n      type="submit"\n  >\n    <span ng-if="!$ctrl.show_warning">I Understand, Let me do it</span>\n    <span ng-if="$ctrl.show_warning">Submit</span>\n  </button>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("messages_inbox.html",'<div class="feed_dropdown-header">\n  <span class="text_label">{{:: \'header.messages_inbox\' | i18n }}</span>\n  <span ng-click="$ctrl.composing = true" class="feed_dropdown-header_action">Send a new message</span>\n  <modal-window\n    ng-if="$ctrl.composing"\n    on-close="$ctrl.attempt_close(reason.close_button || !$ctrl.is_form_dirty())"\n    variants="{full_height: true}"\n  >\n    <new-conversation yields-is-dirty="$ctrl.is_form_dirty = is_dirty"></new-conversation>\n  </modal-window>\n</div>\n<conversations refresh-at="$ctrl.refresh_at" visible="$ctrl.opened" on-conversation-read="$ctrl.decrement_unread_count({decrement: unread_messages_count})"></conversations>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("metadata_custom_performance_role_input.html",'<div ng-repeat="customPerformanceRole in customPerformanceRoles" class="square_form-sub_section">\n  <metadata-input-and-label label="Additional role" is-disabled="is_disabled" errors="ctrl.errors_for_label(customPerformanceRole.label)">\n    <input\n      ng-model="customPerformanceRole.label"\n      autocomplete-with="customPerformanceRole"\n      class="square_input square_form-standard_element_margin"\n      placeholder="{{role_field_placeholder}}"\n      ng-disabled="isDisabled">\n    </input>\n  </metadata-input-and-label>\n\n  <metadata-input-and-label label="Artists in the role" is-disabled="is_disabled">\n    <autocomplete-tags-input\n      bind-to="customPerformanceRole.artists"\n      name="artist"\n      autocomplete-model="artist"\n      placeholder="{{artist_field_placeholder}}"\n      input-classes="tags_input square_input square_form-standard_element_margin"\n      ng-disabled="isDisabled">\n    </autocomplete-tags-input>\n  </metadata-input-and-label>\n\n  <div\n    class="square_form-sub_section-remove"\n    ng-click="ctrl.remove_custom_performance(customPerformanceRole)"\n  >\n    <svg class="inline_icon" src="x.svg"></svg>\n  </div>\n</div>\n\n<span class="text_label text_label--button text_label--purple" ng-click="ctrl.add_new_custom_performance()" ng-if="customPerformanceRoles && !isDisabled">+ Add Additional Credits</span>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("metadata_input_and_label.html",'<div class="square_form-input_and_label" ng-class="{\'square_form-input_and_label--half_width\': !full, \'square_form-input_and_label--error\': errors.length}">\n  <div class="text_label" ng-class="{\'text_label--gray\': is_disabled}">\n    {{label}}\n    <span ng-if="is_disabled" tether-drop-target>\n      <svg src="lock.svg" class="inline_icon inline_icon--reading_size inline_icon--up_3 inline_icon--gray"></svg>\n      <tether-drop show-on="hover">\n        <div class="tag_label tag_label--purple_background u-hair_horizontal_margins">{{\'can_can.access_denied\' | i18n}}</div>\n      </tether-drop>\n    </span>\n    <div ng-repeat="error in errors" class="form_message form_message--error">{{error}}</div>\n  </div>\n  <ng-transclude></ng-transclude>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("mini_album_card.html",'<a href="{{$ctrl.album.url}}" title="{{$ctrl.album.name}}" class="mini_card" ng-class="{\'mini_card--small\': $ctrl.variants.small}">\n  <div\n    class="mini_card-thumbnail clipped_background_image--background_fill"\n    clipped-background-image=":: $ctrl.album.cover_art_thumbnail_url"\n  ></div>\n  <div class="mini_card-info">\n    <div class="mini_card-title_and_subtitle">\n      <div class="mini_card-title">{{$ctrl.album.name}}</div>\n      <div class="mini_card-subtitle">{{$ctrl.album.release_date_components.year}}</div>\n    </div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("mini_annotatable_card.html",'<a ng-href="{{ $ctrl.object.url }}" class="mini_card--transparent mini_card" ng-class="{\'mini_card--small\': $ctrl.variants.small}" set-class-before-navigate="mini_card--active">\n  <div\n    class="mini_card-thumbnail clipped_background_image--background_fill"\n    clipped-background-image=":: $ctrl.object.image_url"\n  ></div>\n  <div class="mini_card-info">\n    <div class="mini_card-title_and_subtitle">\n      <div class="mini_card-title">{{:: $ctrl.object.title }}</div>\n      <div class="mini_card-subtitle">{{ $ctrl.object.context }}</div>\n    </div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("mini_article_card.html",'<a\n  ng-href="{{$ctrl.article.url}}"\n  title="{{$ctrl.article.title}}"\n  class="mini_article_card"\n>\n  <div\n    class="mini_article_card-thumbnail clipped_background_image--background_fill"\n    clipped-background-image=":: $ctrl.article.preview_image"\n  ></div>\n\n  <div class="mini_article_card-title">{{$ctrl.article.title}}</div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("mini_artist_card.html",'<a ng-href="{{ $ctrl.artist.url }}" class="mini_card" set-class-before-navigate="mini_card--active">\n  <div class="mini_card-thumbnail">\n    <div\n      class="user_avatar user_avatar--large clipped_background_image--background_fill"\n      clipped-background-image=":: $ctrl.artist.image_url"\n    ></div>\n  </div>\n  <div class="mini_card-info mini_card-info--centered">\n    <div class="mini_card-title">{{:: $ctrl.artist.name }}</div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("mini_song_card.html",'<a ng-href="{{ $ctrl.song.url }}" class="mini_card" ng-class="{\'mini_card--small\': $ctrl.variants.small}">\n  <div\n    class="mini_card-thumbnail clipped_background_image--background_fill"\n    clipped-background-image=":: $ctrl.song.song_art_image_thumbnail_url"\n  >\n    <div class="mini_card-chart_number" ng-if="$ctrl.number">\n      <div class="mini_card-chart_number-square">\n        <div>{{$ctrl.number}}</div>\n      </div>\n    </div>\n  </div>\n  <div class="mini_card-info">\n    <div class="mini_card-title_and_subtitle">\n      <div class="mini_card-title">{{:: $ctrl.song.title }}</div>\n      <div class="mini_card-subtitle">\n        {{ $ctrl.song.primary_artist.name }}<span ng-if="$ctrl.non_primary_artist_present">, <span class="mini_card-muted_subtitle">{{$ctrl.artist.name}}</span></span>\n      </div>\n    </div>\n    <div\n      ng-if="$ctrl.excerpt_with_markup"\n      class="mini_card-lyric_excerpt"\n      ng-bind-html="$ctrl.excerpt_with_markup"\n    ></div>\n    <div ng-if="!$ctrl.excerpt_with_markup">\n      <div ng-if="$ctrl.song.lyrics_state === \'complete\'" class="mini_card-metadata">\n        <svg\n          ng-if=":: $ctrl.song.verified_annotations"\n          src="checky.svg"\n          class="mini_card-artist_and_metadata-checky checky"\n        ></svg>\n        <span\n          ng-if=":: $ctrl.song.stats.hot"\n          class="mini_card-artist_and_metadata-hot"\n        >\n          <svg src="fire.svg" class="inline_icon inline_icon--reading_size"></svg>\n          {{ $ctrl.song.stats.concurrents + 1 | abbreviateBigNumber }}\n        </span>\n        <span>\n          <svg src="eye.svg" class="inline_icon inline_icon--up_1"></svg>\n          {{ $ctrl.song.stats.pageviews | abbreviateBigNumber }}\n        </span>\n        <span class="mini_card-artist_and_metadata-unreviewed_annotations" ng-if="$ctrl.variants.show_unreviewed_count">\n          <svg src="circle.svg" class="inline_icon inline_icon--up_1"></svg>\n          {{$ctrl.song.stats.unreviewed_annotations}}\n        </span>\n      </div>\n      <div ng-if="$ctrl.song.lyrics_state === \'unreleased\'" class="mini_card-metadata">\n        {{ \'song.lyrics_state.unreleased.indicator\' | i18n }}\n      </div>\n      <div ng-if="$ctrl.song.lyrics_state === \'incomplete\'" class="mini_card-metadata">\n        {{ \'song.lyrics_state.incomplete.indicator\' | i18n }}\n      </div>\n    </div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("mini_user_card.html",'<a ng-href="{{ $ctrl.user.url }}" class="mini_card" set-class-before-navigate="mini_card--active">\n  <div class="mini_card-thumbnail">\n    <div\n      class="user_avatar user_avatar--large clipped_background_image--background_fill"\n      clipped-background-image=":: $ctrl.user.avatar.medium.url"\n    ></div>\n  </div>\n  <div class="mini_card-info mini_card-info--centered">\n    <div class="mini_card-title">{{:: $ctrl.user.name }}</div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("mini_video_card.html",'<a\n  ng-href="{{:: $ctrl.video.url}}"\n  title="{{:: $ctrl.video.title}}"\n  class="mini_card"\n>\n  <div\n    class="mini_card-thumbnail mini_card-thumbnail--video clipped_background_image--background_fill"\n    clipped-background-image=":: $ctrl.video.poster_url"\n  >\n    <svg src="play.svg" class="dark_background_play_button"></svg>\n  </div>\n\n  <div class="mini_card-info">\n    <div class="mini_card-title">{{:: $ctrl.video.title}}</div>\n    <div class="mini_card-metadata">\n      <span>\n        <svg src="clock.svg" class="inline_icon inline_icon--reading_size inline_icon--up_1"></svg>\n        {{:: $ctrl.video.duration | millisToDuration }}\n      </span>\n    </div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("missing_metadata_form.html",'<form ng-submit="$ctrl.submit()" submit-on-cmd-enter>\n  <div ng-repeat="error in $ctrl.errors" class="form_message form_message--error">{{error}}</div>\n\n  <div\n    ng-repeat="(key, type) in $ctrl.missing_params track by key"\n    class="missing_metadata-row"\n  >\n    <div class="u-half_bottom_margin">{{$ctrl.object._type + \'.metadata.\' + key | i18n}}</div>\n\n    <div class="missing_metadata-input" ng-click="$ctrl.show_full_form = true">\n      <square-item-and-iq\n        show-pill="!$ctrl.show_full_form && $ctrl.params.length === 1"\n        iq-params="$ctrl.iq_api.edit_metadata"\n        variants="{full_width: true}"\n      >\n        <div ng-switch="type">\n          <div ng-switch-when="autocomplete_artists">\n            <autocomplete-tags-input\n              bind-to="$ctrl.changes[key]"\n              autocomplete-model="artist"\n              placeholder="{{$ctrl.placeholder}}"\n              input-classes="tags_input square_input u-display_block"\n            ></autocomplete-tags-input>\n          </div>\n          <div ng-switch-when="autocomplete_albums">\n            <autocomplete-tags-input\n              bind-to="$ctrl.changes[key]"\n              autocomplete-model="album"\n              autocomplete-options="{only_editable: true}"\n              placeholder="{{$ctrl.placeholder}}"\n              input-classes="tags_input square_input u-display_block"\n            ></autocomplete-tags-input>\n          </div>\n          <div ng-switch-when="date_components">\n            <component-date-input ng-model="$ctrl.changes[key]"></component-date-input>\n          </div>\n          <div ng-switch-default>\n            <input\n              ng-model="$ctrl.changes[key]"\n              class="square_input square_input--full_width"\n              type="{{type}}"\n            >\n          </div>\n        </div>\n      </square-item-and-iq>\n    </div>\n  </div>\n\n  <div ng-if="$ctrl.show_full_form" class="u-small_top_margin">\n    <square-item-and-iq\n      show-pill="$ctrl.show_full_form"\n      iq-params="$ctrl.iq_api.edit_metadata"\n    >\n      <button\n        type="submit"\n        class="square_button"\n        ng-class="{\'square_button--waiting\': $ctrl.saving}"\n        ng-disabled="$ctrl.saving"\n      >{{$ctrl.saving ? \'Saving\' : \'Save\'}}</button>\n    </square-item-and-iq>\n    <span\n      ng-if="!$ctrl.saving"\n      ng-click="$ctrl.cancel()"\n      class="square_button square_button--transparent square_button--gray"\n    >Cancel</span>\n  </div>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("modal_window.html",'<div\n  class="modal_window"\n  ng-class="{\'modal_window--center_content_width_window\': variants.width_of_contents}"\n  ng-hide="hidden"\n  ng-body-class="{\'u-noscroll\': !hidden, \'u-dark_overlay\': !hidden}"\n  ng-click="close({clicked_outside_modal: true})"\n  stop-propagation="click"\n>\n  <kb shortcut="esc" action="close({esc: true})"></kb>\n  <div\n    class="modal_window-content"\n    ng-class="{\n      \'modal_window-content--full_height\': variants.full_height,\n      \'modal_window-content--narrow_width\': variants.narrow_width,\n      \'modal_window-content--window_width\': variants.window_width,\n      \'modal_window-content--no_max_width\': variants.no_max_width,\n      \'modal_window-content--no_background\': variants.no_background,\n      \'modal_window-content--white_background\': variants.white_background,\n      \'modal_window-content--dark_background\': variants.dark_background,\n      \'modal_window-content--vertically_center_contents\': variants.vertically_center_contents,\n      \'modal_window-content--vertically_center_self\': variants.vertically_center_self,\n      \'modal_window-content--width_of_contents\': variants.width_of_contents\n    }"\n    stop-propagation="click"\n    click-outside-target\n  >\n    <ng-transclude ng-class="{\'u-width_100\': variants.full_width_parent}"></ng-transclude>\n  </div>\n  <div class="modal_window-close_button" ng-click="close({close_button: true})">\n    <svg src="x.svg" class="modal_window-close_button-svg"></svg>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("new_conversation.html",'<div ng-if="!conversation">\n  <div class="text_label text_label--purple form_section_label">Send a new message</div>\n  <compose-message on-sent="ctrl.did_send(message)" yields-is-dirty="yields_is_dirty({is_dirty: is_dirty})"></compose-message>\n</div>\n<conversation-messages ng-if="conversation" conversation="conversation"></conversation-messages>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("other_users_with_ip.html",'<scrollable-data src="$ctrl.infinite_scroll_data" repeat-with="user" scroll-mechanism="button">\n  <a class="u-display_block u-break_word" ng-href="{{user.url}}">{{user.login}}</a>\n  <empty>\n    <div class="u-top_margin">No other users with IP.</div>\n  </empty>\n</scrollable-data>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("paginated_accomplishments.html",'<div class="top_accomplishments u-horizontal_margins u-vertical_margins ng-scope">\n  <span class="top_accomplishments-title text_label text_label--gray">{{:: \'profile_page.top_accomplishment.other\' | i18n }}</span>\n  <div class="u-horizontal_margins">\n    <select-dropdown\n      ng-if="$ctrl.managing"\n      on-select="$ctrl.visibility = selection.value"\n      options="$ctrl.filter_options"\n      variants=":: {right_aligned: true}"\n    ></select-dropdown>\n  </div>\n  <span\n    ng-if="$ctrl.can(\'manage_accomplishments\')"\n    class="text_label text_label--button text_label--purple"\n    ng-click="$ctrl.toggle_managing()"\n  >{{ $ctrl.managing ? \'Done\' : \'Manage\' }}</span>\n</div>\n\n<div class="white_container">\n  <div class="leaderboard">\n    <div class="leaderboard-row leaderboard-row--no_padding">\n      <span class="leaderboard-rank leaderboard-label">Rank</span>\n      <span class="leaderboard-user leaderboard-label">Artist</span>\n      <span class="leaderboard-sort_value leaderboard-label">Artist IQ</span>\n      <span ng-if="$ctrl.managing" class="leaderboard-actions text_label text_label--x_small_text_size text_label--gray">Actions</span>\n    </div>\n    <scrollable-data\n      src="$ctrl.scrollable_data"\n      repeat-with="leaderboard_row"\n      scroll-mechanism="button"\n      button-classes="leaderboard-load_more"\n    >\n      <div\n        ng-if="(leaderboard_row.hidden ? \'hidden\' : \'visible\') === $ctrl.visibility || $ctrl.visibility === \'all\'"\n        class="leaderboard-row leaderboard-row--no_padding"\n        ng-class="{\'leaderboard-row--no_border\': $last, \'leaderboard-row--disabled\': leaderboard_row.hidden}"\n      >\n        <span class="leaderboard-rank" ng-bind="leaderboard_row.iq_rank"></span>\n        <span class="leaderboard-user"><artist-badge artist="leaderboard_row.artist"></artist-badge></span>\n        <span class="leaderboard-sort_value"><span ng-if="$first">+</span>{{leaderboard_row.iq_earned | number:0 }}</span>\n        <span ng-if="$ctrl.managing" class="leaderboard-actions">\n          <span class="text_label u-clickable" ng-click="$ctrl.toggle(leaderboard_row)" ng-class="{\'text_label--purple\': !leaderboard_row.hidden, \'text_label--gray\': leaderboard_row.hidden}">\n            {{ leaderboard_row.hidden ? \'Unhide\' : \'Hide\' }}\n          </span>\n        </span>\n      </div>\n    </scrollable-data>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("paginated_leaderboard.html",'<div class="leaderboard">\n  <scrollable-data\n    src="$ctrl.scrollable_data"\n    repeat-with="leaderboard_row"\n    scroll-mechanism="button"\n    button-classes="leaderboard-load_more"\n    on-empty="$ctrl.on_empty()"\n  >\n    <user-attribution class="leaderboard-row" rank="$index + 1" object="leaderboard_row" ng-class="{\'leaderboard-row--no_border\': $last}"></user-attribution>\n  </scrollable-data>\n  <div\n    ng-if="$ctrl.extra_info"\n    class="text_label text_label--purple text_label--x_small_text_size leaderboard-extra_info"\n    ng-class="{\'leaderboard-extra_info--has_next\': $ctrl.scrollable_data.has_next()}"\n  >{{$ctrl.extra_info}}</div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("placeholder_spinner.html",'<div\n  class="{{ placeholderClasses }} placeholder"\n  ng-class="{\'placeholder-spinner--inline\': variants.inline}"\n>\n  <svg\n    class="{{ variants.inline? \'placeholder-spinner placeholder-spinner--inline\' : \'placeholder-spinner\' }}"\n    src="circle.svg"\n  ></svg>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("placeholder_text.html",'<p class="placeholder-text">\n  <div class="placeholder-text-line placeholder-text-line--short"></div>\n  <div class="placeholder-text-line placeholder-text-line--long"></div>\n  <div class="placeholder-text-line placeholder-text-line--medium"></div>\n</p>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("play_pause_button.html",'<span ng-hide="playing">\n  <svg src="play_transparent.svg" class="media_control-button"></svg>\n</span>\n<span ng-show="playing">\n  <svg src="pause_transparent.svg" class="media_control-button"></svg>\n</span>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_admin_pane.html",'<div ng-if="$ctrl.can(\'view_admin_info\')">\n  <div class="text_label text_label--gray u-horizontal_margins u-top_margin u-half_bottom_margin">Admin Info</div>\n  <div class="white_container">\n    <admin-user-info user="$ctrl.user"></admin-user-info>\n  </div>\n</div>\n\n<div ng-if="$ctrl.can(\'view_roles\')">\n  <div class="text_label text_label--gray u-horizontal_margins u-top_margin u-half_bottom_margin">Manage Roles</div>\n  <div class="white_container">\n    <manage-roles user="$ctrl.user"></manage-roles>\n  </div>\n</div>\n\n<div ng-if="$ctrl.can(\'toggle_verification_status\')">\n  <div class="text_label text_label--gray u-horizontal_margins u-top_margin u-half_bottom_margin">Manage Verification</div>\n  <div class="white_container">\n    <artist-verification user="$ctrl.user" artist="$ctrl.user.artist"></artist-verification>\n  </div>\n</div>\n\n<div ng-if="$ctrl.can_moderate">\n  <div class="text_label text_label--gray u-horizontal_margins u-top_margin u-half_bottom_margin">Moderation</div>\n  <div class="white_container">\n    <user-moderation user="$ctrl.user"></user-moderation>\n  </div>\n</div>\n\n<div class="u-top_margin white_container" ng-if="$ctrl.can(\'view_admin_info\')">\n  <expandable-container title="Other Users With IP" class="u-top_margin">\n    <other-users-with-ip user="$ctrl.user"></other-users-with-ip>\n  </expandable-container>\n</div>\n\n<div class="u-top_margin white_container" ng-if="$ctrl.can(\'view_spam_status\')">\n  <expandable-container title="Spam Status">\n    <spam-status user="$ctrl.user"></spam-status>\n  </expandable-container>\n</div>\n\n<div ng-if="$ctrl.can(\'view_tracked_errors\')" class="u-top_margin white_container">\n  <a\n    class="text_label text_label--purple text_label--button"\n    ng-href="{{$ctrl.view_errors_link}}"\n    target="_blank"\n  >View Bugsnag Errors &rarr;</a>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_all_activity.html",'<div class="profile_list_item profile_list_item--large_padding u-x_large_top_margin">\n  <select-dropdown\n    ng-model="$ctrl.activity_type"\n    options="$ctrl.activity_types"\n  ></select-dropdown>\n</div>\n\n<scrollable-data src="$ctrl.activity_type.profile_activity_scrollable_data" repeat-with="line_item" scroll-mechanism="infinite_scroll" auto-reset="true">\n  <inbox-line-item object=":: line_item" variants="::{active_display:true}"></inbox-line-item>\n</scrollable-data>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_annotation.html",'<div class="standalone_annotation" ng-if="!$ctrl.deleted">\n  <div class="u-large_bottom_margin" ng-if="!($ctrl.variants && $ctrl.variants.hide_annotatable)">\n    <mini-annotatable-card object="$ctrl.referent.annotatable"></mini-annotatable-card>\n  </div>\n\n  <div class="standalone_annotation-referent_fragment" ng-class="{\'standalone_annotation-referent_fragment--with_caret\': !($ctrl.variants && $ctrl.variants.hide_annotatable)}">\n    <referent-fragment>\n      <a\n        ng-href="{{ $ctrl.referent.url }}"\n        class="referent referent--accent_font referent--line_break"\n        ng-class="[\'referent--\' + $ctrl.referent_display_mode]"\n      >{{ $ctrl.referent.is_image ? \'[Image]\' : $ctrl.referent.fragment }}</a>\n    </referent-fragment>\n  </div>\n  <div class="standalone_annotation-annotation">\n    <annotation\n      variants="{hideComments: true}"\n      object="$ctrl.annotation"\n      referent="$ctrl.referent"\n      annotatable-title="$ctrl.referent.annotatable.title"\n    ></annotation>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_artist_pane.html",'<div class="u-bottom_margin">\n  <relevant-videos\n    object="$ctrl.artist"\n    variants="{two_across: true}"\n    placement="sidebar"\n    container-classes="white_container"\n  ></relevant-videos>\n</div>\n\n<div class="white_container" ng-if="$ctrl.user_signed_in || $ctrl.artist.description_preview">\n  <description-referent object="$ctrl.artist.description_annotation" variants="{truncated: true}"></description-referent>\n</div>\n\n<dfp-ad\n  name="desktop_artist_sidebar"\n  ad-classes="{\'u-top_margin u-bottom_margin\': $filled}"\n></dfp-ad>\n\n<div ng-init="$ctrl.show_leaderboard = true">\n  <div ng-if="$ctrl.show_leaderboard">\n    <div class="text_label text_label--gray u-horizontal_margins u-top_margin u-half_bottom_margin">Top {{$ctrl.artist.name}} scholars</div>\n\n    <div class="white_container">\n      <paginated-leaderboard\n        source="$ctrl.get_leaderboard_page"\n        per-page="10"\n        on-empty="$ctrl.show_leaderboard = false"\n      ></paginated-leaderboard>\n    </div>\n  </div>\n</div>\n\n<div class="u-text_center u-vertical_margins">\n  <a ng-if="$ctrl.artist.facebook_name" target="_blank" href="{{$ctrl.facebook_url}}" class="square_button square_button--facebook u-quarter_vertical_margins">\n    <svg class="inline_icon" src="facebook.svg"></svg>\n    {{$ctrl.artist.facebook_name}}\n  </a>\n  <a ng-if="$ctrl.artist.twitter_name" target="_blank" href="{{$ctrl.twitter_url}}" class="square_button square_button--twitter u-quarter_vertical_margins">\n    <svg class="inline_icon" src="twitter.svg"></svg>\n    @{{$ctrl.artist.twitter_name}}\n  </a>\n  <a ng-if="$ctrl.artist.instagram_name" target="_blank" href="{{$ctrl.instagram_url}}" class="square_button square_button--instagram u-quarter_vertical_margins">\n    <svg class="inline_icon" src="instagram.svg"></svg>\n    @{{$ctrl.artist.instagram_name}}\n  </a>\n</div>\n\n<div ng-if="$ctrl.can(\'see_short_id\', $ctrl.artist)">\n  <div class="white_container u-top_margin">\n    Artist ID: {{$ctrl.artist.id}}\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_contributions_annotations.html",'<div class="profile_contributions_group-rollup_content">\n  <div ng-if="$ctrl.annotations.length > 1" class="profile_contributions_group-count numbered_indicator"><span>{{ $ctrl.annotations.length }}</span></div>\n  <profile-annotation\n    ng-repeat="annotation in $ctrl.annotations | limitTo: $ctrl.limit track by annotation.id"\n    annotation="annotation"\n    referent="annotation.referent"\n    variants="::{ hide_annotatable: !$first }"></profile-annotation>\n</div>\n<div\n  ng-if="$ctrl.annotations.length > $ctrl.limit"\n  ng-click="$ctrl.limit = $ctrl.annotations.length"\n  class="full_width_button u-clickable u-quarter_top_margin"\n>\n  {{ $ctrl.annotations.length - 1 }} more {{ \'annotation\' | i18n: {count: $ctrl.annotations.length - 1} }} by {{ $ctrl.user.name }}\n  <svg class="inline_icon inline_icon--short inline_icon--up_1" src="down_arrow.svg"></svg>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_contributions_answers.html",'<div class="profile_contribution">\n  <svg src="comment.svg" class="profile_contribution-icon"></svg>\n\n  <div class="profile_contribution-content">\n    {{:: \'question.answer\' | i18n:{count: $ctrl.answers.length, name: $ctrl.user.name} }} on {{:: $ctrl.answers[0].question.questionable_type | modelHumanName | lowercase | indefinitize }}:\n\n    <div class="profile_contribution-target u-bottom_margin">\n      <a\n        ng-href="{{$ctrl.answers[0].question.questionable.url}}"\n        target="_blank"\n        ng-bind="$ctrl.answers[0].question.questionable.full_title"\n      ></a>\n    </div>\n\n    <div ng-repeat="answer in $ctrl.answers track by answer.id">\n      <question question="answer.question" variants="{link: true, bottom_border: !$last}"></question>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_contributions_articles.html",'<a href="{{:: $ctrl.article.url }}" class="profile_contribution" class="u-horizontal_margins">\n  <svg src="one_document.svg" class="profile_contribution-icon"></svg>\n\n  <div class="profile_contribution-content">\n    <span>{{:: $ctrl.user.name }} wrote an article </span>\n\n    <div class="profile_contribution-target">\n      {{:: $ctrl.article.title }}\n    </div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_contributions_comments.html",'<a href="{{:: $ctrl.commentable.url }}" class="profile_contribution">\n  <svg src="comment.svg" class="profile_contribution-icon"></svg>\n\n  <div class="profile_contribution-content">\n    {{:: $ctrl.comments[0].author.name }}\n\n    <span ng-if="$ctrl.comments[0].disposition === \'comment\'">commented on</span>\n    <span ng-if="$ctrl.comments[0].disposition === \'suggestion\'">added a suggestion to</span>\n\n    <span ng-if="$ctrl.commentable.author">{{:: $ctrl.commentable.author.name}}\'s</span>\n    <span ng-if="!$ctrl.commentable.author">{{:: $ctrl.commentable.type == \'Song\' || $ctrl.commentable.type == \'Video\' ? \'a\' : \'an\'}}</span>\n\n    {{:: ($ctrl.commentable.type | snakeCase) | i18n:{count: 1} }}<span ng-if="$ctrl.commentable.type == \'Annotation\'"> on</span>:\n\n    <div class="profile_contribution-target">{{:: $ctrl.commentable.title }}</div>\n\n    <div class="profile_contribution-content" ng-repeat="comment in $ctrl.comments track by comment.id">\n      <div class="note_bubble u-small_top_margin">\n        <span ng-if="comment.reason">\n          <span class="note_bubble-label">Marked as: </span>{{:: comment.reason.raw_name}}\n        </span>\n        <div ng-bind-html=":: comment.body.html"></div>\n      </div>\n    </div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_contributions_group.html",'<div class="profile_contributions_group" ng-switch="$ctrl.contributions_group.contribution_type">\n\n  <profile-contributions-articles\n    ng-switch-when="article"\n    user="$ctrl.user"\n    contributions-group="$ctrl.contributions_group"\n  ></profile-contributions-articles>\n\n  <profile-contributions-annotations\n    ng-switch-when="annotation"\n    user="$ctrl.user"\n    contributions-group="$ctrl.contributions_group"\n  ></profile-contributions-annotations>\n\n  <profile-contributions-comments\n    ng-switch-when="comment"\n    user="$ctrl.user"\n    contributions-group="$ctrl.contributions_group"\n  ></profile-contributions-comments>\n\n  <profile-contributions-pyongs\n    ng-switch-when="pyong"\n    user="$ctrl.user"\n    contributions-group="$ctrl.contributions_group"\n  ></profile-contributions-pyongs>\n\n  <profile-contributions-transcriptions\n    ng-switch-when="song"\n    user="$ctrl.user"\n    contributions-group="$ctrl.contributions_group"\n  ></profile-contributions-transcriptions>\n\n  <profile-contributions-questions\n    ng-switch-when="question"\n    user="$ctrl.user"\n    contributions-group="$ctrl.contributions_group"\n  ></profile-contributions-questions>\n\n  <profile-contributions-answers\n    ng-switch-when="answer"\n    user="$ctrl.user"\n    contributions-group="$ctrl.contributions_group"\n  ></profile-contributions-answers>\n\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_contributions_pyongs.html",'<a href="{{:: $ctrl.pyong.pyongable.url }}" class="profile_contribution" class="u-horizontal_margins">\n  <svg src="lightning.svg" class="profile_contribution-icon profile_contribution-icon--thin"></svg>\n\n  <div class="profile_contribution-content" ng-switch="$ctrl.pyong.pyongable_type">\n\n    <span ng-switch-when="song">{{:: $ctrl.user.name }} pyonged a song</span>\n    <span ng-switch-when="annotation">{{:: $ctrl.user.name }} pyonged an annotation on</span>\n    <span ng-switch-when="article">{{:: $ctrl.user.name }} pyonged an article</span>\n    <span ng-switch-when="video">{{:: $ctrl.user.name }} pyonged a video</span>\n    <span ng-switch-when="album">{{:: $ctrl.user.name }} pyonged an album</span>\n\n    <div class="profile_contribution-target">\n      {{:: $ctrl.pyong.pyongable.context_title }}\n    </div>\n\n    <div\n      class="note_bubble u-small_top_margin"\n      ng-if="$ctrl.pyong.note.html"\n      ng-bind-html=":: $ctrl.pyong.note.html"\n    ></div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_contributions_questions.html",'<div class="profile_contribution">\n\n  <svg src="comment.svg" class="profile_contribution-icon"></svg>\n\n  <div class="profile_contribution-content">\n    {{:: \'question.question\' | i18n:{count: $ctrl.questions.length, name: $ctrl.user.name} }} on a song:\n\n    <div class="profile_contribution-target u-bottom_margin">\n      <a\n        ng-href="{{$ctrl.questions[0].song.url}}"\n        target="_blank"\n        ng-bind="$ctrl.questions[0].song.full_title"\n      ></a>\n    </div>\n\n    <div ng-repeat="question in $ctrl.questions track by question.id">\n      <question question="question" variants="{link: true, bottom_border: !$last}"></question>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_contributions_transcriptions.html",'<a href="{{:: $ctrl.song.url }}" class="profile_contribution" class="u-horizontal_margins">\n  <svg src="one_document.svg" class="profile_contribution-icon"></svg>\n\n  <div class="profile_contribution-content">\n    <span>{{:: $ctrl.user.name }} {{ $ctrl.user.id === $ctrl.song.lyrics_owner_id && $ctrl.song.lyrics_state === \'complete\' ? \'transcribed\' : \'created a page\' }}</span>\n\n    <div class="profile_contribution-target">\n      {{:: $ctrl.song.full_title }}\n    </div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_followers.html",'<scrollable-data src="$ctrl.scrollable_data" repeat-with="user" scroll-mechanism="infinite_scroll">\n  <div class="profile_list_item profile_list_item--large_padding">\n    <div class="u-float_left">\n      <user-badge size="x_small" object="user"></user-badge>\n    </div>\n  </div>\n</scrollable-data>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_identity.html",'<div class="profile_identity">\n  <div class="profile_identity-text">\n    <h1 class="profile_identity-name_iq_and_role_icon u-hair_bottom_margin">\n      {{ $ctrl.artist.name || \'@\' + $ctrl.user.login }}\n      <span ng-if="$ctrl.user" class="profile_identity-iq tag_label tag_label--yellow_background" ng-bind="$ctrl.user.iq | number:0"></span>\n    </h1>\n    <div ng-if="$ctrl.artist.alternate_names.length" class="profile_identity-alternate_names">\n      AKA: <span ng-repeat="name in $ctrl.artist.alternate_names | limitTo: $ctrl.alternate_name_limit">{{name}}{{($last) ? \'\' : \', \'}}</span><span ng-if="$ctrl.more_alternate_names_to_show()">...</span>\n      <span\n        ng-click="$ctrl.show_all_alternate_names()"\n        ng-if="$ctrl.more_alternate_names_to_show()"\n        class="profile_identity-alternate_names-see_all u-clickable"\n      >See All »</span>\n    </div>\n    <span class="profile_identity-subhead">\n      <span ng-if="$ctrl.artist && $ctrl.user">@{{$ctrl.user.login}}</span>\n      <span ng-if="$ctrl.artist && $ctrl.user.role_for_display"> | </span>\n      <span ng-if="$ctrl.user.role_for_display" tether-drop-target ng-class="{\'u-clickable\':$ctrl.user_has_more_than_one_role()}">\n        <role-icon\n          ng-if="$ctrl.user.role_for_display"\n          role="$ctrl.user.role_for_display"\n          has-checky="$ctrl.user.is_verified"\n        ></role-icon>\n        {{ \'role.types.\' + $ctrl.user.role_for_display | i18n: {count:1, defaultValue: $ctrl.user.role_for_display} }}\n        <svg ng-if="$ctrl.user_has_more_than_one_role()" src="down_arrow.svg" class="inline_icon inline_icon--short inline_icon--up_1 inline_icon--gray"></svg>\n        <tether-drop ng-if="$ctrl.user_has_more_than_one_role()" show-on="click" position="bottom center">\n          <div class="tooltip tooltip--tiny">\n            <div class="tooltip-plain_text_list_item" ng-repeat="role in $ctrl.user.roles_for_display">\n              <span>\n                <role-icon\n                  role="role"\n                  has-checky="role === \'verified_artist\'"\n                ></role-icon>\n                {{ \'role.types.\' + role  | i18n: {count:1} }}\n              </span>\n            </div>\n          </div>\n        </tether-drop>\n      </span>\n    </span>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_page.html",'<div class="u-black_background">\n  <leaderboard-ad\n    name="{{$ctrl.display_as_artist() ? \'desktop_artist_leaderboard\' : \'desktop_user_leaderboard\'}}"\n    has-skin="false"\n  ></leaderboard-ad>\n</div>\n<div class="profile_header">\n  <div class="banner_image banner_image--more_transparent_gradient">\n    <div class="banner_image-blurred_image" clipped-background-image="$ctrl.header_url()"></div>\n  </div>\n  <div class="column_layout">\n    <div class="column_layout-column_span column_layout-column_span--secondary">\n      <div\n        class="user_avatar profile_header-avatar clipped_background_image--background_fill"\n        ng-class="{\'profile_header-avatar--verified\': $ctrl.user.is_verified}"\n        clipped-background-image="$ctrl.avatar_url()"\n        ng-show="!$ctrl.show_artist_pane"\n      ></div>\n    </div>\n    <div class="column_layout-column_span column_layout-column_span--primary">\n      <div class="profile_header-tabs profile_tabs" ng-init="$ctrl.change_state(\'description\')">\n        <h3\n          ng-click="$ctrl.change_state(\'description\')"\n          class="profile_tabs-tab"\n          ng-class="{\'profile_tabs-tab--selected\': $ctrl.state === \'description\'}"\n        ><svg src="star.svg" class="inline_icon inline_icon--white inline_icon--reading_size inline_icon--up_3 u-right_half_margin"></svg> Featured</h3>\n        <h3\n          ng-if="$ctrl.display_as_artist() && $ctrl.can(\'view_contribution_opportunities\', $ctrl.artist)"\n          ng-click="$ctrl.change_state(\'opportunities\')"\n          class="profile_tabs-tab"\n          ng-class="{\'profile_tabs-tab--selected\': $ctrl.state === \'opportunities\'}"\n        >Earn IQ</h3>\n        <h3\n          ng-click="$ctrl.change_state(\'followers\')"\n          class="profile_tabs-tab"\n          ng-class="{\'profile_tabs-tab--selected\': $ctrl.state === \'followers\'}"\n        ><span class="profile_tabs-tab-count">{{ ($ctrl.artist || $ctrl.user).followers_count | number:0 }}</span> Followers</h3>\n        <h3\n          ng-if="$ctrl.display_as_user()"\n          ng-click="$ctrl.change_state(\'follows\')"\n          class="profile_tabs-tab"\n          ng-class="{\'profile_tabs-tab--selected\': $ctrl.state === \'follows\'}"\n        ><span class="profile_tabs-tab-count">{{ $ctrl.user.followed_users_count | number:0 }}</span> Following</h3>\n        <h3\n            ng-if="$ctrl.can(\'view_activity_stream\', $ctrl.user) || $ctrl.can(\'view_activity_stream\', $ctrl.artist)"\n            ng-click="$ctrl.change_state(\'all_activity\')"\n            class="profile_tabs-tab"\n            ng-class="{\'profile_tabs-tab--selected\': $ctrl.state === \'all_activity\'}"\n        ><span class="profile_tabs-tab-count">{{ $ctrl.user.stats.all_activities_count | number:0 }}</span> All Activity</h3>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="column_layout" ng-show="!$ctrl.show_artist_pane" ng-switch="$ctrl.state">\n  <div class="column_layout-column_span column_layout-column_span--secondary">\n    <div class="profile_identity_and_description">\n      <profile-identity artist="$ctrl.artist" user="$ctrl.user"></profile-identity>\n      <div class="profile_identity_and_description-action_row">\n        <follow-button\n          ng-if="$ctrl.artist"\n          type="artist"\n          object="$ctrl.artist"\n        ></follow-button>\n        <follow-button\n          ng-if="!$ctrl.artist && $ctrl.user"\n          type="user"\n          object="$ctrl.user"\n        ></follow-button>\n        <div\n          class="square_button"\n          ng-click="$ctrl.show_conversation_modal = true"\n          ng-if="$ctrl.can_message_user"\n        >Message</div>\n        <div\n          class="square_button"\n          ng-if="$ctrl.can_edit_profile"\n          ng-click="$ctrl.show_edit_artist_profile_modal = true"\n        ><svg class="inline_icon inline_icon--reading_size inline_icon--up_1" src="pencil.svg"></svg> Edit</div>\n      </div>\n      <div\n        ng-if="$ctrl.artist.is_verified && $ctrl.user.is_verified && $ctrl.user.annotations_count > 0"\n        class="u-quarter_top_margin u-text_center"\n        ng-click="$ctrl.change_state(\'description\'); $ctrl.scroll_to(\'verified_annotations\')"\n      >\n        <span class="text_label text_label--button text_label--verified text_label--x_small_text_size">\n          Read {{ $ctrl.artist.name }}\'s Verified Annotations\n        </span>\n      </div>\n      <div\n        ng-click="$ctrl.open_all_songs_pane()"\n        ng-if="$ctrl.artist_has_more_songs && !$ctrl.artist_songs.length"\n        class="u-text_center u-top_margin"\n      >\n        <span class="text_label text_label--button text_label--purple">\n          Show all songs {{:: $ctrl.artist.name }} appears on\n        </span>\n      </div>\n      <div class="u-top_margin" ng-switch="$ctrl.display_as_artist()">\n        <profile-artist-pane ng-switch-when="true" artist="$ctrl.artist"></profile-artist-pane>\n        <profile-user-pane\n          ng-switch-when="false"\n          user="$ctrl.user"\n          on-statistics-select="$ctrl.change_state(\'description\'); $ctrl.filter_activity_by_type(statistics_type)"\n        ></profile-user-pane>\n      </div>\n      <profile-admin-pane\n        ng-if="$ctrl.user"\n        user="$ctrl.user"\n        view-errors-link="$ctrl.bugsnag_link"\n      ></profile-admin-pane>\n    </div>\n  </div>\n\n  <artist-songs-modal\n    ng-if="$ctrl.artist"\n    artist="$ctrl.artist"\n    yields-open="$ctrl.open_all_songs_pane = open"\n  ></artist-songs-modal>\n  <div class="column_layout-column_span column_layout-column_span--primary" ng-switch-when="description">\n    <artist-songs-and-albums\n      ng-if="$ctrl.artist"\n      artist="$ctrl.artist"\n      artist-songs="$ctrl.artist_songs"\n      artist-albums="$ctrl.artist_albums"\n      artist-has-more-songs="$ctrl.artist_has_more_songs"\n      open-all-songs-pane="$ctrl.open_all_songs_pane()"\n    ></artist-songs-and-albums>\n\n    <div ng-if="$ctrl.user" scroll-point="verified_annotations">\n      <div ng-if="$ctrl.pinned_annotations.length" class="text_label text_label--gray u-xx_large_top_margin">\n        <svg src="star.svg" class="inline_icon inline_icon--gray inline_icon--reading_size inline_icon--up_3"></svg>\n        Pinned {{ \'annotation\' | i18n: { count: $ctrl.pinned_annotations.length } }}\n      </div>\n\n      <div ng-repeat="annotation in $ctrl.pinned_annotations" class="u-half_vertical_margins">\n        <profile-annotation annotation="annotation" referent="annotation.referent"></profile-annotation>\n      </div>\n\n      <div class="profile_list_item profile_list_item--large_padding u-x_large_top_margin" scroll-point="user_activity">\n        <span class="text_label text_label--gray">\n          {{ $ctrl.user.name }}\'s Contributions\n        </span>\n        <div class="profile_list_item-dropdown_container">\n          <span class="u-half_right_margin" ng-if="$ctrl.filter_by_contribution_type.sort.length > 0">\n            <select-dropdown\n              on-select="$ctrl.filter_activity_by($ctrl.filter_by_contribution_type, selection)"\n              options="$ctrl.filter_by_contribution_type.sort"\n              variants=":: {right_aligned: true, gray: true}"\n            ></select-dropdown>\n          </span>\n          <select-dropdown\n            on-select="$ctrl.filter_activity_by(selection)"\n            options="$ctrl.user_activity_sort_options_by_filter"\n            selection="$ctrl.filter_by_contribution_type"\n            variants=":: {right_aligned: true}"\n          ></select-dropdown>\n        </div>\n      </div>\n\n      <scrollable-data\n        src="$ctrl.user_contributions_scrollable_data"\n        scroll-mechanism="infinite_scroll"\n        repeat-with="contributions_group"\n        preload="$ctrl.filter_by_contribution_type.filter ? [] : $ctrl.preloaded_user_activity"\n        auto-reset="true"\n      >\n        <div\n          ng-if="!$ctrl.filter_by_contribution_type.filter && (($scrollable_data_ctrl.models[$index - 1].date | millisecondsToSeconds | date: \'longDate\') !== (contributions_group.date | millisecondsToSeconds | date: \'longDate\'))"\n          class="text_label text_label--gray u-x_large_top_margin u-hair_bottom_margin"\n        >\n          <svg src="calendar.svg" class="inline_icon inline_icon--gray inline_icon--reading_size inline_icon--up_3"></svg> {{:: contributions_group.date | millisecondsToSeconds | date: "longDate" }}\n        </div>\n        <profile-contributions-group user="$ctrl.user" contributions-group="contributions_group"></profile-contributions-group>\n        <empty>\n          <div class="u-top_margin">\n            Looks like {{$ctrl.user.name}} doesn\'t have any {{\n            $ctrl.filter_by_contribution_type.filter ?\n            ($ctrl.filter_by_contribution_type.i18n_key | i18n | lowercase) :\n            \'contributions\'\n            }}.\n          </div>\n        </empty>\n      </scrollable-data>\n    </div>\n  </div>\n\n  <div class="column_layout-column_span column_layout-column_span--primary" ng-switch-when="opportunities">\n    <div class="u-x_large_top_margin u-right_margin">\n      <artist-opportunities artist="$ctrl.artist"></artist-opportunities>\n    </div>\n  </div>\n\n  <div class="column_layout-column_span column_layout-column_span--primary" ng-switch-when="followers">\n    <div class="u-x_large_top_margin u-right_margin">\n      <profile-followers artist="$ctrl.artist" user="$ctrl.user"></profile-followers>\n    </div>\n  </div>\n\n  <div class="column_layout-column_span column_layout-column_span--primary" ng-switch-when="follows">\n    <div class="u-x_large_top_margin u-right_margin">\n      <profile-followers artist="$ctrl.artist" user="$ctrl.user" follows="true"></profile-followers>\n    </div>\n  </div>\n\n  <div class="column_layout-column_span column_layout-column_span--primary" ng-switch-when="all_activity">\n    <div class="u-x_large_top_margin u-right_margin">\n      <profile-all-activity user="$ctrl.user" artist="$ctrl.artist"></profile-all-activity>\n    </div>\n  </div>\n\n</div>\n\n<modal-window\n  ng-if="$ctrl.show_edit_artist_profile_modal"\n  on-close="$ctrl.show_edit_artist_profile_modal = undefined"\n>\n  <div class="column_layout" ng-init="$ctrl.current_edit_panel = $ctrl.can_edit_artist_profile ? \'show_edit_artist_profile_modal\' : \'show_edit_user_profile_modal\'">\n    <div class="column_layout-column_span column_layout-column_span--secondary">\n      <div\n        ng-if="$ctrl.can_edit_artist_profile"\n        ng-click="$ctrl.current_edit_panel = \'show_edit_artist_profile_modal\'"\n        ng-class="{\'toggleable_list_item--selected\':$ctrl.current_edit_panel === \'show_edit_artist_profile_modal\'}"\n        class="toggleable_list_item"\n      >Edit Artist Profile</div>\n      <div\n        ng-if="$ctrl.can_edit_user_profile"\n        ng-click="$ctrl.current_edit_panel = \'show_edit_user_profile_modal\'"\n        ng-class="{\'toggleable_list_item--selected\':$ctrl.current_edit_panel === \'show_edit_user_profile_modal\'}"\n        class="toggleable_list_item"\n      >Edit User Profile</div>\n      <div\n          ng-if="$ctrl.can_edit_user_profile"\n          ng-click="$ctrl.current_edit_panel = \'show_edit_user_email_preferences_modal\'"\n          ng-class="{\'toggleable_list_item--selected\':$ctrl.current_edit_panel === \'show_edit_user_email_preferences_modal\'}"\n          class="toggleable_list_item"\n      >Edit Email Preferences</div>\n      <div\n        ng-if="$ctrl.can(\'merge\', $ctrl.artist)"\n        ng-click="$ctrl.current_edit_panel = \'show_merge_artist_modal\'"\n        ng-class="{\'toggleable_list_item--selected\':$ctrl.current_edit_panel === \'show_merge_artist_modal\'}"\n        class="toggleable_list_item toggleable_list_item--last"\n      >Merge artists</div>\n    </div>\n\n    <div class="column_layout-column_span column_layout-column_span--primary" ng-switch="$ctrl.current_edit_panel">\n      <div ng-switch-when="show_edit_artist_profile_modal">\n        <edit-artist-profile\n          artist="$ctrl.artist"\n          close="$ctrl.show_edit_artist_profile_modal = undefined"\n        ></edit-artist-profile>\n      </div>\n\n      <div ng-switch-when="show_edit_user_profile_modal">\n        <edit-user-profile\n          user="$ctrl.user"\n          disable-image-edit="$ctrl.artist && !$ctrl.community_artist"\n          disable-user-bio-edit="$ctrl.artist && !$ctrl.community_artist"\n          close="$ctrl.show_edit_artist_profile_modal = undefined"\n        ></edit-user-profile>\n      </div>\n\n      <div ng-switch-when="show_merge_artist_modal">\n        <merge-artist-form artist="$ctrl.artist"></merge-artist-form>\n      </div>\n\n      <div ng-switch-when="show_edit_user_email_preferences_modal">\n        <edit-user-email-preferences\n          user="$ctrl.user"\n          close="$ctrl.show_edit_artist_profile_modal = undefined"\n        ></edit-user-email-preferences>\n      </div>\n    </div>\n  </div>\n</modal-window>\n\n<modal-window\n  ng-if="$ctrl.show_conversation_modal"\n  on-close="$ctrl.show_conversation_modal = false"\n  variants="{full_height: true}"\n>\n  <conversation-with-user user="$ctrl.user"></conversation-with-user>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("profile_user_pane.html",'<div class="white_container">\n  <div class="rich_text_formatting">\n    <div ng-if="$ctrl.user.about_me.html" ng-bind-html="$ctrl.user.about_me.html"></div>\n    <span ng-if="!$ctrl.user.about_me.html">{{\'profile_page.about_me.default\' | i18n:{user_login: $ctrl.user.login} }}</span>\n  </div>\n</div>\n\n<div class="text_label text_label--gray u-horizontal_margins u-vertical_margins">Stats</div>\n<div class="u-vertical_margins">\n  <statistics-panel user="$ctrl.user" on-select="$ctrl.on_statistics_select({statistics_type: type})"></statistics-panel>\n</div>\n\n<dfp-ad\n  name="desktop_user_sidebar"\n  ad-classes="{\'u-top_margin u-bottom_margin\': $filled}"\n></dfp-ad>\n\n<paginated-accomplishments user="$ctrl.user"></paginated-accomplishments>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("pyong_button_for_header.html",'<div\n  class="pyong_button header_with_cover_art-pyong_button"\n  ng-class="{\n    \'header_with_cover_art-pyong_button--disabled\': ctrl.pyonged(),\n    \'header_with_cover_art-pyong_button--disable_hang_left\': variants.disable_hang_left,\n    \'header_with_cover_art-pyong_button--far_hang\': variants.far_hang\n  }"\n  ng-click="ctrl.pyong()"\n  ng-disabled="ctrl.pyonged()"\n  tether-drop-target\n>\n  <span ng-class="{\'nganimate-cycle_upwards\': ctrl.clicked_pyong}">\n    <svg class="header_with_cover_art-pyong_button-icon" src="lightning.svg"></svg>\n  </span>\n  <span ng-bind="pyongable.pyongs_count" class="header_with_cover_art-pyongs_count"></span>\n\n  <tether-drop\n    show-on="always"\n    position="{{ variants.tooltip_position ? variants.tooltip_position : \'bottom center\' }}"\n    ng-if="ctrl.show_pyong_form"\n  >\n    <pyong-form type="type" id="pyongable.id" on-complete="ctrl.show_pyong_form = false"></pyong-form>\n  </tether-drop>\n\n  <tether-drop\n    position="{{ variants.tooltip_position ? variants.tooltip_position : \'bottom center\' }}"\n    ng-if="!ctrl.show_pyong_form"\n    show-on="hover"\n  >\n    <div class="tooltip tooltip--tiny u-half_vertical_margins" ng-cloak stop-propagation="click">\n      <span ng-if="ctrl.pyonged()">{{ \'pressed_pyong_tooltip_text\' | i18n:{text_type: type} }}</span>\n      <span ng-if="!ctrl.pyonged()">{{ \'pyong_tooltip_text\' | i18n:{text_type: type} }}</span>\n    </div>\n  </tether-drop>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("pyong_button_square_button.html",'<div\n  class="pyong_button square_button"\n  ng-click="ctrl.pyong()"\n  ng-disabled="ctrl.pyonged()"\n  ng-class="{\n    \'square_button--transparent nganimate-disable_transition\': variants.transparent,\n    \'square_button--purple\': variants.purple,\n    \'square_button--disabled\': ctrl.pyonged(),\n    \'square_button--depress_on_click\': !ctrl.pyonged(),\n  }"\n  tether-drop-target\n>\n  <span ng-class="{\'nganimate-cycle_upwards\': ctrl.clicked_pyong}">\n    <svg class="inline_icon inline_icon--reading_size inline_icon--up_1" src="lightning.svg"></svg>\n  </span>\n  <span ng-bind="pyongable.pyongs_count"></span>\n\n  <tether-drop\n    show-on="always"\n    position="{{ variants.tooltip_position ? variants.tooltip_position : \'bottom center\' }}"\n    ng-if="ctrl.show_pyong_form"\n  >\n    <pyong-form type="type" id="pyongable.id" on-complete="ctrl.show_pyong_form = false"></pyong-form>\n  </tether-drop>\n\n  <tether-drop\n    position="{{ variants.tooltip_position ? variants.tooltip_position : \'bottom center\' }}"\n    ng-if="!ctrl.show_pyong_form"\n    show-on="hover"\n  >\n    <div class="tooltip tooltip--tiny u-half_vertical_margins" ng-cloak stop-propagation="click">\n      <span ng-if="ctrl.pyonged()">{{ \'pressed_pyong_tooltip_text\' | i18n:{text_type: type} }}</span>\n      <span ng-if="!ctrl.pyonged()">{{ \'pyong_tooltip_text\' | i18n:{text_type: type} }}</span>\n    </div>\n  </tether-drop>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("pyong_form.html",'<form name="form" class="tooltip u-vertical_margins" ng-submit="form.$valid && submit(pyong_note)" submit-on-cmd-enter stop-propagation="click" click-outside="submit(null)" ng-model-options="{updateOn: \'submit\'}">\n  <div ng-if="form.$submitted && form.$invalid" class="form_message form_message--error text_label">\n    Please enter a note to go with your Pyong.\n  </div>\n\n  <div class="u-small_bottom_margin">\n    <textarea required placeholder="Add a note for your followers" ng-disabled="disabled" ng-model="pyong_note" class="square_input square_input--full_width" autofocus="disabled"></textarea>\n  </div>\n\n  <button ng-disabled="disabled" class="square_button square_button--depress_on_click" ng-class="{\'square_button--disabled\': disabled}" type="submit">{{ disabled ? \'Saving\' : \'Add note\' }}</button>\n  <button class="square_button square_button--depress_on_click square_button--transparent square_button--gray" ng-if="!disabled" ng-click="submit(null)" prevent-default-click>No Thanks</button>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("question.html",'<li\n  ng-attr-id="{{$ctrl.featured ? $ctrl.question.id : undefined}}"\n  class="question"\n  ng-class="{\n    \'question--top_border\': $ctrl.variants.top_border,\n    \'question--bottom_border\': $ctrl.variants.bottom_border\n  }"\n  class-for-duration="{\'question--animate_flash\': $ctrl.featured ? 3000 : 0}"\n>\n  <div class="question-hanging_actions" ng-if="$ctrl.variants.hanging_actions">\n    <span\n      class="question-hanging_actions-action question-hanging_actions-action--empty_star question-hanging_actions-action--show_on_hover"\n      ng-if="$ctrl.can(\'pin\', $ctrl.question) && !$ctrl.is_pinned()"\n      ng-click="$ctrl.pin()"\n      title="pin"\n    >\n      <svg src="star.svg" class="inline_icon inline_icon--reading_size inline_icon--up_3"></svg>\n    </span>\n    <span\n      class="question-hanging_actions-action"\n      ng-if="$ctrl.can(\'unpin\', $ctrl.question) && $ctrl.is_pinned()"\n      ng-click="$ctrl.unpin()"\n      title="unpin"\n    >\n      <svg src="star.svg" class="inline_icon inline_icon--reading_size inline_icon--up_3"></svg>\n    </span>\n    <span\n      class="question-hanging_actions-action question-hanging_actions-action--show_on_hover"\n      ng-if="$ctrl.can(\'move\', $ctrl.question) && $ctrl.is_pinned()"\n      ng-click="$ctrl.move(\'up\')"\n      title="move up"\n    >\n      <svg src="up_arrow.svg" class="inline_icon inline_icon--gray "></svg>\n    </span>\n    <span\n      class="question-hanging_actions-action question-hanging_actions-action--show_on_hover"\n      ng-if="$ctrl.can(\'move\', $ctrl.question) && $ctrl.is_pinned()"\n      ng-click="$ctrl.move(\'down\')"\n      title="move down"\n    >\n      <svg src="down_arrow.svg" class="inline_icon inline_icon--gray "></svg>\n    </span>\n  </div>\n  <div\n    ng-if="!$ctrl.variants.no_drop_down && !$ctrl.question._editing._form_visible && ($ctrl.can(\'edit\', $ctrl.question) || $ctrl.can(\'archive\', $ctrl.question))"\n    class="question-drop_down square_button square_button--transparent square_button--gray u-float_right"\n    tether-drop-target\n  >\n    <svg\n      src="down_arrow.svg"\n      class="inline_icon inline_icon--up_2 inline_icon--short inline_icon--gray"\n    ></svg>\n\n    <tether-drop show-on="click" position="bottom center" yields-api="$ctrl.tetherApi = tetherApi">\n      <div class="tooltip tooltip--no_padding tooltip--tiny" stop-propagation="click">\n        <span\n          class="tooltip-list_item"\n          ng-if="$ctrl.can(\'edit\', $ctrl.question)"\n          ng-class="{\'tooltip-list_item--disabled\': $ctrl.question._editing._form_visible}"\n          ng-click="$ctrl.start_editing()"\n        >\n          <svg src="pencil.svg" class="inline_icon tooltip-list_item-icon"></svg>\n          Edit Question\n        </span>\n        <square-item-and-iq\n          ng-if="$ctrl.can(\'archive\', $ctrl.question)"\n          iq-params="$ctrl.question.current_user_metadata.iq_by_action.archive"\n          variants="{full_width: true}"\n        >\n          <span\n            class="tooltip-list_item tooltip-list_item--bottom_border"\n            ng-click="$ctrl.archive()"\n          >\n            <svg src="checkmark.svg" class="inline_icon inline_icon--red tooltip-list_item-icon"></svg>\n            Archive Question\n          </span>\n        </square-item-and-iq>\n        <span\n          class="tooltip-list_item"\n          ng-if="$ctrl.answerApi.can_edit()"\n          ng-click="$ctrl.answerApi.start_editing(); $ctrl.tetherApi.hide()"\n        >\n          <svg src="pencil.svg" class="inline_icon tooltip-list_item-icon"></svg>\n          Edit Answer\n        </span>\n        <span\n          class="tooltip-list_item"\n          ng-if="$ctrl.answerApi.can_clear()"\n          ng-click="$ctrl.answerApi.clear_answer(); $ctrl.tetherApi.hide()"\n        >\n          <svg src="x.svg" class="inline_icon inline_icon--red tooltip-list_item-icon"></svg>\n          Clear Answer\n        </span>\n      </div>\n    </tether-drop>\n  </div>\n\n  <div ng-show="!$ctrl.question._editing._form_visible" class="u-bottom_margin">\n    <div class="question-inline_voting">\n      <voting\n        ng-if="!$ctrl.question.answer && $ctrl.question.id"\n        object="$ctrl.question"\n        variants="{\'hide_upvote_text\': true, \'hide_downvote\': true}"\n        type="question"\n        on-unauthorized="$ctrl.prompt_auth = true"\n        vote-total-clicked="$ctrl.show_voters = !$ctrl.show_voters"\n      ></voting>\n    </div>\n    <h3 class="annotation_label">\n      <a ng-if="$ctrl.variants.link" class="annotation_label-underline" ng-href="{{$ctrl.question.url}}">{{$ctrl.question.body}}</a>\n      <span ng-if="!$ctrl.variants.link">{{$ctrl.question.body}}</span>\n    </h3>\n  </div>\n\n  <form\n    name="question_form"\n    class="u-bottom_margin"\n    ng-if="$ctrl.question._editing._form_visible"\n    ng-submit="$ctrl.finish_editing()"\n    ng-model-options="{updateOn: \'submit blur\'}"\n    submit-on-cmd-enter\n    dirtyable\n  >\n    <textarea\n      required\n      autofocus\n      ng-model="$ctrl.question._editing.body"\n      class="square_input square_input--full_width"\n      placeholder="{{ \'question.placeholder\' | i18n }}"\n      maxlength="80"\n    ></textarea>\n\n    <div class="u-small_top_margin">\n      <button\n        type="submit"\n        class="square_button"\n        ng-class="{\'square_button--waiting\': $ctrl.disable_saving_with}"\n        ng-disabled="$ctrl.disable_saving_with"\n      >{{ $ctrl.disable_saving_with || \'Save\' }}</button>\n      <span\n        ng-click="$ctrl.cancel_editing()"\n        class="square_button square_button--transparent square_button--gray"\n        ng-hide="$ctrl.disable_saving_with"\n      >Cancel</span>\n    </div>\n  </form>\n\n  <voters ng-if="$ctrl.show_voters" type="question" object="$ctrl.question"></voters>\n\n  <authentication-form\n    ng-if="$ctrl.prompt_auth"\n    on-cancel="$ctrl.prompt_auth = false"\n    variants="{display_in_context: true}"\n  ></authentication-form>\n\n  <answer\n    question="$ctrl.question"\n    answer="$ctrl.question.answer"\n    yields-api="$ctrl.answerApi = answerApi"\n    on-pending-event="$ctrl.on_pending_event({event: event, result: result})"\n    yields-iq="$ctrl.yields_iq({iq_api: iq_api})"\n    variants="{no_answer_prompt: $ctrl.variants.no_answer_prompt}"\n  ></answer>\n</li>\n\n<div\n  ng-class="{\n    \'u-margin_bottom\': $ctrl.ad_filled,\n    \'question\': $ctrl.ad_filled,\n    \'question--bottom_border\': $ctrl.ad_filled\n  }"\n>\n  <dfp-ad\n    ng-if="$ctrl.variants.monetized"\n    instance-id="question-{{ $ctrl.question.id }}"\n    name="desktop_song_q_and_a"\n    ad-classes="{\'dfp_unit--in_read u-top_margin\': $filled}"\n    on-filled="$ctrl.ad_filled = true"\n  ></dfp-ad>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("question_form.html",'<form\n  name="question_form"\n  ng-submit="$ctrl.save()"\n  ng-model-options="{updateOn: \'submit\'}"\n  submit-on-cmd-enter\n  dirtyable\n>\n  <div\n    ng-if="$ctrl.error.validation_errors.body.length"\n    class="form_message form_message--error text_label"\n  >Question {{:: $ctrl.error.validation_errors.body[0]}}</div>\n\n  <div\n    ng-if="$ctrl.thank_you && !$ctrl.saving"\n    class="form_message form_message--success text_label"\n  >Thanks! Your question has been posted.</div>\n\n  <div ng-class="{\'square_form-input_and_label--error\': $ctrl.error.validation_errors.body.length}">\n    <square-item-and-iq\n      show_pill="!$ctrl.showing_full_form"\n      event_type="asked_a_question"\n      variants="{full_width: true}"\n    >\n      <textarea\n        required\n        autosize-init-on-focus\n        placeholder="{{ \'question.placeholder\' | i18n }}"\n        ng-model="$ctrl.question.body"\n        class="square_input square_input--full_width square_input--single_line_height"\n        ng-focus="$ctrl.showing_full_form = true"\n        maxlength="80"\n      ></textarea>\n    </square-item-and-iq>\n  </div>\n\n  <div\n    ng-if="!$ctrl.user_signed_in"\n    ng-show="$ctrl.showing_full_form"\n  >\n    <input\n      required\n      ng-model="$ctrl.question.author_name"\n      class="square_input square_input--full_width u-small_vertical_margins"\n      placeholder="Your name"\n    />\n    <input\n      required\n      ng-model="$ctrl.question.author_email"\n      type="email"\n      class="square_input square_input--full_width"\n      placeholder="Your email address"\n    />\n  </div>\n\n  <div ng-show="$ctrl.showing_full_form" class="u-small_top_margin">\n    <square-item-and-iq event-type="asked_a_question">\n      <button\n        class="square_button"\n        ng-class="{\'square_button--waiting\': $ctrl.saving}"\n        ng-disabled="$ctrl.saving"\n        type="submit"\n      >{{ $ctrl.saving ? \'Submitting\' : \'Submit\' }}</button>\n    </square-item-and-iq>\n    <span\n      ng-click="$ctrl.showing_full_form = false"\n      class="square_button square_button--transparent square_button--gray"\n      ng-hide="$ctrl.saving"\n    >Cancel</span>\n  </div>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("question_list.html",'<ul>\n  <question\n    ng-repeat="question in $ctrl.questions | orderBy : $ctrl.sorting_predicates"\n    ng-if="!question._deleted"\n    question="question"\n    variants="{\n      \'bottom_border\': true,\n      \'hanging_actions\': true,\n      monetized: $ctrl.is_monetized(question)\n    }"\n    move-question="$ctrl.move_question(direction, question)"\n    featured="$ctrl.is_featured_question(question)"\n  ></question>\n</ul>\n\n<div class="u-bottom_margin" ng-if="$ctrl.has_next()">\n  <div ng-click="$ctrl.load_more()" class="square_button" ng-hide="$ctrl._loading">Show {{ $ctrl.questions.length > 0 ? \'More\' : \'Questions\' }} ({{ $ctrl.pending_question_count }})</div>\n  <div class="u-vertical_margins" ng-if="$ctrl._loading">\n    <placeholder-spinner></placeholder-spinner>\n  </div>\n</div>\n\n<div class="question">\n  <div class="annotation_label">Ask us a question about this {{ $ctrl.questionable._type | modelHumanName | lowercase }}</div>\n  <question-form\n    on-new-question="$ctrl.questions.push(question)"\n    questionable="$ctrl.questionable"\n  ></question-form>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("reasons_toggle.html",'<div class="reasons">\n  <div class="reasons-help_text">\n    <p>Help us improve this annotation</p>\n    <a href="{{ $ctrl.comment_reasons_help_url }}" target="_blank" class="reasons-help_text-link">Read our contributor guidelines</a>\n  </div>\n  <div class="reasons-columns">\n    <div\n      class="reasons-reason"\n      ng-repeat="reason in $ctrl.comment_reasons track by reason.slug"\n      ng-class="{\'reasons-reason--active\': $ctrl.selectedReason === reason || (!$ctrl.selectedReason && reason.slug === \'other\')}"\n      ng-click="$ctrl.change_reason(reason)"\n    >\n      <div\n        class="reasons-reason-icon reasons-reason-icon--{{ reason.slug }}"\n        title="{{ reason.handle }}"\n      ></div>\n      <div class="reasons-reason-title">{{ reason.handle }}</div>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("recent_signups_page.html",'<div class="recent_signups">\n  <div class="recent_signup-container u-vertical_margins">\n    <div>\n      <span>Recent Signups</span>\n      <span class="u-float_right">\n        <span\n            class="text_label text_label--pink text_label--x_small_text_size"\n            ng-click="$ctrl.filter_spam_state_dropdown_opened = !$ctrl.filter_spam_state_dropdown_opened"\n            click-outside="$ctrl.filter_spam_state_dropdown_opened = false">\n          {{\'sort.\' + $ctrl.filtering_spam_state | i18n}}\n          <svg class="inline_icon inline_icon--short inline_icon--up_1 inline_icon--pink" src="down_arrow.svg"></svg>\n        </span>\n        <div\n          class="tooltip tooltip--tiny tooltip--no_padding tooltip--dock_top_right"\n          ng-show="$ctrl.filter_spam_state_dropdown_opened"\n          ng-click="$ctrl.filter_spam_state_dropdown_opened = false">\n          <div class="tooltip-list_item" ng-repeat="spam_state in [\'unclassified_spam_state\', \'probably_spam\', \'probably_ham\', \'definitely_spam\', \'definitely_ham\']" ng-click="$ctrl.filter_by_spam_state(spam_state);" ng-show="$ctrl.filtering_spam_state !== spam_state">\n            {{:: \'sort.\' + spam_state | i18n }}\n          </div>\n        </div>\n      </span>\n    </div>\n  </div>\n\n  <div class="recent_signup-container">\n    <scrollable-data\n        src="$ctrl.recent_signups_scrollable_data"\n        repeat-with="user_spam_evaluation"\n        scroll-mechanism="infinite_scroll"\n    >\n      <div ng-if="!user_spam_evaluation.marked_spam_state" class="u-vertical_margins">\n        <div class="recent_signup-row">\n          <span class="recent_signup-column">\n            <a ng-href="{{:: user_spam_evaluation.user.url}}">{{:: user_spam_evaluation.user.login }}</a>\n            <br>\n            <div class="recent_signup-date">\n              <small>{{ user_spam_evaluation.signed_up_at | human_readable_datetime }}</small>\n            </div>\n          </span>\n          <span\n            class="recent_signup-column text_label"\n            ng-class="{\'text_label--green\': user_spam_evaluation.spam_state == \'probably_ham\', \'text_label--red\': user_spam_evaluation.spam_state == \'probably_spam\'}" tether-drop-target>\n            {{:: user_spam_evaluation.spam_state }}\n            <tether-drop show-on="hover" position="bottom center">\n              <div class="tooltip tooltip--tiny" stop-propagation="click">\n                <table>\n                  <tr\n                    ng-class="{\n                      \'spam_check_feature--bold\': spam_check_feature.value != 0,\n                      \'spam_check_feature--green\': spam_check_feature.outcome == \'probably_ham\',\n                      \'spam_check_feature--red\': spam_check_feature.outcome == \'probably_spam\'\n                    }"\n                    ng-repeat="spam_check_feature in user_spam_evaluation.spam_check_features | filter:{label: \'!!\'}"\n                    class="spam_check_feature"\n                  >\n                    <td>\n                      <span class="u-horizontal_margins">{{:: spam_check_feature.value }}</span>\n                    </td>\n                    <td>{{:: spam_check_feature.label }}</td>\n                  </tr>\n                </table>\n              </div>\n            </tether-drop>\n          </span>\n          <span class="recent_signup-column">\n            <button\n                ng-disabled="user_spam_evaluation.marking_spam_state"\n                ng-click="$ctrl.mark(\'ham\', user_spam_evaluation)"\n                ng-class="{\'square_button--waiting\': user_spam_evaluation.marking_spam_state}"\n                class="square_button square_button--green square_button--white_background"\n            >Mark {{:: user_spam_evaluation.user.login }} as ham</button>\n          </span>\n          <span class="recent_signup-column">\n            <button\n                ng-disabled="user_spam_evaluation.marking_spam_state"\n                ng-click="$ctrl.mark(\'spam\', user_spam_evaluation)"\n                ng-class="{\'square_button--waiting\': user_spam_evaluation.marking_spam_state}"\n                class="square_button square_button--red square_button--white_background"\n            >Mark {{:: user_spam_evaluation.user.login }} as spam</button>\n          </span>\n        </div>\n      </div>\n    </scrollable-data>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("recirculated_content.html",'<div class="u-xx_large_vertical_margins" ng-if="$ctrl.video_placement.videos.length || $ctrl.stories.length">\n  <div class="text_label text_label--gray">More on Genius</div>\n\n  <div ng-repeat="video in $ctrl.video_placement.videos track by $id(video)">\n    <a\n      ng-href="{{ video.url }}?utm_source=recirculated_content"\n      class="recirculated_content"\n      tracking="click"\n      tracking-event="Recirculated Content"\n      tracking-options="{\n        \'recirculated_content_story\': {target: \'video\', provider: video.provider, provider_id: video.provider_id, id: video.id},\n        \'recirculated_content_type\': \'video\'\n      }"\n    >\n      <div class="recirculated_content-image recirculated_content-image--with_play_button">\n        <img sized-src="video.poster_url" />\n        <svg\n          src="play.svg"\n          class="dark_background_play_button dark_background_play_button--small"\n        ></svg>\n      </div>\n      <div class="recirculated_content-info">\n        <div class="recirculated_content-title">\n          {{ video.title }}\n        </div>\n      </div>\n    </a>\n  </div>\n\n  <div ng-repeat="story in $ctrl.stories track by $id(story)">\n    <a\n      ng-href="{{story.behavior.attributes.url}}"\n      class="recirculated_content"\n      tracking="click"\n      tracking-event="Recirculated Content"\n      tracking-options="{\n        \'recirculated_content_story\': story.metadata,\n        \'recirculated_content_url\': story.behavior.attributes.url,\n        \'recirculated_content_type\': story.metadata.target\n      }"\n    >\n      <div class="recirculated_content-image" clipped-background-image="story.appearance.image_url"></div>\n      <div class="recirculated_content-info">\n        <div class="recirculated_content-title">{{ story.appearance.title }}</div>\n      </div>\n    </a>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("referent_editorial_indicator.html",'<div\n  ng-show="highlighted_fragment_id !== fragment_id"\n  ng-if="!referent._deleted && referent.pending_editorial_actions_count > 0"\n  class="referent_editorial_indicator numbered_indicator numbered_indicator--red"\n  data-count="{{ referent.pending_editorial_actions_count }}"\n></div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("referent_fragment_container.html",'<div class="referent_container referent_container--inverse"\n  ng-class="[\'referent_container--\' + referent.display_mode || \'yellow\']"\n>\n  <div ng-transclude="referentHeader"></div>\n\n  <collapsible-content\n    max-collapsed-height="80"\n    min-expansion-height="40"\n    text="show full {{ referent.annotatable.type === \'Song\' ? \'lyric\' : \'quote\' }}"\n    auto-expand="variants.show_full_referent"\n  >\n    <div ng-transclude="referentFragment"></div>\n  </collapsible-content>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("release_date.html",'<div\n  class="metadata_unit"\n  ng-class="{\'metadata_unit--table_row\': variants.table}"\n  ng-if="date_components"\n>\n  <span class="metadata_unit-label">{{\'song.metadata.release_date\' | i18n}}</span>\n  <span class="metadata_unit-info metadata_unit-info--text_only">{{ date_components | imprecise_date }}</span>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("relevant_videos.html",'<div\n  class="videos {{ $ctrl.container_classes }}"\n  ng-if="$ctrl.video_placement.videos.length > 0"\n>\n  <div\n    ng-if="$ctrl.variants.show_container_label"\n    class="text_label text_label--x_small_text_size u-half_bottom_margin"\n  >Recommended Video</div>\n\n  <div ng-class="{\'thumbnail_grid\': $ctrl.variants.two_across}">\n    <div\n      ng-repeat="video in $ctrl.video_placement.videos track by video.id"\n      ng-click="$ctrl.selected_video = video"\n      class="u-clickable"\n      ng-class="{\n        \'thumbnail_grid-grid_element thumbnail_grid-grid_element--half thumbnail_grid-grid_element--no_bottom_margin\': $ctrl.variants.two_across\n      }"\n    >\n      <div class="u-relative">\n        <img class="u-display_block" sized-src="video.poster_url" />\n        <svg\n          src="play.svg"\n          class="dark_background_play_button"\n        ></svg>\n      </div>\n      <h3 class="videos-title">\n        {{ video.short_title }}\n      </h3>\n    </div>\n  </div>\n</div>\n\n<videos-modal\n  ng-if="$ctrl.selected_video"\n  object="$ctrl.object"\n  initial-video="$ctrl.selected_video"\n  on-close="$ctrl.selected_video = null"\n  build-tracking-data="$ctrl.video_placement.tracking_data(video)"\n></videos-modal>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("role_icon.html",'<svg ng-if="hasChecky" class="checky" src="checky.svg"></svg>\n<span ng-if="!hasChecky" ng-switch="role" class="user_badge-role_icon user_badge-role_icon--{{ role }}">\n  <svg ng-switch-when="mediator" src="role_icon_mediator_square.svg"></svg>\n  <svg ng-switch-when="editor" src="role_icon_editor_square.svg"></svg>\n  <svg ng-switch-when="moderator" src="role_icon_moderator_diamond.svg"></svg>\n  <svg ng-switch-when="staff" src="role_icon_staff_circle.svg"></svg>\n  <svg ng-switch-when="contributor" src="role_icon_contributor_equilateral_triangle.svg"></svg>\n</span>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("role_selection_dialog.html",'<form name="song_form" ng-submit="submit()">\n  <div class="form_section_label text_label text_label--purple" ng-bind="prompt"></div>\n  <div class="square_form">\n    <div ng-repeat="role in available_roles | orderBy:role" class="square_form-input_and_label square_form-input_and_label--half_width">\n      <label class="square_checkbox square_form-standard_element_margin">\n        <input type="checkbox" stop-propagation="click" ng-model="backing[role]">\n        <div class="text_label">{{ \'role.types.\' + role | i18n:{count:2} }}</div>\n      </label>\n    </div>\n  </div>\n  <button type="submit" class="modal_window-save_button square_button square_button--purple u-small_vertical_margins" ng-class="{\'square_button--waiting\': saving}" ng-bind="saving ? \'Saving\' : \'Save\'"></button>\n  <div ng-if="error" ng-bind="error" class="form_message form_message--error"></div>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("scrollable_data.html",'<ng-transclude ng-transclude-slot="empty" ng-if="!$scrollable_data_ctrl.loading && $scrollable_data_ctrl.models.length === 0">\n  <div>{{ $scrollable_data_ctrl.empty_message || \'Nothing here.\' }}</div>\n</ng-transclude>\n\n<div ng-if="$scrollable_data_ctrl.models.length" class="{{$scrollable_data_ctrl.container_classes}}">\n  <transclude-injecting-local-scope\n    ng-repeat="scrollable_data_model in $scrollable_data_ctrl.models track by $id(scrollable_data_model)"\n    copy-value-to-scope="{key: $scrollable_data_ctrl.repeat_with, value: scrollable_data_model}"\n    class="u-display_block {{$scrollable_data_ctrl.item_classes}}"\n  ></transclude-injecting-local-scope>\n</div>\n\n<div ng-if="$scrollable_data_ctrl.has_next()" ng-switch="$scrollable_data_ctrl.scroll_mechanism">\n  <ng-transclude\n    ng-switch-when="button"\n    ng-transclude-slot="show_more"\n    ng-click="$scrollable_data_ctrl.load_next()"\n    ng-hide="$scrollable_data_ctrl.loading"\n  >\n    <div class="{{$scrollable_data_ctrl.button_classes || \'square_button\'}}">Show More</div>\n  </ng-transclude>\n\n  <div ng-switch-when="infinite_scroll">\n    <div\n      infinite-scroll="$scrollable_data_ctrl.load_next()"\n      infinite-scroll-disabled="!$scrollable_data_ctrl.has_next()"\n      yields-on-load-more="$scrollable_data_ctrl.more_loaded_callback = callback"\n    ></div>\n  </div>\n</div>\n\n<div class="u-vertical_margins" ng-if="$scrollable_data_ctrl.loading">\n  <placeholder-spinner></placeholder-spinner>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("search_form.html",'<form\n  action="/search"\n  method="get"\n  class="global_search global_search--{{ style }}"\n  ng-class="{\'global_search--high_z_index\': focused}"\n  click-outside="unfocus()"\n>\n  <kb shortcut="/" action="focus()"></kb>\n\n  <input\n    autocomplete="off"\n    ng-click="focus()"\n    ng-model="search_text"\n    ng-readonly="submitting"\n    name="q"\n    type="text"\n    class="quick_search autocomplete search quick_search--{{ style }}"\n    placeholder="Search lyrics &amp; more"\n    required\n  />\n\n  <div class="global_search-submit_button u-clickable" ng-click="submit_form()">\n    <svg src="magnifying_glass.svg" class="global_search-search_icon"></svg>\n  </div>\n\n  <div\n    ng-show="focused && search_text"\n    class="search_results_autocomplete_container"\n    links-navigable-by-arrow-keys="$ctrl.refresh_links = refresh"\n  >\n    <search-results\n      search-text="search_text"\n      sections="sections"\n      scroll-container-selector=".feed_dropdown"\n      on-filter="$ctrl.refresh_links()"\n      on-sections-change="$ctrl.refresh_links()"\n      on-load-next="$ctrl.refresh_links(false)"\n      on-animation-end="$ctrl.refresh_links()"\n    ></search-results>\n  </div>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("search_result_item.html",'<div\n  class="u-quarter_vertical_margins u-clickable"\n  ng-switch="$ctrl.hit.type"\n  tracking="click"\n  tracking-event="Search Result Tap"\n>\n  <mini-song-card\n    object="$ctrl.hit.result"\n    ng-switch-when="song"\n    search-highlights="$ctrl.hit.highlights"\n  ></mini-song-card>\n  <mini-artist-card object="$ctrl.hit.result" ng-switch-when="artist"></mini-artist-card>\n  <mini-user-card object="$ctrl.hit.result" ng-switch-when="user"></mini-user-card>\n  <mini-article-card object="$ctrl.hit.result" ng-switch-when="article"></mini-article-card>\n  <mini-video-card object="$ctrl.hit.result" ng-switch-when="video"></mini-article-card>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("search_result_items.html",'<div ng-repeat="hit in $ctrl.results | limitTo: $ctrl.limit_to">\n  <search-result-item hit="hit"></search-result-item>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("search_result_paginated_section.html",'<div class="text_label u-text_center u-large_vertical_margins">\n  All {{:: $ctrl.section_type }} results\n</div>\n\n<scrollable-data\n  src="$ctrl.infinite_scroll_data"\n  repeat-with="hit"\n  scroll-mechanism="infinite_scroll"\n  container-classes="{{$ctrl.section_type === \'album\' ? \'thumbnail_grid white_container\' : \'\'}}"\n  item-classes="{{$ctrl.section_type === \'album\' ? \'thumbnail_grid-grid_element thumbnail_grid-grid_element--third u-clickable\' : \'\'}}"\n>\n  <vertical-search-result-item\n    ng-if="$ctrl.section_type === \'album\'"\n    hit="hit"\n  ></vertical-search-result-item>\n\n  <search-result-item\n    ng-if="$ctrl.section_type !== \'album\'"\n    hit="hit"\n  ></search-result-item>\n\n  <empty>\n    <div class="u-horizontal_margins">\n      No search results found.\n    </div>\n  </empty>\n</scrollable-data>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("search_result_section.html",'<div ng-if="$ctrl.section.hits.length > 0">\n  <div\n    class="search_results_label text_label text_label--x_small_text_size text_label--gray"\n    ng-class="{\'search_results_label--no_horizontal_padding\': $ctrl.variants.no_horizontal_label_padding}"\n    ng-bind=":: \'search.sections.\' + $ctrl.section.type + \'.title\' | i18n"\n  ></div>\n  <div ng-switch="$ctrl.section.type === \'album\' || ($ctrl.section.type === \'top_hit\' && $ctrl.section.hits[0].index === \'album\')">\n    <vertical-search-result-items\n      ng-switch-when="true"\n      results="$ctrl.section.hits"\n      limit-to="$ctrl.limit_to"\n    ></vertical-search-result-items>\n\n    <search-result-items\n      ng-switch-default\n      results="$ctrl.section.hits"\n      limit-to="$ctrl.limit_to"\n    ></search-result-items>\n  </div>\n\n  <a\n    href=""\n    prevent-default-click\n    ng-if="$ctrl.section.type !== \'top_hit\'"\n    ng-click="$ctrl.on_show_more({section_type: $ctrl.section.type})"\n    class="full_width_button u-bottom_margin"\n    tracking="click"\n    tracking-event="Search More Results Page View"\n  >\n    Show more {{:: \'search.sections.\' + $ctrl.section.type + \'.title\' | i18n | lowercase }}\n    <svg class="inline_icon inline_icon--reading_size inline_icon--up_1" src="right_arrow.svg"></svg>\n  </a>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("search_results.html",'<div\n  class="feed_dropdown feed_dropdown--medium_width feed_dropdown--left_align feed_dropdown--darker_background"\n  click-outside="ctrl.filter = null"\n  stop-propagation="click"\n  scroll-only-this-element=""\n>\n  <div class="feed_dropdown-header feed_dropdown-header--bottom_border">\n    <span class="text_label">Search results</span>\n  </div>\n\n  <div class="u-xxx_large_vertical_margins" ng-if="!$ctrl.sections">\n    <placeholder-spinner></placeholder-spinner>\n  </div>\n\n  <div class="global_search-search_results">\n    <div ng-hide="$ctrl.filter" class="global_search-search_results-sections nganimate-slide_out_left nganimate-slide_from_left">\n      <search-result-section\n        ng-repeat="section in $ctrl.sections"\n        section="section"\n        limit-to="section.type === \'top_hit\' ? 1 : 3"\n        on-show-more="$ctrl.filter = section_type; $ctrl.save_scroll_and_scroll_top(); $ctrl.on_filter()"\n      ></search-result-section>\n\n      <div ng-if="$ctrl.sections && !$ctrl.has_results()" class="u-xxx_large_vertical_margins u-text_center">\n        No results\n      </div>\n    </div>\n\n    <div\n      ng-if="$ctrl.filter"\n      class="global_search-search_results-show_more nganimate-slide_out_right nganimate-slide_from_right"\n    >\n      <a\n        href=""\n        prevent-default-click\n        ng-click="$ctrl.filter = null; $ctrl.restore_scroll(); $ctrl.on_filter()"\n        class="global_search-search_results-back"\n      >\n        <svg class="inline_icon inline_icon--reading_size inline_icon--up_1" src="left_arrow.svg"></svg>\n        Back\n      </a>\n\n      <search-result-paginated-section\n        section-type="{{$ctrl.filter}}"\n        search-text="{{$ctrl.search_text}}"\n        on-load-next="$ctrl.on_load_next()"\n      ></search-result-paginated-section>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("search_results_page.html",'<div class="u-black_background">\n  <leaderboard-ad\n    name="desktop_search_leaderboard"\n    has-skin="false"\n  ></leaderboard-ad>\n</div>\n<div class="u-xx_large_vertical_margins">\n  <div ng-if="$ctrl.q" class="u-text_center">\n    <h2 class="search_results_page-header">“{{$ctrl.q}}”</h2>\n    <div class="text_label">All Results</div>\n  </div>\n\n  <div ng-if="!$ctrl.sections" class="placeholder placeholder--full_height">\n    <placeholder-spinner></placeholder-spinner>\n  </div>\n\n  <div ng-if="$ctrl.sections && $ctrl.has_results" class="column_layout">\n    <div class="column_layout-column_span column_layout-column_span--primary">\n      <div ng-repeat="section in $ctrl.sections">\n        <search-result-section\n          ng-if="[\'top_hit\', \'song\', \'lyric\'].includes(section.type)"\n          section="section"\n          on-show-more="$ctrl.filter = section_type"\n          limit-to="section.type === \'top_hit\' ? 1 : 5"\n          variants="{no_horizontal_label_padding: true}"\n        ></search-result-section>\n      </div>\n    </div>\n\n    <div class="column_layout-column_span column_layout-column_span--secondary">\n      <div ng-repeat="section in $ctrl.sections">\n        <search-result-section\n          ng-if="![\'top_hit\', \'song\', \'lyric\'].includes(section.type)"\n          section="section"\n          on-show-more="$ctrl.filter = section_type"\n          limit-to="3"\n          variants="{no_horizontal_label_padding: true}"\n        ></search-result-section>\n      </div>\n      <dfp-ad name="desktop_search_sidebar"></dfp-ad>\n    </div>\n\n    <modal-window\n      ng-if="$ctrl.filter"\n      on-close="$ctrl.filter = null"\n      variants="{narrow_width: true, white_background: true}"\n    >\n      <search-result-paginated-section\n        section-type="{{$ctrl.filter}}"\n        search-text="{{$ctrl.q}}"\n      ></search-result-paginated-section>\n    </modal-window>\n  </div>\n\n  <div ng-if="$ctrl.sections && !$ctrl.has_results" class="u-xxx_large_vertical_margins u-text_center">\n    No results\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("select_dropdown.html",'<span\n  class="text_label"\n  ng-class="{\n    \'text_label--pink\': !$ctrl.variants.gray,\n    \'text_label--gray\': $ctrl.variants.gray,\n    \'text_label--x_small_text_size\': $ctrl.variants.small,\n    \'u-clickable\': $ctrl.is_clickable()\n  }"\n  ng-click="$ctrl.dropdown_opened = !$ctrl.dropdown_opened"\n  ng-click-disabled="!$ctrl.is_clickable()"\n  click-outside="$ctrl.dropdown_opened = false"\n>\n  {{ $ctrl.selected.i18n_key | i18n:{defaultValue: $ctrl.selected.label} }}\n\n  <svg\n    class="inline_icon inline_icon--short inline_icon--up_1"\n    ng-class="{\'inline_icon--pink\': !$ctrl.variants.gray, \'inline_icon--gray\': $ctrl.variants.gray}"\n    src="down_arrow.svg"\n    ng-if="$ctrl.is_clickable()"\n  ></svg>\n</span>\n<div\n  class="tooltip tooltip--tiny tooltip--no_padding"\n  ng-show="$ctrl.dropdown_opened"\n  ng-click="$ctrl.dropdown_opened = false"\n  ng-class="{\n    \'tooltip--dock_top_left\': $ctrl.variants.left_aligned,\n    \'tooltip--dock_top_right\': $ctrl.variants.right_aligned\n  }"\n>\n  <div\n      ng-repeat="option in $ctrl.options"\n      class="tooltip-list_item"\n      ng-click="$ctrl.selected = option; $ctrl.on_select({ selection: option })"\n      ng-show="$ctrl.selected !== option"\n  >\n    {{ option.i18n_key | i18n:{defaultValue: option.label} }}\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("share_buttons.html",'<div class="share_buttons u-vertical_margins">\n  <facebook-share-button url="song.share_url"></facebook-share-button>\n  <twitter-share-button url="song.share_url" message="song.twitter_share_message_without_url"></twitter-share-button>\n  <span ng-cloak>\n    <pyong-button\n      type="song"\n      object="song"\n      on-unauthorized="ctrl.prompt_auth = true"\n    ></pyong-button>\n    <follow-button type="song" object="song" on-unauthorized="ctrl.prompt_auth = true"></follow-button>\n    <span class="square_button" ng-click="ctrl.showing_ellipsis_menu = !ctrl.showing_ellipsis_menu" ng-class="{\'square_button--active\': ctrl.showing_ellipsis_menu}">Embed</span>\n\n    <modal-window ng-if="ctrl.prompt_auth" on-close="ctrl.prompt_auth = false" variants="{narrow_width: true}">\n      <authentication-form></authentication-form>\n    </modal-window>\n  </span>\n</div>\n<div class="ellipsis_menu gray_container" ng-if="ctrl.showing_ellipsis_menu" ng-cloak>\n  <div class="ellipsis_menu-row">\n    <label for="share_url_{{ song.id }}" class="text_label ellipsis_menu-label">Share URL:</label>\n    <input id="share_url_{{ song.id }}" class="square_input ellipsis_menu-input" value="{{ song.share_url }}" readonly select-all-on-click />\n    <div class="square_button" copy-to-clipboard="song.share_url" text-to-show-after-copy="Copied!">Copy</div>\n  </div>\n  <div class="ellipsis_menu-row">\n    <label for="embed_content_{{ song.id }}" class="text_label ellipsis_menu-label">Embed on your website:</label>\n    <input id="embed_content_{{ song.id }}" class="square_input ellipsis_menu-input" value="{{ song.embed_content }}" readonly select-all-on-click />\n    <div class="square_button" copy-to-clipboard="song.embed_content" text-to-show-after-copy="Copied!">Copy</div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("simple_datetime_input.html",'<div class="square_select_group">\n  <div class="square_select_group-single">\n    <select ng-options="month.number as month.name for month in months" ng-model="datetime.month"></select>\n  </div>\n  <div class="square_select_group-single">\n    <select ng-options="day as day for day in days" ng-model="datetime.day"></select>\n  </div>\n  <div class="square_select_group-single">\n    <select ng-options="year as year for year in years" ng-model="datetime.year"></select>\n  </div>\n  <span class="square_select_group-separator u-quarter_left_margin">—</span>\n  <div class="square_select_group-single">\n    <select ng-options="hour as hour for hour in hours" ng-model="datetime.hour"></select>\n  </div>\n  <span class="square_select_group-separator u-quarter_left_margin">:</span>\n  <div class="square_select_group-single">\n    <select ng-options="minute as minute for minute in minutes" ng-model="datetime.minute"></select>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("skin_ad.html",'<div\n  class="skin"\n  ng-class="{\'skin--active\': $ctrl.filled}"\n  ng-style="{background: $ctrl.background_color}"\n>\n  <div class="skin-creative_container">\n    <dfp-ad\n      name="{{$ctrl.name}}"\n      on-filled="$ctrl.on_filled(render_event, custom_values)"\n    ></dfp-ad>\n    <div\n      class="skin-gradient"\n      ng-style="{background: $ctrl.gradient_background()}"\n      ng-if="$ctrl.filled"\n    ></div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_activity.html",'<div class="song_activity-title">Contributions & Activity</div>\n<div class="text_label u-bottom_margin">Annotation stats</div>\n<span class="annotation_stat">\n  <span class="annotation_stat-pill annotation_stat-pill--green">\n    <svg class="inline_icon inline_icon--up_1" src="checkmark.svg"></svg>\n    {{ song.stats.accepted_annotations }}\n  </span>\n  Accepted {{ \'annotation\' | i18n:{count:song.stats.accepted_annotations} }}\n</span>\n<span class="annotation_stat">\n  <span class="annotation_stat-pill annotation_stat-pill--red">\n    <svg class="inline_icon inline_icon--up_1" src="x.svg"></svg>\n    {{ song.stats.unreviewed_annotations }}\n  </span>\n  Unreviewed {{ \'annotation\' | i18n:{count:song.stats.unreviewed_annotations} }}\n</span>\n<span class="annotation_stat">\n  <span class="annotation_stat-pill">\n    <svg class="checky" src="checky.svg"></svg>\n    {{ song.stats.verified_annotations }}\n  </span>\n  Verified {{ \'annotation\' | i18n:{count:song.stats.verified_annotations} }}\n</span>\n<div ng-if="song.stats.transcribers" class="u-xx_large_vertical_margins">\n  <div class="text_label">Transcribed by {{ \'terms.scholar\' | i18n:{count:song.stats.transcribers} }}</div>\n  <leaderboard collection="contributors.transcribers"></leaderboard>\n  <span class="leaderboard-load_more" ng-show="ctrl.loading_contributors">Loading…</span>\n</div>\n<div ng-if="song.stats.iq_earners" class="u-xx_large_vertical_margins">\n  <div class="text_label">Annotated by {{ \'terms.scholar\' | i18n:{count:song.stats.iq_earners} }}</div>\n  <leaderboard collection="contributors.iq_earners"></leaderboard>\n  <a class="leaderboard-load_more" ng-click="ctrl.load_more_iq_earners()" ng-show="has_more_iq_earners && !ctrl.loading_iq_earners">Load more {{ \'terms.contributor\' | i18n:{count:2} }}</a>\n  <span class="leaderboard-load_more" ng-show="ctrl.loading_iq_earners">Loading…</span>\n</div>\n<div class="song_activity-activity_stream">\n  <div class="text_label">Recent Activity</div>\n\n  <div infinite-scroll="ctrl.load_next_page()" infinite-scroll-disabled="!ctrl.should_paginate()">\n    <div ng-repeat="line_item in line_items track by line_item.event_ids">\n      <inbox-line-item object=":: line_item" eager-load-details="$first && opened" variants="::{active_display:true}"></inbox-line-item>\n    </div>\n    <placeholder-spinner ng-if="!done_loading" placeholder-classes="feed_dropdown-item"></placeholder-spinner>\n\n    <div ng-if="done_loading && !line_items.length" class="u-vertical_margins u-horizontal_margins">\n      No activity\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_admin_menu.html",'<div\n  ng-show="has_admin_items"\n  class="square_button square_button--transparent u-half_horizontal_margins"\n  tether-drop-target\n>\n  Admin\n  <svg src="down_arrow.svg" class="inline_icon inline_icon--short inline_icon--up_1"></svg>\n  <tether-drop\n    show-on="click"\n    position="bottom left"\n    yields-api="$ctrl.tetherApi = tetherApi"\n  >\n    <div class="tooltip tooltip--no_padding">\n      <div\n        ng-repeat="action in actions"\n        ng-if="can_perform(action)"\n        class="tooltip-list_item"\n        ng-click="attempt_admin_action(action); $ctrl.tetherApi.hide()"\n      >\n        <svg ng-if="action === \'unpublish\'" class="inline_icon inline_icon--reading_size inline_icon--up_1 tooltip-list_item-icon" src="unlock.svg"></svg>\n        <svg ng-if="action === \'publish\'" class="inline_icon tooltip-list_item-icon" src="lock.svg"></svg>\n        <svg ng-if="action === \'hide\'" class="inline_icon tooltip-list_item-icon" src="eye_cross.svg"></svg>\n        <svg ng-if="action === \'unhide\'" class="inline_icon tooltip-list_item-icon" src="eye.svg"></svg>\n        <svg ng-if="action === \'destroy\'" class="inline_icon tooltip-list_item-icon" src="x.svg"></svg>\n        <svg ng-if="action === \'edit_spotify_annotations_for\'" class="inline_icon tooltip-list_item-icon" src="spotify.svg"></svg>\n        {{ \'song.actions.\' + action | i18n }}\n      </div>\n      <div\n        ng-if="can_perform(\'see_short_id\')"\n        class="tooltip-list_item"\n        copy-to-clipboard="\'song:{{song.id}}\'"\n        text-to-show-after-copy="Copied to clipboard"\n      >\n        Copy short ID (<code>song:{{song.id}}</code>)\n      </div>\n      <div\n        ng-if="can_perform(\'see_short_id\')"\n        class="tooltip-list_item"\n        copy-to-clipboard="\'artist:{{song.primary_artist.id}}\'"\n        text-to-show-after-copy="Copied to clipboard"\n      >\n        Copy artist ID (<code>artist:{{song.primary_artist.id}}</code>)\n      </div>\n      <div class="tooltip-list_item" ng-if="can_perform(\'manage_chart_item\')">\n        <manage-chart-item type="\'songs\'" id="song.id"></manage-chart-item>\n      </div>\n    </div>\n  </tether-drop>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_album.html",'<div class="u-xx_large_vertical_margins">\n  <div class="song_album u-bottom_margin">\n    <a\n      ng-href="{{:: album.url}}"\n      title="{{:: album.name}}"\n      class="song_album-album_art"\n    >\n      <img sized-src=":: album.cover_art_url">\n    </a>\n\n    <div class="song_album-info">\n      <a\n        ng-href="{{:: album.url}}"\n        title="{{:: album.name}}"\n        class="song_album-info-title"\n      >\n      {{:: album.name}}\n      <span class="song_album-info-release_year" ng-if=":: album.release_date_components.year">({{:: album.release_date_components.year }})</span>\n      </a>\n      <a\n        ng-href="{{:: album.artist.url}}"\n        title="{{:: album.name}}"\n        class="song_album-info-artist"\n      >{{:: album.artist.name}}</a>\n    </div>\n  </div>\n\n  <div\n    class="track_listing"\n    ng-class="{\'track_listing--columns\': tracks.length > 7}"\n  >\n    <div\n      ng-repeat="track in tracks track by $index"\n      ng-switch="track.song.id == current_song.id"\n    >\n      <span\n        ng-switch-when="true"\n        class="track_listing-track track_listing-track--current"\n      >\n        <span\n          ng-if=":: track.number"\n          class="track_listing-track_number"\n        >{{:: track.number}}.&nbsp;&nbsp;</span>\n        {{:: track.song.title}}&nbsp;\n        <span ng-if="track.song.lyrics_state === \'unreleased\'">{{:: \'song.lyrics_state.unreleased.indicator\' | i18n }}</span>\n        <span ng-if="track.song.lyrics_state === \'incomplete\'">{{:: \'song.lyrics_state.incomplete.indicator\' | i18n }}</span>\n      </span>\n\n      <div class="track_listing-track" ng-switch-when="false">\n        <span\n          ng-if=":: track.number"\n          class="track_listing-track_number"\n        >{{:: track.number}}.&nbsp;&nbsp;</span>\n        <a\n          ng-if=":: track.song.lyrics_state !== \'incomplete\'"\n          ng-href="{{:: track.song.url}}"\n          title="{{:: track.song.title}}"\n        >\n          {{:: track.song.title}}\n          <span ng-if="track.song.lyrics_state === \'unreleased\'">{{:: \'song.lyrics_state.unreleased.indicator\' | i18n }}</span>\n        </a>\n        <span ng-if=":: track.song.lyrics_state === \'incomplete\'">\n          {{:: track.song.title}}\n          <span>{{:: \'song.lyrics_state.incomplete.indicator\' | i18n }}</span>\n        </span>\n      </div>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_albums.html",'<song-album\n  ng-if="$ctrl.primary_album()"\n  album="$ctrl.primary_album()"\n  tracks="$ctrl.primary_album_tracks"\n  current-song="$ctrl.song"\n></song-album>\n\n<song-album\n  ng-repeat="album in ($ctrl.other_albums() | drop:-$ctrl.hidden_album_count()) track by album.id"\n  album="album"\n></song-album>\n\n<a\n  href\n  class="text_label text_label--button text_label--purple"\n  ng-if="$ctrl.hidden_album_count()"\n  ng-click="$ctrl.show_all()"\n>{{ \'songs.hidden_album_count\' | i18n:{count:$ctrl.hidden_album_count()} }}</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_attribution_visualization.html",'<div class="u-vertical_margins" ng-if="!$ctrl.words">\n  <placeholder-spinner></placeholder-spinner>\n</div>\n\n<div ng-if="$ctrl.words" class="u-half_vertical_margins">\n  <div class="u-half_vertical_margins">\n    <span class="text_label">Version {{$ctrl.current_time_index + 1}} / {{$ctrl.change_times.length}} ({{$ctrl.change_times[$ctrl.current_time_index] * 1000 | date:"h:mma MM/dd/yyyy"}})</span>\n  </div>\n  <button class="square_button" ng-click="$ctrl.adjust_current_time_index(-1)">&larr; Back</button>\n  <button class="square_button" ng-click="$ctrl.adjust_current_time_index(1)">Forward &rarr; </button>\n</div>\n\n<span tether-drop-target ng-repeat="word in $ctrl.words_to_show()">\n  <span ng-style="{backgroundColor: $ctrl.color(word)}">{{ word.word }}</span>\n  <tether-drop ng-if="word.user_id" show-on="hover">\n    <user-tooltip user="$ctrl.users[word.user_id]"></user-tooltip>\n  </tether-drop>\n</span>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_metadata.html",'<div class="song_metadata">\n  <div>\n    <div class="metadata_with_icon" ng-class="{\'metadata_with_icon--hot\': song.stats.concurrents + 1 > 50}">\n      <span class="metadata_with_icon-icon_wrapper">\n        <svg ng-if="song.stats.concurrents + 1 <= 50" class="metadata_with_icon-icon" src="clock.svg"></svg>\n      </span>\n      <span class="metadata_with_icon-icon_wrapper">\n        <svg ng-if="song.stats.concurrents + 1 > 50" class="metadata_with_icon-icon" src="fire.svg"></svg>\n      </span>\n      {{ song.stats.concurrents + 1 | number }} <span class="text_label text_label--x_small_text_size">viewing</span>\n    </div>\n    <div class="metadata_with_icon metadata_with_icon-views" ng-if="song.stats.pageviews">\n      <span class="metadata_with_icon-icon_wrapper">\n        <svg class="metadata_with_icon-icon" src="eye.svg"></svg>\n      </span>\n      {{ song.stats.pageviews | number }} <span class="text_label text_label--x_small_text_size">views</span>\n    </div>\n  </div>\n  <div>\n    <div class="metadata_with_icon metadata_with_icon-contributors u-clickable" ng-click="ctrl.showing_all_metadata = true">\n      <span class="metadata_with_icon-icon_wrapper">\n        <svg class="metadata_with_icon-icon" src="people.svg"></svg>\n      </span>\n      <span class="metadata_with_icon-link">\n        {{ song.stats.contributors | number }}\n        <span class="text_label text_label--x_small_text_size">\n          {{ \'terms.contributor\' | i18n:{count:song.stats.contributors} }}\n        </span>\n      </span>\n    </div>\n    <div\n      class="metadata_with_icon metadata_with_icon-contributors u-clickable"\n      ng-click="ctrl.show_attribution_visualization = true"\n      ng-if="ctrl.has_permission(\'view_attribution_visualization\')"\n    >\n      <span class="metadata_with_icon-icon_wrapper">\n        <svg class="metadata_with_icon-icon" src="pencil.svg"></svg>\n      </span>\n      <span class="metadata_with_icon-link">\n        <span class="text_label text_label--x_small_text_size">Attribution Visualization</span>\n      </span>\n    </div>\n    <div class="metadata_with_icon" ng-if="song.tags.length">\n      <span class="metadata_with_icon-icon_wrapper">\n        <svg class="metadata_with_icon-icon" src="tag.svg"></svg>\n      </span>\n      <div class="metadata_with_icon-tags">\n        <span ng-repeat="tag in song.tags track by tag.id">\n          <a\n            class="metadata_with_icon-link"\n            ng-href="{{ tag.url }}"\n          ><span ng-class="{\'metadata_with_icon-tags-primary_tag\': tag.primary}">{{ tag.name }}</span></a>{{ $last ? \'\' : \', \' }}\n        </span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<modal-window ng-if="ctrl.showing_all_metadata" on-close="ctrl.showing_all_metadata = false">\n  <song-activity song="song"></song-activity>\n</modal-window>\n\n<modal-window ng-if="ctrl.show_attribution_visualization" on-close="ctrl.show_attribution_visualization = false">\n  <song-attribution-visualization id="song.id"></attribution-visualization>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_metadata_form.html",'<form name="ctrl.song_form" ng-submit="ctrl.submit()" ng-model-options="{updateOn: \'submit\'}" submit-on-cmd-enter dirtyable yields-is-dirty="yields_is_dirty({is_dirty: is_dirty})">\n  <div class="u-vertical_margins form_message form_message--error" ng-if="ctrl.editable_metadata_stale" ng-bind=":: \'songs.editing_stale\' | i18n"></div>\n  <div ng-if="ctrl.error" class="form_message form_message--error text_label">\n    {{ ctrl.error.message }}\n    <span ng-repeat="base_error in ctrl.error.validation_errors.base">\n      <br>\n      {{ base_error }}\n    </span>\n  </div>\n  <expandable-accordion-section label="{{\'song.metadata.title_and_artists\' | i18n}}" shortcut="shift+a" expanded="expanded_sections.title_and_artists">\n    <div class="square_form">\n      <metadata-input-and-label label="{{\'song.metadata.title\' | i18n}}" full="true" errors="ctrl.error.validation_errors.title" is-disabled="!ctrl.has_permission(\'rename\')">\n        <input ng-disabled="!ctrl.has_permission(\'rename\')" name="title" ng-model="song.title" placeholder="Song title" class="square_input square_form-standard_element_margin">\n      </metadata-input-and-label>\n\n      <metadata-input-and-label label="{{\'song.metadata.primary_artist\' | i18n}}" errors="ctrl.error.validation_errors.primary_artist" is-disabled="!ctrl.has_permission(\'rename\')">\n        <input\n            ng-model="song.primary_artist"\n            autocomplete-with="artist"\n            class="square_input square_form-standard_element_margin"\n            placeholder="Primary artist on this song"\n            ng-value="song.primary_artist.name"\n            display-field="name"\n            ng-disabled="!ctrl.has_permission(\'rename\')">\n        </input>\n      </metadata-input-and-label>\n\n      <metadata-input-and-label label="{{\'song.metadata.writer_artists\' | i18n}}" errors="ctrl.error.validation_errors.writer_artists" is-disabled="!ctrl.has_permission(\'edit\')">\n        <autocomplete-tags-input\n          ng-disabled="!ctrl.has_permission(\'edit\')"\n          bind-to="song.writer_artists"\n          name="writer_artists"\n          autocomplete-model="artist"\n          placeholder="e.g. Pharrell Williams, Sean Garrett"\n          input-classes="tags_input square_input square_form-standard_element_margin">\n        </autocomplete-tags-input>\n      </metadata-input-and-label>\n\n      <metadata-input-and-label label="{{\'song.metadata.featured_artists\' | i18n}}" errors="ctrl.error.validation_errors.featured_artists" is-disabled="!ctrl.has_permission(\'rename\')">\n        <autocomplete-tags-input\n          ng-disabled="!ctrl.has_permission(\'rename\')"\n          bind-to="song.featured_artists"\n          name="featured_artists"\n          autocomplete-model="artist"\n          placeholder="e.g. JAY Z, Lil Wayne, T.I."\n          input-classes="tags_input square_input square_form-standard_element_margin">\n        </autocomplete-tags-input>\n      </metadata-input-and-label>\n\n      <metadata-input-and-label label="{{\'song.metadata.producer_artists\' | i18n}}" errors="ctrl.error.validation_errors.producer_artists" is-disabled="!ctrl.has_permission(\'edit\')">\n        <autocomplete-tags-input\n          ng-disabled="!ctrl.has_permission(\'edit\')"\n          bind-to="song.producer_artists"\n          name="producer_artists"\n          autocomplete-model="artist"\n          placeholder="e.g. J Dilla, No I.D."\n          input-classes="tags_input square_input square_form-standard_element_margin">\n        </autocomplete-tags-input>\n      </metadata-input-and-label>\n\n      <metadata-custom-performance-role-input\n        custom-performance-roles="song.custom_performances"\n        role-field-placeholder="e.g. mastered by, arranged by"\n        artist-field-placeholder="e.g. Bob Katz, Van Dyke Parks"\n        is-disabled="!ctrl.has_permission(\'edit\')"\n        validation-errors="ctrl.error.validation_errors"\n        class="u-width_100"\n      ></metadata-custom-performance-role-input>\n    </div>\n  </expandable-accordion-section>\n\n  <expandable-accordion-section label="{{\'song.metadata.audio_video_and_images\' | i18n}}" shortcut="shift+m" expanded="expanded_sections.audio_video_and_images">\n    <div class="square_form">\n      <metadata-input-and-label label="{{\'song.metadata.spotify_uuid\' | i18n}}"  errors="ctrl.error.validation_errors.spotify_uuid" ng-if="ctrl.has_permission(\'edit_spotify_details\')">\n        <input name="spotify_uuid" ng-model="song.spotify_uuid" class="square_input square_form-standard_element_margin">\n      </metadata-input-and-label>\n\n      <metadata-input-and-label errors="ctrl.error.validation_errors.soundcloud_url" label="{{\'song.metadata.soundcloud_url\' | i18n}}" is-disabled="!ctrl.has_permission(\'edit_soundcloud_url\')">\n        <input ng-disabled="!ctrl.has_permission(\'edit_soundcloud_url\')" name="soundcloud_url" ng-model="song.soundcloud_url" class="square_input square_form-standard_element_margin">\n      </metadata-input-and-label>\n\n      <metadata-input-and-label label="{{\'song.metadata.youtube_url\' | i18n}}" errors="ctrl.error.validation_errors.youtube_url" class="square_form-input_and_label--combo_large" is-disabled="!ctrl.has_permission(\'edit_youtube_url\')">\n        <input ng-disabled="!ctrl.has_permission(\'edit_youtube_url\')" name="youtube_url" ng-model="song.youtube_url" class="square_input square_form-standard_element_margin">\n      </metadata-input-and-label>\n\n      <metadata-input-and-label label="{{\'song.metadata.youtube_start\' | i18n}}" class="square_form-input_and_label--combo_small" is-disabled="!ctrl.has_permission(\'edit_youtube_url\')">\n        <input ng-disabled="!ctrl.has_permission(\'edit_youtube_url\') || !song.youtube_url" name="youtube_start" placeholder="00:00" ng-model="song.youtube_start" class="square_input square_form-standard_element_margin">\n      </metadata-input-and-label>\n\n      <metadata-input-and-label errors="ctrl.error.validation_errors.custom_song_art_image_url" label="{{\'song.metadata.custom_song_art_image_url\' | i18n}}" is-disabled="!ctrl.has_permission(\'edit\')">\n        <input ng-disabled="!ctrl.has_permission(\'edit\')" name="custom_song_art_image_url" ng-model="song.custom_song_art_image_url" class="square_input square_form-standard_element_margin" proxied-image>\n      </metadata-input-and-label>\n\n      <div class="square_form-input_and_label square_form-input_and_label--bottom_aligned square_form-input_and_label--half_width" ng-click="song.featured_video = !song.featured_video">\n        <div class="square_checkbox square_form-standard_element_margin">\n          <input\n            mousetrap-input\n            ng-disabled="!ctrl.has_permission(\'toggle_featured_video\')"\n            type="checkbox"\n            stop-propagation="click"\n            ng-click="song.featured_video = !song.featured_video"\n            name="featured_video"\n            ng-model="song.featured_video"\n          >\n          <div class="text_label">{{\'song.metadata.featured_video\' | i18n}}</div>\n        </div>\n      </div>\n\n      <metadata-input-and-label errors="ctrl.error.validation_errors.custom_header_image_url" label="{{\'song.metadata.custom_header_image_url\' | i18n}}" is-disabled="!ctrl.has_permission(\'edit\')">\n        <input ng-disabled="!ctrl.has_permission(\'edit\')" name="custom_header_image_url" ng-model="song.custom_header_image_url" class="square_input square_form-standard_element_margin" proxied-image>\n      </metadata-input-and-label>\n    </div>\n  </expandable-accordion-section>\n\n  <expandable-accordion-section label="{{\'song.metadata.album_date_and_tags\' | i18n}}" shortcut="shift+t" expanded="expanded_sections.album_date_and_tags">\n    <div class="square_form">\n      <metadata-input-and-label label="{{\'song.metadata.albums\' | i18n}}" is-disabled="!ctrl.has_permission(\'edit_album_appearances\')">\n        <autocomplete-tags-input\n          ng-disabled="!ctrl.has_permission(\'edit_album_appearances\')"\n          bind-to="song.albums"\n          name="albums"\n          autocomplete-model="album"\n          autocomplete-options="{artist_id: song.primary_artist.id, only_editable: true}"\n          input-classes="tags_input square_input square_form-standard_element_margin">\n        </autocomplete-tags-input>\n      </metadata-input-and-label>\n\n      <metadata-input-and-label label="{{\'song.metadata.release_date\' | i18n}}" errors="ctrl.error.validation_errors.release_date" is-disabled="!ctrl.has_permission(\'edit\')">\n        <component-date-input ng-model="song.release_date_components" disabled="!ctrl.has_permission(\'edit\')"></component-date-input>\n      </metadata-input-and-label>\n\n      <metadata-input-and-label label="{{\'song.metadata.recording_location\' | i18n}}" is-disabled="!ctrl.has_permission(\'edit\')">\n        <input ng-disabled="!ctrl.has_permission(\'edit\')" name="recording_location" ng-model="song.recording_location" placeholder="Where this song was recorded" class="square_input square_form-standard_element_margin">\n      </metadata-input-and-label>\n\n      <metadata-input-and-label label="{{\'song.metadata.primary_tag\' | i18n}}" is-disabled="!ctrl.has_permission(\'edit_tags\')">\n        <div class="square_select_group">\n          <div class="square_select_group-single u-width_100">\n            <select ng-disabled="!ctrl.has_permission(\'edit_tags\')" ng-options="tag as tag.name for tag in available_primary_tags" ng-model="song.primary_tag" class="select_input"></select>\n          </div>\n        </div>\n      </metadata-input-and-label>\n\n      <metadata-input-and-label label="{{\'song.metadata.tags\' | i18n}}" is-disabled="!ctrl.has_permission(\'edit_tags\')">\n        <autocomplete-tags-input\n          ng-disabled="!ctrl.has_permission(\'edit_tags\')"\n          bind-to="song.tags"\n          name="tags"\n          autocomplete-model="tag"\n          require-existing="!ctrl.has_permission(\'create_tag\')"\n          input-classes="tags_input square_input square_form-standard_element_margin">\n        </autocomplete-tags-input>\n      </metadata-input-and-label>\n    </div>\n  </expandable-accordion-section>\n\n  <expandable-accordion-section label="{{\'song.metadata.song_relationships\' | i18n}}" shortcut="shift+r" expanded="expanded_sections.song_relationships">\n    <div class="square_form">\n      <song-metadata-song-relationships-input\n          song-relationships="song.song_relationships"\n          is-disabled="!ctrl.has_permission(\'edit\')"\n          class="u-width_100"\n      ></song-metadata-song-relationships-input>\n    </div>\n  </expandable-accordion-section>\n\n  <button type="submit" class="modal_window-save_button square_button square_button--purple u-small_vertical_margins">Save</button>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_metadata_preview.html",'<div class="header_with_cover_art-metadata_preview u-half_top_margin">\n  <div class="header_with_cover_art-metadata_preview-unit" title="{{ song.stats.concurrents + 1 | number}} viewing">\n    <svg ng-if="song.stats.concurrents + 1 <= 50" class="inline_icon inline_icon--gray inline_icon--small_reading_size inline_icon--up_1" src="clock.svg"></svg>\n    <svg ng-if="song.stats.concurrents + 1 > 50" class="inline_icon inline_icon--pink inline_icon--reading_size inline_icon--up_2" src="fire.svg"></svg>\n    <span\n      class="text_label text_label--x_small_text_size"\n      ng-class="{\n        \'text_label--gray\': song.stats.concurrents + 1 <= 50,\n        \'text_label--pink\': song.stats.concurrents + 1 > 50\n      }"\n    >{{ song.stats.concurrents + 1 | number }}</span>\n  </div>\n  <div class="header_with_cover_art-metadata_preview-unit" ng-if="song.stats.pageviews" title="{{ song.stats.pageviews | number }} views">\n    <svg class="inline_icon inline_icon--gray" src="eye.svg"></svg>\n    <span class="text_label text_label--gray text_label--x_small_text_size">{{ song.stats.pageviews | abbreviateBigNumber }}</span>\n  </div>\n  <div\n    class="u-clickable header_with_cover_art-metadata_preview-unit"\n    ng-click="ctrl.showing_all_metadata = true"\n    title="{{ song.stats.contributors | number }} {{ \'terms.contributor\' | i18n:{count:song.stats.contributors} }}"\n  >\n    <svg class="inline_icon inline_icon--gray" src="people.svg"></svg>\n    <span class="text_label text_label--gray text_label--x_small_text_size text_label--button">\n      {{ song.stats.contributors | number }}\n    </span>\n  </div>\n</div>\n\n<modal-window ng-if="ctrl.showing_all_metadata" on-close="ctrl.showing_all_metadata = false">\n  <song-activity song="song"></song-activity>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_metadata_song_relationships_input.html",'<div ng-repeat="song_relationship in $ctrl.visible_relationships track by song_relationship.type" class="square_form-sub_section">\n  <div class="text_label text_label--link" ng-click="$ctrl.dropdown_opened = song_relationship.type === $ctrl.dropdown_opened ? undefined : song_relationship.type" click-outside="$ctrl.dropdown_opened = undefined" suppress-click-outside-if-handled prevent-default-click>\n    {{ \'song_relationship.title.\' + song_relationship.type | i18n }}\n    <svg ng-if="!$ctrl.isDisabled" class="inline_icon inline_icon--short inline_icon--up_1" src="down_arrow.svg" viewBox="0 0 34 15"></svg>\n  </div>\n  <div class="tooltip tooltip--tiny tooltip--no_padding tooltip--dock_top_left" ng-if="!$ctrl.isDisabled && song_relationship.type === $ctrl.dropdown_opened" ng-click="$ctrl.dropdown_opened = undefined">\n    <div class="tooltip-list_item" ng-repeat="available_relationship in $ctrl.available_relationships()" value="{{ available_relationship.type }}" ng-click="$ctrl.change_relationship_to(song_relationship, available_relationship)">{{ \'song_relationship.title.\' + available_relationship.type | i18n }}</div>\n  </div>\n\n  <metadata-input-and-label is-disabled="$ctrl.isDisabled">\n    <div class="u-large_top_margin">\n      <autocomplete-tags-input\n          ng-disabled="$ctrl.isDisabled"\n          bind-to="song_relationship.songs"\n          name="song_relationships"\n          autocomplete-model="song"\n          placeholder="e.g. Dust a Soundboy"\n          input-classes="tags_input square_input square_form-standard_element_margin"\n          require-existing="true"\n          exclude-if="result.id === song.id"\n      ></autocomplete-tags-input>\n    </div>\n\n    <div\n      class="square_form-sub_section-remove"\n      ng-if="!$ctrl.isDisabled"\n      ng-click="$ctrl.remove_song_relationship(song_relationship)"\n    >\n      <svg class="inline_icon" src="x.svg"></svg>\n    </div>\n  </metadata-input-and-label>\n</div>\n\n<span class="text_label text_label--button text_label--purple" ng-click="$ctrl.add_new_song_relationship()" ng-if="$ctrl.available_relationships().length && !$ctrl.isDisabled">+ Add New</span>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_missing_metadata.html",'<div class="u-xx_large_vertical_margins song_missing_metadata" ng-if="$ctrl.has_missing_info()">\n  <div class="text_label song_missing_metadata-title" ng-cloak>Missing Track Info</div>\n\n  <missing-metadata-form\n    ng-if="$ctrl.missing_info(\'writer_artists\')"\n    missing-params="{writer_artists: \'autocomplete_artists\'}"\n    object="$ctrl.song"\n    type="song"\n    placeholder="e.g., Pharrell Williams, Sean Garrett"\n    source="Missing"\n  ></missing-metadata-form>\n\n  <missing-metadata-form\n    ng-if="$ctrl.missing_info(\'producer_artists\')"\n    missing-params="{producer_artists: \'autocomplete_artists\'}"\n    object="$ctrl.song"\n    type="song"\n    placeholder="e.g., J Dilla, No I.D."\n    source="Missing"\n  ></missing-metadata-form>\n\n  <missing-metadata-form\n    ng-if="$ctrl.missing_info(\'albums\')"\n    missing-params="{albums: \'autocomplete_albums\'}"\n    object="$ctrl.song"\n    type="song"\n    source="Missing"\n  ></missing-metadata-form>\n\n    <missing-metadata-form\n    ng-if="$ctrl.missing_info(\'release_date_components\')"\n    missing-params="{release_date_components: \'date_components\'}"\n    object="$ctrl.song"\n    type="song"\n    source="Missing"\n  ></missing-metadata-form>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_page.html",'<div\n  ng-if="song"\n  ng-controller="SongCtrl as song_ctrl"\n>\n  <div\n    ng-class="{\n      skinned: song_ctrl.has_skin_ad,\n      song_skinned: song_ctrl.has_skin_ad\n    }"\n  >\n    <div\n      class="u-black_background"\n      ng-class="{horizontal_section: song_ctrl.has_skin_ad}">\n\n      <leaderboard-ad\n        name="desktop_song_leaderboard"\n        has-skin="song_ctrl.has_skin_ad"\n      ></leaderboard-ad>\n    </div>\n    <header-with-cover-art\n      type="song"\n      object="song"\n      header-image-url="song.header_image_url"\n      cover-art-url="song.song_art_image_url"\n      title-label="song.title"\n      artist="song.primary_artist"\n      can-edit="can_perform(\'edit_any_media\')"\n      on-edit="song_ctrl.show_metadata_form(\'audio_video_and_images\')"\n      verified-contributors="song.verified_contributors"\n      variants="{skin_ad: song_ctrl.has_skin_ad}"\n    >\n      <metadata>\n        <h3>\n          <expandable-list\n            collection="song.featured_artists"\n            label="Featuring"\n            limit="3"\n            template="additional_artists"\n          ></expandable-list>\n        </h3>\n        <h3>\n          <expandable-list\n            collection="song.producer_artists"\n            label="Produced by"\n            limit="3"\n            template="additional_artists"\n          ></expandable-list>\n        </h3>\n        <h3>\n          <song-primary-album album="song.album" ng-if="song.album"></song-primary-album>\n        </h3>\n      </metadata>\n      <secondary>\n        <media-player\n          media-sources="song.media"\n          on-edit="song_ctrl.show_metadata_form(\'audio_video_and_images\')"\n          can-edit="can_perform(\'edit_any_media\')"\n          sticky-offset="song_ctrl.media_player_sticky_offset"\n        ></media-player>\n        <song-metadata-preview song="song"></song-metadata-preview>\n      </secondary>\n    </header-with-cover-art>\n\n    <div class="song_body column_layout">\n      <div class="column_layout-column_span column_layout-column_span--primary">\n        <div class="song_body-lyrics">\n          <h2\n            ng-if="!user_signed_in"\n            class="text_label text_label--gray u-top_margin"\n          >{{song.title}} Lyrics</h2>\n\n          <defer-compile use-initial-content-with-key="lyrics">\n            <lyrics\n              class="lyrics"\n              remove-class-on-angular-load="lyrics"\n              yields-api="$ctrl.lyrics_interface = api"\n              canonical-lyrics-html="$ctrl.page_data.lyrics_data.body.html"\n              on-selection-range-updated="$ctrl.update_lyrics_selection_range(range)"\n            ></lyrics>\n          </defer-compile>\n\n          <share-buttons song="song"></share-buttons>\n\n          <defer-compile\n            use-initial-content-with-key="recirculated_content"\n            within-visibility-range="150px"\n          >\n            <recirculated-content\n              song="song"\n              stories="recirculated_content"\n              placement="recirculated"\n            ></recirculated-content>\n          </defer-compile>\n\n          <dfp-ad\n            name="desktop_song_lyrics_footer"\n            ad-classes="{\'dfp_unit--in_read u-top_margin\': $filled}"\n          ></dfp-ad>\n\n          <taboola\n            mode="thumbnails-a"\n            placement="Below Article Thumbnails"\n            container-classes="u-vertical_margins"\n          ></taboola>\n\n          <div class="u-vertical_margins">\n            <defer-compile within-visibility-range="150px">\n              <comments type="songs" commentable="song" intersperse-ads="desktop_song_comments"></comments>\n            </defer-compile>\n          </div>\n        </div>\n      </div>\n\n      <div\n        class="column_layout-column_span column_layout-column_span--secondary u-top_margin column_layout-flex_column"\n      >\n        <div class="column_layout-column_span-initial_content">\n          <div ng-show="initial_sidebar_content_showing()">\n            <song-page-sidebar-multi-placement song="song">\n            </song-page-sidebar-multi-placement>\n\n            <description-referent\n              object="song.description_annotation"\n              variants="{truncated: true}"\n            ></description-referent>\n\n            <defer-compile\n              use-initial-content-with-key="question_list"\n              within-visibility-range="150px"\n              delay="500"\n            >\n              <question-list\n                questionable="song"\n                pinned-questions="pinned_questions"\n                default-questions="default_questions"\n                featured-question="featured_question"\n                pending-question-count="pending_question_count"\n              ></question-list>\n            </defer-compile>\n\n            <button\n              ng-if="!user_signed_in && song.description_annotation.annotations[0].needs_exegesis"\n              ng-init="song_ctrl.signing_up = false"\n              class="square_button"\n              ng-hide="song_ctrl.signing_up"\n              ng-click="song_ctrl.signing_up = true"\n              ng-bind=":: \'annotation.sign_up_to_annotate\' | i18n"\n            ></button>\n\n            <authentication-form\n              ng-if="song_ctrl.signing_up"\n              header-text=":: \'annotation.sign_up_to_annotate\' | i18n"\n            ></authentication-form>\n\n            <defer-compile delay="500" within-visibility-range="150px">\n              <div class="show_tiny_edit_button_on_hover u-xx_large_bottom_margin u-top_margin gray_container">\n                <song-metadata song="song"></song-metadata>\n\n                <div class="song_metadata song_metadata--no_min_height">\n                  <div>\n                    <div\n                      tether-drop-target\n                      ng-if="song.hidden"\n                      class="metadata_with_icon"\n                    >\n                      <span class="metadata_with_icon-icon_wrapper">\n                        <svg src="eye_cross.svg" class="metadata_with_icon-icon"></svg>\n                      </span>\n                      <span class="metadata_with_icon-value">Hidden</span>\n                      <tether-drop show-on="hover" position="bottom center">\n                        <div class="tooltip tooltip--tiny rich_text_formatting rich_text_formatting--no_vertical_margins">\n                          <p><strong>This page is accessible to</strong></p>\n                          <ul>\n                            <li>Verified artists on the song</li>\n                            <li ng-repeat="role in song.viewable_by_roles" ng-bind="\'role.types.\' + role | i18n:{count:2, defaultValue: role}"></li>\n                          </ul>\n                        </div>\n                      </tether-drop>\n                    </div>\n                    <div\n                      tether-drop-target\n                      ng-if="song.published"\n                      class="metadata_with_icon"\n                    >\n                      <span class="metadata_with_icon-icon_wrapper">\n                        <svg src="lock.svg" class="metadata_with_icon-icon"></svg>\n                      </span>\n                      <span class="metadata_with_icon-value">Locked</span>\n                      <tether-drop show-on="hover" position="bottom center">\n                        <div class="tooltip tooltip--tiny">\n                          <p>This song has been locked and is considered "done". You need <u>600 IQ</u> to add annotations to locked songs.</p>\n                        </div>\n                      </tether-drop>\n                    </div>\n                  </div>\n                </div>\n\n                <div\n                  class="tiny_edit_button"\n                  ng-click="song_ctrl.show_metadata_form(\'album_date_and_tags\')"\n                  ng-hide="song_ctrl.saving"\n                  ng-if="can_perform(\'edit_anything\')"\n                  stop-propagation="click"\n                >\n                  <svg src="pencil.svg" class="tiny_edit_button-svg"></svg>\n                </div>\n              </div>\n            </defer-compile>\n\n            <dfp-ad\n              name="desktop_song_medium1"\n              instance-id="song_page_sidebar"\n              ad-classes="{\'dfp_unit--in_read u-top_margin\': $filled}"\n            ></dfp-ad>\n\n            <defer-compile\n              use-initial-content-with-key="track_info"\n              within-visibility-range="150px"\n              delay="500"\n            >\n              <div\n                class="u-xx_large_vertical_margins show_tiny_edit_button_on_hover"\n                ng-if="song_ctrl.has_track_info(\'writer_artists\', \'release_date_components\', \'recording_location\', \'custom_performances\') || song_ctrl.has_song_relationships()"\n              >\n                <h3 class="text_label u-x_small_bottom_margin">"<span ng-bind="song.title"></span>" Track Info</h3>\n                <div\n                  class="tiny_edit_button"\n                  ng-if="can_perform(\'edit_anything\')"\n                  ng-hide="song_ctrl.saving"\n                  ng-click="song_ctrl.show_metadata_form(\'title_and_artists\')"\n                  stop-propagation="click"\n                >\n                  <svg src="pencil.svg" class="tiny_edit_button-svg"></svg>\n                </div>\n\n                <expandable-list\n                  collection="song.writer_artists"\n                  label="Written By"\n                  limit="3"\n                  template="additional_artists"\n                  variants="{table: true}"\n                ></expandable-list>\n\n                <div\n                  ng-repeat="label_artists in song.custom_performances track by $index"\n                >\n                  <expandable-list\n                    collection="label_artists.artists"\n                    template="additional_artists"\n                    limit="3"\n                    label="{{label_artists.label}}"\n                    variants="{table: true}"\n                  ></expandable-list>\n                </div>\n\n                <div class="metadata_unit metadata_unit--table_row" ng-if="song.recording_location">\n                  <span class="metadata_unit-label">{{ \'song.metadata.recording_location\' | i18n }}</span>\n                  <span class="metadata_unit-info metadata_unit-info--text_only" ng-bind="song.recording_location"></span>\n                </div>\n\n                <release-date\n                  date-components="song.release_date_components"\n                  variants="{table: true}"\n                ></release-date>\n\n                <div class="show_tiny_edit_button_on_hover">\n                  <div\n                    class="tiny_edit_button"\n                    ng-if="can_perform(\'edit_anything\') && song_ctrl.has_song_relationships()"\n                    ng-hide="song_ctrl.saving"\n                    ng-click="song_ctrl.show_metadata_form(\'song_relationships\')"\n                    stop-propagation="click"\n                  >\n                    <svg src="pencil.svg" class="tiny_edit_button-svg"></svg>\n                  </div>\n                </div>\n\n                <expandable-list\n                  ng-repeat="song_relationship in song.song_relationships" collection="song_relationship.songs"\n                  template="song_relationships"\n                  limit="1"\n                  label="{{:: song_relationship.type }}"\n                  variants="{table: true}"\n                ></expandable-list>\n              </div>\n            </defer-compile>\n\n            <defer-compile within-visibility-range="150px" delay="500">\n              <song-missing-metadata\n                ng-if="$ctrl.page_data.show_edit_form && can_perform(\'edit_anything\')"\n                song="song"\n                possible-missing-info="[\'writer_artists\', \'producer_artists\', \'albums\', \'release_date_components\']"\n              ></song-missing-metadata>\n            </defer-compile>\n\n            <defer-compile\n              use-initial-content-with-key="album"\n              within-visibility-range="150px"\n              delay="500"\n            >\n              <song-albums\n                song="song"\n                primary-album-tracks="primary_album_tracks"\n              ></song-albums>\n            </defer-compile>\n          </div>\n        </div>\n        <div class="column_layout-flex_column-fill_column">\n          <annotation-sidebar referent="current_referent"></annotation-sidebar>\n        </div>\n      </div>\n    </div>\n\n    <breadcrumbs order="[song.primary_artist, song]"></breadcrumbs>\n\n    <global-message ng-if="can_perform(\'mark_as_not_spam\') && $ctrl.page_data.probably_spam">\n      <span>This song is considered probable spam</span>\n      <span><a href="/songs/probably_spam" class="text_label text_label--white text_label--button" target="_blank">view more probable spam</a></span>\n      <span ng-click="perform_admin_action(\'destroy\')" ng-if="can_perform(\'destroy\')" class="text_label text_label--white text_label--button" confirm="Are you sure? This cannot be undone">delete it</span>\n      <span ng-click="perform_admin_action(\'mark_as_not_spam\')" class="text_label text_label--white text_label--button">not spam</span>\n    </global-message>\n\n    <kb shortcut="shift+a" action="song_ctrl.show_metadata_form(\'title_and_artists\', \'from_keyboard_shortcut\')"></kb>\n    <kb shortcut="shift+m" action="song_ctrl.show_metadata_form(\'audio_video_and_images\', \'from_keyboard_shortcut\')"></kb>\n    <kb shortcut="shift+t" action="song_ctrl.show_metadata_form(\'album_date_and_tags\', \'from_keyboard_shortcut\')"></kb>\n    <kb shortcut="shift+r" action="song_ctrl.show_metadata_form(\'song_relationships\', \'from_keyboard_shortcut\')"></kb>\n    <modal-window hidden="song_ctrl.saving" ng-if="song_ctrl.show_metadata_form_sections" on-close="attempt_close(reason.close_button || !song_ctrl.is_form_dirty(), song_ctrl.close)">\n      <song-metadata-form object="song" expanded-sections="song_ctrl.show_metadata_form_sections" on-save="song_ctrl.save(song)" yields-is-dirty="song_ctrl.is_form_dirty = is_dirty"></song-metadata-form>\n    </modal-window>\n\n    <hide-song-form song="song" ng-if="song_ctrl.hiding_prompt_visible" on-close="song_ctrl.hiding_prompt_visible = false"></hide-song-form>\n\n    <global-message ng-if="song.hidden">\n      <span ng-bind=":: \'This song is hidden\'"></span>\n    </global-message>\n\n    <global-error-message></global-error-message>\n\n    <skin-ad\n      name="desktop_song_skin"\n      on-filled="song_ctrl.has_skin_ad = true"\n    ></skin-ad>\n  </div>\n  <dfp-ad name="desktop_song_out_of_page"></dfp-ad>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_page_sidebar_multi_placement.html",'<relevant-videos\n  object="$ctrl.song"\n  placement="sidebar"\n  container-classes="videos--bordered"\n  on-fill="$ctrl.video_did_fill(videos)"\n  variants="{show_container_label: true}"\n  ng-if="$ctrl.should_render_primary_video_component()"\n></relevant-videos>\n\n<relevant-videos\n  ng-if="$ctrl.should_render_secondary_video_component()"\n  object="$ctrl.song"\n  placement="sidebar_thumb"\n  container-classes="videos--bordered"\n  variants="{two_across: true}"\n></relevant-videos>\n\n<dfp-ad\n  ng-if="$ctrl.should_show_ad()"\n  name="desktop_song_sidebar_top"\n  instance-id="top_of_sidebar"\n  on-not-filled="$ctrl.ad_did_not_fill()"\n  ad-classes="{\'dfp_unit--in_read u-bottom_margin\': $filled}"\n></dfp-ad>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_primary_album.html",'<div class="metadata_unit">\n  <span class="metadata_unit-label">{{:: (\'terms.album\' | i18n:{count:1}) }}</span>\n  <span class="metadata_unit-info">\n    <a ng-href="{{ album.url }}" ng-bind="album.name"></a>\n  </span>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_relationships.html",'<div\n  ng-if="collection.length"\n  class="metadata_unit"\n  ng-class="{\'metadata_unit--table_row\': variants.table}"\n>\n  <span class="metadata_unit-label">{{ \'song_relationship.title.\' + label | i18n }}</span>\n  <span class="metadata_unit-info">\n    <div ng-repeat="song in collection | limitTo: limit track by song.id" class="u-x_small_bottom_margin">\n      <a ng-href="{{:: song.path}}" tether-drop-target>\n        {{:: song.full_title}}\n\n        <tether-drop show-on="hover" position="bottom center">\n          <div class="tooltip tooltip--no_padding u-half_vertical_margins u-half_horizontal_margins">\n            <mini-song-card object="song"></mini-song-card>\n          </div>\n        </tether-drop>\n      </a>\n    </div>\n    <div ng-if="ctrl.more_to_show()">\n      <a href ng-click="ctrl.show_more()" class="metadata_unit-show_more">{{collection.length - limit}} more</a>\n    </div>\n  </span>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_verified_artists.html",'<div class="song_verified_artists">\n  <song-verified-artists-section contributors="$ctrl.commentary_and_lyrics_by" label="{{ \'song.verified.desktop.commentary_and_lyrics\' | i18n }}" featured="$ctrl.featured"></song-verified-artists-section>\n  <song-verified-artists-section contributors="$ctrl.commentary_by" label="{{ \'song.verified.desktop.commentary\' | i18n }}" featured="$ctrl.featured"></song-verified-artists-section>\n  <song-verified-artists-section contributors="$ctrl.lyrics_by" label="{{ \'song.verified.desktop.lyrics\' | i18n }}" featured="$ctrl.featured"></song-verified-artists-section>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_verified_artists_section.html",'<div class="song_verified_artists-section" ng-if="$ctrl.contributors.length">\n  <div class="text_label text_label--gray u-quarter_bottom_margin" ng-if="!$ctrl.featured">{{:: $ctrl.label}} by</div>\n  <div class="song_verified_artists-users">\n    <song-verified-artists-section-single\n      ng-repeat="contributor in $ctrl.contributors track by $id(contributor)"\n      contributor="contributor"\n      variants="{first: $first}"\n      label="{{$ctrl.label}}"\n      featured="$ctrl.featured"\n    ></song-verified-artists-section-single>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("song_verified_artists_section_single.html",'<a ng-href="{{ $ctrl.url }}" class="song_verified_artists-user_badge user_badge" tether-drop-target>\n  <div\n    class="user_avatar user_avatar--x_small clipped_background_image--background_fill"\n    ng-class="{\n              \'user_avatar--medium\': $ctrl.variants.first,\n              \'u-left_margin\': !$ctrl.variants.first,\n              \'user_avatar--large\': $ctrl.featured,\n              \'song_verified_artists-user_avatar--featured\': $ctrl.featured,\n              \'song_verified_artists-user_avatar--is_meme_verified\': $ctrl.is_meme_verified\n              }"\n    clipped-background-image="$ctrl.image_url"\n  ></div>\n  <div class="user_badge-text">\n    <div class="user_badge-subhead u-quarter_bottom_margin" ng-if="$ctrl.featured">{{:: $ctrl.label}} by</div>\n    <span class="user_badge-login">{{ $ctrl.name }}</span>\n    <svg class="checky" src="checky.svg" ng-if="$ctrl.is_meme_verified"></svg>\n  </div>\n\n  <tether-drop show-on="hover">\n    <user-tooltip ng-if="$ctrl.contributor.user" user="$ctrl.contributor.user"></user-tooltip>\n    <artist-tooltip ng-if="!$ctrl.contributor.user" artist="$ctrl.contributor.artist"></artist-tooltip>\n  </tether-drop>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("soundcloud.html",'<iframe class="iframe" width="100%" height="465" scrolling="no" frameborder="no"></iframe>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("spam_status.html",'<div ng-if="$ctrl.user_spam_evaluation">\n  <div class="gray_container u-vertical_margins">\n    <div class="text_label">\n      Spam State: {{:: $ctrl.user_spam_evaluation.spam_state || \'?\' }}\n    </div>\n    <div class="spam_check_feature--red text_label" ng-if="$ctrl.user_spam_evaluation.spam_score >= 0">\n      Spam Score: {{:: $ctrl.user_spam_evaluation.spam_score == null ? \'?\' : $ctrl.user_spam_evaluation.spam_score }}\n    </div>\n    <div class="spam_check_feature--green text_label" ng-if="$ctrl.user_spam_evaluation.trust_score >= 0">\n      Trust Score: {{:: $ctrl.user_spam_evaluation.trust_score == null ? \'?\' : $ctrl.user_spam_evaluation.trust_score }}\n    </div>\n  </div>\n\n  <table>\n    <tr\n      ng-class="{\n        \'spam_check_feature--bold\': spam_check_feature.value != 0,\n        \'spam_check_feature--green\': spam_check_feature.outcome == \'probably_ham\',\n        \'spam_check_feature--red\': spam_check_feature.outcome == \'probably_spam\'\n      }"\n      ng-repeat="spam_check_feature in $ctrl.user_spam_evaluation.spam_check_features | filter:{label: \'!!\'}"\n      class="spam_check_feature text_label"\n    >\n      <td><span class="u-horizontal_margins">{{:: spam_check_feature.value }}</span></td>\n      <td>{{:: spam_check_feature.label }}</td>\n    </tr>\n  </table>\n</div>\n\n<placeholder-spinner ng-if="!$ctrl.user_spam_evaluation"></placeholder-spinner>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("square_item_and_iq.html","<span\n  ng-class=\"{\n    'square_item_and_iq': $ctrl.show_pill(),\n    'square_item_and_iq--full_width': $ctrl.variants.full_width,\n    'square_item_and_iq--two_digits': $ctrl.show_pill() && $ctrl.iq().toString().length === 2,\n    'square_item_and_iq--three_digits': $ctrl.show_pill() && $ctrl.iq().toString().length === 3,\n  }\"\n>\n  <ng-transclude></ng-transclude>\n  <div ng-if=\"$ctrl.show_pill()\" class=\"iq_pill\">\n    ({{ $ctrl.iq() | signed_number }} IQ)\n  </div>\n</span>\n")}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("standalone_referent.html",'<referent-fragment-container object="referent" variants="{show_full_referent: variants.show_full_referent}">\n  <referent-header>\n    <a ng-href="{{ referent.annotatable.url }}" class="referent-annotatable_title">\n      {{ referent.annotatable.link_title }}\n    </a>\n  </referent-header>\n  <referent-fragment>\n    <a\n      ng-href="{{ referent.url }}"\n      class="referent referent--white referent--accent_font"\n      ng-class="{\'referent--large\': variants.largeReferent}"\n    >{{ referent.is_image ? \'[Image]\' : referent.fragment }}</a>\n  </referent-fragment>\n</referent-fragment-container>\n<div class="u-vertical_margins">\n  <annotation\n    ng-repeat="annotation in referent.annotations track by annotation.id"\n    object="annotation"\n    referent="referent"\n    variants="{hideComments: !focused_comments.length, hide_moderation: variants.hide_moderation, hide_social: variants.hide_social}"\n    yields-api="yields_api({api: api, id: annotation.id})"\n    on-pending-event="on_pending_event({event: event, result: result})"\n    yields-iq="yields_iq({iq_api: iq_api, id: annotation.id})"\n    focused-comments="focused_comments"\n  ></annotation>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("standard_rich_content.html","<div\n  ng-class=\"{\n    'article_rich_text_formatting': variants.article,\n    'rich_text_formatting': !variants.article,\n    'rich_text_formatting--large': variants.isLarge,\n    'rich_text_formatting--no_vertical_margins': variants.no_vertical_margins,\n  }\"\n  ng-bind-html=\"trusted_html\"\n  embedly\n></div>\n")}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("statistics_panel.html",'<div class="statistics_panel">\n  <statistics-panel-item class="statistics_panel-item" ng-click="$ctrl.on_select({type: \'annotations\'})" label="Annotations" value=":: $ctrl.user.stats.annotations_count" icon="blockquote.svg"></statistics-panel-item>\n  <statistics-panel-item class="statistics_panel-item" ng-click="$ctrl.on_select({type: \'comments\'})" label="Suggestions" value=":: $ctrl.user.stats.comments_count" icon="comment.svg"></statistics-panel-item>\n  <statistics-panel-item class="statistics_panel-item" ng-click="$ctrl.on_select({type: \'transcriptions\'})" label="Transcriptions" value=":: $ctrl.user.stats.transcriptions_count" icon="one_document.svg"></statistics-panel-item>\n  <statistics-panel-item class="statistics_panel-item" ng-click="$ctrl.on_select({type: \'questions_and_answers\'})" label="Questions" value=":: $ctrl.user.stats.questions_count" icon="magnifying_glass.svg"></statistics-panel-item>\n  <statistics-panel-item class="statistics_panel-item" ng-click="$ctrl.on_select({type: \'questions_and_answers\'})" label="Answers" value=":: $ctrl.user.stats.answers_count" icon="star.svg"></statistics-panel-item>\n  <statistics-panel-item class="statistics_panel-item" ng-click="$ctrl.on_select({type: \'pyongs\'})" label="Pyongs" value=":: $ctrl.user.stats.pyongs_count" icon="lightning.svg"></statistics-panel-item>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("statistics_panel_item.html",'<div title="{{:: $ctrl.value | number:0 }}">\n  <div class="statistic_and_label">\n    <div class="statistic_and_label-primary">\n      <svg\n        class="inline_icon inline_icon--reading_size"\n        ng-class="{\n          \'inline_icon--down_2\': $ctrl.icon === \'comment.svg\',\n          \'inline_icon--down_1\': $ctrl.icon === \'blockquote.svg\' || $ctrl.icon === \'one_document.svg\' || $ctrl.icon === \'magnifying_glass.svg\'\n        }"\n        src="{{:: $ctrl.icon }}"\n      ></svg>\n      <span class="statistic_and_label-number">{{:: $ctrl.value | abbreviateBigNumber}}</span>\n    </div>\n    <div class="statistic_and_label-subtext">{{:: $ctrl.label }}</div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("text_corrector.html",'<form dirtyable yields-is-dirty="$ctrl.is_dirty = is_dirty" ng-submit="$ctrl.submit_form()" submit-on-cmd-enter exports-form-api="$ctrl.correction_form = api">\n  <textarea autofocus ng-show="$ctrl.text || $ctrl.text == \'\'" ng-model="$ctrl.text" ng-model-options="{updateOn: \'submit\'}" class="square_input square_input--full_width u-vertical_margins"></textarea>\n  <button ng-disabled="ctrl.saving" class="square_button square_button--green" ng-class="{\'square_button--disabled\': $ctrl.saving}" type="submit">{{ $ctrl.saving ? \'Saving\' : \'Save\' }}</button>\n  <button ng-disabled="ctrl.saving" class="square_button square_button--transparent square_button--gray" ng-click="$ctrl.cancel_correction()" prevent-default-click>Cancel</button>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("time_ago.html",'<span title="{{ time*1000 | date: \'medium\' }}" am-time-ago="time * 1000"></span>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("twitter_share_button.html",'<a\n  ng-click="$ctrl.share_on_twitter()"\n  class="square_button"\n  ng-class="{\n    \'square_button--transparent square_button--twitter_inverse nganimate-disable_transition\': $ctrl.variants.transparent,\n    \'square_button--twitter\': !$ctrl.variants.transparent\n  }"\n>\n  <svg class="inline_icon" src="twitter.svg"></svg>\n  <span ng-if="$ctrl.variants.showText">Tweet</span>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("user_attribution.html",'<div class="leaderboard-percentage_fill" ng-if="$ctrl.object.attribution" style="width: {{ ($ctrl.object.attribution * 100) | number:2 }}%"></div>\n<span class="leaderboard-rank" ng-bind="$ctrl.rank"></span>\n<span class="leaderboard-user">\n  <user-badge size="x_small" object="$ctrl.object.user"></user-badge>\n</span>\n<span class="leaderboard-sort_value">\n  <span ng-if="$ctrl.object.attribution">{{ ($ctrl.object.attribution * 100) | number:0 }}%</span>\n  <span ng-if="$ctrl.object.attribution_value"><span ng-if="$index === 0">+</span>{{ $ctrl.object.attribution_value | number:0 }}</span>\n</span>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("user_badge.html",'<a ng-href="{{ variants.no_profile_link ? undefined : user.url }}" class="user_badge" ng-if="user" tether-drop-target>\n  <div\n    ng-class=":: [\'user_avatar\', \'user_avatar--\' + size]"\n    clipped-background-image="avatar_url"\n  ></div>\n  <div class="user_badge-text">\n    <div\n      ng-if=":: is_two_lines"\n      class="user_badge-subhead"\n      ng-class="{\'user_badge-subhead--green\': user.is_verified && !sponsor}"\n    >\n      <div ng-if=":: !variants.show_user_role">\n        <span>{{:: pinned_role}}</span>\n        <svg class="checky" src="checky.svg" ng-if=":: user.is_verified && !sponsor"></svg>\n      </div>\n      <div ng-if=":: variants.show_user_role && user.role_for_display">\n        <span>{{:: \'role.types.\' + user.role_for_display | i18n:{count:1, defaultValue: user.role_for_display} }}</span>\n        <role-icon ng-if="user.role_for_display" role="user.role_for_display" has-checky="user.is_meme_verified"></role-icon>\n      </div>\n    </div>\n    <div class="user_badge-login_and_iq" ng-class=":: {\'user_badge-login_and_iq--one_line\': !is_two_lines}">\n      <span class="user_badge-login">{{:: user.name }}</span>\n      <role-icon ng-if="user.role_for_display && !is_two_lines" role="user.role_for_display" has-checky="::user.is_verified"></role-icon>\n      <span\n        class="user_badge-iq"\n        ng-class=":: {\n          \'tag_label tag_label--yellow_background\': is_two_lines,\n          \'user_badge-iq--one_line\': !is_two_lines\n        }"\n        ng-if=":: !variants.hide_iq"\n      >{{:: user.iq | number:0 }}</span>\n\n      <span ng-if=":: sponsor && is_two_lines">\n        <span class="user_badge-iq tag_label tag_label--gray_background tag_label--lowercase">via {{:: sponsor }}</span>\n        <svg class="checky checky--up_1" src="checky.svg" ng-if=":: user.is_verified"></svg>\n      </span>\n    </div>\n  </div>\n  <tether-drop show-on="hover" ng-if=":: !disables_user_tooltips">\n    <user-tooltip user="user"></user-tooltip>\n  </tether-drop>\n</a>\n\n<div class="user_badge" ng-if="!user && anonymous_user">\n  <div\n    ng-class=":: [\'user_avatar\', \'user_avatar--\' + size]"\n    class="clipped_background_image clipped_background_image--background_fill"\n  ></div>\n  <div class="user_badge-text">\n    <div class="user_badge-login_and_iq" ng-class=":: {\'user_badge-login_and_iq--one_line\': !is_two_lines}">\n      <span class="user_badge-login">{{:: anonymous_user.name}}</span>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("user_badge_and_timestamp.html",'<div class="user_badge_and_timestamp">\n  <div class="user_badge_and_timestamp-badge">\n    <user-badge\n      size="{{size}}"\n      object="user"\n      anonymous-user="anonymous_user"\n      pinned-role="pinned_role"\n      sponsor=":: sponsor"\n      variants=":: variants"\n    ></user-badge>\n  </div>\n  <div class="user_badge_and_timestamp-created_at">\n    <time-ago time="time" ng-if="time"></time-ago>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("user_identities.html",'<div>\n  <button\n    ng-if="$ctrl.can_edit()"\n    ng-repeat="available_identity in $ctrl.user.available_identity_providers track by available_identity"\n    class="square_button square_button--with_icon square_button--{{available_identity}} u-quarter_vertical_margins u-display_block"\n    http-method="post"\n    action="{{$ctrl.identity_auth_path(available_identity)}}"\n  >\n    <span class="square_button-padded_icon">\n      <svg class="inline_icon" ng-src="available_identity | svg"></svg>\n    </span>\n    Link your {{available_identity + \'_identity\' | modelHumanName}} account!\n  </button>\n  <button\n    ng-repeat="identity in $ctrl.user.identities track by identity.id"\n    class="square_button square_button--with_icon square_button--{{identity.provider}} u-quarter_vertical_margins u-display_block square_button-right_icon_margin"\n  >\n    <span class="square_button-padded_icon">\n      <svg class="inline_icon" ng-src="identity.provider | svg"></svg>\n    </span>\n    {{identity.name}}\n    <span class="u-half_left_margin" ng-if="$ctrl.can_edit()" ng-click="$ctrl.unlink_identity(identity)">\n      <svg\n        ng-if="!$ctrl.saving_identity[identity.provider]"\n        class="inline-icon inline_icon--transparent square_button-x_icon"\n        src="x.svg"></svg>\n      <placeholder-spinner ng-if="$ctrl.saving_identity[identity.provider]" variants=":: {inline: true}"></placeholder-spinner>\n    </span>\n  </button>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("user_info_with_actions.html",'<div class="user_info_with_actions">\n  <div class="user_badge">\n    <a href="{{ $ctrl.user.url }}" class="u-block_level_link">\n      <div\n        class="user_avatar user_avatar--{{:: $ctrl.variants.avatar_size}} clipped_background_image--background_fill"\n        clipped-background-image="$ctrl.user.avatar.medium.url"\n      ></div>\n    </a>\n    <div class="user_badge-text">\n      <a href="{{ $ctrl.user.url }}" class="u-block_level_link">\n        <div\n          ng-if="$ctrl.user.role_for_display"\n          class="user_badge-subhead"\n          ng-class="{\'user_badge-subhead--green\': $ctrl.user.is_meme_verified}"\n        >\n          <span>\n            {{ \'role.types.\' + $ctrl.user.role_for_display | i18n:{count:1, defaultValue: $ctrl.user.role_for_display} }}\n          </span>\n          <role-icon\n            ng-if="$ctrl.user.role_for_display"\n            role="$ctrl.user.role_for_display"\n            has-checky="$ctrl.user.is_meme_verified"\n          ></role-icon>\n        </div>\n        <div class="user_badge-login_and_iq">\n          <span class="user_badge-login">{{ $ctrl.user.name }}</span>\n          <span class="user_badge-iq tag_label tag_label--yellow_background">{{ $ctrl.user.iq | number:0 }}</span>\n        </div>\n      </a>\n      <div class="user_info_with_actions-user_badge_actions" ng-if="$ctrl.user_signed_in && $ctrl.user.id !== $ctrl.current_user.id">\n        <follow-button\n          type="user"\n          object="$ctrl.user"\n          disabled="!$ctrl.user.current_user_metadata"\n        ></follow-button>\n        <span class="square_button" ng-click="$ctrl.sending_message = true">Message</span>\n      </div>\n    </div>\n  </div>\n\n  <p class="rich_text_formatting u-top_margin" ng-if="$ctrl.user.about_me_summary">\n    {{ $ctrl.user.about_me_summary | truncateToBoundary:100:{with_ellipsis: true} }}\n  </p>\n</div>\n\n<modal-window ng-if="$ctrl.sending_message" on-close="$ctrl.sending_message = false" variants="{full_height: true}">\n  <conversation-with-user user="$ctrl.user"></conversation-with-user>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("user_moderation.html",'<div\n  ng-if="$ctrl.errors"\n  ng-repeat="error in $ctrl.errors"\n  class="u-vertical_margins form_message form_message--error text_label"\n>{{ error }}</div>\n\n<div\n  ng-if="$ctrl.messages"\n  ng-repeat="message in $ctrl.messages"\n  class="u-vertical_margins form_message form_message--success text_label"\n>{{ message }}</div>\n\n<div class="u-break_word">\n  <div\n    class="u-vertical_margins u-clickable"\n    ng-if="$ctrl.can(\'toggle_penalty_status\')"\n    ng-click="$ctrl.toggle_penalty_status()"\n  >\n    <span class="text_label" ng-class="{\'text_label--gray\': $ctrl.updating, \'text_label--purple\': !$ctrl.updating}">\n      <svg\n        class="inline_icon inline_icon--reading_size inline_icon--up_2"\n        ng-class="{\'inline_icon--gray\': $ctrl.updating, \'inline_icon--purple\': !$ctrl.updating}"\n        src="alert.svg"\n      ></svg> {{ $ctrl.user.penalty_box_until ? \'Take \' + $ctrl.user.login + \' out of the penalty box\' : \'Put \' + $ctrl.user.login + \' in the penalty box\' }}\n    </span>\n    <span ng-if="$ctrl.user.penalty_box_until" class="u-display_block text_label--gray">\n      {{ $ctrl.user.login }} is in the penalty box until {{ $ctrl.user.penalty_box_until | human_readable_datetime }}\n    </span>\n  </div>\n\n  <div\n    class="u-vertical_margins u-clickable"\n    ng-if="$ctrl.can(\'mark_spam\') && $ctrl.user.spam_state != \'definitely_spam\'"\n    ng-click="$ctrl.update_spam_state(\'spam\')"\n  >\n    <span class="text_label" ng-class="{\'text_label--gray\': $ctrl.updating, \'text_label--purple\': !$ctrl.updating}">\n      <svg\n        class="inline_icon inline_icon--reading_size inline_icon--up_2"\n        ng-class="{\'inline_icon--gray\': $ctrl.updating, \'inline_icon--purple\': !$ctrl.updating}"\n        src="flag.svg"\n      ></svg> Mark {{$ctrl.user.login}} as spam\n    </span>\n  </div>\n\n  <div\n    class="u-vertical_margins u-clickable"\n    ng-if="$ctrl.can(\'mark_ham\') && $ctrl.user.spam_state != \'definitely_ham\'"\n    ng-click="$ctrl.update_spam_state(\'ham\')"\n  >\n    <span class="text_label" ng-class="{\'text_label--gray\': $ctrl.updating, \'text_label--purple\': !$ctrl.updating}">\n      <svg\n        class="inline_icon inline_icon--reading_size inline_icon--up_2"\n        ng-class="{\'inline_icon--gray\': $ctrl.updating, \'inline_icon--purple\': !$ctrl.updating}"\n        src="flag.svg"\n      ></svg> Mark {{$ctrl.user.login}} as ham\n    </span>\n  </div>\n\n  <div\n    class="u-vertical_margins u-clickable"\n    ng-if="$ctrl.can(\'mass_delete_unreviewed_activity\')"\n    ng-click="$ctrl.mass_delete_unreviewed_activity()"\n  >\n    <span class="text_label" ng-class="{\'text_label--gray\': $ctrl.updating, \'text_label--purple\': !$ctrl.updating}">\n      <svg\n        class="inline_icon inline_icon--reading_size inline_icon--up_2"\n        ng-class="{\'inline_icon--gray\': $ctrl.updating, \'inline_icon--purple\': !$ctrl.updating}"\n        src="x.svg"\n      ></svg> Delete all of {{$ctrl.user.login}}\'s unreviewed annotations, suggestions, and forum posts\n    </span>\n  </div>\n\n  <div\n    ng-repeat="type in $ctrl.vote_types"\n    class="u-vertical_margins u-clickable"\n    ng-if="$ctrl.can(\'mass_delete_votes\')"\n    ng-click="$ctrl.mass_delete_votes(type)"\n  >\n    <span class="text_label" ng-class="{\'text_label--gray\': $ctrl.updating, \'text_label--purple\': !$ctrl.updating}">\n      <svg\n        class="inline_icon inline_icon--reading_size inline_icon--up_2"\n        ng-class="{\'inline_icon--gray\': $ctrl.updating, \'inline_icon--purple\': !$ctrl.updating}"\n        src="{{ type == \'votes\' ? \'x\' : \'clear_\'+type | svg }}"\n      ></svg> Clear all of {{$ctrl.user.login}}\'s {{type}}\n    </span>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("user_tooltip.html",'<div\n  class="tooltip u-half_vertical_margins u-half_horizontal_margins"\n  stop-propagation="click"\n>\n  <user-info-with-actions object=":: user" variants="{avatar_size: \'xx_large\'}"></user-info-with-actions>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("vertical_album_card.html",'<a href="{{$ctrl.album.url}}" title="{{$ctrl.album.name}}" class="vertical_album_card" set-class-before-navigate="vertical_album_card--active">\n  <div class="cover_art">\n    <img\n      class-for-browser="{msie: \'cover_art-image_ie\', _default: \'cover_art-image\'}"\n      sized-src="$ctrl.album.cover_art_thumbnail_url"\n    />\n  </div>\n  <div class="vertical_album_card-info">\n    <h3>{{$ctrl.album.name}}</h3>\n    <div class="vertical_album_card-release_date">\n      {{$ctrl.album.release_date_components.year}}\n    </div>\n  </div>\n</a>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("vertical_search_result_item.html",'<div\n  tracking="click"\n  tracking-event="Search Result Tap"\n>\n  <vertical-album-card object="$ctrl.hit.result"></vertical-album-card>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("vertical_search_result_items.html",'<div class="thumbnail_grid white_container u-quarter_vertical_margins">\n  <div\n    ng-repeat="hit in $ctrl.results | limitTo: $ctrl.limit_to"\n    class="thumbnail_grid-grid_element u-clickable"\n    ng-class="{ \'thumbnail_grid-grid_element--third\': hit.type === \'album\' }"\n  >\n    <vertical-search-result-item hit="hit"></vertical-search-result-item>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("video_carousel.html",'<div\n  ng-if="!$ctrl.loaded || $ctrl.video_placement.videos.length"\n  class="video_carousel"\n  ng-class="{\n    \'video_carousel--half_black_background\': $ctrl.variants.half_black_background,\n    \'video_carousel--striped_background\': $ctrl.variants.striped_background\n  }"\n>\n  <div class="video_carousel-container">\n    <div class="video_carousel-video video_carousel-video--intro_card">\n      <a\n        ng-if="$ctrl.video_list"\n        ng-href="{{$ctrl.video_list.url}}"\n        class="video_carousel-video-card video_carousel-video-card--intro_card_text"\n      >\n        <svg\n          ng-if="$ctrl.has_logo()"\n          ng-src="$ctrl.logo_name()"\n          class="video_carousel-video-card-logo {{ $ctrl.logo_variants() }}"\n        ></svg>\n        <span ng-if="!$ctrl.has_logo()">{{ $ctrl.video_list.title }}</span>\n      </a>\n      <div\n        ng-if="!$ctrl.video_list"\n        class="video_carousel-video-card video_carousel-video-card--intro_card_text"\n      >\n        {{ $ctrl.title }}\n      </div>\n    </div>\n\n    <div ng-if="$ctrl.active_video" class="video_carousel-video video_carousel-video--active">\n      <div class="video_carousel-video-card">\n        <img class="video_carousel-video-image" sized-src="$ctrl.active_video.poster_url" />\n        <div>\n          <div class="video_carousel-video-currently_playing_label text_label text_label--x_small_text_size text_label--white">\n            Currently Playing\n          </div>\n        </div>\n      </div>\n      <div class="video_carousel-video-title">{{ $ctrl.active_video.title }}</div>\n    </div>\n\n    <a\n      ng-repeat="video in $ctrl.video_placement.videos track by video.id"\n      ng-href="{{video.url}}?utm_source=recommended"\n      class="video_carousel-video"\n    >\n      <div class="video_carousel-video-card">\n        <div class="u-relative">\n          <img class="u-display_block" sized-src="video.poster_url" />\n          <svg\n            src="play.svg"\n            class="dark_background_play_button"\n          ></svg>\n        </div>\n      </div>\n      <div class="video_carousel-video-title">\n        {{ video.title }}\n      </div>\n    </a>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("video_edit_form.html",'<div class="text_label text_label--purple">Video Sources</div>\n\n<placeholder-spinner ng-if="!$ctrl.loaded"></placeholder-spinner>\n\n<div ng-if="$ctrl.loaded">\n  <div ng-if="$ctrl.error" class="form_message form_message--error text_label">\n    {{ $ctrl.error.message }}\n    <ul class="u-bullet_list">\n      <li ng-repeat="error in $ctrl.error.response.errors">\n        {{ error }}\n      </li>\n    </ul>\n  </div>\n\n  <table class="admin_table rich_text_formatting">\n    <tr>\n      <th>URL</th>\n      <th>Views</th>\n      <th></th>\n    </tr>\n    <tr ng-repeat="video_source in $ctrl.video_sources track by video_source.id">\n      <td>\n        <a target="_blank" ng-href="{{ video_source.external_url }}">{{ video_source.external_url }}</a>\n      </td>\n      <td>\n        {{ video_source.view_count | number }}\n      </td>\n      <td>\n        <button\n          ng-if="$ctrl.has_permission(\'destroy\', video_source)"\n          prevent-default-click\n          ng-click="$ctrl.remove_video_source(video_source)"\n          class="square_button square_button--red"\n        >Remove</button>\n      </td>\n    </tr>\n  </table>\n\n  <form ng-submit="$ctrl.add_video_source()" ng-model-options="{updateOn: \'submit\'}" submit-on-cmd-enter>\n    <input class="square_input" ng-model="$ctrl.new_source.external_url" placeholder="External URL">\n    <input class="modal_window-save_button square_button square_button--purple" type="submit" value="Add">\n  </form>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("video_list_edit_form.html",'<div ng-if="$ctrl.errors.length" class="form_message form_message--error text_label rich_text_formatting u-vertical_margins">\n  <ul>\n    <li ng-repeat="error in $ctrl.errors">{{ error }}</li>\n  </ul>\n</div>\n\n<form class="square_form" ng-submit="$ctrl.save()" ng-model-options="{updateOn: \'submit\'}" submit-on-cmd-enter>\n  <div class="square_form-input_and_label square_form-input_and_label--half_width">\n    <div class="text_label">Title Image URL</div>\n    <input class="square_input square_form-standard_element_margin" ng-model="$ctrl.editable_video_list.title_image_url" placeholder="Title Image URL">\n  </div>\n\n  <div class="square_form-input_and_label square_form-input_and_label--half_width">\n    <div class="text_label">Mobile Title Image URL</div>\n    <input class="square_input square_form-standard_element_margin" ng-model="$ctrl.editable_video_list.mobile_title_image_url">\n  </div>\n\n  <input class="modal_window-save_button square_button square_button--purple u-small_vertical_margins" type="submit" value="Save">\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("video_list_page.html",'<div class="video_list_page">\n  <div\n    ng-if="$ctrl.page_data.video_list.title_image_url"\n    class="video_list_title_card video_list_title_card--banner show_tiny_edit_button_on_hover"\n  >\n    <img\n      sized-src="$ctrl.page_data.video_list.title_image_url"\n      class="video_list_title_card-image"\n    />\n    <div\n      class="tiny_edit_button"\n      stop-propagation="click"\n      ng-click="$ctrl.show_banner_edit_modal = true"\n      ng-if="$ctrl.can_perform(\'edit\')"\n    ><svg src="pencil.svg" class="tiny_edit_button-svg"></svg></div>\n  </div>\n\n  <div\n    ng-if="$ctrl.page_data.video_list.title_image_url"\n    class="u-top_margin video_list_title_card-subscribe_button"\n  >\n    <youtube-subscribe-button></youtube-subscribe-button>\n  </div>\n\n  <div\n    ng-if="!$ctrl.page_data.video_list.title_image_url"\n    class="video_list_title_card video_list_title_card--text show_tiny_edit_button_on_hover"\n  >\n    <div class="video_list_title_card-text_and_background_container">\n      <div class="video_list_title_card-text_container">\n        <h1 class="video_list_title_card-text_container-title">{{ $ctrl.page_data.video_list.title }}</h1>\n        <p>{{ $ctrl.page_data.video_list.description }}</p>\n        <div class="u-x_large_top_margin">\n          <youtube-subscribe-button></youtube-subscribe-button>\n        </div>\n      </div>\n    </div>\n    <div\n      class="tiny_edit_button"\n      stop-propagation="click"\n      ng-click="$ctrl.show_banner_edit_modal = true"\n      ng-if="$ctrl.can_perform(\'edit\')"\n    ><svg src="pencil.svg" class="tiny_edit_button-svg"></svg></div>\n  </div>\n\n  <div class="video_list">\n    <video-list-video\n      class="video_list-item"\n      video="video"\n      video-list="$ctrl.page_data.video_list"\n      position="$index + 1"\n      ng-repeat="video in $ctrl.page_data.videos"\n      variants="{show_dates: $ctrl.page_data.video_list.show_dates, show_numbers: $ctrl.page_data.video_list.show_numbers}"\n    ></video-list-video>\n  </div>\n</div>\n\n<modal-window ng-if="$ctrl.show_banner_edit_modal" on-close="$ctrl.show_banner_edit_modal = false">\n  <video-list-edit-form\n    object="$ctrl.page_data.video_list"\n    on-updated="$ctrl.page_data.video_list = video_list; $ctrl.show_banner_edit_modal = false"\n  ></video-list-edit-form>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("video_list_video.html",'<div ng-if="$ctrl.variants.show_numbers">\n  <svg height="36px" class="video_list-item-numeral">\n    <text x="50%" y="34px">#{{ $ctrl.position }}</text>\n  </svg>\n</div>\n\n<a\n  ng-href="{{$ctrl.video.url}}?utm_source=video_list"\n  class="video_list-item-title"\n  ng-class="{\'video_list-item-title--small\': $ctrl.variants.show_numbers}"\n>\n  {{ $ctrl.video.short_title }}\n</a>\n\n<div class="video_list-item-video">\n  <div ng-if="$ctrl.video_played">\n    <video brightcove\n      object="$ctrl.video"\n      can-play="$ctrl.video_can_play = true"\n      tracking-data="$ctrl.tracking_data"\n      player-name="standard"\n      class="video-js"\n    ></video>\n  </div>\n  <div\n    ng-click="$ctrl.video_played = true"\n    ng-if="!$ctrl.video_played && !$ctrl.video_can_play"\n    class="video-js video_list-item-video-poster_image"\n    ng-class="{\'video_list-item-video-poster_image--cover_video\': $ctrl.video_played}"\n  >\n    <img sized-src="$ctrl.video.poster_url" class="vjs-tech" />\n    <placeholder-spinner\n      ng-show="$ctrl.video_played"\n      placeholder-classes="placeholder--centered"\n    ></placeholder-spinner>\n    <svg\n      ng-hide="$ctrl.video_played"\n      src="play.svg"\n      class="dark_background_play_button dark_background_play_button--large"\n    ></svg>\n  </div>\n</div>\n\n<div class="video_list-item-metadata">\n  <span class="video_list-item-metadata-item">\n    <svg src="clock.svg" class="inline_icon inline_icon--white inline_icon--up_2 inline_icon--reading_size"></svg>\n    {{ $ctrl.video.duration | millisToDuration }}\n  </span>\n\n  <span class="video_list-item-metadata-item">\n    <svg class="inline_icon inline_icon--white inline_icon--up_1 inline_icon--small_reading_size" src="eye.svg"></svg>\n    {{ $ctrl.video.view_count | number }}\n  </span>\n\n  <span class="video_list-item-metadata-item" ng-if="$ctrl.variants.show_dates">\n    <svg src="calendar.svg" class="inline_icon inline_icon--white inline_icon--up_2 inline_icon--reading_size"></svg>\n    {{ ($ctrl.video.published_at * 1000) | date: "MMM d yyyy" }}\n  </span>\n</div>\n\n<div class="video_list-item-description video_list-item-description--truncated">\n  {{ $ctrl.video.description }}\n</div>\n\n<div class="video_list-item-read_more">\n  <a\n    ng-href="{{ $ctrl.video.url }}"\n    class="video_list-item-read_more-link"\n    ng-bind-html=":: \'videos.read_more\' | i18n"\n  ></a>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("video_page.html",'<div class="video_page video_page--black_background">\n  <div class="video_page-video">\n    <div ng-show="$ctrl.video_can_play">\n      <video brightcove\n        object="$ctrl.page_data.video"\n        can-play="$ctrl.video_can_play = true"\n        on-time-change="$ctrl.update_progress(current, duration)"\n        on-finish="$ctrl.countdown_to_next_video()"\n        tracking-data="$ctrl.tracking_data"\n        player-name="standard"\n        yields-api="$ctrl.add_video_api($ctrl.page_data.video.id, api)"\n        class="video-js"\n        ng-attr-autoplay="true"\n      ></video>\n    </div>\n\n    <div ng-show="!$ctrl.video_can_play" class="video-js video_page-video-poster_image">\n      <img sized-src="$ctrl.page_data.video.poster_url" class="u-width_100" />\n      <placeholder-spinner placeholder-classes="placeholder--centered"></placeholder-spinner>\n    </div>\n\n    <div class="video_page-video-next_video" ng-if="$ctrl.seconds_until_next_video">\n      <svg\n        ng-click="$ctrl.navigate_to_next_video()"\n        src="circle.svg"\n        class="video_page-video-next_video-loader"\n      ></svg>\n      <div\n        class="video_page-video-next_video-title"\n        ng-click="$ctrl.navigate_to_next_video()"\n      >Up next: {{ $ctrl.next_video.title }}</div>\n      <div\n        class="video_page-video-next_video-cancel"\n        ng-click="$ctrl.stop_countdown_to_next_video()"\n      >cancel</div>\n    </div>\n  </div>\n\n  <video-carousel\n    object="$ctrl.page_data.video"\n    placement="{{$ctrl.page_data.video.primary_video_list ? \'series_related\' : \'related\'}}"\n    variants="{half_black_background: true}"\n    title="Recommended"\n    active-video="$ctrl.page_data.video"\n    on-load="$ctrl.next_video = videos[0]"\n    video-list="$ctrl.page_data.video.primary_video_list"\n  ></video-carousel>\n</div>\n\n<div class="white_container white_container--no_padding">\n  <div class="grid_layout">\n    <div class="grid_layout--full">\n      <h1 class="article_title article_title--outlined u-xx_large_top_margin">{{$ctrl.page_data.video.title}}</h1>\n\n      <div class="u-text_center u-small_top_margin u-x_large_bottom_margin">\n        <div class="article_info_bar">\n          <div class="article_info_bar-text">\n            <svg class="inline_icon inline_icon--reading_size inline_icon--up_2" src="clock.svg"></svg>\n            {{ $ctrl.page_data.video.duration | millisToDuration }}\n          </div>\n\n          <div class="article_info_bar-text u-small_horizontal_margins">\n            <svg class="inline_icon inline_icon--small_reading_size inline_icon--up_2" src="eye.svg"></svg>\n            {{ $ctrl.page_data.video.view_count | number }}\n          </div>\n\n          <div\n            ng-if="$ctrl.page_data.video.primary_video_list && $ctrl.page_data.video.primary_video_list.show_dates"\n            class="article_info_bar-text"\n          >\n            <svg src="calendar.svg" class="inline_icon inline_icon--up_2 inline_icon--reading_size"></svg>\n            {{ ($ctrl.page_data.video.published_at * 1000) | date:\'mediumDate\' }}\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="grid_layout--sidebar">\n      <div\n        ng-if="$ctrl.page_data.video.authors.length"\n        class="article_info_and_action_box article_info_and_action_box--full_padding u-bottom_margin"\n      >\n        <div>\n          <div\n            ng-repeat="author in $ctrl.page_data.video.authors track by author.id"\n            ng-class="{\'u-bottom_margin\': !$last}"\n          >\n            <article-contributor-badge object="author"></article-contributor-badge>\n          </div>\n        </div>\n      </div>\n\n      <article-admin-bar ng-if="$ctrl.page_data.article" article="$ctrl.page_data.article" video="$ctrl.page_data.video"></article-admin-bar>\n\n      <div class="u-top_margin">\n        <article-content-actions\n          type="video"\n          object="$ctrl.page_data.video"\n          variants="{\'two_rows\': true}"\n        ></article-content-actions>\n      </div>\n\n      <div class="u-text_center">\n        <youtube-subscribe-button></youtube-subscribe-button>\n      </div>\n\n      <dfp-ad\n        name="desktop_video_sidebar"\n        ad-classes="{\'u-top_margin\': $filled, \'u-bottom_margin\': $filled}"\n      ></dfp-ad>\n    </div>\n\n    <div class="grid_layout--main">\n      <div>\n        <h2 class="article_dek">\n          <hang-initial-quote content="$ctrl.page_data.article.dek"></hang-initial-quote>\n        </h2>\n\n        <standard-rich-content\n          ng-if="$ctrl.page_data.video.body"\n          html="$ctrl.page_data.video.body.html"\n          variants="{article: true}"\n          open-links-in-new-window\n        ></standard-rich-content>\n\n        <div class="article_rich_text_formatting" ng-if="!$ctrl.page_data.video.body">\n          <p ng-bind-html="$ctrl.page_data.video.description"></p>\n        </div>\n      </div>\n\n      <div class="u-xxx_large_vertical_margins">\n        <div class="u-xxx_large_top_margin u-x_large_bottom_margin">\n          <span class="text_label text_label--x_small_text_size text_label--gray">Comments</span>\n        </div>\n\n        <comments\n          variants="{no_background: true}"\n          type="videos"\n          commentable="$ctrl.page_data.video"\n        ></comments>\n      </div>\n    </div>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("videos_modal.html",'<modal-window\n  on-close="$ctrl.on_close()"\n  variants="{\n    no_background: true,\n    no_max_width: true,\n    full_width_parent: true,\n    vertically_center_contents: true\n  }"\n>\n  <div class="video_page">\n    <div class="video_page-video">\n      <div ng-show="$ctrl.video_can_play">\n        <video brightcove\n          ng-repeat="video in [$ctrl.active_video] track by video.id"\n          object="$ctrl.active_video"\n          can-play="$ctrl.video_can_play = true"\n          on-time-change="$ctrl.update_progress(current, duration)"\n          on-finish="$ctrl.next_video()"\n          tracking-data="$ctrl.tracking_data($ctrl.active_video)"\n          player-name="modal"\n          yields-api="$ctrl.add_video_api($ctrl.active_video.id, api)"\n          class="video-js u-accept_pointer_events"\n          ng-attr-autoplay="true"\n        ></video>\n      </div>\n      <div ng-show="!$ctrl.video_can_play" class="video-js video_page-video-poster_image">\n        <img ng-src="{{ $ctrl.active_video.poster_url }}" class="vjs-tech" />\n        <placeholder-spinner placeholder-classes="placeholder--centered"></placeholder-spinner>\n      </div>\n    </div>\n    <a ng-href="{{ $ctrl.active_video.url }}" class="video_page-caption u-accept_pointer_events">{{ $ctrl.active_video.title }}</a>\n    <div class="video_carousel u-accept_pointer_events">\n      <div class="video_carousel-container">\n        <div class="video_carousel-video video_carousel-video--intro_card">\n          <div class="video_carousel-video-card video_carousel-video-card--intro_card_text video_carousel-video-card--dark_background">Now Playing</div>\n        </div>\n        <div\n          ng-repeat="video in $ctrl.carousel_videos track by video.id"\n          ng-click="$ctrl.select_video(video)"\n          class="video_carousel-video"\n          ng-class="{\n            \'video_carousel-video--active\': $ctrl.active_video.id === video.id,\n            \'u-clickable\': $ctrl.active_video.id !== video.id\n          }"\n        >\n          <div class="video_carousel-video-card">\n            <div class="u-relative">\n              <img class="u-display_block video_carousel-video-image" sized-src="video.poster_url" />\n              <svg\n                ng-if="!($ctrl.active_video.id === video.id)"\n                src="play.svg"\n                class="dark_background_play_button"\n              ></svg>\n            </div>\n            <div ng-if="$ctrl.active_video.id === video.id">\n              <div class="video_carousel-video-progress_bar" ng-style="{width: $ctrl.play_pct + \'%\'}"></div>\n              <div class="video_carousel-video-currently_playing_label text_label text_label--x_small_text_size text_label--white">\n                Currently Playing\n              </div>\n            </div>\n          </div>\n          <div class="video_carousel-video-title">\n            {{ video.title }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</modal-window>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("voters.html",'<div class="voters gray_container u-vertical_margins">\n  <placeholder-spinner ng-if="!loaded_voters"></placeholder-spinner>\n\n  <div ng-if="loaded_voters" class="voters-loaded">\n    <p ng-if="voters.up.length + voters.down.length === 0">No voters.</p>\n\n    <ul class="voters-list voters--up" ng-if="voters.up.length">\n      <li class="voters-vote_count voters-vote_count--up">{{ voters.up.length | signed_number }}</li>\n      <li ng-repeat="user in voters.up track by user.id">\n        <user-badge object="user" size="x_small"></user-badge>\n      </li>\n    </ul>\n    <ul class="voters-list voters--down" ng-if="voters.down.length">\n      <li class="voters-vote_count voters-vote_count--down">{{ -voters.down.length | signed_number }}</li>\n      <li ng-repeat="user in voters.down track by user.id">\n        <user-badge object="user" size="x_small"></user-badge>\n      </li>\n    </ul>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("voting.html",'<div class="voting">\n  <div\n    class="voting-button voting-upvote square_button square_button--transparent square_button--depress_on_click"\n    ng-class="{\'voting-upvote--active\': voteable.current_user_metadata.interactions.vote === \'up\'}"\n    ng-click="ctrl.submit_vote(\'up\')"\n  >\n    <svg class="inline_icon inline_icon--reading_size inline_icon--up_1" src="thumbs_up.svg"></svg>\n    <span ng-if="!variants.hide_upvote_text">Upvote</span>\n  </div>\n  <div\n    ng-if="voteable.has_voters"\n    class="voting-total square_button square_button--transparent"\n    ng-class="{\n      \'voting-total--positive\': voteable.votes_total > 0,\n      \'voting-total--negative\': voteable.votes_total < 0,\n      \'voting-total--animate_press\': !!voteable.current_user_metadata.interactions.vote\n    }"\n    ng-click="voteTotalClicked()"\n  >{{ voteable.votes_total | signed_number }}</div>\n  <div\n    ng-if="!variants.hide_downvote"\n    class="voting-button voting-downvote square_button square_button--transparent square_button--depress_on_click"\n    ng-class="{\'voting-downvote--active\': voteable.current_user_metadata.interactions.vote === \'down\'}"\n    ng-click="ctrl.submit_vote(\'down\')"\n  >\n    <svg class="inline_icon inline_icon--reading_size inline_icon--up_1" src="thumbs_down.svg"></svg>\n  </div>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("web_annotator_manager.html",'<div ng-if="$ctrl.web_page">\n  <h3>Managing</h3>\n  <h1 class="web_annotator_manager-web_page_title">{{ $ctrl.web_page.title }}</h1>\n  <p>\n    <a ng-href="{{ $ctrl.web_page.share_url }}" target="_blank">\n      <code>http:{{ $ctrl.web_page.normalized_url }}</code>\n    </a>\n    <br>{{ $ctrl.web_page.annotation_count}} annotations\n  </p>\n\n  <hr class="web_annotator-hr">\n\n  <web-annotator-manager-errors\n    yields-on-error="$ctrl.on_error = on_error"\n  ></web-annotator-manager-errors>\n\n  <button\n    class="square_button"\n    ng-click="$ctrl.protect(!$ctrl.web_page.protected)"\n  >{{ $ctrl.web_page.protected ? \'Un-protect This Page\' : \'Protect This Page\' }}</button>\n  <button\n    class="square_button"\n    ng-click="$ctrl.publish_drafts()"\n    ng-disabled="!$ctrl.web_page.draft_annotation_count"\n    ng-class="{\'square_button--green\': !!$ctrl.web_page.draft_annotation_count, \'square_button--disabled\': !$ctrl.web_page.draft_annotation_count}"\n  >Publish All Draft Annotations ({{ $ctrl.web_page.draft_annotation_count }})</button>\n\n  <hr class="web_annotator-hr">\n\n  <web-annotator-roles-table\n    header="Annotator Roles on This Page"\n    web-location-id="$ctrl.web_page.id"\n    web-location-type="web_page"\n  ></web-annotator-roles-table>\n\n  <web-annotator-roles-table\n    header="Annotator Roles on All of \'{{$ctrl.web_page.domain}}\'"\n    web-location-id="$ctrl.web_page.web_site_id"\n    web-location-type="web_site"\n  ></web-annotator-pages-role-table>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("web_annotator_manager_errors.html",'<div\n  class="web_annotator_manager-error nganimate-fade_out"\n  ng-repeat="error in $ctrl.errors"\n>\n  <p\n    class="web_annotator_manager-error-message"\n  ><strong>{{ error.message }}</strong></p>\n  <ul\n    class="web_annotator_manager-error-errors"\n    ng-if="error.response.errors.length"\n  >\n    <li ng-repeat="e in error.response.errors">{{ e }}</li>\n  </ul>\n</div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("web_annotator_role_row.html",'<form>\n  <td tether-drop-target>\n    <span ng-if="$ctrl.user_role.id">\n       {{ $ctrl.user_role.user.name }}\n      <tether-drop show-on="hover" ng-if="$ctrl.user_role.user">\n        <user-tooltip user="$ctrl.user_role.user"></user-tooltip>\n      </tether-drop>\n    </span>\n    <input\n      required\n      ng-if="!$ctrl.user_role.id"\n      autocomplete-with="user"\n      ng-model="$ctrl.user_role.user_login"\n      class="square_input square_input--full_width web_annotator_manager-role_table_input"\n      placeholder="User Name"\n    >\n\n    <tether-drop show-on="hover" ng-if="!$ctrl.user_role.user">\n  </td>\n\n  <td>\n    <span ng-if="!$ctrl.editing">{{ $ctrl.user_role.role }}</span>\n    <input\n      ng-if="$ctrl.editing"\n      class="square_input square_input--full_width web_annotator_manager-role_table_input"\n      ng-model="$ctrl.user_role.role"\n      placeholder="Role Name"\n    >\n  </td>\n\n  <td>\n    <span\n      ng-if="!$ctrl.editing"\n    >{{ $ctrl.user_role.page_moderator ? \'&#x2714;\' : \'\' }}</span>\n    <input\n      ng-if="$ctrl.editing"\n      type="checkbox"\n      ng-model="$ctrl.user_role.page_moderator"\n    >\n  </td>\n\n  <td class="web_annotator_manager-role_table_cell">\n    <span\n      ng-if="!$ctrl.editing"\n    >{{ $ctrl.user_role.auto_feature ? \'&#x2714;\' : \'\' }}</span>\n    <input\n      ng-if="$ctrl.editing"\n      type="checkbox"\n      ng-model="$ctrl.user_role.auto_feature"\n    >\n  </td>\n\n  <td\n    ng-if="$ctrl.user_role.id"\n\n  >\n    <button\n      class="square_button"\n      ng-click="$ctrl.editing = true"\n      ng-if="!$ctrl.editing && $ctrl.user_role.id"\n    >Edit</button>\n\n    <button\n      class="square_button square_button--green"\n      ng-click="$ctrl.save()"\n      ng-if="$ctrl.editing && $ctrl.user_role.id"\n      ng-class="{\'square_button--disabled\': $ctrl.saving}"\n      ng-disabled="$ctrl.saving"\n    >{{ $ctrl.saving ? \'Saving...\' : \'Save\' }}</button>\n  </td>\n\n  <td\n    ng-if="$ctrl.user_role.id"\n  >\n    <button\n      class="square_button"\n      ng-click="$ctrl.editing = false"\n      ng-if="$ctrl.editing"\n    >Cancel</button>\n\n    <button\n      class="square_button square_button--red"\n      ng-click="$ctrl.destroy()"\n      ng-if="!$ctrl.editing"\n      confirm="Are you sure?"\n    >Delete</button>\n  </td>\n\n  <td\n    colspan="2"\n    ng-if="!$ctrl.user_role.id"\n  >\n    <button\n      class="square_button square_button--green"\n      ng-click="$ctrl.create()"\n      ng-class="{\'square_button--disabled\': $ctrl.saving}"\n      ng-disabled="$ctrl.saving"\n    >{{ $ctrl.saving ? \'Creating...\' : \'Create\' }}</button>\n  </td>\n</form>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("web_annotator_roles_table.html",'<h3\n  class="web_annotator_manager-table_header"\n>{{ $ctrl.header }}</h3>\n\n<web-annotator-manager-errors\n  yields-on-error="$ctrl.on_error = on_error"\n></web-annotator-manager-errors>\n\n<table class="admin_table web_annotator_manager-role_table">\n  <thead>\n    <th>Name</th>\n    <th>Role</th>\n    <th>Moderator</th>\n    <th>Auto Feature</th>\n    <th colspan="2"></th>\n  </thead>\n  <tbody>\n    <tr web-annotator-role-row\n      class="web_annotator_manager-role_table_row"\n      ng-repeat="user_role in $ctrl.user_roles | filter:{_deleted: \'!\'}"\n      on-error="$ctrl.on_error(error)"\n      user-role="user_role"\n    ></tr>\n    <tr web-annotator-role-row\n      ng-if="$ctrl.user_roles"\n      class="web_annotator_manager-role_table_row"\n      on-create="$ctrl.create(params)"\n      on-error="$ctrl.on_error(error)"\n      user-role="{auto_feature: true}"\n    ></tr>\n  </tbody>\n</table>\n<placeholder-spinner\n  ng-if="!$ctrl.user_roles"\n  placeholder-classes="u-vertical_margins"\n></placeholder-spinner>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("youtube_subscribe_button.html",'<div class="g-ytsubscribe" data-channel="RapGeniusVideo" data-layout="default" data-count="default"></div>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("alert.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 19.8"><path d="M11 4.12l7.6 13.68H3.4L11 4.12M11 0L0 19.8h22L11 0z"/><path d="M10 8.64h2v4.51h-2zm1 5.45a1.13 1.13 0 0 1 1.13 1.15A1.13 1.13 0 1 1 11 14.09z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("at_symbol.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.88 21.78"><path d="M11.34 0C4.77 0 0 4.65 0 11.05a10.61 10.61 0 0 0 11 10.73 10.58 10.58 0 0 0 4.67-1v-2.12A9 9 0 0 1 11 19.83 8.72 8.72 0 0 1 2.2 11a8.87 8.87 0 0 1 9.09-9.06 8.35 8.35 0 0 1 8.52 8.16c0 2.86-.89 4.63-2.31 4.63-.73 0-1.59-.31-1.59-1.8V5.59h-1.85v1.08l-.41-.33a4.84 4.84 0 0 0-3.09-1A5.47 5.47 0 0 0 5.2 11a5.32 5.32 0 0 0 5.49 5.62 4.86 4.86 0 0 0 3.6-1.42l.24-.25.17.3a2.89 2.89 0 0 0 2.66 1.37c2.74 0 4.52-2.56 4.52-6.52C21.88 4 16.43 0 11.34 0zm2.6 13.36l-.16.2a3.88 3.88 0 0 1-2.75 1A3.39 3.39 0 0 1 7.5 10.9a3.43 3.43 0 0 1 3.58-3.6 4.32 4.32 0 0 1 2.81 1z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("billboard.svg",'<svg viewBox="0 0 77 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.807 4.86h3.59v10.92h-3.59zM16.14.59h3.59v15.19h-3.59zm4.333 0h3.59v15.19h-3.59zm42.225 5.397V4.86h-3.59v10.92h3.59v-5.205c0-1.338.7-2.06 1.975-2.06h.425v-3.76c-1.084.042-1.87.382-2.4 1.232zM13.602 0c-1.15 0-2.08.932-2.08 2.082s.93 2.082 2.08 2.082 2.082-.933 2.082-2.082C15.684.932 14.752 0 13.602 0zm41.172 5.692c-.505-.55-1.68-1.005-2.57-1.005-2.71 0-4.656 1.788-5.132 4.445-.52-2.55-2.74-4.51-5.45-4.51-2.735 0-4.975 1.983-5.465 4.58-.475-2.7-2.598-4.488-5.23-4.488-.978 0-1.785.213-2.487.7V.594h-3.59V15.78h3.527v-.998c.85.787 1.763 1.148 2.89 1.148 2.424 0 4.466-1.9 4.903-4.515.514 2.56 2.723 4.507 5.452 4.507 2.706 0 4.876-1.905 5.428-4.4.456 2.725 2.616 4.43 5.196 4.43.892 0 1.87-.3 2.528-.787v.616h3.59v-4.777c0-.196-.002-.387-.006-.573.004-.188.005-.38.005-.575V4.88h-3.59v.812zm-24.23 6.762c-1.15 0-2.082-.932-2.082-2.082s.932-2.08 2.082-2.08 2.082.93 2.082 2.08-.933 2.082-2.082 2.082zm11.078-.166c-1.15 0-2.082-.933-2.082-2.083 0-1.15.933-2.08 2.082-2.08 1.15 0 2.08.93 2.08 2.08s-.93 2.083-2.08 2.083zm10.787.066c-1.15 0-2.083-.933-2.083-2.083 0-1.147.93-2.08 2.08-2.08s2.082.933 2.082 2.08c0 1.15-.93 2.085-2.08 2.085zM73.063.59v4.82c-.7-.49-1.508-.7-2.486-.7-2.995 0-5.33 2.314-5.33 5.65 0 3.143 2.25 5.565 4.99 5.565 1.126 0 2.04-.362 2.89-1.148v.998h3.526V.588h-3.59zM70.95 12.426c-1.15 0-2.08-.932-2.08-2.08 0-1.15.93-2.083 2.08-2.083s2.082.932 2.082 2.082-.933 2.08-2.083 2.08zM6.075 4.714c-.977 0-1.784.213-2.486.7V.594H0V15.78h3.526v-.998c.85.787 1.763 1.148 2.89 1.148 2.74 0 4.99-2.423 4.99-5.566 0-3.334-2.336-5.65-5.33-5.65zm-.382 7.74c-1.15 0-2.08-.932-2.08-2.082s.93-2.08 2.08-2.08 2.082.93 2.082 2.08-.932 2.082-2.082 2.082z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("blockquote.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path d="M15 10.47h1.7v4.3h-4.4v-3.75c0-2.78.63-5.3 4.39-5.52v2.22c-1.26 0-1.69.88-1.69 2.75zm-7 0h1.7v4.3H5.3v-3.75c0-2.78.63-5.3 4.39-5.52v2.22C8.43 7.72 8 8.6 8 10.47z"/><path d="M20.09 1.91v18.18H1.91V1.91h18.18M22 0H0v22h22V0z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("bts.svg",'<svg viewBox="0 0 480 192" xmlns="http://www.w3.org/2000/svg"><path d="M480 5.326H5.323V192H0V0h480v5.326zM33.49 82.383V34.007h20.83c12.348 0 16.216 7.292 16.216 13.285 0 5.85-3.273 9.387-6.025 10.542 3.423.794 7.663 4.91 7.663 10.614 0 7.798-4.984 13.935-17.11 13.935h-21.57zm9.895-20.65v12.275h11.53c5.132 0 7.438-2.24 7.438-6.282 0-3.466-2.454-5.993-7.513-5.993H43.385zm9.82-19.35h-9.82v11.624H53.8c4.388 0 6.99-1.877 6.99-6.137 0-3.105-2.23-5.488-7.586-5.488zm26.953-8.376h35.26v8.375H90.052v10.326h23.655v8.375H90.052v12.925h25.738v8.375H80.158V34.007zm85.87 48.376h-9.82V61.01H134.04v21.373h-9.893V34.007h9.894v18.628h22.17V34.007h9.82v48.376zm20.63 0h-9.893V34.007h9.894v48.376zm20.484-24.116v24.116h-9.745V34.007h9.596l17.48 26.065c2.68 4.044 4.092 6.354 5.208 8.015h.076c-.074-1.805-.148-5.92-.148-9.46v-24.62h9.744v48.376h-9.595L212.2 56.823c-2.008-2.96-4.165-6.498-5.133-8.014h-.074c.074 1.803.15 5.92.15 9.456zm42.948-24.26h15.844c19.043 0 26.184 11.625 26.184 24.332 0 15.522-9.15 24.042-26.11 24.042H250.09V34.007zm16.216 8.375h-6.546v31.626h6.546c10.19 0 15.92-4.116 15.92-15.67 0-11.262-6.175-15.956-15.92-15.956zM55.798 161.014h-9.92v-42.34H29.77v-8.866h42.138v8.865h-16.11v42.34zm64.464 0h-9.845v-22.622H88.193v22.622h-9.92v-51.206h9.92v19.718h22.224v-19.718h9.845v51.206zm10.766-51.206h35.35v8.865h-25.43v10.93h23.716v8.865h-23.717v13.68h25.805v8.866h-35.724v-51.206zm75.08 18.954l6.564 2.522c7.98 3.057 11.783 7.413 11.783 15.285 0 9.093-6.935 15.82-18.495 15.82-5.594 0-11.038-1.377-15.215-4.05v-9.784h.746c2.836 2.675 8.877 4.815 13.576 4.815 6.786 0 9.47-3.21 9.47-6.572 0-3.67-2.236-5.35-6.785-7.11l-6.413-2.368c-6.04-2.293-11.486-6.115-11.486-14.675 0-7.337 6.714-14.215 17.75-14.215 5.67 0 10.293 1.834 12.605 3.44v9.553h-.745c-2.388-2.14-6.937-3.975-11.785-3.975-4.997 0-7.905 2.293-7.905 5.12 0 3.364 1.79 4.587 6.34 6.192zm64.39 19.412h.746v9.707c-3.58 2.677-9.1 4.51-16.26 4.51-15.735 0-26.55-11.463-26.55-26.98 0-15.513 11.337-26.977 26.55-26.977 6.34 0 12.083 2.063 15.365 4.51v9.63h-.748c-3.58-3.134-8.8-5.122-14.17-5.122-9.397 0-17.08 7.797-17.08 17.96 0 11.237 8.727 17.886 17.08 17.886 6.264 0 11.41-1.68 15.065-5.12zm8.603-38.366h35.353v8.865H289.02v10.93h23.717v8.865H289.02v13.68h25.805v8.866H279.1v-51.206zm53.876 25.68v25.526h-9.77v-51.206h9.62l17.527 27.59c2.685 4.28 4.102 6.726 5.22 8.484h.075c-.075-1.91-.15-6.268-.15-10.012v-26.062h9.77v51.206h-9.62l-17.6-27.055c-2.015-3.136-4.178-6.88-5.147-8.486h-.074c.075 1.91.15 6.267.15 10.012zm43.06-25.68h35.35v8.865h-25.432v10.93h23.716v8.865h-23.717v13.68h25.805v8.866h-35.724v-51.206zm57.75 18.954l6.563 2.522c7.98 3.057 11.783 7.413 11.783 15.285 0 9.093-6.936 15.82-18.496 15.82-5.593 0-11.038-1.377-15.214-4.05v-9.784h.746c2.833 2.675 8.874 4.815 13.572 4.815 6.788 0 9.473-3.21 9.473-6.572 0-3.67-2.238-5.35-6.787-7.11l-6.414-2.368c-6.04-2.293-11.485-6.115-11.485-14.675 0-7.337 6.71-14.215 17.75-14.215 5.667 0 10.29 1.834 12.603 3.44v9.553h-.745c-2.387-2.14-6.936-3.975-11.784-3.975-4.995 0-7.904 2.293-7.904 5.12 0 3.364 1.79 4.587 6.34 6.192z" fill="#FFF"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("calendar.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 21.98"><path d="M18.18 3.64V0h-1.91v3.64H5.73V0H3.82v3.64H0V22h22V3.64zm1.91 16.43H1.91V5.55h18.18z"/><path d="M7.18 17.3h1.43v-.65h4.77v.65h1.43v-.65h2.77v-1.43h-2.76v-1.7h2.77v-1.44h-2.77V10.4h2.77V9h-2.77v-.68h-1.43V9H8.61v-.68H7.18V9H4.42v1.4h2.76v1.68H4.42v1.43h2.76v1.7H4.42v1.43h2.76zm1.43-6.9h4.77v1.68H8.61zm0 3.11h4.77v1.7H8.61z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("checkmark.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 16.2"><path d="M8.83 16.2L0 7.97l2.06-2.21 6.62 6.17L19.79 0 22 2.06 8.83 16.2"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("checky.svg",'<svg width="11" height="11" viewBox="0 0 11 11" xmlns="http://www.w3.org/2000/svg"><path fill="#27F145" d="M0 0h11v11H0z"/><path fill="#FFF" d="M4.764 5.9l-2-2L1.35 5.314l3.414 3.414 4.914-4.914L8.264 2.4"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("circle.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="64 0 20 20"><circle cx="74" cy="10" r="9"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("clear_downvotes.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22.24 22.9"><path d="M10.9 16.73c-1.08 2.74-1.9 4.14-2.38 4.14-.95-.54.25-3.36.7-4.43a4.29 4.29 0 0 0 .48-1.51 2.61 2.61 0 0 0-2.61-2.39H3c-.27 0-.37-.1-.37-.32 0-.43.75-2.6 1.62-5.12L2.67 5.53a47.05 47.05 0 0 0-2 6.65A2.29 2.29 0 0 0 3 14.54h4.1a.78.78 0 0 1 .6.36c-.06.17-.2.5-.31.77-.82 1.93-2.34 5.53.16 6.95a2.13 2.13 0 0 0 1.06.29 2 2 0 0 0 .69-.12c1.5-.53 2.43-2.62 3.49-5.31.16-.42.37-.92.54-1.31l-1.48-1.48a15.53 15.53 0 0 0-.95 2.04zm3.38-13.12v7.88l2 2V1.61H5.72a2.36 2.36 0 0 0-1.05.26l1.74 1.74zm3.1-2.08h4.86v12.96h-4.86zM-.007 1.41L1.407-.002l20.485 20.485-1.415 1.414z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("clear_upvotes.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22.24 22.9"><path d="M11.34 6.17C12.42 3.43 13.2 2 13.72 2c.95.54-.25 3.36-.7 4.43A4.29 4.29 0 0 0 12.55 8a2.61 2.61 0 0 0 2.61 2.39h4.1c.27 0 .37.1.37.32 0 .43-.75 2.6-1.62 5.12l1.57 1.57a47.05 47.05 0 0 0 2-6.65 2.29 2.29 0 0 0-2.37-2.37h-4.1a.78.78 0 0 1-.6-.36c.06-.17.2-.5.31-.77.82-1.93 2.34-5.53-.16-6.95a2.13 2.13 0 0 0-1-.3 2 2 0 0 0-.66.12c-1.5.53-2.43 2.63-3.49 5.31-.16.42-.37.92-.54 1.31l1.48 1.48a15.53 15.53 0 0 0 .89-2.05zM8 19.29v-7.88l-2-2v11.88h10.52a2.36 2.36 0 0 0 1.05-.29l-1.74-1.74zM0 8.4h4.86v12.96H0zm.34-5.982l1.414-1.414L22.24 21.488l-1.415 1.415z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("clock.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path d="M16.27 13.45L12 10.58V4.46H9.76v7.25L15 15.25z"/><path d="M11 2a9 9 0 1 1-9 9 9 9 0 0 1 9-9m0-2a11 11 0 1 0 11 11A11 11 0 0 0 11 0z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("comment.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.2 22"><path d="M19.29 1.91v11.46H7.69l-.57.7L5 16.64v-3.27H1.91V1.91h17.38M21.2 0H0v15.28h3.12V22l5.48-6.72h12.6V0z"/><path d="M4.14 4.29h12.93V6.2H4.14zm0 4.09h12.93v1.91H4.14z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("deconstructed.svg",'<svg viewBox="0 0 402 35" xmlns="http://www.w3.org/2000/svg"><path d="M345.13 8.67h-2v8.67h2v8.64h-2v7.846h23.565V28.12h-17.02v-2.13h2v-6.667h15.643V17.31h-2v-3.695h-15.644V8.68h2V6.592h16.775V.885h-23.32V8.67zm-21.35 0h-2v8.67h2v8.64h-2v7.846h6.544V25.99h2v-8.68h-2V8.68h2V6.592h10.626V.885h-27.795v5.707h10.626V8.67zm-38.954 0h-2.03c-1.367 2.517-2.134 5.46-2.142 8.67h2c.004 3.2.74 6.133 2.083 8.64h-2.016c2.836 5.32 8.39 8.73 15.45 8.73 4.72 0 8.362-1.18 10.723-2.9v-5.83h-.976c-2.373 1.93-5.59 2.877-9.453 2.877-2.672 0-5.4-1.006-7.504-2.867h2.033c-2.253-1.977-3.796-4.93-3.796-8.674v-.006h-2c.02-3.485 1.456-6.535 3.72-8.63h2.06c1.994-1.8 4.62-2.875 7.486-2.875 3.29 0 6.493 1.103 8.824 2.875h1.015V2.902C308.137 1.328 304.35 0 300.168 0c-6.797 0-12.42 3.384-15.342 8.67zm-8.845.01v8.59h2v4.916c0 1.366-.15 2.66-.44 3.804h-2.003c-1.474 5.805-6.47 8.72-12.838 8.72-6.414 0-11.35-2.92-12.8-8.73h2c-.285-1.14-.434-2.432-.434-3.794V17.34h-2V8.67h2V.885h6.543V8.68h-2v8.59h2v4.572c0 1.68.337 3.09.973 4.148h-1.994c1.095 1.817 3.07 2.72 5.71 2.72 2.645 0 4.64-.906 5.75-2.73h2.006c.64-1.058.983-2.463.983-4.138V17.34h-2V8.67h2V.885h6.542V8.68h-2zm-75.824-.01h-2v8.67h2v8.64h-2v7.846h6.543V25.99h2v-8.68h-2V8.68h2V6.592h10.625V.885H189.53v5.707h10.625V8.67zm-34.667 0h-2.004c-.008.143-.012.287-.012.43 0 4.21 2.062 6.655 4.794 8.24h2.123c.84.47 1.74.865 2.66 1.205l4.23 1.526c3 1.133 4.477 2.215 4.477 4.577 0 .455-.078.906-.243 1.334h-1.99c-.608 1.623-2.457 2.927-6.014 2.927-2.996 0-6.818-1.286-8.758-2.926h-.69v6.125c2.756 1.722 6.348 2.607 10.037 2.607 6.973 0 11.396-3.62 12.1-8.72h1.995c.07-.485.103-.982.103-1.492 0-3.16-.977-5.442-2.99-7.188h-2.082c-1.203-1.03-2.766-1.873-4.7-2.603l-4.33-1.638c-3-1.042-4.182-1.836-4.182-4.02 0-.125.01-.248.027-.37h2.01c.274-1.62 2.142-2.875 5.18-2.875 3.197 0 6.2 1.18 7.772 2.558h.492v-6.15C183.97 1.182 180.92 0 177.18 0c-7.032 0-11.403 4.132-11.692 8.67zm-7.378.01v8.63h2v8.68h-2v7.836h-6.345l-5.23-7.846h2.02l-5.76-8.64h-2.047l-.593-.897c-1.328-2.034-2.755-4.465-3.394-5.507h-.05c.05 1.22.098 3.972.1 6.374h2v8.68h-2v7.836h-6.445V25.98h2v-8.64h-2V8.67h2V.885h6.346l5.075 7.795h-1.966l5.57 8.63h2.046l.836 1.285c1.77 2.755 2.706 4.33 3.444 5.46h.05c-.05-1.23-.1-4.034-.1-6.444v-.27h-2V8.67h2V.885h6.445V8.68h-2zm63.396-.01V.885h12.938c6.067 0 9.743 3.348 10.8 7.795h-1.988c.203.88.306 1.804.306 2.752 0 2.245-.513 4.222-1.467 5.838h1.958c-1.22 2.01-3.143 3.447-5.625 4.13l3.517 4.59h-1.992l5.675 7.344v.492h-7.133l-5.852-7.846h1.993l-2.947-3.99h-3.64v4h-2v7.836h-6.543V25.98h2v-8.64h-2V8.67h2zm4.542.01v8.01h5.61c3.787 0 5.36-2.28 5.36-5.258 0-1.045-.248-1.988-.75-2.762h1.965c-.865-1.28-2.448-2.078-4.773-2.078h-5.412V8.68h-2zM63.7 8.67C66.62 3.384 72.24 0 79.037 0c4.182 0 7.97 1.328 10.135 2.902V8.68h-1.015c-2.33-1.772-5.535-2.875-8.824-2.875-2.867 0-5.492 1.074-7.486 2.875h-2.06c-2.264 2.095-3.7 5.145-3.72 8.63h2v.006c0 3.744 1.543 6.697 3.796 8.674H69.83c2.103 1.86 4.832 2.867 7.504 2.867 3.862 0 7.08-.946 9.453-2.877h.976v5.83c-2.36 1.72-6.002 2.9-10.725 2.9-7.056 0-12.612-3.41-15.446-8.73h2.016c-1.342-2.507-2.08-5.44-2.083-8.64h-2c.008-3.21.775-6.153 2.143-8.67h2.03zm-28.738 0V.885H58.28v5.707H41.503V8.68h-2v4.935h15.644v3.695h2v1.973H41.503v6.707h-2v2.13h17.02v5.706H32.96V25.98h2v-8.64h-2V8.67h2zm65.434.01c-2.2 2.126-3.5 5.206-3.53 8.59h2v.046c0 3.417 1.36 6.555 3.62 8.674H94.44h6.045c1.904 1.786 4.447 2.877 7.35 2.877 2.902 0 5.444-1.09 7.35-2.877h2.01c2.247-2.114 3.603-5.238 3.61-8.64h-2c-.012-3.417-1.32-6.53-3.54-8.67h7.94c1.358 2.5 2.124 5.417 2.142 8.6h2v.046c0 3.197-.756 6.168-2.117 8.674h-2.006c-2.892 5.315-8.505 8.72-15.39 8.72-6.89 0-12.505-3.41-15.395-8.73h2c-1.36-2.5-2.116-5.462-2.12-8.65h-2c.007-3.21.775-6.153 2.143-8.67h2.03c2.92-5.286 8.544-8.67 15.34-8.67 6.8 0 12.426 3.388 15.347 8.68h-7.962c-1.888-1.784-4.427-2.875-7.384-2.875-2.957 0-5.496 1.09-7.384 2.875h-2.056zm-72.6 8.59h2v.144c0 3.33-.598 6.225-1.77 8.576H26.02c-2.552 5.113-7.81 7.836-15.492 7.836H0V25.98h2v-8.64H0V8.67h2V.885h10.478c8.028 0 12.858 3.22 15.304 7.795h-1.97c1.34 2.553 1.954 5.522 1.982 8.59zm-7.937-8.6c-1.79-1.425-4.22-2.078-7.134-2.078h-4.33V8.68h-2v8.59h2v8.72h-2v2.13h4.33c3.2 0 5.736-.633 7.515-2.14h2.01c1.963-1.668 3.003-4.44 3.003-8.566v-.074h-2c-.028-4.12-1.226-6.943-3.33-8.67h1.935zm378.153.01c1.345 2.556 1.962 5.528 1.99 8.6h2v.144c0 3.33-.6 6.225-1.77 8.576h-2.005c-2.552 5.113-7.81 7.836-15.492 7.836h-10.528V25.99h2v-8.64h-2V8.68h6.395v8.6h2V26h-2v2.13h4.33c3.2 0 5.735-.633 7.514-2.14h2.012c1.96-1.668 3-4.44 3-8.566v-.074h-2c-.028-4.12-1.226-6.943-3.33-8.67h9.862C397.54 4.104 392.71.885 384.684.885h-10.48V8.68h6.396V6.592h4.33c2.92 0 5.354.656 7.144 2.088h5.937z" fill="#FFF" fill-rule="evenodd"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("down_arrow.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.32 10.91"><path d="M10.66 10.91L0 1.5 1.32 0l9.34 8.24L20 0l1.32 1.5-10.66 9.41"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("drag.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 8.22"><path d="M0 0h22v1.99H0zm0 6.24h22v1.99H0z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("envelope.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 15.34"><path d="M0 0v15.34h22V0zm12.32 8.2L11 9.47 9.68 8.2 8.3 6.88l-5.18-5h15.76l-5.18 5zm-5.5-.1L1.9 12.17v-8.8zm1.39 1.32L11 12.1l2.79-2.68 4.86 4H3.35zm7-1.33l4.89-4.72v8.8z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("expand.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.21 19.28"><path d="M17.21 11.21v4.61L3.36 2h4.42V0H0v8.07h2V3.46l13.85 13.83h-4.42v2h7.78v-8.08h-2"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("external.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.56 10.51"><path d="M2.49 0v2h4.6L0 9.09l1.41 1.42 7.15-7.15v4.42h2V0H2.49"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("eye.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 15.45"><path d="M11 2c4 0 7.26 3.85 8.6 5.72-1.34 1.87-4.6 5.73-8.6 5.73S3.74 9.61 2.4 7.73C3.74 5.86 7 2 11 2m0-2C4.45 0 0 7.73 0 7.73s4.45 7.73 11 7.73 11-7.73 11-7.73S17.55 0 11 0z"/><path d="M11 5a2.73 2.73 0 1 1-2.73 2.73A2.73 2.73 0 0 1 11 5m0-2a4.73 4.73 0 1 0 4.73 4.73A4.73 4.73 0 0 0 11 3z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("eye_cross.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 21.08"><path d="M1.71 0L.35 1.36l19.72 19.72 1.38-1.38L1.71 0M11 16.42c-4.09 0-7.37-3.94-8.7-5.8a19.31 19.31 0 0 1 2.81-3.17L3.75 6.09A21 21 0 0 0 0 10.62s4.45 7.73 11 7.73a9.16 9.16 0 0 0 4-1l-1.44-1.45a7 7 0 0 1-2.56.52zm0-11.61c4.09 0 7.37 3.93 8.7 5.8a19.64 19.64 0 0 1-2.81 3.17l1.37 1.37A21 21 0 0 0 22 10.62s-4.45-7.73-11-7.73a9.16 9.16 0 0 0-4 1l1.43 1.44A7 7 0 0 1 11 4.81z"/><path d="M12.62 15L11 13.3a2.79 2.79 0 0 1-2.7-2.67L6.64 9a4.68 4.68 0 0 0 6 6zm2.82-2.66a4.73 4.73 0 0 0-6.19-6.19l1.58 1.58h.25a2.81 2.81 0 0 1 2.8 2.8v.25z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("facebook.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.95 20"><path d="M8.09 3.81c-1.4 0-1.58.84-1.58 1.67v1.3h3.35L9.49 11h-3v9H2.33v-9H0V6.88h2.42V3.81C2.42 1.3 3.81 0 6.6 0H10v3.81z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("fact_track_icon.svg",'<svg viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg"><path fill-opacity=".502" d="M10.895 2h36.923v36.48H10.895z"/><path d="M2 11.338h36.923v36.48H2z"/><path d="M27.244 29.815l-11.887 6.71v-13.42l11.887 6.71z" fill="#FFF"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("fire.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 26"><path fill="#FF1464" d="M4 3c2.95 1 6.84 8.93 6.84 8.93.94-1.645 1.29-3.56 1-5.43C15.068 9.46 16.934 13.62 17 18c-.12 7-8.85 8.05-8.85 8.05.926-.702 1.554-1.726 1.76-2.87.29-1.8-2.58-3.8-2.58-3.8-2.48 4.15-1.07 6.67-1.07 6.67S0 23.1 0 19.24c0-3.86 4.22-7.75 4.62-10.79C4.828 6.61 4.616 4.747 4 3zm2.58 5.51h-.02v.17c-.393 1.918-1.187 3.73-2.33 5.32C3.13 15.77 2 17.65 2 19.25c0 1 .88 2.07 2 3 .313-1.383.86-2.702 1.62-3.9l1.1-1.84 1.84 1.2c.59.45 3.29 2.48 3.44 5 1.808-.915 2.963-2.754 3-4.78-.01-2.238-.607-4.434-1.73-6.37-.19.5-.426.98-.7 1.44l-1.89 3.1-1.62-3.29c-.736-1.484-1.565-2.92-2.48-4.3z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("flag.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.48 23.01"><path d="M16 3.93C13.56 2 11.09 2.38 8.91 2.72a9.31 9.31 0 0 1-3.8.08L5.5.31 3.52 0 2 9.55l-.28 1.59-.1.59L0 22.71 2 23l1.54-10.05a9.43 9.43 0 0 0 5.68.36 7.87 7.87 0 0 1 4.43.13l1.17.51.18-1.27c.45-2.67.89-5.28 1.34-7.79l.1-.59zm-2.75 7.28a11.57 11.57 0 0 0-4.34.11c-1.84.29-3.45.53-5.05-.46L4 9.93c.29-1.67.58-3.38.88-5.12a11.54 11.54 0 0 0 4.34-.11c1.85-.29 3.46-.54 5.07.47q-.52 2.95-1.04 6.05z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("gear.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 21.68"><path d="M8.79 21.68l-3-1.09v-2.95l-.47-.41-2.9.5-1.65-2.78 1.86-2.27-.11-.62L0 10.61l.55-3.22 2.91-.51.31-.54-1-2.75 2.46-2.07L7.8 3l.59-.21L9.4 0h3.23l1 2.78.59.22 2.53-1.49 2.48 2.09-1 2.78.3.54 2.9.5.57 3.18-2.52 1.48-.11.62 1.86 2.24-1.58 2.82-2.92-.51-.48.4v2.93l-3 1.09-1.89-2.24h-.63zm1-4.15h2.4l1.61 1.9.53-.19v-2.49l1.85-1.53 2.45.43.28-.5-1.58-1.91.42-2.36 2.15-1.26-.09-.55-2.47-.43-1.17-2.08.83-2.35-.44-.37-2.15 1.26-2.27-.84-.85-2.36h-.56l-.86 2.37-2.26.79-2.16-1.23L5 4.2l.86 2.33-1.2 2.08L2.2 9l-.1.58 2.14 1.23.42 2.36-1.58 1.97.28.48 2.47-.43 1.8 1.57v2.48l.53.19zM11 15.27a4.37 4.37 0 1 1 4.37-4.37A4.37 4.37 0 0 1 11 15.27zm0-6.82a2.46 2.46 0 1 0 2.46 2.46A2.43 2.43 0 0 0 11 8.44z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("google.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.59 19"><path d="M9.5 8.14v3.26h5.43a5.21 5.21 0 0 1-5.43 4.07 5.91 5.91 0 0 1-5.84-6 5.91 5.91 0 0 1 5.84-6A5.23 5.23 0 0 1 13.3 5l2.58-2.44A8.8 8.8 0 0 0 9.5 0 9.44 9.44 0 0 0 0 9.5 9.44 9.44 0 0 0 9.5 19c5.43 0 9.09-3.8 9.09-9.23a6.08 6.08 0 0 0-.14-1.63z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("hamburger.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14.46"><path d="M0 0h22v1.99H0zm0 6.24h22v1.99H0zm0 6.23h22v1.99H0z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("instagram.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 0c2.724 0 3.062 0 4.125.06.83.017 1.65.175 2.426.467.668.254 1.272.65 1.77 1.162.508.498.902 1.1 1.153 1.768.292.775.45 1.595.467 2.424.06 1.063.06 1.41.06 4.123 0 2.712-.06 3.06-.06 4.123-.017.83-.175 1.648-.467 2.424-.52 1.34-1.58 2.402-2.922 2.92-.776.293-1.596.45-2.425.468-1.063.06-1.41.06-4.125.06-2.714 0-3.062-.06-4.125-.06-.83-.017-1.65-.175-2.426-.467-.668-.254-1.272-.65-1.77-1.162-.508-.498-.902-1.1-1.153-1.768-.292-.775-.45-1.595-.467-2.424C0 13.055 0 12.708 0 9.995c0-2.712 0-3.04.06-4.123.017-.83.175-1.648.467-2.424.25-.667.645-1.27 1.153-1.77.5-.507 1.103-.9 1.77-1.15C4.225.234 5.045.077 5.874.06 6.958 0 7.285 0 10 0zm0 1.798h.01c-2.674 0-2.992.06-4.046.06-.626.02-1.245.15-1.83.377-.434.16-.828.414-1.152.746-.337.31-.602.69-.775 1.113-.222.595-.34 1.224-.348 1.858-.06 1.064-.06 1.372-.06 4.045s.06 2.99.06 4.044c.007.633.125 1.262.347 1.857.17.434.434.824.775 1.142.31.33.692.587 1.113.754.596.222 1.224.34 1.86.348 1.063.06 1.37.06 4.045.06 2.674 0 2.992-.06 4.046-.06.635-.008 1.263-.126 1.86-.348.87-.336 1.56-1.025 1.897-1.897.217-.593.332-1.218.338-1.848.06-1.064.06-1.372.06-4.045s-.06-2.99-.06-4.044c-.01-.623-.128-1.24-.347-1.827-.16-.435-.414-.83-.745-1.152-.318-.34-.71-.605-1.143-.774-.596-.222-1.224-.34-1.86-.348-1.063-.06-1.37-.06-4.045-.06zm0 3.1c1.355 0 2.655.538 3.613 1.496.958.958 1.496 2.257 1.496 3.61 0 2.82-2.288 5.108-5.11 5.108-2.822 0-5.11-2.287-5.11-5.107 0-2.82 2.288-5.107 5.11-5.107zm0 8.415c.878 0 1.72-.348 2.34-.97.62-.62.97-1.46.97-2.338 0-1.827-1.482-3.31-3.31-3.31s-3.31 1.483-3.31 3.31 1.482 3.308 3.31 3.308zm6.51-8.633c0 .658-.533 1.192-1.192 1.192-.66 0-1.193-.534-1.193-1.192 0-.66.534-1.193 1.193-1.193.316 0 .62.126.844.35.223.223.35.526.35.843z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("irl.svg",'<svg viewBox="0 0 200 150" xmlns="http://www.w3.org/2000/svg"><path d="M78.994 97.704H72.02v51.272H42.448V0h42.354c35.354 0 50.474 24.013 50.474 48.028 0 17.995-8.736 38.066-27.686 46.085l27.868 54.862h-30.42l-26.044-51.27zm65.208 51.27V0h29.573v123.183H200v25.792h-55.798zM72.02 72.71h11.004c13.18 0 22.68-10.228 22.68-24.68 0-12.45-7.784-22.235-24.904-22.235h-8.78V72.71zM0 148.975V0h29.573v148.975H0z" fill="#FFF" fill-rule="evenodd"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("left_arrow.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.87 21.32"><path d="M9.37 21.32L0 10.66 9.37 0l1.5 1.32-8.21 9.34L10.87 20l-1.5 1.32"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("lightning.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.37 22"><path d="M0 7l6.16-7 3.3 7H6.89S5.5 12.1 5.5 12.17h5.87L6.09 22l.66-7H.88l2.89-8z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("line_graph.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 13.91"><path d="M2.93 13.91L0 11.45l7.72-9.19 6.18 4.15L19.01 0 22 2.38l-7.31 9.17-6.25-4.19-5.51 6.55"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("lock.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17.08 22"><path d="M15.08 10.86V20H2v-9.14h13.08M8.54 0a6.31 6.31 0 0 0-6.31 6.31v2.55H0V22h17.08V8.86h-2.23V6.31A6.31 6.31 0 0 0 8.54 0zM4.63 8.86V6.31a3.91 3.91 0 0 1 7.81 0v2.55z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("logo.svg",'<svg viewBox="0 0 124 17" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M13.778 2.823l-.1-.1c-.908-.908-2.118-1.446-3.462-1.446-1.344 0-2.588.538-3.462 1.445-.235.235-.436.504-.638.773 0 .033-.034.033-.034.067 0 .067.068.134.135.134h.067c.57-.2 1.176-.336 1.815-.336 1.41 0 2.72.572 3.66 1.48.033.033.067.033.1.033h1.85c.066 0 .133-.068.133-.135V2.924c-.034-.034-.034-.068-.067-.1zm-.1 5.813h-1.884c-.973 0-1.78-.74-1.847-1.714 0-.067-.067-.134-.135-.134-.403.034-.772.202-1.075.47-.033 0-.033.034-.067.034l-.034.034v.033l-.033.03-.034.035-.036.033-.034.033-.033.034s0 .034-.033.034l-.034.035s0 .033-.033.033l-.033.034s0 .033-.034.033c0 0 0 .034-.033.034 0 0 0 .032-.034.032 0 0 0 .032-.034.032 0 0 0 .034-.036.034 0 0 0 .032-.034.032v.708c.035 1.007.84 1.814 1.85 1.814h1.344c.067 0 .134.067.134.134v.504c0 .067.066.135.133.135h.036c.807-.168 1.546-.538 2.15-1.042.034-.033.068-.066.068-.1v-.64.035-.607c-.034-.1-.1-.168-.168-.168z"/><path d="M13.576 14.18h-.033c-.94.37-2.017.572-3.092.572-4.702 0-8.533-3.83-8.533-8.535 0-1.11.202-2.15.572-3.092v-.067c0-.034-.068-.1-.136-.1-.033 0-.1.033-.1.066C.84 4.436 0 6.418 0 8.57c0 4.468 3.63 8.098 8.1 8.098 2.183 0 4.132-.84 5.577-2.218.034-.034.067-.067.067-.1 0-.102-.067-.17-.168-.17zm17.206-3.964h4.47c1.04 0 1.78-.706 1.78-1.68v-.17c0-.066-.067-.167-.168-.167h-6.082c-.068 0-.168.065-.168.165v1.714c.033.07.1.135.168.135zm6.485-8.436h-6.485c-.068 0-.168.068-.168.17v1.713c0 .067.067.168.168.168h4.84c1.04 0 1.78-.703 1.78-1.68v-.233c.033-.067-.034-.134-.135-.134z"/><path d="M37.267 14.65h-7.662c-1.243 0-1.982-.704-1.982-1.98V.47c0-.067-.067-.168-.168-.168-1.412.034-2.218.908-2.218 2.32V14.35c0 1.443.874 2.317 2.32 2.317h8.064c1.078 0 1.817-.706 1.817-1.714v-.168c0-.067-.067-.135-.168-.135zm15.123-.032c-.707-.168-1.143-.773-1.143-1.58V.538c0-.068-.034-.1-.068-.135h-.036c-.135-.067-.336-.067-.47-.067-1.11 0-1.85.773-1.85 1.95V14.72c0 1.174.74 1.947 1.85 1.947 1.075 0 1.814-.74 1.814-1.882 0-.067-.035-.135-.1-.168zm10.248.032c-.1 0-.235.035-.302.035-1.143.034-1.714-.538-2.218-1.378l-5.612-9.375c-.033-.034-.067-.068-.134-.068s-.168.068-.168.17V9.24l3.562 5.882c.47.806 1.11 1.546 2.52 1.546 1.31 0 2.184-.64 2.487-1.815v-.067c0-.067-.067-.135-.135-.135zm-1.176-4.838c.068 0 .168-.067.168-.168V.538c0-.068-.033-.135-.1-.135-.135-.033-.337-.067-.437-.067-1.11 0-1.85.773-1.85 1.95v3.93l2.12 3.496c0 .067.066.1.1.1zm16.366 4.806c-.74-.168-1.143-.74-1.143-1.58V.538c0-.068-.067-.135-.134-.135-.165-.067-.3-.067-.434-.067-1.11 0-1.848.773-1.848 1.95V14.72c0 1.174.74 1.947 1.848 1.947 1.075 0 1.814-.74 1.814-1.882v-.034c.033-.065-.034-.1-.1-.132zm23.22-.638c-.033 0-.067 0-.067.033l-.064.034c-.907.436-1.95.638-3.125.638-2.017 0-3.596-.605-4.705-1.747-1.143-1.21-1.747-2.99-1.747-5.31V.438c0-.068-.068-.136-.135-.136-.168-.033-.302-.067-.437-.067-1.11 0-1.848.773-1.848 1.95v7.09c0 4.704 2.487 7.426 6.788 7.426 2.352 0 4.234-.84 5.377-2.383l.033-.067c.034-.034.034-.068.034-.1.065-.1 0-.17-.103-.17z"/><path d="M101.15.27c-.17-.035-.303-.068-.438-.068-1.11 0-1.848.773-1.848 1.95v7.19c0 .907-.134 1.68-.403 2.25v.103c0 .068.07.168.17.168h.068c1.714-.336 2.587-1.747 2.587-4.167V.436c-.033-.1-.067-.134-.134-.167zm15.928 9.643l1.713.303c1.85.336 2.05 1.008 2.05 1.512v.034c0 .067.07.168.17.168h.035c1.378-.168 2.218-.874 2.218-1.85 0-.94-.772-1.544-2.352-1.847L119.2 7.93c-4-.74-4.84-2.89-4.84-4.57 0-.87.236-1.68.706-2.35l.068-.067c0-.033.035-.033.035-.066 0-.067-.067-.168-.168-.168h-.068l-.067.032c-1.85.84-2.924 2.42-2.924 4.3.034 2.52 1.848 4.27 5.14 4.874zm6.586 4.033h-.034l-.067.033c-.974.434-2.117.67-3.394.67-2.02 0-3.8-.605-5.447-1.815-.437-.336-.672-.74-.672-1.21 0-.067-.032-.134-.1-.134-.17-.033-.336-.067-.504-.067-.537 0-1.04.27-1.378.74-.303.403-.437.873-.404 1.344.067.503.336.94.807 1.276 1.715 1.277 3.563 1.882 5.646 1.882 2.553 0 4.637-.874 5.678-2.42l.034-.067c0-.034.034-.067.034-.067-.034-.1-.1-.167-.202-.167z"/><path d="M117.38 3.16c0 .066.067.133.134.133h.27c1.377 0 2.15.37 3.057 1.042.37.302.81.437 1.21.437.54 0 1.045-.27 1.38-.74.27-.336.404-.74.404-1.176 0-.067-.034-.134-.1-.134-.202-.067-.404-.168-.606-.302-.974-.706-1.814-1.11-3.26-1.11-1.478 0-2.52.706-2.486 1.714-.033.034 0 .1 0 .135z"/></g></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("magnifying_glass.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.48 21.59"><path d="M21.48 20.18L14.8 13.5a8.38 8.38 0 1 0-1.43 1.4l6.69 6.69zM2 8.31a6.32 6.32 0 1 1 6.32 6.32A6.32 6.32 0 0 1 2 8.31z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("new_message.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22.28 22.73"><path d="M16.58 20.73H2V6.15h9.07l2-2H0v18.58h18.58V8.75l-2 2v9.98z"/><path d="M18.65 0l-4.16 4.15-2 2L8 10.66l-1.59 5.25 5.19-1.6 5-5 2-2 3.71-3.71zm-2.07 7.38l-5.71 5.71-1.23.38-.82-.82.38-1.26 5.25-5.23 2-2L18.65 2l1.67 1.67-1.74 1.71z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("news.svg",'<svg viewBox="0 0 120 112" xmlns="http://www.w3.org/2000/svg"><path d="M22.975 80.4c1.566.362 3.85 1.448 5.954 3.822 4.01 4.53 3.68 10.734-.74 14.652-4.42 3.918-10.62 3.503-14.56-.94-1.698-1.916-2.555-4.11-2.667-5.684l2.722-2.413.193.218c-.02 1.69.723 3.713 2.25 5.433 2.49 2.81 6.595 3.057 9.492.49 3.245-2.876 2.757-7.11.596-9.55-.908-1.023-1.84-1.636-2.545-1.904l-2.982 2.644 3.242 3.658-2.44 2.162-5.596-6.315L22.97 80.4zM0 65.432l3.292-.743 2.184 9.676 4.058-.916-2.036-9.025 3.293-.742 2.04 9.025 5.08-1.147-2.216-9.82 3.29-.74 3.07 13.596-19.018 4.29L0 65.433zm20.097-13.2L18.99 55.88.336 50.22l1.09-3.593 12.037-3.493c1.863-.53 2.915-.787 3.682-1.01l.008-.028c-.704-.184-2.3-.637-3.664-1.052l-9.498-2.88 1.107-3.65 18.655 5.66-1.09 3.594-11.85 3.578c-1.37.406-2.98.8-3.674.983l-.007.03c.705.18 2.3.635 3.664 1.05l9.3 2.82zm7.854-16.996l-14.773-12.72 2.525-2.932 14.777 12.72-2.526 2.932zm3.66-13.816L26.01 10.105l3.467-1.718L34.99 19.52c1.2 2.423 3.124 2.963 5.34 1.866 2.216-1.098 2.98-2.97 1.777-5.394L36.59 4.86l3.468-1.717 5.605 11.315c2.183 4.407.283 8.108-3.758 10.11-4.067 2.014-8.11 1.258-10.294-3.148zM62.77 8.75c3.085 1.238 4.528 2.932 4.455 5.93-.084 3.46-2.852 5.954-7.36 5.844-2.182-.053-4.293-.628-5.897-1.686l.09-3.723.29.007c1.082 1.045 3.418 1.917 5.25 1.96 2.648.066 3.725-1.13 3.756-2.41.034-1.397-.823-2.058-2.582-2.77l-2.48-.962c-2.334-.93-4.422-2.437-4.343-5.695C54.014 2.453 56.7-.1 61 .003c2.21.054 3.997.796 4.884 1.43L65.8 5.067l-.29-.007c-.912-.837-2.67-1.578-4.56-1.624-1.95-.047-3.105.798-3.13 1.874-.032 1.28.654 1.763 2.414 2.416L62.77 8.75zm19.964 18.69l-2.805-2.58 13.195-14.347 2.762 2.54-2.08 12.36c-.332 1.91-.555 2.97-.687 3.757l.02.02c.473-.556 1.575-1.795 2.54-2.845l6.717-7.302 2.805 2.58-13.2 14.348-2.76-2.54 1.92-12.23c.228-1.41.572-3.03.707-3.734l-.02-.02c-.474.555-1.575 1.796-2.54 2.845l-6.58 7.15zm34.37 18.322l-3.164 1.18-3.47-9.296-3.898 1.455 3.236 8.67-3.163 1.18-3.236-8.67-4.88 1.825 3.52 9.432-3.164 1.18-4.874-13.058 18.265-6.818 4.823 12.923zm-11.87 25.55c2.944-.255 4.53-.297 6.725-.386l.01-.057c-2.016-1.007-3.4-1.755-5.937-3.11l-7.256-4.02.846-3.894L120 57.904l-.853 3.923-8.566.64c-2.385.166-4.99.225-6.93.25l-.013.057c1.63.86 4.075 2.077 6.202 3.253l7.486 4.19-.798 3.667-8.64.712c-1.235.06-5.176.245-6.896.348l-.01.057c1.57.73 4.846 2.367 6.197 3.136l7.533 4.11-.815 3.753-17.74-10.17.846-3.895 8.235-.622zm-10.497 24.73c-2.98 1.476-5.204 1.424-7.39-.625-2.526-2.37-2.543-6.094.54-9.385 1.494-1.59 3.33-2.783 5.186-3.275l2.718 2.547-.196.212c-1.5.11-3.706 1.273-4.96 2.61-1.81 1.932-1.636 3.532-.702 4.408 1.02.954 2.084.756 3.786-.08l2.37-1.21c2.25-1.122 4.763-1.677 7.14.552 2.038 1.91 2.158 5.613-.788 8.754-1.512 1.615-3.256 2.454-4.32 2.693l-2.652-2.488.2-.212c1.23-.122 2.953-.94 4.247-2.318 1.333-1.423 1.473-2.848.688-3.584-.933-.873-1.75-.682-3.41.195l-2.45 1.21zm-35.432 15.83h-.38c-7.32-.1-14.17-2.477-20.36-7.063l1.926-2.6c5.636 4.175 11.85 6.337 18.48 6.427 6.345.092 12.894-2.274 18.96-6.825l1.94 2.586c-6.524 4.894-13.626 7.474-20.563 7.474z" fill="#FFF" fill-rule="evenodd"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("news_wide.svg",'<svg viewBox="0 0 503 102" xmlns="http://www.w3.org/2000/svg"><path d="M41.768 22.15H21.376v7.876H33.19v9.633c-1.618.84-4.22 1.544-7.524 1.544-7.876 0-16.314-5.907-16.314-16.384 0-9.35 7.032-16.383 16.103-16.383 5.555 0 10.407 1.9 13.43 4.64h.704V4.29C36.562 1.97 31.22 0 25.03 0 10.688 0 0 10.548 0 24.822s10.688 24.822 25.314 24.822c7.665 0 13.29-2.39 16.454-4.64V22.15zm13.11-20.884v47.112H88.56v-8.156H64.23V27.635h22.36v-8.157H64.23V9.423h23.978V1.266h-33.33zm55.79 23.626c0-3.445-.07-7.453-.14-9.21h.07c.915 1.475 2.954 4.92 4.853 7.804l16.598 24.892h9.07V1.266h-9.21v23.978c0 3.445.07 7.454.14 9.21h-.07c-1.055-1.616-2.39-3.866-4.923-7.804L110.53 1.266h-9.072v47.112h9.21V24.892zm54.95 23.486V1.266h-9.353v47.112h9.352zm33.57 1.266c10.9 0 18.987-5.977 18.987-17.86V1.264h-9.353V31.29c0 6.54-3.656 9.775-9.633 9.775-5.98 0-9.566-3.234-9.566-9.774V1.27h-9.352v30.517c0 11.884 7.945 17.86 18.915 17.86zm46.51-30.94c-4.29-1.476-5.976-2.6-5.976-5.695 0-2.605 2.742-4.715 7.453-4.715 4.57 0 8.86 1.688 11.11 3.657h.704v-8.79C256.81 1.688 252.45 0 247.102 0c-10.407 0-16.735 6.33-16.735 13.08 0 7.875 5.132 11.39 10.83 13.5l6.045 2.18c4.29 1.617 6.4 3.164 6.4 6.54 0 3.093-2.533 6.047-8.932 6.047-4.43 0-10.124-1.97-12.796-4.43h-.704v9c3.938 2.46 9.07 3.727 14.345 3.727 10.9 0 17.44-6.188 17.44-14.556 0-7.242-3.587-11.25-11.11-14.063l-6.19-2.32zm59.55 6.188c0-3.445-.07-7.453-.14-9.21h.07c.913 1.475 2.953 4.92 4.85 7.804l16.596 24.892h9.07V1.266h-9.21v23.978c0 3.445.07 7.454.14 9.21h-.07c-1.055-1.616-2.39-3.866-4.923-7.804L305.11 1.266h-9.07v47.112h9.21V24.892zm45.595-23.626v47.112h33.682v-8.156h-24.33V27.635h22.36v-8.157h-22.36V9.423h23.98V1.266h-33.332zm86.872 47.112h9.634l14.904-47.112h-9.282l-5.836 19.9c-1.125 3.586-3.305 12.164-4.22 16.243h-.14c-1.125-4.01-3.586-13.22-4.36-16.106L432.3 1.264h-9.07l-6.047 19.83c-1.688 5.626-3.305 12.024-4.5 16.314h-.14c-1.056-4.572-2.533-10.69-4.15-16.244l-5.907-19.9h-9.703l15.048 47.112h9.636l5.766-19.196c1.9-6.68 2.954-10.337 4.29-15.61h.14c1.337 5.132 2.25 8.86 4.36 15.68l5.696 19.126zm47.987-29.674l6.188 2.32C499.414 23.84 503 27.847 503 35.09c0 8.368-6.54 14.556-17.44 14.556-5.272 0-10.406-1.266-14.343-3.727v-9h.703c2.672 2.46 8.368 4.43 12.797 4.43 6.4 0 8.93-2.956 8.93-6.05 0-3.376-2.11-4.923-6.398-6.54l-6.05-2.18c-5.696-2.11-10.83-5.625-10.83-13.5C470.37 6.33 476.7 0 487.107 0c5.344 0 9.704 1.69 11.884 3.165v8.79h-.702c-2.25-1.97-6.54-3.657-11.11-3.657-4.713 0-7.455 2.11-7.455 4.712 0 3.093 1.688 4.218 5.977 5.694zM251.46 101.99c-20.743-.284-40.152-7.018-57.686-20.01l5.454-7.362c15.96 11.827 33.574 17.954 52.355 18.21 17.975.264 36.53-6.442 53.724-19.336l5.496 7.328c-18.49 13.866-38.614 21.175-58.268 21.175-.36 0-.718-.003-1.076-.006z" fill="#FFF" fill-rule="evenodd"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("no_document.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.21 21.21"><path d="M15.2 18.02H5.14V7.96l-1.89-1.9v13.85H17.1M16.07 3.19v10.04l1.9 1.89V1.3H4.14l1.9 1.89h10.03M.008 1.418L1.422.003l19.8 19.8-1.415 1.414z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("one_document.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17.4 22"><path d="M15.47 1.92v18.16H1.92V1.92h13.55M17.4 0H0v22h17.4V0z"/><path d="M5.11 6.45h7.82v1.44H5.11zm0 8.1h7.82v1.44H5.11zm0-4.05h7.82v1.44H5.11z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("pause_transparent.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path d="M20.07 1.93v18.14H1.93V1.93h18.14M22 0H0v22h22V0z"/><path d="M6.62 6.86h2.95v8.29H6.62zm5.82 0h2.95v8.29h-2.95z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("pencil.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.94 22"><path d="M16.92 0L2.16 14.73 0 22l7.18-2.22L21.94 5zM6.16 18.09l-1.7.52-1.12-1.12.52-1.75 13.07-13L19.24 5z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("people.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 16.47"><path d="M12.55 6.76a4 4 0 1 0 0-4.59 4.41 4.41 0 0 1 0 4.59zm3.07 2.91v5.17H22V9.66l-6.38.01M7 9a4.43 4.43 0 0 0 3.87-2.23 4.41 4.41 0 0 0 0-4.59 4.47 4.47 0 0 0-8.38 2.3A4.48 4.48 0 0 0 7 9zm-7 1.35v6.12h13.89v-6.14l-6.04.01-7.85.01"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("phone.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 17"><path d="M8.7 0h.5m-.5 0H1.3C.6 0 0 .6 0 1.4v14.2c0 .8.6 1.4 1.3 1.4h7.3c.7 0 1.3-.6 1.3-1.4V1.4C10 .6 9.4 0 8.7 0zM5 16.2c-.7 0-1.2-.6-1.2-1.2 0-.7.6-1.2 1.2-1.2.7 0 1.2.6 1.2 1.2.1.7-.5 1.2-1.2 1.2zM9 13H1V3h8v10z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("pin.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.82 22"><path d="M21.82 20.62L17 15.83l3.59-3.59-3.04-3.07-3.36.12-4.1-4.1v-3L7.91 0 0 7.91l2.16 2.16 2.84.18 4.1 4.12-.1 3.36 3.08 3.08 3.59-3.59L20.43 22zM11 16.94l.12-3.36-5.27-5.24L3 8.16l-.25-.25 5.16-5.14.22.23v3l5.27 5.27 3.36-.12 1.09 1.09L12.06 18z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("play.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="#fff" d="M22 0H0v22h22V0z"/><path class="st0" d="M15.6 11L7.9 6.5v9"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("play_transparent.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path d="M20.07 1.93v18.14H1.93V1.93h18.14M22 0H0v22h22V0z"/><path d="M15.61 11L7.86 6.53v8.94L15.61 11"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("playstore.svg",'<svg width="19" height="20" viewBox="0 0 19 20" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M.692 1.462v17c0 .46.154.846.385 1.076l.077.077 9.538-9.538v-.154L1.077.385C.847.615.692 1 .692 1.462z" fill="#00D2FF"/><path d="M13.846 13.308l-3.154-3.154v-.23l3.154-3.155.077.075L17.693 9c1.076.615 1.076 1.615 0 2.23l-3.847 2.078z" fill="#FFE000"/><path d="M13.923 13.23L10.693 10l-9.616 9.615c.385.385.923.385 1.615.077l11.23-6.46" fill="#FF3A44"/><path d="M2.692.385C2 0 1.462.077 1.077.462L10.692 10l3.23-3.23L2.692.384z" fill="#06E775"/><path d="M2.692.462l15 8.538c.462.308.77.615.77 1 0-.385-.23-.77-.77-1.077l-15-8.538C1.615-.23.77.308.77 1.538v.077c0-1.23.845-1.77 1.922-1.153z" fill="#FFF" opacity=".25"/></g></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("right_arrow.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.87 21.32"><path d="M1.5 21.32L0 20l8.21-9.34L0 1.32 1.5 0l9.37 10.66L1.5 21.32"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("role_icon_contributor_equilateral_triangle.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" ><polygon points="5,1 10,9 0,9"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("role_icon_editor_square.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><rect x="1" y="1" width="8" height="8"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("role_icon_mediator_square.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><rect x="1" y="1" width="8" height="8"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("role_icon_moderator_diamond.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><polygon points="5,0 10,5 5,10 0,5"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("role_icon_staff_circle.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("sgnarly.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><path d="M31.8 108.5c.3.2.6.3 1 .3 1 0 1.8-.8 1.8-1.8 0-.2 0-.5-.1-.7-2.6-7-4-14.6-4-22.6C30.4 66 37.6 49.8 49 38l.1-.1.1-.1c.2-.3.4-.7.4-1.1v-23c0-1-.8-1.8-1.8-1.8H24.7c-.5 0-1 .3-1.3.6-.5.4-.9.9-1.4 1.3C10.9 24.9 4 40.2 4 57.2s6.9 32.3 18 43.4c2.9 3 6.2 5.6 9.8 7.9zm43-48c-1 .1-1.7.9-1.7 1.8v.4c.5 5.1 2.5 9.7 5.7 13.3l.1.1.6.6.2.2.6.6.2.2c.2.2.4.3.6.5.1.1.2.2.3.2.2.2.4.3.6.5.1.1.2.2.3.2.2.1.4.3.5.4.1.1.2.2.4.3.2.1.4.2.5.4.1.1.3.2.4.3.2.1.4.2.5.3.1.1.3.2.4.2.2.1.4.2.5.3.2.1.3.2.5.2.2.1.3.2.5.3.2.1.3.1.5.2s.3.2.5.2c.2.1.3.1.5.2s.3.1.5.2.4.1.6.2c.2.1.3.1.5.2s.4.1.6.2c.2 0 .3.1.5.1.2.1.4.1.6.1.2 0 .3.1.5.1s.4.1.7.1c.2 0 .3.1.5.1s.5.1.7.1c.1 0 .3 0 .4.1.3 0 .6 0 .8.1h2c12.7-.3 22.9-10.6 22.9-23.4v-17c0-1 .8-1.8 1.8-1.8h6.4c1 0 1.8-.8 1.8-1.8 0-.2 0-.3-.1-.5-2.1-10-6.6-19.2-12.9-26.9-.3-.4-.8-.7-1.4-.7H98.1c-1 0-1.8.8-1.8 1.8v23.6c.1 12.3-9.4 22.4-21.5 23.2z"/><path d="M169 13.7c-.3-.4-.8-.7-1.4-.7-1 0-1.8.8-1.8 1.8 0 .2 0 .4.1.6v.1c4.6 12 7.2 25.2 7.2 38.8 0 59-47.8 106.8-106.8 106.8-13.7 0-26.8-2.6-38.8-7.3-.2-.1-.4-.1-.7-.1-1 0-1.8.8-1.8 1.8 0 .6.3 1.1.7 1.4 18.2 17.4 42.8 28 69.9 28 56 0 101.4-45.4 101.4-101.4 0-27.1-10.6-51.6-28-69.8z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("share.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17.94 22"><path d="M16.03 7.39v12.7H1.91V7.39H0V22h17.94V7.39h-1.91"/><path d="M8.08 3.7v11.81h1.91V3.63l2.99 2.98 1.35-1.35L9.07 0 3.61 5.46l1.36 1.35L8.08 3.7"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("share_android.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 19.92"><path d="M15 14.08a2.91 2.91 0 0 0-2 .77L5.91 10.7A3.27 3.27 0 0 0 6 10a3.27 3.27 0 0 0-.09-.7L13 5.19A3 3 0 1 0 12 3a3.27 3.27 0 0 0 .09.7L5 7.81a3 3 0 1 0 0 4.38l7.12 4.16a2.82 2.82 0 0 0-.08.65A2.92 2.92 0 1 0 15 14.08z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("soundcloud.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 8.69"><path d="M.23 5.19a.08.08 0 0 0-.08.08L0 6.38l.15 1.1a.08.08 0 0 0 .08.08.08.08 0 0 0 .08-.08l.17-1.1-.17-1.11a.08.08 0 0 0-.08-.07zm.77-.6a.08.08 0 0 0-.17 0l-.2 1.8.2 1.76a.08.08 0 0 0 .17 0l.22-1.76L1 4.59zm3.1-1.66a.15.15 0 0 0-.1.15l-.16 3.3L4 8.52a.15.15 0 0 0 .3 0l.18-2.14-.18-3.3a.16.16 0 0 0-.15-.15zM2.54 4.08a.12.12 0 0 0-.12.12l-.17 2.18.18 2.12a.12.12 0 0 0 .23 0l.2-2.12-.2-2.19a.12.12 0 0 0-.12-.12zm3.24 4.59A.19.19 0 0 0 6 8.49l.15-2.1L6 2a.19.19 0 0 0-.37 0l-.14 4.4.14 2.1a.19.19 0 0 0 .18.18zm3.34 0a.26.26 0 0 0 .25-.25l.11-2-.11-5.11a.25.25 0 0 0-.51 0l-.1 5.08.1 2a.26.26 0 0 0 .25.25zm-1.68 0a.22.22 0 0 0 .22-.22l.13-2.07L7.65 2a.22.22 0 0 0-.44 0L7.1 6.39l.12 2.07a.22.22 0 0 0 .22.22zm-4.09 0a.14.14 0 0 0 .13-.13l.19-2.14-.19-2a.13.13 0 0 0-.27 0L3 6.38l.17 2.14a.14.14 0 0 0 .13.13zm-1.6-.14a.1.1 0 0 0 .1-.1l.21-2.05-.21-2.13a.1.1 0 0 0-.1-.1.1.1 0 0 0-.1.1l-.19 2.13.19 2.05a.1.1 0 0 0 .1.1zm6.52-6.65a.24.24 0 0 0-.27.24l-.07 4.27L8 8.44a.24.24 0 0 0 .47 0l.12-2.05-.08-4.27a.24.24 0 0 0-.24-.24zM5 8.67a.17.17 0 0 0 .17-.17l.17-2.12-.21-4.05a.17.17 0 0 0-.34 0l-.15 4.06.15 2.12a.17.17 0 0 0 .21.16zm1.84-.2l.14-2.09-.18-4.54a.2.2 0 0 0-.4 0l-.13 4.55.13 2.08a.2.2 0 0 0 .4 0zm10.7-4.71a2.46 2.46 0 0 0-1 .19 4.34 4.34 0 0 0-4.32-4 4.4 4.4 0 0 0-1.57.29c-.18.07-.23.15-.24.29v7.86a.3.3 0 0 0 .27.29h6.82a2.46 2.46 0 0 0 0-4.92zM10 .58a.27.27 0 0 0-.27.27l-.16 5.54.11 2a.27.27 0 0 0 .54 0l.12-2-.12-5.54A.27.27 0 0 0 10 .58z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("spotify.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 0a10 10 0 1 0 10 10A10 10 0 0 0 10 0zm4.63 14.21a.62.62 0 0 1-.55.5.68.68 0 0 1-.44-.12 9.2 9.2 0 0 0-2.62-1.06l-.32-.07h-.16l-.39-.06a12.26 12.26 0 0 0-1.74-.12 16.86 16.86 0 0 0-3 .31l-.41.04a1 1 0 0 1-.35 0 .62.62 0 0 1-.52-.59.61.61 0 0 1 .47-.61l1.17-.24A15.2 15.2 0 0 1 9 12a10.92 10.92 0 0 1 5.28 1.52.65.65 0 0 1 .35.68zm1.24-2.8a.76.76 0 0 1-.59.64.73.73 0 0 1-.57-.09 11.39 11.39 0 0 0-3.84-1.42 13.09 13.09 0 0 0-6.09.24.77.77 0 0 1-.92-.32.75.75 0 0 1 .14-.94.93.93 0 0 1 .37-.23A12.15 12.15 0 0 1 7 8.79l1.12-.06A14.82 14.82 0 0 1 14.37 10c.4.19.79.4 1.18.63a.76.76 0 0 1 .35.78zM16.6 9a.89.89 0 0 1-.67-.09 12.84 12.84 0 0 0-4.61-1.51 19 19 0 0 0-3.82-.22 13.88 13.88 0 0 0-3.17.52.93.93 0 1 1-.53-1.79 14.6 14.6 0 0 1 2.9-.53c.61-.05 1.23-.07 1.83-.1a19.71 19.71 0 0 1 6 .94 11.28 11.28 0 0 1 2.33 1.05A.92.92 0 0 1 16.6 9z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("star.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 20.9"><path d="M11 7l.36 1.27.4 1.39h5l-2.55 2.12-1 .8.34 1.2.77 2.7-2.28-1.52L11 14.2l-1.06.71-2.28 1.52.77-2.7.34-1.2-1-.8-2.49-2.12h5l.4-1.39L11 7m0-7L8.8 7.7H0l6.6 5.5-2.2 7.7 6.6-4.4 6.6 4.4-2.2-7.7L22 7.7h-8.8L11 0z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("tag.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 21.96"><path d="M18.22 2L20 3.8v4.07L8.9 19.12l-6.06-6.05L14 2.09 18.22 2M19 0l-5.87.11L0 13.05 8.91 22 22 8.69V3l-3-3z"/><path d="M16.9 3.38A1.59 1.59 0 1 0 18.49 5a1.59 1.59 0 0 0-1.59-1.62z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("thumbs_down.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.62 21.36"><path d="M8 21.36a2.12 2.12 0 0 1-1.06-.29c-2.5-1.42-1-5-.16-6.95.11-.27.25-.6.31-.77a.78.78 0 0 0-.6-.36H2.37A2.29 2.29 0 0 1 0 10.64c0-.82 1.59-5.4 2.92-9.09A2.39 2.39 0 0 1 5.1.07h10.56v12.79l-.84.13A3.45 3.45 0 0 0 13 14.08a13.16 13.16 0 0 0-.82 1.85c-1.06 2.69-2 4.79-3.49 5.31a2.06 2.06 0 0 1-.69.12zM5.1 2.07a.48.48 0 0 0-.31.17C3.48 5.89 2.07 10.06 2 10.68c0 .22.1.32.37.32h4.1a2.61 2.61 0 0 1 2.61 2.4 4.29 4.29 0 0 1-.48 1.51c-.46 1.09-1.65 3.89-.7 4.42.52 0 1.3-1.4 2.38-4.14a10 10 0 0 1 1.13-2.38 5.27 5.27 0 0 1 2.25-1.56V2.07zM16.76 0h4.86v12.96h-4.86z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("thumbs_up.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.62 21.36"><path d="M16.52 21.29H6V8.5l.84-.13a3.45 3.45 0 0 0 1.82-1.09 13.16 13.16 0 0 0 .82-1.85c1.06-2.69 2-4.78 3.52-5.31a2.06 2.06 0 0 1 1.74.17c2.5 1.42 1 5 .16 6.95-.11.27-.25.6-.31.77a.78.78 0 0 0 .6.36h4.1a2.29 2.29 0 0 1 2.37 2.37c0 .82-1.59 5.4-2.92 9.09a2.39 2.39 0 0 1-2.22 1.46zm-8.52-2h8.56a.48.48 0 0 0 .31-.17c1.31-3.65 2.73-7.82 2.79-8.44 0-.22-.1-.32-.37-.32h-4.1A2.61 2.61 0 0 1 12.54 8 4.29 4.29 0 0 1 13 6.46c.45-1.06 1.64-3.89.7-4.43-.52 0-1.3 1.4-2.38 4.14a10 10 0 0 1-1.13 2.38A5.28 5.28 0 0 1 8 10.11zM0 8.4h4.86v12.96H0z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("twitter.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 16.43"><path d="M20 1.89l-2.3 2.16v.68a12.28 12.28 0 0 1-3.65 8.92c-5 5.13-13.1 1.76-14.05.81 0 0 3.78.14 5.81-1.76A4.15 4.15 0 0 1 2.3 9.86h2S.81 9.05.81 5.81A11 11 0 0 0 3 6.35S-.14 4.05 1.49.95a11.73 11.73 0 0 0 8.37 4.19A3.69 3.69 0 0 1 13.51 0a3.19 3.19 0 0 1 2.57 1.08 12.53 12.53 0 0 0 3.24-.81l-1.75 1.89A10.46 10.46 0 0 0 20 1.89z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("two_documents.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.59 22"><path d="M16.76 5.87v14.3H6.22V5.87h10.54M18.59 4H4.39v18h14.2V4z"/><path d="M7.73 8.45h7.44V9.9H7.73zm0 7.7h7.44v1.45H7.73zm0-3.85h7.44v1.45H7.73z"/><path d="M3.45 19.89H0V0h16.13v3.12H14.2V1.93H1.93v16.03h1.52v1.93"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("unlock.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.56 22"><path d="M14.56 11.26V20H2v-8.74h12.56M8.28 0a6.12 6.12 0 0 0-6.12 6.12v3.14H0V22h16.56V9.26H4.49V6.12a3.79 3.79 0 0 1 7.58 0h2.33A6.12 6.12 0 0 0 8.28 0z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("up_arrow.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.32 10.91"><path d="M20 10.91l-9.34-8.24-9.34 8.24L0 9.41 10.66 0l10.66 9.41-1.32 1.5"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("upload_image.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 23"><path d="M17.13 9.726c.447 0 .81.358.81.798 0 .44-.363.8-.81.8-.447 0-.81-.36-.81-.8 0-.44.363-.798.81-.798zM6.75 6.228H22V23H0V6.228h3.05v2.02H1.94V20.98h18.12V8.248H6.75v-2.02zM11 19.364c-2.576 0-4.673-2.044-4.7-4.583-.02-1.876 1.112-3.58 2.866-4.312 1.755-.733 3.785-.35 5.14.972 1.354 1.32 1.765 3.316 1.04 5.053-.724 1.737-2.44 2.87-4.346 2.87zm0-7.352v.01c-.74 0-1.447.292-1.966.81-.52.52-.805 1.22-.794 1.95.027 1.495 1.275 2.688 2.793 2.67 1.517-.018 2.735-1.24 2.726-2.736-.01-1.496-1.242-2.703-2.76-2.704zM5.69 3.508h3.56v1.557H5.69v3.508H4.11V5.065H.55V3.508h3.56V0h1.58v3.508z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("verified.svg",'<svg viewBox="0 0 500 80" xmlns="http://www.w3.org/2000/svg"><path d="M60.133 0h16.91L46.795 79.78h-16.79L0 0h17.147l16.91 48.82c1.308 4.168 3.69 10.718 4.643 14.647h.237c.953-3.81 3.216-10.36 4.764-14.646L60.135 0zm82.163 0v13.812H101.69V30.84h37.867v13.813H101.69v21.315h41.2V79.78H85.855V0h56.442zm29.77 79.78h-15.838V0h31.198c18.933 0 27.03 12.86 27.03 25.72 0 12.384-6.906 21.553-18.337 24.292l23.336 28.577v1.19h-17.504l-29.888-36.914V79.78zm0-56.68l14.407 15.838c7.026-.596 12.146-5.478 12.146-13.218 0-6.668-4.17-11.907-13.338-11.907h-13.218V23.1zm57.514 56.68V0h15.837v79.78H229.58zM317.22 0v13.812H278.4V30.96h35.96v13.693H278.4V79.78h-15.836V0h54.655zm12.145 79.78V0h15.837v79.78h-15.837zM418.79 0v13.812h-40.605V30.84h37.867v13.813h-37.867v21.315h41.2V79.78H362.35V0h56.44zm39.296 0C488.57 0 500 19.17 500 40.128c0 25.602-14.646 39.653-41.795 39.653h-25.482V0h25.363zm-9.884 13.813v52.155h10.48c16.312 0 25.48-6.788 25.48-25.84 0-18.576-9.882-26.315-25.48-26.315H448.2z" fill="#FFF" fill-rule="evenodd"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("wordmark.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 15"><path d="M11.7 2.9s0-.1 0 0c-.8-.8-1.7-1.2-2.8-1.2-1.1 0-2.1.4-2.8 1.1-.2.2-.3.4-.5.6v.1c0 .1.1.1.1.1.4-.2.9-.3 1.4-.3 1.1 0 2.2.5 2.9 1.2h1.6c.1 0 .1-.1.1-.1V2.9c.1 0 0 0 0 0zm-.1 4.6h-1.5c-.8 0-1.4-.6-1.5-1.4.1 0 0-.1 0-.1-.3 0-.6.2-.8.4v.2c-.6 1.8.1 2.4.9 2.4h1.1c.1 0 .1.1.1.1v.4c0 .1.1.1.1.1.6-.1 1.2-.4 1.7-.8V7.6c.1 0 0-.1-.1-.1z"/><path d="M11.6 11.9s-.1 0 0 0c-.1 0-.1 0 0 0-.1 0-.1 0 0 0-.8.3-1.6.5-2.5.5-3.7 0-6.8-3-6.8-6.8 0-.9.2-1.7.5-2.5 0-.1-.1-.1-.2-.1h-.1C1.4 4.2.8 5.7.8 7.5c0 3.6 2.9 6.4 6.4 6.4 1.7 0 3.3-.7 4.4-1.8V12c.1 0 0-.1 0-.1zm13.7-3.1h3.5c.8 0 1.4-.5 1.4-1.3v-.2c0-.1-.1-.1-.1-.1h-4.8c-.1 0-.1.1-.1.1v1.4c-.1 0 0 .1.1.1zm5.1-6.7h-5.2c-.1 0-.1.1-.1.1v1.4c0 .1.1.1.1.1H29c.8 0 1.4-.5 1.4-1.3v-.2c.1-.1.1-.1 0-.1z"/><path d="M30.4 12.3h-6.1c-1 0-1.6-.6-1.6-1.6V1c0-.1-.1-.1-.1-.1-1.1 0-1.8.7-1.8 1.8V12c0 1.1.7 1.8 1.8 1.8H29c.8 0 1.4-.6 1.4-1.3v-.1c.1 0 .1-.1 0-.1zm12 0c-.6-.1-.9-.6-.9-1.3V1.1s0-.1-.1-.1H41c-.9 0-1.5.6-1.5 1.5v9.9c0 .9.6 1.5 1.5 1.5.8 0 1.4-.6 1.5-1.5 0-.1 0-.1-.1-.1zm8.2 0h-.2c-.9 0-1.4-.4-1.8-1.1l-4.5-7.4-.1-.1c-.1 0-.1.1-.1.1V8l2.8 4.7c.4.6.9 1.2 2 1.2 1 0 1.7-.5 2-1.4 0-.2-.1-.2-.1-.2zm-.9-3.8c.1 0 .1-.1.1-.1V1.1c0-.1 0-.1-.1-.1h-.4c-.9 0-1.5.6-1.5 1.5v3.1l1.7 2.8c.1 0 .1.1.2.1zm13 3.8c-.6-.1-.9-.6-.9-1.2v-10c0-.1 0-.1-.1-.1h-.3c-.9 0-1.5.6-1.5 1.5v9.9c0 .9.6 1.5 1.5 1.5.8 0 1.4-.6 1.5-1.5l-.2-.1zm18.4-.5H81c-.7.3-1.5.5-2.5.5-1.6 0-2.9-.5-3.7-1.4-.9-1-1.4-2.4-1.4-4.2V1c0-.1 0-.1-.1-.1H73c-.9 0-1.5.6-1.5 1.5V8c0 3.7 2 5.9 5.4 5.9 1.9 0 3.4-.7 4.3-1.9v-.1c0-.1 0-.1-.1-.1z"/><path d="M81.2.9h-.3c-.9 0-1.5.6-1.5 1.5v5.7c0 .7-.1 1.3-.3 1.8 0 .1.1.1.1.1 1.4-.3 2.1-1.4 2.1-3.3V1c0-.1-.1-.1-.1-.1zm12.7 7.6l1.4.3c1.5.3 1.6.8 1.6 1.2 0 .1.1.1.1.1 1.1-.1 1.8-.7 1.8-1.5s-.6-1.2-1.9-1.5l-1.4-.3c-3.2-.6-3.8-2.3-3.8-3.6 0-.7.2-1.3.6-1.9v-.2c0-.1-.1-.1-.1-.1-1.5.7-2.3 1.9-2.3 3.4-.1 2.3 1.3 3.7 4 4.1zm5.2 3.2c-.1.1-.1.1 0 0-.9.4-1.8.6-2.8.6-1.6 0-3-.5-4.3-1.4-.3-.3-.5-.6-.5-1 0-.1 0-.1-.1-.1s-.3-.1-.4-.1c-.4 0-.8.2-1.1.6-.2.3-.4.7-.3 1.1.1.4.3.7.6 1 1.4 1 2.8 1.5 4.5 1.5 2 0 3.7-.7 4.5-1.9v-.1c0-.1 0-.2-.1-.2z"/><path d="M94.1 3.2c0 .1.1.1.1.1h.2c1.1 0 1.7.3 2.4.8.3.2.6.3 1 .3s.8-.2 1.1-.6c.2-.3.3-.6.3-.9 0-.1 0-.1-.1-.1-.2 0-.3-.1-.5-.2-.8-.6-1.4-.9-2.6-.9-1.2 0-2 .6-2 1.4.1 0 .1 0 .1.1z"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("x.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path d="M22 1.39L20.61 0 11 9.62 1.39 0 0 1.39 9.62 11 0 20.61 1.39 22 11 12.38 20.61 22 22 20.61 12.38 11 22 1.39"/></svg>\n')}])},function(t,e){angular.module("genius").run(["$templateCache",function(t){t.put("youtube.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20.01 14.07"><path d="M19.81 3A4.32 4.32 0 0 0 19 1a2.86 2.86 0 0 0-2-.8C14.21 0 10 0 10 0S5.8 0 3 .2A2.87 2.87 0 0 0 1 1a4.32 4.32 0 0 0-.8 2S0 4.51 0 6.06V8a30 30 0 0 0 .2 3 4.33 4.33 0 0 0 .8 2 3.39 3.39 0 0 0 2.2.85c1.46.14 5.9.19 6.68.2h.4c1 0 4.35 0 6.72-.21a2.87 2.87 0 0 0 2-.84 4.32 4.32 0 0 0 .8-2 30.31 30.31 0 0 0 .2-3.21V6.28A30.31 30.31 0 0 0 19.81 3zM7.94 9.63V4l5.41 2.82z"/></svg>\n')}])},,function(t,e){/**
 * @license AngularJS v1.6.6
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(t,e){"use strict";function n(t,e,n){if(!t)throw ct("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(W(t)&&(t=t.join(" ")),W(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function r(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function o(t,e,n){var i="";return t=W(t)?t:t&&Q(t)&&t.length?t.split(/\s+/):[],H(t,function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)}),i}function a(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function s(t){if(t instanceof Z)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===D)return t;break;default:return Z(c(t))}if(t.nodeType===D)return Z(t)}function c(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===D)return n}}function l(t,e,n){H(e,function(e){t.addClass(e,n)})}function u(t,e,n){H(e,function(e){t.removeClass(e,n)})}function d(t){return function(e,n){n.addClass&&(l(t,e,n.addClass),n.addClass=null),n.removeClass&&(u(t,e,n.removeClass),n.removeClass=null)}}function p(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||tt;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=tt},t.$$prepared=!0}return t}function f(t,e){h(t,e),_(t,e)}function h(t,e){e.from&&(t.css(e.from),e.from=null)}function _(t,e){e.to&&(t.css(e.to),e.to=null)}function m(t,e,n){var i=e.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=g(t.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=k(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var c=i.domOperation!==tt?i.domOperation:null;return B(i,r),c&&(i.domOperation=c),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function g(t,e,n){function i(t){Q(t)&&(t=t.split(" "));var e={};return H(t,function(t){t.length&&(e[t]=!0)}),e}var r={};t=i(t),e=i(e),H(e,function(t,e){r[e]=1}),n=i(n),H(n,function(t,e){r[e]=1===r[e]?null:-1});var o={addClass:"",removeClass:""};return H(r,function(e,n){var i,r;1===e?(i="addClass",r=!t[n]||t[n+L]):-1===e&&(i="removeClass",r=t[n]||t[n+N]),r&&(o[i].length&&(o[i]+=" "),o[i]+=n)}),o}function v(t){return t instanceof Z?t[0]:t}function b(t,e,n){var i="";e&&(i=o(e,z,!0)),n.addClass&&(i=k(i,o(n.addClass,N))),n.removeClass&&(i=k(i,o(n.removeClass,L))),i.length&&(n.preparationClasses=i,t.addClass(i))}function y(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}function w(t,e){var n=e?"-"+e+"s":"";return x(t,[at,n]),[at,n]}function $(t,e){var n=e?"paused":"",i=I+it;return x(t,[i,n]),[i,n]}function x(t,e){var n=e[0],i=e[1];t.style[n]=i}function k(t,e){return t?e?t+" "+e:t:e}function C(t){return[ot,t+"s"]}function S(t,e){return[e?rt:at,t+"s"]}function A(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return H(n,function(t,e){var n=r[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=E(n)),0===n&&(n=null),i[e]=n}}),i}function E(t){var e=0,n=t.split(/\s*,\s*/);return H(n,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function T(t){return 0===t||null!=t}function j(t,e){var n=P,i=t+"s";return e?n+=et:i+=" linear all",[n,i]}function O(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function q(t,e,n){H(n,function(n){t[n]=G(t[n])?t[n]:e.style.getPropertyValue(n)})}var P,M,I,R,D=1,N="-add",L="-remove",z="ng-",F="ng-animate",U="$$ngAnimateChildren";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?("-webkit-",P="WebkitTransition",M="webkitTransitionEnd transitionend"):(P="transition",M="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?("-webkit-",I="WebkitAnimation",R="webkitAnimationEnd animationend"):(I="animation",R="animationend");var V,B,H,W,G,Y,K,J,Q,X,Z,tt,et="Duration",nt="TimingFunction",it="PlayState",rt=I+"Delay",ot=I+et,at=P+"Delay",st=P+et,ct=e.$$minErr("ng"),lt=["$$rAF",function(t){function e(t){i=i.concat(t),n()}function n(){if(i.length){for(var e=i.shift(),o=0;o<e.length;o++)e[o]();r||t(function(){r||n()})}}var i,r;return i=e.queue=[],e.waitUntilQuiet=function(e){r&&r(),r=t(function(){r=null,e(),n()})},e}],ut=["$interpolate",function(t){return{link:function(e,n,i){function r(t){t="on"===t||"true"===t,n.data(U,t)}var o=i.ngAnimateChildren;Q(o)&&0===o.length?n.data(U,!0):(r(t(o)(e)),i.$observe("ngAnimateChildren",r))}}}],dt="$$animateCss",pt=1e3,ft=3,ht=1.5,_t={transitionDuration:st,transitionDelay:at,transitionProperty:P+"Property",animationDuration:ot,animationDelay:rt,animationIterationCount:I+"IterationCount"},mt={transitionDuration:st,transitionDelay:at,animationDuration:ot,animationDelay:rt},gt=["$animateProvider",function(t){var e=O(),n=O();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,i,s,c,l,u,m,g){function b(t,e){var n="$$ngAnimateParentKey",i=t.parentNode;return(i[n]||(i[n]=++F))+"-"+t.getAttribute("class")+"-"+e}function y(n,i,r,o){var a=e.get(r);return a||(a=A(t,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),e.put(r,a),a}function k(r,a,s,c){var l;if(e.count(s)>0&&!(l=n.get(s))){var u=o(a,"-stagger");i.addClass(r,u),l=A(t,r,c),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),i.removeClass(r,u),n.put(s,l)}return l||{}}function E(t){U.push(t),m.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=l(),i=0;i<U.length;i++)U[i](t);U.length=0})}function O(t,e,n){var i=y(t,e,n,_t),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var D=d(i),F=0,U=[];return function(t,n){function l(){m()}function d(){m(!0)}function m(e){if(!(K||Q&&J)){K=!0,J=!1,B.$$skipPreparationClasses||i.removeClass(t,yt),i.removeClass(t,$t),$(Y,!1),w(Y,!1),H(st,function(t){Y.style[t[0]]=""}),D(t,B),f(t,B),Object.keys(G).length&&H(G,function(t,e){t?Y.style.setProperty(e,t):Y.style.removeProperty(e)}),B.onDone&&B.onDone(),ut&&ut.length&&t.off(ut.join(" "),F);var n=t.data(dt);n&&(c.cancel(n[0].timer),t.removeData(dt)),X&&X.complete(!e)}}function y(t){It.blockTransition&&w(Y,t),It.blockKeyframeAnimation&&$(Y,!!t)}function A(){return X=new s({end:l,cancel:d}),E(tt),m(),{$$willAnimate:!1,start:function(){return X},end:l}}function F(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(ft));Math.max(n-at,0)>=it&&i>=rt&&(Q=!0,m())}function U(){function e(){if(!K){if(y(!1),H(st,function(t){var e=t[0],n=t[1];Y.style[e]=n}),D(t,B),i.addClass(t,$t),It.recalculateTimingStyles){if(wt=Y.getAttribute("class")+" "+yt,kt=b(Y,wt),Pt=O(Y,wt,kt),Mt=Pt.maxDelay,et=Math.max(Mt,0),0===(rt=Pt.maxDuration))return void m();It.hasTransitions=Pt.transitionDuration>0,It.hasAnimations=Pt.animationDuration>0}if(It.applyAnimationDelay&&(Mt="boolean"!=typeof B.delay&&T(B.delay)?parseFloat(B.delay):Mt,et=Math.max(Mt,0),Pt.animationDelay=Mt,Rt=S(Mt,!0),st.push(Rt),Y.style[Rt[0]]=Rt[1]),it=et*pt,ot=rt*pt,B.easing){var e,r=B.easing;It.hasTransitions&&(e=P+nt,st.push([e,r]),Y.style[e]=r),It.hasAnimations&&(e=I+nt,st.push([e,r]),Y.style[e]=r)}Pt.transitionDuration&&ut.push(M),Pt.animationDuration&&ut.push(R),at=Date.now();var o=it+ht*ot,a=at+o,s=t.data(dt)||[],l=!0;if(s.length){var u=s[0];l=a>u.expectedEndTime,l?c.cancel(u.timer):s.push(m)}if(l){var d=c(n,o,!1);s[0]={timer:d,expectedEndTime:a},s.push(m),t.data(dt,s)}ut.length&&t.on(ut.join(" "),F),B.to&&(B.cleanupStyles&&q(G,Y,Object.keys(B.to)),_(t,B))}}function n(){var e=t.data(dt);if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData(dt)}}if(!K){if(!Y.parentNode)return void m();var r=function(t){if(Q)J&&t&&(J=!1,m());else if(J=!t,Pt.animationDuration){var e=$(Y,J);J?st.push(e):a(st,e)}},o=Ot>0&&(Pt.transitionDuration&&0===Ct.transitionDuration||Pt.animationDuration&&0===Ct.animationDuration)&&Math.max(Ct.animationDelay,Ct.transitionDelay);o?c(e,Math.floor(o*Ot*pt),!1):e(),Z.resume=function(){r(!0)},Z.pause=function(){r(!1)}}}var B=n||{};B.$$prepared||(B=p(V(B)));var G={},Y=v(t);if(!Y||!Y.parentNode||!g.enabled())return A();var K,J,Q,X,Z,et,it,rt,ot,at,st=[],ct=t.attr("class"),lt=r(B),ut=[];if(0===B.duration||!u.animations&&!u.transitions)return A();var _t=B.event&&W(B.event)?B.event.join(" "):B.event,gt=_t&&B.structural,vt="",bt="";gt?vt=o(_t,z,!0):_t&&(vt=_t),B.addClass&&(bt+=o(B.addClass,N)),B.removeClass&&(bt.length&&(bt+=" "),bt+=o(B.removeClass,L)),B.applyClassesEarly&&bt.length&&D(t,B);var yt=[vt,bt].join(" ").trim(),wt=ct+" "+yt,$t=o(yt,"-active"),xt=lt.to&&Object.keys(lt.to).length>0;if(!((B.keyframeStyle||"").length>0||xt||yt))return A();var kt,Ct;if(B.stagger>0){var St=parseFloat(B.stagger);Ct={transitionDelay:St,animationDelay:St,transitionDuration:0,animationDuration:0}}else kt=b(Y,wt),Ct=k(Y,yt,kt,mt);B.$$skipPreparationClasses||i.addClass(t,yt);var At;if(B.transitionStyle){var Et=[P,B.transitionStyle];x(Y,Et),st.push(Et)}if(B.duration>=0){At=Y.style[P].length>0;var Tt=j(B.duration,At);x(Y,Tt),st.push(Tt)}if(B.keyframeStyle){var jt=[I,B.keyframeStyle];x(Y,jt),st.push(jt)}var Ot=Ct?B.staggerIndex>=0?B.staggerIndex:e.count(kt):0,qt=0===Ot;qt&&!B.skipBlocking&&w(Y,9999);var Pt=O(Y,wt,kt),Mt=Pt.maxDelay;et=Math.max(Mt,0),rt=Pt.maxDuration;var It={};if(It.hasTransitions=Pt.transitionDuration>0,It.hasAnimations=Pt.animationDuration>0,It.hasTransitionAll=It.hasTransitions&&"all"===Pt.transitionProperty,It.applyTransitionDuration=xt&&(It.hasTransitions&&!It.hasTransitionAll||It.hasAnimations&&!It.hasTransitions),It.applyAnimationDuration=B.duration&&It.hasAnimations,It.applyTransitionDelay=T(B.delay)&&(It.applyTransitionDuration||It.hasTransitions),It.applyAnimationDelay=T(B.delay)&&It.hasAnimations,It.recalculateTimingStyles=bt.length>0,(It.applyTransitionDuration||It.applyAnimationDuration)&&(rt=B.duration?parseFloat(B.duration):rt,It.applyTransitionDuration&&(It.hasTransitions=!0,Pt.transitionDuration=rt,At=Y.style[P+"Property"].length>0,st.push(j(rt,At))),It.applyAnimationDuration&&(It.hasAnimations=!0,Pt.animationDuration=rt,st.push(C(rt)))),0===rt&&!It.recalculateTimingStyles)return A();if(null!=B.delay){var Rt;"boolean"!=typeof B.delay&&(Rt=parseFloat(B.delay),et=Math.max(Rt,0)),It.applyTransitionDelay&&st.push(S(Rt)),It.applyAnimationDelay&&st.push(S(Rt,!0))}return null==B.duration&&Pt.transitionDuration>0&&(It.recalculateTimingStyles=It.recalculateTimingStyles||qt),it=et*pt,ot=rt*pt,B.skipBlocking||(It.blockTransition=Pt.transitionDuration>0,It.blockKeyframeAnimation=Pt.animationDuration>0&&Ct.animationDelay>0&&0===Ct.animationDuration),B.from&&(B.cleanupStyles&&q(G,Y,Object.keys(B.from)),h(t,B)),It.blockTransition||It.blockKeyframeAnimation?y(rt):B.skipBlocking||w(Y,!1),{$$willAnimate:!0,end:l,start:function(){if(!K)return Z={end:l,cancel:d,resume:null,pause:null},X=new s(Z),E(U),X}}}}]}],vt=["$$animationProvider",function(t){function e(t){return t.parentNode&&11===t.parentNode.nodeType}t.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,r,o,a,s,c,l){function u(t){return t.replace(/\bng-\S+\b/g,"")}function d(t,e){return Q(t)&&(t=t.split(" ")),Q(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function p(e,r,a){function s(t){var e={},n=v(t).getBoundingClientRect();return H(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=_.scrollTop;break;case"left":i+=_.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function c(t){return t.attr("class")||""}function l(){var e=u(c(a)),n=d(e,h),r=d(h,e),o=t(f,{to:s(a),addClass:"ng-anchor-in "+n,removeClass:i+" "+r,delay:!0});return o.$$willAnimate?o:null}function p(){f.remove(),r.removeClass(n),a.removeClass(n)}var f=Z(v(r).cloneNode(!0)),h=u(c(f));r.addClass(n),a.addClass(n),f.addClass("ng-anchor"),g.append(f);var m,b=function(){var e=t(f,{addClass:i,delay:!0,from:s(r)});return e.$$willAnimate?e:null}();if(!b&&!(m=l()))return p();var y=b||m;return{start:function(){function t(){n&&n.end()}var e,n=y.start();return n.done(function(){if(n=null,!m&&(m=l()))return n=m.start(),n.done(function(){n=null,p(),e.complete()}),n;p(),e.complete()}),e=new o({end:t,cancel:t})}}}function f(t,e,n,i){var r=h(t),a=h(e),s=[];if(H(i,function(t){var e=t.out,i=t.in,r=p(n,e,i);r&&s.push(r)}),r||a||0!==s.length)return{start:function(){function t(){H(e,function(t){t.end()})}var e=[];r&&e.push(r.start()),a&&e.push(a.start()),H(s,function(t){e.push(t.start())});var n=new o({end:t,cancel:t});return o.all(e,function(t){n.complete(t)}),n}}}function h(e){var n=e.element,i=e.options||{};e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=k(i.event,i.preparationClasses));var r=t(n,i);return r.$$willAnimate?r:null}if(!s.animations&&!s.transitions)return tt;var _=l[0].body,m=v(a),g=Z(e(m)||_.contains(m)?m:_);return function(t){return t.from&&t.to?f(t.from,t.to,t.classes,t.anchors):h(t)}}]}],bt=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){function r(n){n=W(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!r[a]&&(i.push(e.get(s)),r[a]=!0)}return i}var o=d(i);return function(t,e,i,a){function s(){a.domOperation(),o(t,a)}function c(){h=!0,s(),f(t,a)}function l(t,e,i,r,o){var a;switch(i){case"animate":a=[e,r.from,r.to,o];break;case"setClass":a=[e,g,v,o];break;case"addClass":a=[e,g,o];break;case"removeClass":a=[e,v,o];break;default:a=[e,o]}a.push(r);var s=t.apply(t,a);if(s)if(K(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(K(s))return s;return tt}function u(t,e,i,r,o){var a=[];return H(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,c=function(t){a||(a=!0,(o||tt)(t),r.complete(!t))};return r=new n({end:function(){c()},cancel:function(){c(!0)}}),o=l(s,t,e,i,function(t){c(!1===t)}),r})}),a}function d(t,e,i,r,o){var a=u(t,e,i,r,o);if(0===a.length){var s,c;"beforeSetClass"===o?(s=u(t,"removeClass",i,r,"beforeRemoveClass"),c=u(t,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=u(t,"removeClass",i,r,"removeClass"),c=u(t,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),c&&(a=a.concat(c))}if(0!==a.length)return function(t){var e=[];return a.length&&H(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){H(e,function(e){t?e.cancel():e.end()})}}}var h=!1;3===arguments.length&&J(i)&&(a=i,i=null),a=p(a),i||(i=t.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var _,m,g=a.addClass,v=a.removeClass,b=r(i);if(b.length){var y,w;"leave"===e?(w="leave",y="afterLeave"):(w="before"+e.charAt(0).toUpperCase()+e.substr(1),y=e),"enter"!==e&&"move"!==e&&(_=d(t,e,a,b,w)),m=d(t,e,a,b,y)}if(_||m){var $;return{$$willAnimate:!0,end:function(){return $?$.end():(c(),$=new n,$.complete(!0)),$},start:function(){function t(t){c(t),$.complete(t)}function e(e){h||((i||tt)(e),t(e))}if($)return $;$=new n;var i,r=[];return _&&r.push(function(t){i=_(t)}),r.length?r.push(function(t){s(),t(!0)}):s(),m&&r.push(function(t){i=m(t)}),$.setHost({end:function(){e()},cancel:function(){e(!0)}}),n.chain(r,t),$}}}}}]}],yt=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,i=e.event,r=e.options,o=e.classes;return t(n,i,o,r)}return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){function t(){return function(){H(o,function(t){t.end()})}}function n(t){a.complete(t)}var o=[];i&&o.push(i.start()),r&&o.push(r.start()),e.all(o,n);var a=new e({end:t(),cancel:t()});return a}}}return n(t)}}]}],wt="data-ng-animate",$t="$ngAnimatePin",xt=["$animateProvider",function(e){function i(t){if(!t)return null;var e=t.split(h),n=Object.create(null);return H(e,function(t){n[t]=!0}),n}function r(t,e){if(t&&e){var n=i(e);return t.split(h).some(function(t){return n[t]})}}function o(t,e,n){return _[t].some(function(t){return t(e,n)})}function a(t,e){var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}var l=1,u=2,h=" ",_=this.rules={skip:[],cancel:[],join:[]};_.join.push(function(t,e){return!t.structural&&a(t)}),_.skip.push(function(t,e){return!t.structural&&!a(t)}),_.skip.push(function(t,e){return"leave"===e.event&&t.structural}),_.skip.push(function(t,e){return e.structural&&e.state===u&&!t.structural}),_.cancel.push(function(t,e){return e.structural&&t.structural}),_.cancel.push(function(t,e){return e.state===u&&t.structural}),_.cancel.push(function(t,e){if(e.structural)return!1;var n=t.addClass,i=t.removeClass,o=e.addClass,a=e.removeClass;return!(X(n)&&X(i)||X(o)&&X(a))&&(r(n,a)||r(i,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,r,h,_,g,w,$,x,k,C,S){function A(){var t=!1;return function(e){t?e():r.$$postDigest(function(){t=!0,e()})}}function E(t,e){return m(t,e,{})}function T(t,e,n){var i=[],r=K[n];return r&&H(r,function(r){at.call(r.node,e)?i.push(r.callback):"leave"===n&&at.call(r.node,t)&&i.push(r.callback)}),i}function j(t,e,n){var i=c(e);return t.filter(function(t){return!(t.node===i&&(!n||t.callback===n))})}function O(t,e){"close"!==t||e.parentNode||st.off(e)}function q(t,e,n){function c(t,e,n,r){C(function(){var t=T(x,g,e);t.length?i(function(){H(t,function(t){t(_,n,r)}),O(n,g)}):O(n,g)}),t.progress(e,n,r)}function d(t){y(_,h),ot(_,h),f(_,h),h.domOperation(),k.complete(!t)}var h=V(n),_=s(t),g=v(_),x=g&&g.parentNode;h=p(h);var k=new $,C=A();if(W(h.addClass)&&(h.addClass=h.addClass.join(" ")),h.addClass&&!Q(h.addClass)&&(h.addClass=null),W(h.removeClass)&&(h.removeClass=h.removeClass.join(" ")),h.removeClass&&!Q(h.removeClass)&&(h.removeClass=null),h.from&&!J(h.from)&&(h.from=null),h.to&&!J(h.to)&&(h.to=null),!(z&&g&&it(g,e,n)&&rt(g,h)))return d(),k;var j=["enter","move","leave"].indexOf(e)>=0,q=S(),D=q||L.get(g),F=!D&&N.get(g)||{},U=!!F.state;if(D||U&&F.state===l||(D=!I(g,x,e)),D)return q&&c(k,e,"start"),d(),q&&c(k,e,"close"),k;j&&P(g);var B={structural:j,element:_,event:e,addClass:h.addClass,removeClass:h.removeClass,close:d,options:h,runner:k};if(U){if(o("skip",B,F))return F.state===u?(d(),k):(m(_,F,B),F.runner);if(o("cancel",B,F))if(F.state===u)F.runner.end();else{if(!F.structural)return m(_,F,B),F.runner;F.close()}else{if(o("join",B,F)){if(F.state!==u)return b(_,j?e:null,h),e=B.event=F.event,h=m(_,F,B),F.runner;E(_,B)}}}else E(_,B);var G=B.structural;if(G||(G="animate"===B.event&&Object.keys(B.options.to||{}).length>0||a(B)),!G)return d(),M(g),k;var Y=(F.counter||0)+1;return B.counter=Y,R(g,l,B),r.$$postDigest(function(){_=s(t);var n=N.get(g),i=!n;n=n||{};var r=_.parent()||[],o=r.length>0&&("animate"===n.event||n.structural||a(n));if(i||n.counter!==Y||!o)return i&&(ot(_,h),f(_,h)),(i||j&&n.event!==e)&&(h.domOperation(),k.end()),void(o||M(g));e=!n.structural&&a(n,!0)?"setClass":n.event,R(g,u);var l=w(_,e,n.options);k.setHost(l),c(k,e,"start",{}),l.done(function(t){d(!t);var n=N.get(g);n&&n.counter===Y&&M(g),c(k,e,"close",{})})}),k}function P(t){var e=t.querySelectorAll("["+wt+"]");H(e,function(t){var e=parseInt(t.getAttribute(wt),10),n=N.get(t);if(n)switch(e){case u:n.runner.end();case l:N.delete(t)}})}function M(t){t.removeAttribute(wt),N.delete(t)}function I(t,e,n){var i,r=_[0].body,o=v(h),a=t===r||"HTML"===t.nodeName,s=t===o,c=!1,l=L.get(t),u=Z.data(t,$t);for(u&&(e=v(u));e&&(s||(s=e===o),e.nodeType===D);){var d=N.get(e)||{};if(!c){var p=L.get(e);if(!0===p&&!1!==l){l=!0;break}!1===p&&(l=!1),c=d.structural}if(X(i)||!0===i){var f=Z.data(e,U);G(f)&&(i=f)}if(c&&!1===i)break;if(a||(a=e===r),a&&s)break;e=s||!(u=Z.data(e,$t))?e.parentNode:v(u)}return(!c||i)&&!0!==l&&s&&a}function R(t,e,n){n=n||{},n.state=e,t.setAttribute(wt,e);var i=N.get(t),r=i?B(i,n):n;N.set(t,r)}var N=new g,L=new g,z=null,F=r.$watch(function(){return 0===x.totalPendingRequests},function(t){t&&(F(),r.$$postDigest(function(){r.$$postDigest(function(){null===z&&(z=!0)})}))}),K=Object.create(null),tt=e.customFilter(),et=e.classNameFilter(),nt=function(){return!0},it=tt||nt,rt=et?function(t,e){var n=[t.getAttribute("class"),e.addClass,e.removeClass].join(" ");return et.test(n)}:nt,ot=d(k),at=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},st={on:function(t,e,n){var i=c(e);K[t]=K[t]||[],K[t].push({node:i,callback:n}),Z(e).on("$destroy",function(){N.get(i)||st.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||Q(arguments[0])){var i=K[t];i&&(K[t]=1===arguments.length?null:j(i,e,n))}else{e=arguments[0];for(var r in K)K[r]=j(K[r],e)}},pin:function(t,e){n(Y(t),"element","not an element"),n(Y(e),"parentElement","not an element"),t.data($t,e)},push:function(t,e,n,i){return n=n||{},n.domOperation=i,q(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!z;else{if(Y(t)){var i=v(t);1===n?e=!L.get(i):L.set(i,!e)}else e=z=!!t}return e}};return st}]}],kt=["$animateProvider",function(t){function e(t,e){t.data(s,e)}function n(t){t.removeData(s)}function r(t){return t.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(t,s,c,l,u,h){function _(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,o=n.parentNode;r.set(n,t);for(var a;o;){if(a=r.get(o)){a.processed||(a=e(a));break}o=o.parentNode}return(a||i).children.push(t),t}var n,i={children:[]},r=new u;for(n=0;n<t.length;n++){var o=t[n];r.set(o.domNode,t[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<t.length;n++)e(t[n]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,o=0,a=[];for(e=0;e<i.length;e++){var s=i[e];r<=0&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(t){o++,i.push(t)}),r--}return a.length&&n.push(a),n}(i)}var m=[],g=d(t);return function(u,d,b){function y(t){var e="["+o+"]",n=t.hasAttribute(o)?[t]:t.querySelectorAll(e),i=[];return H(n,function(t){var e=t.getAttribute(o);e&&e.length&&i.push(t)}),i}function w(t){var e=[],n={};H(t,function(t,i){var r=t.element,a=v(r),s=t.event,c=["enter","move"].indexOf(s)>=0,l=t.structural?y(a):[];if(l.length){var u=c?"to":"from";H(l,function(t){var e=t.getAttribute(o);n[e]=n[e]||{},n[e][u]={animationID:i,element:Z(t)}})}else e.push(t)});var i={},r={};return H(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var c=a?a.animationID:s.animationID,l=c.toString();return void(i[l]||(i[l]=!0,e.push(t[c])))}var u=t[a.animationID],d=t[s.animationID],p=a.animationID.toString();if(!r[p]){var f=r[p]={structural:!0,beforeStart:function(){u.beforeStart(),d.beforeStart()},close:function(){u.close(),d.close()},classes:$(u.classes,d.classes),from:u,to:d,anchors:[]};f.classes.length?e.push(f):(e.push(u),e.push(d))}r[p].anchors.push({out:a.element,in:s.element})}),e}function $(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}function x(t){for(var e=a.length-1;e>=0;e--){var n=a[e],i=c.get(n),r=i(t);if(r)return r}}function k(){u.addClass(F),O&&t.addClass(u,O),q&&(t.removeClass(u,q),q=null)}function C(t,e){function n(t){var n=r(t);n&&n.setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function S(){var t=r(u);!t||"leave"===d&&b.$$domOperationFired||t.end()}function A(e){u.off("$destroy",S),n(u),g(u,b),f(u,b),b.domOperation(),O&&t.removeClass(u,O),u.removeClass(F),T.complete(!e)}b=p(b);var E=["enter","move","leave"].indexOf(d)>=0,T=new l({end:function(){A()},cancel:function(){A(!0)}});if(!a.length)return A(),T;e(u,T);var j=i(u.attr("class"),i(b.addClass,b.removeClass)),O=b.tempClasses;O&&(j+=" "+O,b.tempClasses=null);var q;return E&&(q="ng-"+d+"-prepare",t.addClass(u,q)),m.push({element:u,classes:j,event:d,structural:E,options:b,beforeStart:k,close:A}),u.on("$destroy",S),m.length>1?T:(s.$$postDigest(function(){var t=[];H(m,function(e){r(e.element)?t.push(e):e.close()}),m.length=0;var e=w(t),n=[];H(e,function(t){n.push({domNode:v(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,n=t.close;if(r(t.anchors?t.from.element||t.to.element:t.element)){var i=x(t);i&&(e=i.start)}if(e){var o=e();o.done(function(t){n(!t)}),C(t,o)}else n()}})}),h(_(n))}),T)}}]}],Ct=["$animate","$rootScope",function(t,e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,i,r,o){var a,s;e.$watchCollection(i.ngAnimateSwap||i.for,function(i){a&&t.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=e.$new(),o(s,function(e){a=e,t.enter(e,null,n)}))})}}}];e.module("ngAnimate",[],function(){tt=e.noop,V=e.copy,B=e.extend,Z=e.element,H=e.forEach,W=e.isArray,Q=e.isString,J=e.isObject,X=e.isUndefined,G=e.isDefined,K=e.isFunction,Y=e.isElement}).info({angularVersion:"1.6.6"}).directive("ngAnimateSwap",Ct).directive("ngAnimateChildren",ut).factory("$$rAFScheduler",lt).provider("$$animateQueue",xt).provider("$$animation",kt).provider("$animateCss",gt).provider("$$animateCssDriver",vt).provider("$$animateJs",bt).provider("$$animateJsDriver",yt)}(window,window.angular)},function(t,e,n){var i,r,o;(function(){"use strict";var a,s,c,l,u,d,p,f,h,_,m,g,v,b,y,w,x,k,C,S=[].slice;u=angular.module("angular-inview",[]).directive("inView",["$parse",function(t){return{restrict:"A",require:"?^inViewContainer",link:function(e,n,i,r){var o,a,s,c,u,d;if(i.inView)return o=t(i.inView),a={element:n,wasInView:!1,offset:0,customDebouncedCheck:null,callback:function(t,i,r){return null==t&&(t={}),e.$evalAsync(function(a){return function(){return t.inViewTarget=n[0],o(e,{$event:t,$inview:i,$inviewpart:r})}}())}},null!=i.inViewOptions&&(s=e.$eval(i.inViewOptions))&&(a.offset=s.offset||[s.offsetTop||0,s.offsetBottom||0],s.debounce&&(a.customDebouncedCheck=f(function(t){return p([a],n[0],t)},s.debounce))),c=null!=(u=null!=(d=a.customDebouncedCheck)?d:null!=r?r.checkInView:void 0)?u:k,null!=r?r.addItem(a):l(a),setTimeout(c),e.$on("$destroy",function(){return null!=r&&r.removeItem(a),v(a)})}}}]).directive("inViewContainer",function(){return{restrict:"AC",controller:["$element",function(t){return this.items=[],this.addItem=function(t){return this.items.push(t)},this.removeItem=function(t){var e;return this.items=function(){var n,i,r,o;for(r=this.items,o=[],n=0,i=r.length;n<i;n++)(e=r[n])!==t&&o.push(e);return o}.call(this)},this.checkInView=function(e){return function(n){var i,r,o,a;for(a=e.items,r=0,o=a.length;r<o;r++)i=a[r],null!=i.customDebouncedCheck&&i.customDebouncedCheck();return p(function(){var t,e,n,r;for(n=this.items,r=[],t=0,e=n.length;t<e;t++)i=n[t],null==i.customDebouncedCheck&&r.push(i);return r}.call(e),t[0],n)}}(this),this}],link:function(t,e,n,i){return e.bind("scroll",i.checkInView),b(i),t.$on("$destroy",function(){return e.unbind("scroll",i.checkInView),x(i)})}}}),c=[],l=function(t){return c.push(t),d()},v=function(t){var e;return c=function(){var n,i,r;for(r=[],n=0,i=c.length;n<i;n++)(e=c[n])!==t&&r.push(e);return r}(),w()},a=[],b=function(t){return a.push(t),d()},x=function(t){var e;return a=function(){var n,i,r;for(r=[],n=0,i=a.length;n<i;n++)(e=a[n])!==t&&r.push(e);return r}(),w()},s=!1,C=function(t){var e,n,i;for(n=0,i=a.length;n<i;n++)e=a[n],e.checkInView(t);if(c.length)return k(t)},d=function(){if(!s)return s=!0,angular.element(window).bind("checkInView click ready wheel mousewheel DomMouseScroll MozMousePixelScroll resize scroll touchmove mouseup",C)},w=function(){if(s&&!c.length&&!a.length)return s=!1,angular.element(window).unbind("checkInView click ready wheel mousewheel DomMouseScroll MozMousePixelScroll resize scroll touchmove mouseup",C)},y=function(t,e,n,i,r){var o,a;if(n){if(o=h(e.element[0]).top+window.pageYOffset,a=i&&r&&"neither"||i&&"top"||r&&"bottom"||"both",!e.wasInView||e.wasInView!==a||o!==e.lastOffsetTop)return e.lastOffsetTop=o,e.wasInView=a,e.callback(t,!0,a)}else if(e.wasInView)return e.wasInView=!1,e.callback(t,!1)},p=function(t,e,n){var i,r,o,a,s,c,l,u,d,p,f,v,b,w,$;if($={top:0,bottom:m()},e&&e!==window){if(i=h(e),i.top>$.bottom||i.bottom<$.top){for(c=0,u=t.length;c<u;c++)s=t[c],y(n,s,!1);return}i.top>$.top&&($.top=i.top),i.bottom<$.bottom&&($.bottom=i.bottom)}for(w=[],l=0,d=t.length;l<d;l++)s=t[l],a=s.element[0],i=h(a),o=i.top+(g(s.offset)?_(i,s.offset):parseInt(null!=(p=null!=(f=s.offset)?f[0]:void 0)?p:s.offset)),r=i.bottom+(g(s.offset)?_(i,s.offset):parseInt(null!=(v=null!=(b=s.offset)?b[1]:void 0)?v:s.offset)),o<$.bottom&&r>=$.top?w.push(y(n,s,!0,r>$.bottom,o<$.top)):w.push(y(n,s,!1));return w},g=function(t){return"string"==typeof t&&"%"===t.slice(-1)},_=function(t,e){var n;return n=e.substring(0,e.length-1),(t.bottom-t.top)*(n/100)},m=function(){var t,e,n;return(t=window.innerHeight)?t:(e=document.compatMode,!e&&("undefined"!=typeof $&&null!==$&&null!=(n=$.support)?n.boxModel:void 0)||(t="CSS1Compat"===e?document.documentElement.clientHeight:document.body.clientHeight),t)},h=function(t){var e,n,i;if(null!=t.getBoundingClientRect)return t.getBoundingClientRect();for(i=0,e=t;e;)i+=e.offsetTop,e=e.offsetParent;for(n=t.parentElement;n;)null!=n.scrollTop&&(i-=n.scrollTop),n=n.parentElement;return{top:i,bottom:i+t.offsetHeight}},f=function(t,e){var n;return n=null,function(){var i;return i=1<=arguments.length?S.call(arguments,0):[],null!=n&&clearTimeout(n),n=setTimeout(function(){return t.apply(null,i)},null!=e?e:100)}},k=function(t){var e,n,i;for(n=0,i=c.length;n<i;n++)e=c[n],null!=e.customDebouncedCheck&&e.customDebouncedCheck();return p(function(){var t,n,i;for(i=[],t=0,n=c.length;t<n;t++)e=c[t],null==e.customDebouncedCheck&&i.push(e);return i}(),null,t)},r=[n(261)],i=u,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}).call(this)},function(t,e){/*! 
 * angular-loading-bar v0.9.0
 * https://chieffancypants.github.io/angular-loading-bar
 * Copyright (c) 2016 Wes Cruver
 * License: MIT
 */
!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(t){var e=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(e,n,i,r,o,a){function s(){i.cancel(l),a.complete(),d=0,u=0}function c(e){var i,r=n.get("$http"),o=t.defaults;!e.cache&&!o.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(i=angular.isObject(e.cache)?e.cache:angular.isObject(o.cache)?o.cache:r);var a=void 0!==i&&void 0!==i.get(e.url);return void 0!==e.cached&&a!==e.cached?e.cached:(e.cached=a,a)}var l,u=0,d=0,p=a.latencyThreshold;return{request:function(t){return t.ignoreLoadingBar||c(t)||(r.$broadcast("cfpLoadingBar:loading",{url:t.url}),0===u&&(l=i(function(){a.start()},p)),u++,a.set(d/u)),t},response:function(t){return t&&t.config?(t.config.ignoreLoadingBar||c(t.config)||(d++,r.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),d>=u?s():a.set(d/u)),t):(o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t)},responseError:function(t){return t&&t.config?(t.config.ignoreLoadingBar||c(t.config)||(d++,r.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),d>=u?s():a.set(d/u)),e.reject(t)):(o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e.reject(t))}}}];t.interceptors.push(e)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(t,e,n,i){function r(){if(u||(u=t.get("$animate")),n.cancel(p),!g){var r=e[0],a=r.querySelector?r.querySelector(f):e.find(f)[0];a||(a=r.getElementsByTagName("body")[0]);var s=angular.element(a),c=a.lastChild&&angular.element(a.lastChild);i.$broadcast("cfpLoadingBar:started"),g=!0,w&&u.enter(h,s,c),y&&u.enter(m,s,h),o($)}}function o(t){if(g){var e=100*t+"%";_.css("width",e),v=t,b&&(n.cancel(d),d=n(function(){a()},250))}}function a(){if(!(s()>=1)){var t=0,e=s();t=e>=0&&e<.25?(3*Math.random()+3)/100:e>=.25&&e<.65?3*Math.random()/100:e>=.65&&e<.9?2*Math.random()/100:e>=.9&&e<.99?.005:0;o(s()+t)}}function s(){return v}function c(){v=0,g=!1}function l(){u||(u=t.get("$animate")),i.$broadcast("cfpLoadingBar:completed"),o(1),n.cancel(p),p=n(function(){var t=u.leave(h,c);t&&t.then&&t.then(c),u.leave(m)},500)}var u,d,p,f=this.parentSelector,h=angular.element(this.loadingBarTemplate),_=h.find("div").eq(0),m=angular.element(this.spinnerTemplate),g=!1,v=0,b=this.autoIncrement,y=this.includeSpinner,w=this.includeBar,$=this.startSize;return{start:r,set:o,status:s,inc:a,complete:l,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}()},function(t,e){/**
 * @license AngularJS v1.6.6
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(t,e){"use strict";function n(){function n(t,e){var n,i={},r=t.split(",");for(n=0;n<r.length;n++)i[e?c(r[n]):r[n]]=!0;return i}function i(t,e){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t);var n=I(t);if(!n)return"";var i=5;do{if(0===i)throw f("uinput","Failed to sanitize html because the input is unstable");i--,t=n.innerHTML,n=I(t)}while(t!==n.innerHTML);for(var r=n.firstChild;r;){switch(r.nodeType){case 1:e.start(r.nodeName.toLowerCase(),h(r.attributes));break;case 3:e.chars(r.textContent)}var o;if(!((o=r.firstChild)||(1===r.nodeType&&e.end(r.nodeName.toLowerCase()),o=v("nextSibling",r))))for(;null==o&&(r=v("parentNode",r))!==n;)o=v("nextSibling",r),1===r.nodeType&&e.end(r.nodeName.toLowerCase());r=o}for(;r=n.firstChild;)n.removeChild(r)}function h(t){for(var e={},n=0,i=t.length;n<i;n++){var r=t[n];e[r.name]=r.value}return e}function _(t){return t.replace(/&/g,"&amp;").replace(y,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(w,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(t,e){var n=!1,i=r(t,t.push);return{start:function(t,r){t=c(t),!n&&T[t]&&(n=t),n||!0!==j[t]||(i("<"),i(t),a(r,function(n,r){var o=c(r),a="img"===t&&"src"===o||"background"===o;!0!==M[o]||!0===O[o]&&!e(n,a)||(i(" "),i(r),i('="'),i(_(n)),i('"'))}),i(">"))},end:function(t){t=c(t),n||!0!==j[t]||!0===$[t]||(i("</"),i(t),i(">")),t==n&&(n=!1)},chars:function(t){n||i(_(t))}}}function g(e){for(;e;){if(e.nodeType===t.Node.ELEMENT_NODE)for(var n=e.attributes,i=0,r=n.length;i<r;i++){var o=n[i],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(e.removeAttributeNode(o),i--,r--)}var s=e.firstChild;s&&g(s),e=v("nextSibling",e)}}function v(t,e){var n=e[t];if(n&&u.call(e,n))throw f("elclob","Failed to sanitize html because the element is clobbered: {0}",e.outerHTML||e.outerText);return n}var b=!1;this.$get=["$$sanitizeUri",function(t){return b&&o(j,E),function(e){var n=[];return d(e,p(n,function(e,n){return!/^unsafe:/.test(t(e,n))})),n.join("")}}],this.enableSvg=function(t){return s(t)?(b=t,this):b},r=e.bind,o=e.extend,a=e.forEach,s=e.isDefined,c=e.lowercase,l=e.noop,d=i,p=m,u=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};var y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^#-~ |!])/g,$=n("area,br,col,hr,img,wbr"),x=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=n("rp,rt"),C=o({},k,x),S=o({},x,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),A=o({},k,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),T=n("script,style"),j=o({},$,S,A,C),O=n("background,cite,href,longdesc,src,xlink:href"),q=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),P=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),M=o({},O,P,q),I=function(t,e){function n(e){e="<remove></remove>"+e;try{e=encodeURI(e)}catch(t){return}var n=new t.XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+e,!1),n.send(null);var i=n.response.body;return i.firstChild.remove(),i}function i(e){e="<remove></remove>"+e;try{var n=(new t.DOMParser).parseFromString(e,"text/html").body;return n.firstChild.remove(),n}catch(t){return}}function r(t){return a.innerHTML=t,e.documentMode&&g(a),a}var o;if(!e||!e.implementation)throw f("noinert","Can't create an inert html document");o=e.implementation.createHTMLDocument("inert");var a=(o.documentElement||o.getDocumentElement()).querySelector("body");return a.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',a.querySelector("svg")?(a.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',a.querySelector("svg img")?i:r):n}(t,t.document)}function i(t){var e=[];return p(e,l).chars(t),e.join("")}var r,o,a,s,c,l,u,d,p,f=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",n).info({angularVersion:"1.6.6"}),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=e.$$minErr("linky"),r=e.isDefined,o=e.isFunction,a=e.isObject,s=e.isString;return function(e,c,l){function u(t){t&&m.push(i(t))}if(null==e||""===e)return e;if(!s(e))throw n("notstring","Expected string but received: {0}",e);for(var d,p,f,h=o(l)?l:a(l)?function(){return l}:function(){return{}},_=e,m=[];d=_.match(/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i);)p=d[0],d[2]||d[4]||(p=(d[3]?"http://":"mailto:")+p),f=d.index,u(_.substr(0,f)),function(t,e){var n,i=h(t);m.push("<a ");for(n in i)m.push(n+'="'+i[n]+'" ');!r(c)||"target"in i||m.push('target="',c,'" '),m.push('href="',t.replace(/"/g,"&quot;"),'">'),u(e),m.push("</a>")}(p,d[0].replace(/^mailto:/i,"")),_=_.substring(f+d[0].length);return u(_),t(m.join(""))}}])}(window,window.angular)},function(t,e){/**
 * @author GOHIN Maelig
 * @email mgohin@arca-compiuting.fr
 * @version 1.1.1
 * @license: MIT
 */
!function(t){"use strict";var e=["$compile","$timeout","$window",function(e,n,i){return{restrict:"A",scope:{scrollingElem:"=?",superSticky:"=?",css:"=?",listenResize:"=?"},link:function(e,r){n(function(){var n,o=!1,a=r.css("display"),s=r.css("position"),c=r.css("top"),l=r.css("left"),u=r.css("width"),d=e.scrollingElem||document;r.addClass("sticky"),e.superSticky&&r.addClass("sticky-keep-visible"),e.listenResize&&t.element(i).on("resize",function(){o&&(r.css("width",e.listenResize.offsetWidth+"px"),n.css("width",e.listenResize.offsetWidth+"px"),u&&(u=e.listenResize.offsetWidth+"px"))}),t.element(d).on("scroll",function(){var e=o?n:r,i=e[0].getBoundingClientRect().top,d=0;if(t.forEach(t.element(document.querySelectorAll(".sticky.sticky-is-visible.sticky-keep-visible")),function(t){t!==r[0]&&t.offsetWidth>0&&t.offsetHeight>0&&(d+=t.offsetHeight)}),i<=d)o||(n=t.element("<div></div>"),n.css("width",r[0].offsetWidth+"px"),n.css("height",r[0].offsetHeight+"px"),r.after(n),t.element(document.querySelectorAll(".sticky.sticky-is-visible:not(.sticky-keep-visible)")).css("display","none"),r.css("width",r[0].offsetWidth+"px"),r.css("position","fixed"),r.css("top",d+"px"),r.css("left","0px"),r.addClass("sticky-is-visible"),o=!0);else if(n){n.remove(),r.css("width",u),r.css("display",a),r.css("position",s),r.css("top",c),r.css("left",l),r.removeClass("sticky-is-visible"),o=!1;var p=t.element(document.querySelectorAll(".sticky.sticky-is-visible"));p.length>0&&t.element(p[p.length-1]).css("display",a)}})})}}}];t.module("ngSticky",[]).directive("ngSticky",e)}(window.angular)},function(t,e){!function(){"use strict";!function(){for(var t=0,e=["webkit","moz"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),r=window.setTimeout(function(){e(n+i)},i);return t=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){window.clearTimeout(t)})}(),angular.module("angular-svg-round-progressbar",[]),angular.module("angular-svg-round-progressbar").constant("roundProgressConfig",{max:50,semi:!1,rounded:!1,responsive:!1,clockwise:!0,radius:100,color:"#45ccce",bgcolor:"#eaeaea",stroke:15,duration:800,animation:"easeOutCubic",animationDelay:0,offset:0}),angular.module("angular-svg-round-progressbar").service("roundProgressService",["$window",function(t){function e(t,e,n,i){var r=(i-90)*Math.PI/180;return t+n*Math.cos(r)+" "+(e+n*Math.sin(r))}var n={},i=angular.isNumber,r=document.head.querySelector("base");return n.isSupported=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),n.resolveColor=r&&r.href?function(t){var e=t.indexOf("#");return e>-1&&t.indexOf("url")>-1?t.slice(0,e)+window.location.href+t.slice(e):t}:function(t){return t},n.toNumber=function(t){return i(t)?t:parseFloat((t+"").replace(",","."))},n.getOffset=function(t,e){var n=+e.offset||0;if("inherit"===e.offset)for(var i=t.$parent;i;){if(i.hasOwnProperty("$$getRoundProgressOptions")){var r=i.$$getRoundProgressOptions();n+=(+r.offset||0)+(+r.stroke||0)}i=i.$parent}return n},n.getTimestamp=t.performance&&t.performance.now&&angular.isNumber(t.performance.now())?function(){return t.performance.now()}:function(){return(new t.Date).getTime()},n.updateState=function(t,n,i,r,o,a){if(!o)return r;var s=t>0?Math.min(t,n):0,c=a?180:359.9999,l=0===n?0:s/n*c,u=e(o,o,i,l),d=e(o,o,i,0),p=l<=180?0:1,f="M "+u+" A "+i+" "+i+" 0 "+p+" 0 "+d;return r.attr("d",f)},n.animations={linearEase:function(t,e,n,i){return n*t/i+e},easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOutCubic:function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,i){return n*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,n,i){return 0==t?e:n*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,n,i){return t==i?e+n:n*(1-Math.pow(2,-10*t/i))+e},easeInOutExpo:function(t,e,n,i){return 0==t?e:t==i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,i){var r=1.70158,o=0,a=n;return 0==t?e:1==(t/=i)?e+n:(o||(o=.3*i),a<Math.abs(n)?(a=n,r=o/4):r=o/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o)+e)},easeOutElastic:function(t,e,n,i){var r=1.70158,o=0,a=n;return 0==t?e:1==(t/=i)?e+n:(o||(o=.3*i),a<Math.abs(n)?(a=n,r=o/4):r=o/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*i-r)*(2*Math.PI)/o)+n+e)},easeInOutElastic:function(t,e,n,i){var r=1.70158,o=0,a=n;return 0==t?e:2==(t/=i/2)?e+n:(o||(o=i*(.3*1.5)),a<Math.abs(n)?(a=n,r=o/4):r=o/(2*Math.PI)*Math.asin(n/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o)*.5+n+e)},easeInBack:function(t,e,n,i,r){return void 0==r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,n,i,r){return void 0==r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,n,i,r){return void 0==r&&(r=1.70158),(t/=i/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:function(t,e,i,r){return i-n.animations.easeOutBounce(r-t,0,i,r)+e},easeOutBounce:function(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,i,r){return t<r/2?.5*n.animations.easeInBounce(2*t,0,i,r)+e:.5*n.animations.easeOutBounce(2*t-r,0,i,r)+.5*i+e}},n}]),angular.module("angular-svg-round-progressbar").directive("roundProgress",["$window","roundProgressService","roundProgressConfig",function(t,e,n){var i={restrict:"EA",replace:!0,transclude:!0,scope:{current:"=",max:"=",semi:"=",rounded:"=",clockwise:"=",responsive:"=",onRender:"=",radius:"@",color:"@",bgcolor:"@",stroke:"@",duration:"@",animation:"@",offset:"@",animationDelay:"@"}};return e.isSupported?angular.extend(i,{link:function(r,o,a){function s(t){return a.hasOwnProperty(t)}var c,l=!o.hasClass("round-progress-wrapper"),u=l?o:o.find("svg").eq(0),d=u.find("path").eq(0),p=u.find("circle").eq(0),f=angular.copy(n),h=0;r.$$getRoundProgressOptions=function(){return f};var _=function(){var t=f.semi,n=f.responsive,i=+f.radius||0,a=+f.stroke,s=2*i,c=i-a/2-e.getOffset(r,f);u.css({top:0,left:0,position:n?"absolute":"static",width:n?"100%":s+"px",height:n?"100%":(t?i:s)+"px",overflow:"hidden"}),l||u[0].setAttribute("viewBox","0 0 "+s+" "+(t?i:s)),o.css({width:n?"100%":"auto",position:"relative",paddingBottom:n?t?"50%":"100%":0}),d.css({stroke:e.resolveColor(f.color),strokeWidth:a,strokeLinecap:f.rounded?"round":"butt"}),t?d.attr("transform",f.clockwise?"translate(0, "+s+") rotate(-90)":"translate("+s+", "+s+") rotate(90) scale(-1, 1)"):d.attr("transform",f.clockwise?"":"scale(-1, 1) translate("+-s+" 0)"),p.attr({cx:i,cy:i,r:c>=0?c:0}).css({stroke:e.resolveColor(f.bgcolor),strokeWidth:a})},m=function(n,i,a){var s=e.toNumber(f.max||0),c=n>0?t.Math.min(n,s):0,l=i===c||i<0?0:i||0,p=c-l,_=e.animations[f.animation],m=+f.duration||0,g=a||n>s&&i>s||n<0&&i<0||m<25,v=e.toNumber(f.radius),b=v-f.stroke/2-e.getOffset(r,f),y=f.semi;u.attr({"aria-valuemax":s,"aria-valuenow":c});var w=function(){if(g)e.updateState(c,s,b,d,v,y),f.onRender&&f.onRender(c,f,o);else{var n=e.getTimestamp(),i=++h;t.requestAnimationFrame(function r(){var a=t.Math.min(e.getTimestamp()-n,m),c=_(a,l,p,m);e.updateState(c,s,b,d,v,y),f.onRender&&f.onRender(c,f,o),i===h&&a<m&&t.requestAnimationFrame(r)})}};f.animationDelay>0?(t.clearTimeout(void 0),t.setTimeout(w,f.animationDelay)):w()},g=Object.keys(i.scope).filter(function(t){return s(t)&&"current"!==t});r.$watchGroup(g,function(t){for(var e=0;e<t.length;e++)void 0!==t[e]&&(f[g[e]]=t[e]);_(),r.$broadcast("$parentOffsetChanged"),"inherit"!==f.offset||c?"inherit"!==f.offset&&c&&c():c=r.$on("$parentOffsetChanged",function(){m(r.current,r.current,!0),_()})}),r.$watchGroup(["current","max","radius","stroke","semi","offset"].filter(s),function(t,n){m(e.toNumber(t[0]),e.toNumber(n[0]))})},template:function(t){for(var e=t.parent(),n=['<svg class="round-progress" xmlns="http://www.w3.org/2000/svg" role="progressbar" aria-valuemin="0">','<circle fill="none"/>','<path fill="none"/>',"<g ng-transclude></g>","</svg>"];e.length&&"round-progress"!==e[0].nodeName.toLowerCase()&&void 0===e.attr("round-progress");)e=e.parent();return e&&e.length||(n.unshift('<div class="round-progress-wrapper">'),n.push("</div>")),n.join("\n")}}):angular.extend(i,{template:'<div class="round-progress" ng-transclude></div>'})}])}()},function(t,e){angular.module("youtube-embed",[]).service("youtubeEmbedUtils",["$window","$rootScope",function(t,e){function n(t,e){return t.indexOf(e)>-1}function i(){e.$apply(function(){r.ready=!0})}var r={},o=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\S*[^\w\s-])([\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi;return r.getIdFromURL=function(t){var e=t.replace(o,"$1");if(n(e,";")){var i=e.split(";");if(n(i[1],"%")){e=("http://youtube.com"+decodeURIComponent(i[1])).replace(o,"$1")}else e=i[0]}else n(e,"#")&&(e=e.split("#")[0]);return e},r.getTimeFromURL=function(t){t=t||"";var e=t.match(/t=(\d+)[ms]?(\d+)?s?/);if(!e)return 0;var i=e[0],r=e[1],o=e[2];return void 0!==o?(o=parseInt(o,10),r=parseInt(r,10)):n(i,"m")?(r=parseInt(r,10),o=0):(o=parseInt(r,10),r=0),o+60*r},r.ready=!1,"undefined"==typeof YT?(t.onYouTubeIframeAPIReady=i,console.log("Unable to find YouTube iframe library on this page.")):YT.loaded?r.ready=!0:YT.ready(i),r}]).directive("youtubeVideo",["$window","youtubeEmbedUtils",function(t,e){var n=1,i={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"queued"},r="youtube.player.";return t.YTConfig={host:"https://www.youtube.com"},{restrict:"EA",scope:{videoId:"=?",videoUrl:"=?",player:"=?",playerVars:"=?",playerHeight:"=?",playerWidth:"=?"},link:function(t,o,a){function s(){var e=Array.prototype.slice.call(arguments);t.$apply(function(){t.$emit.apply(t,e)})}function c(e){var n=i[e.data];void 0!==n&&s(r+n,t.player,e),t.$apply(function(){t.player.currentState=n})}function l(e){s(r+"ready",t.player,e)}function u(e){s(r+"error",t.player,e)}function d(){var e=angular.copy(t.playerVars);e.start=e.start||t.urlStartTime;var n=new YT.Player(f,{height:t.playerHeight,width:t.playerWidth,videoId:t.videoId,playerVars:e,events:{onReady:l,onStateChange:c,onError:u}});return n.id=f,n}function p(){(t.videoId||t.playerVars.list)&&(t.player&&"function"==typeof t.player.destroy&&t.player.destroy(),t.player=d())}t.utils=e;var f=a.playerId||o[0].id||"unique-youtube-embed-id-"+n++;o[0].id=f,t.playerHeight=t.playerHeight||390,t.playerWidth=t.playerWidth||640,t.playerVars=t.playerVars||{};var h=t.$watch(function(){return t.utils.ready&&(void 0!==t.videoUrl||void 0!==t.videoId||void 0!==t.playerVars.list)},function(e){e&&(h(),void 0!==t.videoUrl?t.$watch("videoUrl",function(e){t.videoId=t.utils.getIdFromURL(e),t.urlStartTime=t.utils.getTimeFromURL(e),p()}):void 0!==t.videoId?t.$watch("videoId",function(){t.urlStartTime=null,p()}):t.$watch("playerVars.list",function(){t.urlStartTime=null,p()}))});t.$watchCollection(["playerHeight","playerWidth"],function(){t.player&&t.player.setSize(t.playerWidth,t.playerHeight)}),t.$on("$destroy",function(){t.player&&t.player.destroy()})}}}])},,,function(t,e,n){var i,r;/*! jquery.atwho - v1.4.0 %>
* Copyright (c) 2015 chord.luo <chord.luo@gmail.com>;
* homepage: http://ichord.github.com/At.js
* Licensed MIT
*/
!function(o,a){i=[n(38)],void 0!==(r=function(t){return a(t)}.apply(e,i))&&(t.exports=r)}(0,function(t){var e,n,i,r,o,a,s,c,l,u,d=[].slice,p=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;e=t,i=function(){function t(t){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=e(t),this.setupRootElement(),this.listen()}return t.prototype.createContainer=function(t){var n;return null!=(n=this.$el)&&n.remove(),e(t.body).append(this.$el=e("<div class='atwho-container'></div>"))},t.prototype.setupRootElement=function(t,n){var i;if(null==n&&(n=!1),t)this.window=t.contentWindow,this.document=t.contentDocument||this.window.document,this.iframe=t;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(t){if(i=t,this.iframe=null,e.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+i)}}return this.createContainer((this.iframeAsRoot=n)?this.document:document)},t.prototype.controller=function(t){var e,n,i,r;if(this.aliasMaps[t])n=this.controllers[this.aliasMaps[t]];else{r=this.controllers;for(i in r)if(e=r[i],i===t){n=e;break}}return n||this.controllers[this.currentFlag]},t.prototype.setContextFor=function(t){return this.currentFlag=t,this},t.prototype.reg=function(t,e){var n,i;return i=(n=this.controllers)[t]||(n[t]=this.$inputor.is("[contentEditable]")?new a(this,t):new l(this,t)),e.alias&&(this.aliasMaps[e.alias]=t),i.init(e),this},t.prototype.listen=function(){return this.$inputor.on("compositionstart",function(t){return function(e){var n;return null!=(n=t.controller())&&n.view.hide(),t.isComposing=!0,null}}(this)).on("compositionend",function(t){return function(e){return t.isComposing=!1,null}}(this)).on("keyup.atwhoInner",function(t){return function(e){return t.onKeyup(e)}}(this)).on("keydown.atwhoInner",function(t){return function(e){return t.onKeydown(e)}}(this)).on("blur.atwhoInner",function(t){return function(e){var n;if(n=t.controller())return n.expectedQueryCBId=null,n.view.hide(e,n.getOpt("displayTimeout"))}}(this)).on("click.atwhoInner",function(t){return function(e){return t.dispatch(e)}}(this)).on("scroll.atwhoInner",function(t){return function(){var e;return e=t.$inputor.scrollTop(),function(n){var i,r;return i=n.target.scrollTop,e!==i&&null!=(r=t.controller())&&r.view.hide(n),e=i,!0}}}(this)())},t.prototype.shutdown=function(){var t,e,n;n=this.controllers;for(t in n)e=n[t],e.destroy(),delete this.controllers[t];return this.$inputor.off(".atwhoInner"),this.$el.remove()},t.prototype.dispatch=function(t){var e,n,i,r;i=this.controllers,r=[];for(e in i)n=i[e],r.push(n.lookUp(t));return r},t.prototype.onKeyup=function(t){var n;switch(t.keyCode){case s.ESC:t.preventDefault(),null!=(n=this.controller())&&n.view.hide();break;case s.DOWN:case s.UP:case s.CTRL:case s.ENTER:e.noop();break;case s.P:case s.N:t.ctrlKey||this.dispatch(t);break;default:this.dispatch(t)}},t.prototype.onKeydown=function(t){var n,i;if((i=null!=(n=this.controller())?n.view:void 0)&&i.visible())switch(t.keyCode){case s.ESC:t.preventDefault(),i.hide(t);break;case s.UP:t.preventDefault(),i.prev();break;case s.DOWN:t.preventDefault(),i.next();break;case s.P:if(!t.ctrlKey)return;t.preventDefault(),i.prev();break;case s.N:if(!t.ctrlKey)return;t.preventDefault(),i.next();break;case s.TAB:case s.ENTER:case s.SPACE:if(!i.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&t.keyCode===s.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&t.keyCode===s.TAB)return;i.highlighted()?(t.preventDefault(),i.choose(t)):i.hide(t);break;default:e.noop()}},t}(),r=function(){function t(t,n){this.app=t,this.at=n,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=e("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=e("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new c(this),this.view=new u(this)}return t.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},t.prototype.init=function(t){return this.setting=e.extend({},this.setting||e.fn.atwho.default,t),this.view.init(),this.model.reload(this.setting.data)},t.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},t.prototype.callDefault=function(){var t,n,i;i=arguments[0],t=2<=arguments.length?d.call(arguments,1):[];try{return o[i].apply(this,t)}catch(t){return n=t,e.error(n+" Or maybe At.js doesn't have function "+i)}},t.prototype.trigger=function(t,e){var n,i;return null==e&&(e=[]),e.push(this),n=this.getOpt("alias"),i=n?t+"-"+n+".atwho":t+".atwho",this.$inputor.trigger(i,e)},t.prototype.callbacks=function(t){return this.getOpt("callbacks")[t]||o[t]},t.prototype.getOpt=function(t,e){try{return this.setting[t]}catch(t){return t,null}},t.prototype.insertContentFor=function(t){var n,i;return i=this.getOpt("insertTpl"),n=e.extend({},t.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,i,n,"onInsert")},t.prototype.renderView=function(t){var e;return e=this.getOpt("searchKey"),t=this.callbacks("sorter").call(this,this.query.text,t.slice(0,1001),e),this.view.render(t.slice(0,this.getOpt("limit")))},t.arrayToDefaultHash=function(t){var n,i,r,o;if(!e.isArray(t))return t;for(o=[],n=0,r=t.length;n<r;n++)i=t[n],e.isPlainObject(i)?o.push(i):o.push({name:i});return o},t.prototype.lookUp=function(t){var e,n;if((!t||"click"!==t.type||this.getOpt("lookUpOnClick"))&&(!this.getOpt("suspendOnComposing")||!this.app.isComposing))return(e=this.catchQuery(t))?(this.app.setContextFor(this.at),(n=this.getOpt("delay"))?this._delayLookUp(e,n):this._lookUp(e),e):(this.expectedQueryCBId=null,e)},t.prototype._delayLookUp=function(t,e){var n,i;return n=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=n),i=e-(n-this.previousCallTime),0<i&&i<e?(this.previousCallTime=n,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout(function(e){return function(){return e.previousCallTime=0,e.delayedCallTimeout=null,e._lookUp(t)}}(this),e)):(this._stopDelayedCall(),this.previousCallTime!==n&&(this.previousCallTime=0),this._lookUp(t))},t.prototype._stopDelayedCall=function(){if(this.delayedCallTimeout)return clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null},t.prototype._generateQueryCBId=function(){return{}},t.prototype._lookUp=function(t){var n;return n=function(t,e){if(t===this.expectedQueryCBId)return e&&e.length>0?this.renderView(this.constructor.arrayToDefaultHash(e)):this.view.hide()},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(t.text,e.proxy(n,this,this.expectedQueryCBId))},t}(),l=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,t),n.prototype.catchQuery=function(){var t,e,n,i,r,o,a;if(e=this.$inputor.val(),t=this.$inputor.caret("pos",{iframe:this.app.iframe}),a=e.slice(0,t),r=this.callbacks("matcher").call(this,this.at,a,this.getOpt("startWithSpace")),!((i="string"==typeof r)&&r.length<this.getOpt("minLen",0)))return i&&r.length<=this.getOpt("maxLen",20)?(o=t-r.length,n=o+r.length,this.pos=o,r={text:r,headPos:o,endPos:n},this.trigger("matched",[this.at,r.text])):(r=null,this.view.hide()),this.query=r},n.prototype.rect=function(){var t,n,i;if(t=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(n=e(this.app.iframe).offset(),t.left+=n.left,t.top+=n.top),i=this.app.document.selection?0:2,{left:t.left,top:t.top,bottom:t.top+t.height+i}},n.prototype.insert=function(t,e){var n,i,r,o,a;return n=this.$inputor,i=n.val(),r=i.slice(0,Math.max(this.query.headPos-this.at.length,0)),o=""===(o=this.getOpt("suffix"))?o:o||" ",t+=o,a=""+r+t+i.slice(this.query.endPos||0),n.val(a),n.caret("pos",r.length+t.length,{iframe:this.app.iframe}),n.is(":focus")||n.focus(),n.change()},n}(r),a=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return p(n,t),n.prototype._getRange=function(){var t;if(t=this.app.window.getSelection(),t.rangeCount>0)return t.getRangeAt(0)},n.prototype._setRange=function(t,n,i){if(null==i&&(i=this._getRange()),i)return n=e(n)[0],"after"===t?(i.setEndAfter(n),i.setStartAfter(n)):(i.setEndBefore(n),i.setStartBefore(n)),i.collapse(!1),this._clearRange(i)},n.prototype._clearRange=function(t){var e;if(null==t&&(t=this._getRange()),e=this.app.window.getSelection(),null==this.ctrl_a_pressed)return e.removeAllRanges(),e.addRange(t)},n.prototype._movingEvent=function(t){var e;return"click"===t.type||(e=t.which)===s.RIGHT||e===s.LEFT||e===s.UP||e===s.DOWN},n.prototype._unwrap=function(t){var n;return t=e(t).unwrap().get(0),(n=t.nextSibling)&&n.nodeValue&&(t.nodeValue+=n.nodeValue,e(n).remove()),t},n.prototype.catchQuery=function(t){var n,i,r,o,a,c,l,u,d,p,f,h;if((h=this._getRange())&&h.collapsed){if(t.which===s.ENTER)return(i=e(h.startContainer).closest(".atwho-query")).contents().unwrap(),i.is(":empty")&&i.remove(),(i=e(".atwho-query",this.app.document)).text(i.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if(e(h.startContainer).is(this.$inputor))return void this._clearRange();t.which===s.BACKSPACE&&h.startContainer.nodeType===document.ELEMENT_NODE&&(d=h.startOffset-1)>=0?(r=h.cloneRange(),r.setStart(h.startContainer,d),e(r.cloneContents()).contents().last().is(".atwho-inserted")&&(a=e(h.startContainer).contents().get(d),this._setRange("after",e(a).contents().last()))):t.which===s.LEFT&&h.startContainer.nodeType===document.TEXT_NODE&&(n=e(h.startContainer.previousSibling),n.is(".atwho-inserted")&&0===h.startOffset&&this._setRange("after",n.contents().last()))}if(e(h.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(i=e(".atwho-query",this.app.document)).length>0&&i.is(":empty")&&0===i.text().length&&i.remove(),this._movingEvent(t)||i.removeClass("atwho-inserted"),i.length>0)switch(t.which){case s.LEFT:return this._setRange("before",i.get(0),h),void i.removeClass("atwho-query");case s.RIGHT:return this._setRange("after",i.get(0).nextSibling,h),void i.removeClass("atwho-query")}if(i.length>0&&(f=i.attr("data-atwho-at-query"))&&(i.empty().html(f).attr("data-atwho-at-query",null),this._setRange("after",i.get(0),h)),r=h.cloneRange(),r.setStart(h.startContainer,0),u=this.callbacks("matcher").call(this,this.at,r.toString(),this.getOpt("startWithSpace")),c="string"==typeof u,0===i.length&&c&&(o=h.startOffset-this.at.length-u.length)>=0&&(h.setStart(h.startContainer,o),i=e("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),h.surroundContents(i.get(0)),l=i.contents().last().get(0),/firefox/i.test(navigator.userAgent)?(h.setStart(l,l.length),h.setEnd(l,l.length),this._clearRange(h)):this._setRange("after",l,h)),!(c&&u.length<this.getOpt("minLen",0)))return c&&u.length<=this.getOpt("maxLen",20)?(p={text:u,el:i},this.trigger("matched",[this.at,p.text]),this.query=p):(this.view.hide(),this.query={el:i},i.text().indexOf(this.at)>=0&&(this._movingEvent(t)&&i.hasClass("atwho-inserted")?i.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,i)&&this._setRange("after",this._unwrap(i.text(i.text()).contents().first()))),null)}},n.prototype.rect=function(){var t,n;return n=this.query.el.offset(),this.app.iframe&&!this.app.iframeAsRoot&&(t=e(this.app.iframe).offset(),n.left+=t.left-this.$inputor.scrollLeft(),n.top+=t.top-this.$inputor.scrollTop()),n.bottom=n.top+this.query.el.height(),n},n.prototype.insert=function(t,e){var n,i,r,o;return r=""===(r=this.getOpt("suffix"))?r:r||" ",n=e.data("item-data"),this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(t).attr("data-atwho-at-query",""+n["atwho-at"]+this.query.text),(i=this._getRange())&&(i.setEndAfter(this.query.el[0]),i.collapse(!1),i.insertNode(o=this.app.document.createTextNode("⁠"+r)),this._setRange("after",o,i)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change()},n}(r),c=function(){function t(t){this.context=t,this.at=this.context.at,this.storage=this.context.$inputor}return t.prototype.destroy=function(){return this.storage.data(this.at,null)},t.prototype.saved=function(){return this.fetch()>0},t.prototype.query=function(t,e){var n,i,r;return i=this.fetch(),r=this.context.getOpt("searchKey"),i=this.context.callbacks("filter").call(this.context,t,i,r)||[],n=this.context.callbacks("remoteFilter"),i.length>0||!n&&0===i.length?e(i):n.call(this.context,t,e)},t.prototype.fetch=function(){return this.storage.data(this.at)||[]},t.prototype.save=function(t){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,t||[]))},t.prototype.load=function(t){if(!this.saved()&&t)return this._load(t)},t.prototype.reload=function(t){return this._load(t)},t.prototype._load=function(t){return"string"==typeof t?e.ajax(t,{dataType:"json"}).done(function(t){return function(e){return t.save(e)}}(this)):this.save(t)},t}(),u=function(){function t(t){this.context=t,this.$el=e("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return t.prototype.init=function(){var t;return t=this.context.getOpt("alias")||this.context.at.charCodeAt(0),this.$el.attr({id:"at-view-"+t})},t.prototype.destroy=function(){return this.$el.remove()},t.prototype.bindEvent=function(){var t;return t=this.$el.find("ul"),t.on("mouseenter.atwho-view","li",function(n){return t.find(".cur").removeClass("cur"),e(n.currentTarget).addClass("cur")}).on("click.atwho-view","li",function(n){return function(i){return t.find(".cur").removeClass("cur"),e(i.currentTarget).addClass("cur"),n.choose(i),i.preventDefault()}}(this))},t.prototype.visible=function(){return this.$el.is(":visible")},t.prototype.highlighted=function(){return this.$el.find(".cur").length>0},t.prototype.choose=function(t){var e,n;if((e=this.$el.find(".cur")).length&&(n=this.context.insertContentFor(e),this.context._stopDelayedCall(),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,n,e),e),this.context.trigger("inserted",[e,t]),this.hide(t)),this.context.getOpt("hideWithoutSuffix"))return this.stopShowing=!0},t.prototype.reposition=function(t){var n,i,r,o;return n=this.context.app.iframeAsRoot?this.context.app.window:window,t.bottom+this.$el.height()-e(n).scrollTop()>e(n).height()&&(t.bottom=t.top-this.$el.height()),t.left>(r=e(n).width()-this.$el.width()-5)&&(t.left=r),i={left:t.left,top:t.bottom},null!=(o=this.context.callbacks("beforeReposition"))&&o.call(this.context,i),this.$el.offset(i),this.context.trigger("reposition",[i])},t.prototype.next=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.next(),e.length||(e=this.$el.find("li:first")),e.addClass("cur"),this.scrollTop(Math.max(0,t.innerHeight()*(e.index()+2)-this.$el.height()))},t.prototype.prev=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.prev(),e.length||(e=this.$el.find("li:last")),e.addClass("cur"),this.scrollTop(Math.max(0,t.innerHeight()*(e.index()+2)-this.$el.height()))},t.prototype.scrollTop=function(t){var e;return e=this.context.getOpt("scrollDuration"),e?this.$el.animate({scrollTop:t},e):this.$el.scrollTop(t)},t.prototype.show=function(){var t;return this.stopShowing?void(this.stopShowing=!1):(this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(t=this.context.rect())?this.reposition(t):void 0)},t.prototype.hide=function(t,e){var n;if(this.visible())return isNaN(e)?(this.$el.hide(),this.context.trigger("hidden",[t])):(n=function(t){return function(){return t.hide()}}(this),clearTimeout(this.timeoutID),this.timeoutID=setTimeout(n,e))},t.prototype.render=function(t){var n,i,r,o,a,s,c;if(!(e.isArray(t)&&t.length>0))return void this.hide();for(this.$el.find("ul").empty(),i=this.$el.find("ul"),c=this.context.getOpt("displayTpl"),r=0,a=t.length;r<a;r++)o=t[r],o=e.extend({},o,{"atwho-at":this.context.at}),s=this.context.callbacks("tplEval").call(this.context,c,o,"onDisplay"),n=e(this.context.callbacks("highlighter").call(this.context,s,this.context.query.text)),n.data("item-data",o),i.append(n);return this.show(),this.context.getOpt("highlightFirst")?i.find("li:first").addClass("cur"):void 0},t}(),s={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},o={beforeSave:function(t){return r.arrayToDefaultHash(t)},matcher:function(t,e,n,i){var r,o,a,s,c;return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n&&(t="(?:^|\\s)"+t),r=decodeURI("%C3%80"),o=decodeURI("%C3%BF"),c=i?" ":"",s=new RegExp(t+"([A-Za-z"+r+"-"+o+"0-9_"+c+"'.+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi"),a=s.exec(e),a?a[2]||a[1]:null},filter:function(t,e,n){var i,r,o,a;for(i=[],r=0,a=e.length;r<a;r++)o=e[r],~new String(o[n]).toLowerCase().indexOf(t.toLowerCase())&&i.push(o);return i},remoteFilter:null,sorter:function(t,e,n){var i,r,o,a;if(!t)return e;for(i=[],r=0,a=e.length;r<a;r++)o=e[r],o.atwho_order=new String(o[n]).toLowerCase().indexOf(t.toLowerCase()),o.atwho_order>-1&&i.push(o);return i.sort(function(t,e){return t.atwho_order-e.atwho_order})},tplEval:function(t,e){var n;n=t;try{return"string"!=typeof t&&(n=t(e)),n.replace(/\$\{([^\}]*)\}/g,function(t,n,i){return e[n]})}catch(t){return t,""}},highlighter:function(t,e){var n;return e?(n=new RegExp(">\\s*(\\w*?)("+e.replace("+","\\+")+")(\\w*)\\s*<","ig"),t.replace(n,function(t,e,n,i){return"> "+e+"<strong>"+n+"</strong>"+i+" <"})):t},beforeInsert:function(t,e){return t},beforeReposition:function(t){return t},afterMatchFailed:function(t,e){}},n={load:function(t,e){var n;if(n=this.controller(t))return n.model.load(e)},isSelecting:function(){var t;return!!(null!=(t=this.controller())?t.view.visible():void 0)},hide:function(){var t;return null!=(t=this.controller())?t.view.hide():void 0},reposition:function(){var t;if(t=this.controller())return t.view.reposition(t.rect())},setIframe:function(t,e){return this.setupRootElement(t,e),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},e.fn.atwho=function(t){var r,o;return r=arguments,o=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var a,s;return(s=(a=e(this)).data("atwho"))||a.data("atwho",s=new i(this)),"object"!=typeof t&&t?n[t]&&s?o=n[t].apply(s,Array.prototype.slice.call(r,1)):e.error("Method "+t+" does not exist on jQuery.atwho"):s.reg(t.at,t)}),null!=o?o:this},e.fn.atwho.default={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",callbacks:o,searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,highlightFirst:!0,limit:5,maxLen:20,minLen:0,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150,suspendOnComposing:!0,lookUpOnClick:!0},e.fn.atwho.debug=!1})},,,,,function(t,e,n){"use strict";angular.module("genius").component("activeReferent",{bindings:{referent:"<",on_navigate:"&onNavigate",on_close:"&onClose"},templateUrl:"active_referent.html",controller:[function(){this.$onInit=function(){this.referent_open_count=0},this.$onChanges=function(t){t.referent&&t.referent.currentValue&&(this.referent_open_count+=1)},this.is_not_branded=function(){return this.referent.stub?!this.referent.possibly_branded:!this.is_branded()},this.is_branded=function(){return _.some(this.referent.annotations,"brand")},this.branded_annotation=function(){return _.find(this.referent.annotations,"brand")}}]})},function(t,e,n){"use strict";angular.module("genius").component("adContainerWithCloseButton",{templateUrl:"ad_container_with_close_button.html",transclude:!0,controller:["$window","$element","$timeout",function(t,e,n){var i=this;t.googletag&&t.googletag.cmd.push(function(){t.googletag.pubads().addEventListener("slotRenderEnded",function(t){!t.isEmpty&&e.find("#"+t.slot.getSlotElementId()).length>0&&n(function(){return i.show_close_button=!0},1e4)})})}]})},function(t,e,n){"use strict";angular.module("genius").component("adminTask",{bindings:{task:"<"},templateUrl:"admin_task.html",controller:["AdminTaskClient",function(t){var e=this;this.$onChanges=function(t){e.property_values=_.reduce(t.task.currentValue.task_properties,function(t,e){return t[e.name]=e.default,t},{})},this.is_url=function(t){return/^https?:\/\/\S+$/.test(t)},this.perform_task=function(){e.validation_errors=null,e.success_message=null,e.tabular_data=null,e.saving=!0,t.perform_task(e.task,e.property_values).then(function(t){e.success_message=t.admin_task_result.success_message,e.tabular_data=t.admin_task_result.tabular_data}).catch(function(t){t.response.validation_errors?e.validation_errors=t.response.validation_errors:e.validation_errors={base:["Something unexpected went wrong"]}}).finally(function(){return e.saving=!1})}}]})},function(t,e,n){"use strict";angular.module("genius").component("adminTasksPage",{templateUrl:"admin_tasks_page.html",controller:Object.assign(["$scope","AdminTaskClient",function(t,e){var n=this;this.no_task={name:"__default",label:"--Choose a task to run--"},this.$routerOnActivate=function(e){n.tasks=e.routeData.page_data.tasks,t.selected_task=n.no_task,n.select_tasks=[n.no_task].concat(_.sortBy(n.tasks.map(function(t){return{name:t.name,label:t.human_name}}),"label"))},t.$watch("selected_task",function(i){t.admin_task=null,i.name!==n.no_task.name&&e.get(i.name).then(function(e){t.admin_task=e.admin_task})})}],{$canActivate:["$nextInstruction","PageTransition",function(t,e){return e.by_router_instruction(t)}]})})},function(t,e,n){"use strict";angular.module("genius").component("adminUserInfo",{templateUrl:"admin_user_info.html",bindings:{user:"<"}})},function(t,e,n){"use strict";angular.module("genius").component("adwordsAdForm",{templateUrl:"adwords_ad_form.html",bindings:{onSave:"&",onClose:"&",ad_group:"<adGroup"},controller:["AdwordsAdClient",function(t){var e=this;this.save=function(n){e.saving=!0,t.create(e.ad_group.id,n).then(function(){this.onSave(),this.onClose()}).finally(function(){Reflect.deleteProperty(e,"saving")})}}]})},function(t,e,n){"use strict";angular.module("genius").component("adwordsAdGroupForm",{templateUrl:"adwords_ad_group_form.html",bindings:{onSave:"&",onClose:"&",campaign:"<"},controller:["AdwordsAdGroupClient",function(t){var e=this;this.save=function(n){e.saving=!0,t.create(e.campaign.id,n).then(function(){e.onSave(),e.onClose()}).finally(function(){Reflect.deleteProperty(e,"saving")})}}]})},function(t,e,n){"use strict";angular.module("genius").component("adwordsAdGroupList",{templateUrl:"adwords_ad_group_list.html",bindings:{campaign:"<"},controller:["AdwordsAdGroupClient","AdwordsAdClient",function(t,e){var n=this;this.change_ad_status=function(t,n){e.update(t.id,{status:n}).then(function(e){_.assign(t,e)})},this.load_ad_groups=function(){n.loading=!0,t.all(n.campaign.id).then(function(t){n.ad_groups=t}).finally(function(){Reflect.deleteProperty(n,"loading")})},this.$onChanges=function(t){t.campaign&&n.load_ad_groups()}}]})},function(t,e,n){"use strict";angular.module("genius").component("adwordsCampaignForm",{templateUrl:"adwords_campaign_form.html",bindings:{onSave:"&",onClose:"&"},controller:["AdwordsNetworkClient","AdwordsCampaignClient",function(t,e){var n=this;this.available_adwords_networks=[],this.save=function(t){return n.saving=!0,e.create(t).then(function(){this.onSave(),this.onClose()}).finally(function(){Reflect.deleteProperty(n,"saving")})},t.all().then(function(t){n.available_adwords_networks=t})}]})},function(t,e,n){"use strict";angular.module("genius").component("adwordsCampaignList",{templateUrl:"adwords_campaign_list.html",bindings:{onSelect:"&",selected_campaign:"<selectedCampaign"},controller:["AdwordsCampaignClient",function(t){var e=this;this.select=function(t){return e.onSelect({campaign:t})},this.load_campaigns=function(){e.loading=!0,t.all().then(function(t){e.grouped_campaigns=_.values(_.groupBy(t,"network.id"))}).finally(function(){Reflect.deleteProperty(e,"loading")})},this.$onInit=this.load_campaigns}]})},function(t,e,n){"use strict";angular.module("genius").component("adwordsEditor",{templateUrl:"adwords_editor.html"})},function(t,e,n){"use strict";angular.module("genius").component("albumAdminMenu",{templateUrl:"album_admin_menu.html",bindings:{album:"<",album_appearances:"<albumAppearances"},controller:["Session","Attempt","AlbumClient","currentFlashMessages","$window",function(t,e,n,i,r){var o=this;this.actions=["destroy","unlock","lock","super_lock","sort_songs"];var a=["sort_songs"];this.can_perform=function(e){return t.has_permission(e,o.album)};var s=function(t){n.change_lock_state(o.album.id,t).then(function(e){i.push({type:"notice",message:"Successfully "+t+"ed album"}),Object.assign(o.album,e)})},c={destroy:function(){n.delete(o.album.id).then(function(){i.push({type:"notice",message:"Successfully deleted album"}),r.location.href="/"})},lock:function(){return s("lock")},super_lock:function(){return s("super_lock")},unlock:function(){return s("unlock")},sort_songs:function(){return o.show_sorted_modal=!0}};this.attempt_admin_action=function(t){if(_.includes(a,t))return c[t]();e.admin_action(c[t],I18n.lookup("album.action_confirmations."+t)||I18n.t("album.action_confirmations.admin_default"))},this.$onChanges=function(){o.has_admin_items=_(o.actions).some(function(t){return o.can_perform(t)})},this.tracklist_markup=function(){return"<b>["+o.album.artist.name+"]("+o.album.artist.url+") - [*"+o.album.name+"*]("+o.album.url+") Lyrics and Tracklist</b>\n\n"+o.album_appearances.map(function(t){var e=t.song.featured_artists.map(function(t){return t.name}).join(", ");return(t.track_number||"?")+". ["+t.song.title+"]("+t.song.url+")"+(e?" ft. "+e:"")}).join("\n")}}]})},function(t,e,n){"use strict";angular.module("genius").component("albumGrid",{templateUrl:"album_grid.html",bindings:{albums:"<",artist:"<",count:"<",variants:"<"},controller:["PagedDataFeed","ArtistClient",function(t,e){var n=this;this.$onChanges=function(i){i.artist&&(n.artist_album_scrollable_data=new t(_.partial(e.load_albums,n.artist.id),"albums"))}}]})},function(t,e,n){"use strict";angular.module("genius").component("albumMetadataForm",{templateUrl:"album_metadata_form.html",bindings:{album_was:"<album",on_save:"&onSave",close:"&",yields_is_dirty:"&yieldsIsDirty"},controller:[function(){var t=this;this.$onInit=function(){t.album=angular.copy(t.album_was)},this.save=function(){t.on_save({album:t.album}).catch(function(e){t.error=e})}}]})},function(t,e,n){"use strict";angular.module("genius").component("albumPage",{templateUrl:"album_page.html",controller:Object.assign(["VideoRegistry","mobile_device","Tracking","AlbumClient","Session","Attempt","Reversible","SmartRouting","$q","$location","$immediate",function(t,e,n,i,r,o,a,s,c,l,u){var d=this;this.has_permission=function(t){return r.has_permission(t,d.page_data.album)},this.user_signed_in=r.user_signed_in,this.attempt_close=o.close_form,this.is_released=function(){var t=d.page_data.album.release_date_components,e=new Date;return e.getFullYear()===t.year&&t.month?e.getMonth()+1===t.month&&t.day?e.getDate()>=t.day:e.getMonth()+1>=t.month:e.getFullYear()>=t.year},this.close_form=function(){d.editing=!1,d.current_edit_panel=null},this.save=function(t){d.saving=!0;var e=a.modify(d.page_data.album,t);return i.update(d.page_data.album.id,t).then(function(t){Object.assign(d.page_data.album,t),d.close_form()}).catch(function(t){return e(),c.reject(t)}).finally(function(){d.saving=!1})},this.$routerCanReuse=function(t){return"album"===t.routeData.data.type?"/"+t.urlPath===d.page_data.path:"album_cover_art"===t.routeData.data.type&&Boolean(p(t.params.cover_art_id))},this.$routerOnReuse=function(t){"album_cover_art"===t.routeData.data.type?d.focused_cover_art_id=parseInt(t.params.cover_art_id):d.focused_cover_art_id=null},this.$routerOnActivate=function(r){if(d.page_data=r.routeData.page_data,d.get_leaderboard_page=function(t){return i.load_leaderboard(d.page_data.album.id,t)},t.register_page(d.page_data.album,e?"mobile_album_page":"desktop_album_page"),n.delayed_track("Album Page Load",{"Album ID":d.page_data.album.id}),r.params.cover_art_id){var o=p(r.params.cover_art_id);o&&u(function(){return s.navigate_to_absolute_url(o.url)})}},this.unfocus_cover_art=function(){return l.url(d.page_data.path)};var p=function(t){var e=parseInt(t),n=_.get(d,["page_data","album","cover_arts"],[]);return _.find(n,function(t){return t.id===e})}}],{$canActivate:["$nextInstruction","PageTransition",function(t,e){return e.by_router_instruction(t)}]})})},function(t,e,n){"use strict";angular.module("genius").component("albumTracklistRow",{bindings:{album_appearance:"<albumAppearance",show_artist:"<showArtist"},templateUrl:"album_tracklist_row.html",controller:["Session",function(t){var e=this;this.has_credits=function(){return e.album_appearance.song.featured_artists.length||e.album_appearance.song.producer_artists.length||e.album_appearance.song.writer_artists.length},this.can=function(n){return t.has_permission(n,e.album_appearance.song)}}]})},function(t,e,n){"use strict";!function(){var t=["to identify songs on the go","to get lyrics to the songs you play","for a faster experience"];angular.module("genius").component("androidBanner",{templateUrl:"android_banner.html",controller:["Bowser","AppConfig",function(e,n){this.benefit=_.sample(t),this.is_android=e.android,this.play_store_url=n.play_store_url}]})}()},function(t,e,n){"use strict";angular.module("genius").component("annotationEmbed",{bindings:{referent:"<",simple:"<"},templateUrl:"annotation_embed.html",controller:["ReferentHelper",function(t){var e=this;this.$onChanges=function(n){n.referent&&(e.display_mode=t.display_mode_by_classification(e.referent.classification))}}]})},function(t,e,n){"use strict";(function(t){angular.module("genius").component("annotationPreview",{bindings:{annotation_preview:"<annotationPreview",click_handler:"&clickHandler",dismissal_handler:"&dismissalHandler",reactivation_handler:"&reactivationHandler",is_dismissed:"<isDismissed"},templateUrl:"annotation_preview.html",controller:["$scope","Tracking","SessionTracking",function(e,n,i){var r=this;this.$onInit=function(){var n=t.Observable.$watch(e,"$ctrl.annotation_preview").map(function(t){return!!_.get(t,"brand.logical_name")});i.track("Time Viewing Branded Annotation Preview",t.Observable.combineLatest(i.page_focused,n.concat(t.Observable.of(!1)),function(t,e){return t&&e}))},e.$watch("$ctrl.annotation_preview.brand",function(t){r.brand=t}),e.$watch("$ctrl.annotation_preview",function(){r.annotation_preview&&(r.annotation_content_switch=!r.annotation_content_switch,r.annotation_preview.brand&&n.track("View Branded Annotation Teaser",r.tracking_params()))}),this.on_click=function(){r.annotation_preview.brand?n.track("Tap Branded Annotation Teaser",r.tracking_params()):n.track("Tap Annotation Teaser",r.tracking_params()),r.click_handler()},this.tracking_params=function(){return{"Annotation ID":_.get(r.annotation_preview,"id"),"Brand Name":_.get(r.annotation_preview,"brand.logical_name")}}}]})}).call(e,n(23))},function(t,e,n){"use strict";angular.module("genius").component("annotationShareMenu",{templateUrl:"annotation_share_menu.html",bindings:{annotation:"<",variants:"<"}})},function(t,e,n){"use strict";angular.module("genius").component("answer",{bindings:{answer:"<",question:"<",yieldsApi:"&",on_pending_event:"&onPendingEvent",yields_iq:"&yieldsIq",variants:"<"},templateUrl:"answer.html",controller:["$scope","Reversible","AnswerClient","Session",function(t,e,n,i){var r=this;this.user_signed_in=i.user_signed_in,this.source_form_open=this.answer&&this.answer.answer_source,this.can=function(t,e){return i.has_permission(t,e)},this.show_contributors=function(){return _.get(r,"answer.answer_source.source_name")?r.can("update_answer_source",r.question)?r.question.contributors_count:void 0:r.question.contributors_count},this.answer_is_unwritten=function(){return!_.get(r,"answer.body.html")},this.question_is_archived=function(){return"archived"===r.question.state},this.question_is_pinned=function(){return"pinned"===r.question.state},this.start_editing=function(){r.answer||(r.answer={body:{}}),r.answer._editing=_.defaults(r.answer._editing||{},{_form_active:!0,html:r.answer.body.html,markdown:r.answer.body.markdown})},this.cancel_editing=function(){Reflect.deleteProperty(r.answer,"_editing")},this.finish_editing=function(){if(!r.disable_saving_with){r.disable_saving_with="Saving",r.errors=null;var t=e.modify(r.answer,{"_editing._form_active":!1});!r.source_form_open&&r.answer.answer_source&&(r.answer.answer_source=null);var i=n.save(r.answer,{question:r.question}).then(r.cancel_editing);r.on_pending_event({event:"UserCreateAnswer",result:i}),i.catch(function(e){r.errors=e.errors,t()}).finally(function(){r.disable_saving_with=!1})}},this.destroy=function(){var t=r.answer;r.answer={body:{}},n.destroy(t,{question:r.question}).catch(function(){r.answer=t})},this.showing_contributors=!1,this.toggle_contributors=function(){r.showing_contributors=!r.showing_contributors},this.show_answer_form_by_default=function(){return r.can("add_answer",r.question)&&r.answer_is_unwritten()&&!r.question_is_archived()},this.show_answer_edit_form=function(){return _.get(r,"answer._editing._form_active")||r.show_answer_form_by_default()},this.show_answer=function(){return!r.answer_is_unwritten()&&!_.get(r,"answer._editing._form_active")},this.show_blank_answer_message=function(){return r.answer_is_unwritten()&&!r.show_answer_form_by_default()&&!_.get(r,"answer._editing._form_active")};var o=void 0,a=this;o={start_editing:function(){a.start_editing()},can_edit:function(){return a.can("edit",a.answer)},clear_answer:function(){a.destroy()},can_clear:function(){return a.can("destroy",a.answer)}},this.yieldsApi({answerApi:o}),i.user_signed_in&&(this.iq_api=_.cloneDeep(this.question.current_user_metadata.iq_by_action),t.$watch("$ctrl.question.votes_total",function(t){r.iq_api.answer.primary.multiplier=_.max([t,1])}),t.$watch("$ctrl.answer._editing.pin_question",function(t){r.iq_api.answer.pin.applicable=t||"pinned"===r.question.state}),t.$watch("$ctrl.question.state",function(t){r.iq_api.answer.pin.applicable="pinned"===t||_.get(r.answer,"_editing.pin_question")}),this.yields_iq({iq_api:this.iq_api}))}]})},function(t,e,n){"use strict";angular.module("genius").component("articleAdminBar",{bindings:{article:"<",video:"<"},templateUrl:"article_admin_bar.html",controller:["Session","Attempt","ArticleClient","currentFlashMessages","SmartRouting","$window",function(t,e,n,i,r,o){var a=this;this.current_user=t.current_user,this.can=function(e,n){return t.has_permission(e,n)},this.edit_article=function(){r.navigate_to_absolute_url(o.location.origin+"/articles/"+a.article.id+"/edit")},this.manage_articles=function(){r.navigate_to_absolute_url(o.location.origin+"/articles")},this.delete=function(){e.admin_action(function(){n.delete(a.article.id).then(function(){i.push({type:"notice",message:"Successfully deleted article"}),o.location.href="/"})},"Are you sure you want to delete this article?")}}]})},function(t,e,n){"use strict";angular.module("genius").component("articleAuthors",{bindings:{authors:"<"},templateUrl:"article_authors.html"})},function(t,e,n){"use strict";angular.module("genius").component("articleContentActions",{templateUrl:"article_content_actions.html",bindings:{object:"<",type:"@",variants:"<"},controller:["$scope",function(t){var e=this;this.toggle_voters=function(){return e.showing_voters=!e.showing_voters},t.$on("vote_saved",function(e){t.$broadcast("update_voters")})}]})},function(t,e,n){"use strict";angular.module("genius").component("articleContributorBadge",{bindings:{contributor:"<object"},templateUrl:"article_contributor_badge.html"})},function(t,e,n){"use strict";angular.module("genius").component("articlePage",{templateUrl:"article_page.html",controller:Object.assign(["VideoRegistry","Tracking","MetaTagData","$sce",function(t,e,n,i){var r=this;this.$routerOnActivate=function(o){r.page_data=o.routeData.page_data,r.article_params=n.get("article_params"),r.article_update_url=i.trustAsUrl("/articles/"+r.page_data.article.id),r.article_edit_url=i.trustAsUrl("/articles/"+r.page_data.article.id+"/edit_from_preview"),r.authenticity_token=n.get("authenticity_token"),t.register_page(r.page_data.article,"desktop_article_page"),e.delayed_track("Article Page View",{"Article ID":r.page_data.article.id,Title:r.page_data.article.title,Author:r.page_data.article.author.name,"Author ID":r.page_data.article.author.id,"Article Type":r.page_data.article.article_type,"Published At":new Date(1e3*r.page_data.article.published_at).toUTCString()}),r.video=_(r.page_data.article.media).find(function(t){return"video"===t.type||"video"===t._type})}}],{$canActivate:["$nextInstruction","PageTransition",function(t,e){return e.by_router_instruction(t)}]})})},function(t,e,n){"use strict";angular.module("genius").component("artistBadge",{bindings:{artist:"<"},templateUrl:"artist_badge.html"})},function(t,e,n){"use strict";angular.module("genius").component("artistOpportunities",{bindings:{artist:"<"},templateUrl:"artist_opportunities.html",controller:["CursoredDataFeed","ArtistClient",function(t,e){this.scrollable_data=new t(_.partial(e.contribution_opportunities,this.artist.id),"contribution_opportunities",{per_page:10})}]})},function(t,e,n){"use strict";angular.module("genius").component("artistSongs",{templateUrl:"artist_songs.html",bindings:{artist:"<"},controller:["PagedDataFeed","SongClient","Session","$debounce",function(t,e,n,i){var r=this;this.search_text="",this.can=function(t,e){return n.has_permission(t,e)};var o=function(n){r.artist_song_infinite_scrollable_data=new t(_.partial(e.for_artist,r.artist.id),"songs",{sort:n})};this.sort_songs_by=function(t){r.sort_method!==t&&(r.search_text||o(t),r.sort_method=t)},this.search=function(){this.searching=!0,this.search_debounced()},this.search_debounced=i(function(){if(r.search_text){r.artist_song_infinite_scrollable_data=new t(_.partial(e.search_with_artist,r.artist.id),"songs",{sort:r.sort_method,q:r.search_text});var n=r.artist_song_infinite_scrollable_data.next;r.artist_song_infinite_scrollable_data.next=function(){return n().then(function(t){return r.searching=!1,t})}}else o(r.sort_method)},200),this.sort_songs_by("popularity")}]})},function(t,e,n){"use strict";angular.module("genius").component("artistSongsAndAlbums",{templateUrl:"artist_songs_and_albums.html",bindings:{artist:"<",artist_songs:"<artistSongs",artist_albums:"<artistAlbums",artist_has_more_songs:"<artistHasMoreSongs",open_all_songs_pane:"&openAllSongsPane"}})},function(t,e,n){"use strict";angular.module("genius").component("artistSongsModal",{templateUrl:"artist_songs_modal.html",bindings:{artist:"<",yields_open:"&yieldsOpen"},controller:[function(){var t=this;this.open=function(){return t.modal_open=!0},this.yields_open({open:this.open})}]})},function(t,e,n){"use strict";angular.module("genius").component("artistTooltip",{bindings:{artist:"<"},templateUrl:"artist_tooltip.html",controller:["ArtistClient",function(t){var e=this;this.$onInit=function(){if(!e.artist.description){var n=e.artist;t.load(n.id).then(function(t){_.assign(n,t)})}}}]})},function(t,e,n){"use strict";angular.module("genius").component("artistVerification",{templateUrl:"artist_verification.html",bindings:{user:"<",artist:"<",close:"&"},controller:["UserClient","AppConfig",function(t,e){var n=this;this.name=_.get(this.artist,"name"),this.role=this.user.verification_role,this.user_verification_roles=e.user_verification_roles,this.updating=function(){return n.verifying||n.unverifying},this.verify=function(){n.updating()||(n.verifying=!0,n.errors=null,t.associate_with_artist(n.user.id,{name:n.name,role:n.role}).then(function(t){_.assign(n.user,t.user),n.form.$setPristine(),window.location.href=n.user.url}).catch(function(t){n.errors=t.errors,n.verifying=!1}))},this.unverify=function(){n.updating()||(n.unverifying=!0,n.errors=null,t.dissociate_from_artist(n.user.id).then(function(t){_.assign(n.user,t.user),n.form.$setPristine(),window.location.href=n.user.url}).catch(function(t){n.errors=t.errors,n.unverifying=!1}))}}]})},function(t,e,n){"use strict";angular.module("genius").component("audioSourceLabel",{templateUrl:"audio_source_label.html",bindings:{track:"<"}})},function(t,e,n){"use strict";(function(t){angular.module("genius").component("brandedAnnotation",{bindings:{annotation:"<"},templateUrl:"branded_annotation.html",controller:["$scope","Tracking","SessionTracking","StopWatch",function(e,n,i,r){var o=this;this.$onInit=function(){var n=t.Observable.$watch(e,"$ctrl.annotation").map(function(t){return!!_.get(t,"brand.logical_name")});i.track("Time Viewing Branded Annotation",t.Observable.combineLatest(i.page_focused,n.concat(t.Observable.of(!1)),function(t,e){return t&&e}))},e.$watch("$ctrl.annotation.brand",function(t){o.brand=t});var a=new r;e.$watch("$ctrl.annotation",function(){o.annotation&&(a.start(),n.track("View Branded Annotation",o.tracking_params()))}),e.$on("$destroy",function(){o.annotation&&n.track("Close Branded Annotation",o.tracking_params({"Duration Viewed in Seconds":a.time_elapsed}))}),this.on_annotation_callout_clicked=function(t){var e=$(t.target).closest("[data-tracking-click-target]").data("tracking-click-target");n.track_link_click(t,"Tap Branded Annotation Callout",o.tracking_params({"Tap Target":e}))},this.tracking_params=function(t){return _.assign({"Annotation ID":_.get(o.annotation,"id"),"Brand Name":_.get(o.annotation,"brand.logical_name")},t)}}]})}).call(e,n(23))},function(t,e,n){"use strict";angular.module("genius").component("breadcrumbs",{templateUrl:"breadcrumbs.html",bindings:{order:"<"},controller:[function(){var t=this;this.rebuildHeirarchy=function(){t.heirarchy=[{url:"/",title:"Home"}],t.order.forEach(function(e){"artist"===e._type?(t.heirarchy.push({url:"/artists-index/"+e.index_character,title:e.index_character.toUpperCase()}),t.heirarchy.push({url:e.url,title:e.name})):"album"===e._type?t.heirarchy.push({url:e.url,title:e.name}):"song"===e._type&&t.heirarchy.push({url:e.url,title:e.title+(e.is_music?" Lyrics":"")})})},this.$onChanges=function(e){e.order&&t.rebuildHeirarchy()}}]})},function(t,e,n){"use strict";(function(t){angular.module("genius").component("charts",{bindings:{preload:"<preloadedSongs",tags:"<"},templateUrl:"charts.html",controller:["ChartClient","PagedDataFeed","Tracking","$scope",function(e,n,i,r){var o=this;this.$onInit=function(){o.preloaded_data=o.preload,o.time_period="day",o.type="songs",o.feed=o.build_feed(2),t.Observable.$watch(r,function(){return _.pick(o,"time_period","type","tag_id")},!0).skip(1).subscribe(function(){o.preloaded_data=[],o.feed=o.build_feed(1)})},this.build_feed=function(t){return new n(_.partial(e.get,o.type),"chart_items",{per_page:10,time_period:o.time_period,tag_id:"songs"===o.type?o.tag_id:null},t)},this.track_load=function(){i.track(_.capitalize(o.type)+" Charts Show More",{properties:{page:o.feed.next_page}})},this.selectable_options=[{filter:"type",options:[{value:"songs",label:"Top Songs"},{value:"artists",label:"Top Artists"},{value:"albums",label:"Top Albums"},{value:"referents",label:"Top Lyrics"}]},{filter:"time_period",options:[{value:"day",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"all_time",label:"All Time"}]},{filter:"tag_id",options:[{value:null,label:"All Genres"}].concat(_.map(_.filter(this.tags,function(t){return t.primary}),function(t){return{label:t.name,value:t.id}})),unless:function(){return"songs"!==o.type}}]}]})}).call(e,n(23))},function(t,e,n){"use strict";angular.module("genius").component("collapsibleContent",{templateUrl:"collapsible_content.html",transclude:!0,bindings:{maxCollapsedHeight:"<",minExpansionHeight:"<",text:"@",auto_expand:"<autoExpand"},controller:[function(){var t=this;this.expand=function(){Reflect.deleteProperty(this,"max_height")},this.content_height_changed=function(e){e>t.maxCollapsedHeight+t.minExpansionHeight&&(t.max_height=t.maxCollapsedHeight),t.auto_expand&&t.expand()}}]})},function(t,e,n){"use strict";angular.module("genius").component("commentList",{bindings:{comments:"<",commentable:"<",intersperse_ads:"@intersperseAds",variants:"<"},templateUrl:"comment_list.html"})},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}angular.module("genius").component("comments",{bindings:{type:"@",commentable:"<",allow_reasons:"<allowReasons",prevent_compose:"<preventCompose",are_suggestions:"<areSuggestions",context_updated_at:"<contextUpdatedAt",intersperse_ads:"@intersperseAds",on_dirty:"&onDirty",on_clean:"&onClean",variants:"<"},templateUrl:"comments.html",controller:["CommentClient","Session","PagedDataFeed",function(t,e,n){var r=this,o=[],a=function(t){var e,n=_.groupBy(r.comments,"id");t=_.reject(t,function(t){return n[t.id]}),(e=r.comments).push.apply(e,i(t))},s=function(t){return _.remove(t,function(t,e){return e<5&&(e<1||t.votes_total>=10)})},c=function(){r.scrollable_data.reset(),r.comments=[],r.commentable.top_comment?a([r.commentable.top_comment]):(r._loading=!0,r.scrollable_data.next().then(function(t){a(s(t)),o=t}).finally(function(){return r._loading=!1})),r.commentable.comment_count-r.comments.length>0?r.has_next=function(){return!_.isEmpty(o)||r.scrollable_data.has_next()}:r.has_next=function(){return!1}};this.$onChanges=function(e){e.context_updated_at&&r.context_updated_at&&c(),(e.type||e.commentable)&&(r.scrollable_data=new n(_.partial(t.load,r.type,r.commentable.id),"comments",{text_format:"html,markdown"}),r.commentable.comment_count>0?c():r.comments=[])},this.load_more=function(){if(!_.isEmpty(o))return a(o),void(o=[]);r._loading=!0,r.scrollable_data.next().then(a).finally(function(){return r._loading=!1})},this.can_create_comment=function(){return e.has_permission("create_comment",r.commentable)&&!r.prevent_compose},this.visible_comments=function(){return _.reject(r.comments,"_deleted")},this.save_comment=function(e){return r.comments.unshift(e),t.create(r.type,r.commentable.id,e).then(function(){r.commentable.comment_count+=1})}}]})},function(t,e,n){"use strict";angular.module("genius").component("contactButton",{templateUrl:"contact_button.html",controller:["FeedbackClient",function(t){var e=this;this.submit=function(){e.sending=!0,t.post_feedback(e.feedback_body).then(function(){return e.success=!0}).finally(function(){return e.sending=!1})},this.close=function(){e.open_contact_form=!1,e.success=!1}}]})},function(t,e,n){"use strict";angular.module("genius").component("contributionOpportunity",{bindings:{assignment:"<?",contribution_opportunity:"<contributionOpportunity",on_dismiss:"&onDismiss",source:"@"},templateUrl:"contribution_opportunity.html",controller:["ContributionOpportunityAssignmentClient","Tracking","Session","$timeout",function(t,e,n,i){var r=this;this.can=function(t){return n.has_permission(t,r.contribution_opportunity.target)},this.track=function(t,n){var i="Contribution Opportunity Action",o={action:t,contribution_opportunity_id:r.contribution_opportunity.id,source:r.source};n?e.track_link_click(n,i,o):e.track(i,o)},this.track_open=function(t){r.track("open",t)},this.on_pending_event=function(t,e){if(_.includes(r.contribution_opportunity.complete_on_events,t)){r.submitted=!0;var n=i(function(){r.optimistically_removed=!0},200);e.then(function(){r.track("complete")}).catch(function(){r.submitted=!1,r.optimistically_removed=!1,i.cancel(n)})}},this.dismiss=function(){t.update(r.assignment.id,{dismissed:!0}).then(function(){r.track("dismiss"),r.on_dismiss({assignment:r.assignment})})}}]})},function(t,e,n){"use strict";angular.module("genius").component("coverArtForm",{templateUrl:"cover_art_form.html",bindings:{cover_artable:"<coverArtable",cover_arts:"<coverArts",type:"@",close:"&",yields_is_dirty:"&yieldsIsDirty"},controller:["CoverArtClient","Reversible","Session",function(t,e,n){var i=this;this.can=function(t,e){return n.has_permission(t,e)},this.visible_cover_arts=function(){return _.reject(i.cover_arts,"_deleted")},this.create=function(e){if(_.some(i.cover_arts,{image_url:e}))return void(i.error={response:{errors:["Image already exists"]}});i.error=null,i.autosaving=!0;var n={image_url:e};i.cover_arts.push(n);var r=function(){return _.remove(i.cover_arts,{image_url:e})};t.create(i.type,i.cover_artable.id,{image_url:e}).then(function(t){return Object.assign(i.cover_artable,t.cover_artable)}).catch(function(t){i.error=t,r()}).finally(function(){return i.autosaving=!1})},this.update=function(n,r){if(_.some(i.cover_arts,{image_url:r}))return void(i.error={response:{errors:["Image already exists"]}});i.error=null,i.autosaving=!0;var o=e.modify(n,{image_url:r});t.update(n.id,{image_url:r}).then(function(t){return Object.assign(i.cover_artable,t.cover_artable)}).catch(function(t){i.error=t,o()}).finally(function(){return i.autosaving=!1})},this.destroy=function(n){i.error=null,i.autosaving=!0;var r=e.modify(n,{_deleted:!0});t.destroy(n.id).then(function(t){return Object.assign(i.cover_artable,t.cover_artable)}).catch(function(t){i.error=t,r()}).finally(function(){return i.autosaving=!1})},this.cant_drop=function(t){var e=_.map(i.visible_cover_arts(),"id"),n=_.indexOf(e,i.cover_art_being_dragged.id),r=_.indexOf(e,t.id);return n===r||n===r-1},this.move_before=function(e,n){i.error=null,i.saving=!0;var r=_.map(i.cover_arts,"id"),o=_.indexOf(r,n.id),a=e?_.indexOf(r,e.id):i.cover_arts.length-1;_.remove(i.cover_arts,{id:n.id}),i.cover_arts.splice(a,0,n);var s=function(){_.remove(i.cover_arts,{id:n.id}),i.cover_arts.splice(o,0,n)};t.move_between(n.id,{above_id:_.get(i.cover_arts[a-1],"id"),below_id:_.get(e,"id")}).then(function(t){return Object.assign(i.cover_artable,t.cover_artable)}).catch(function(t){i.error=t,s()}).finally(function(){return i.saving=!1})}}]})},function(t,e,n){"use strict";angular.module("genius").component("coverArtModal",{templateUrl:"cover_art_modal.html",bindings:{cover_artable:"<coverArtable",tiny_cover_arts:"<tinyCoverArts",focused_cover_art_id:"<focusedCoverArtId",type:"@",close:"&"},controller:["CoverArtClient","Tracking","Session","SmartRouting",function(t,e,n,i){var r=this;this.$onChanges=function(n){(n.type||n.cover_artable)&&(e.track("Cover Art View",{"Cover Artable Type":r.type,"Cover Artable ID":r.cover_artable.id,"Cover Art Count":r.tiny_cover_arts.length}),r.full_cover_arts=null,t.index(r.type,r.cover_artable.id).then(function(t){return r.full_cover_arts=t}))},this.cover_arts=function(){return r.full_cover_arts||r.tiny_cover_arts},this.focused_cover_art=function(){return _.find(r.cover_arts(),function(t){return t.id===r.focused_cover_art_id})},this.focused_cover_art_index=function(){return _.findIndex(r.cover_arts(),function(t){return t.id===r.focused_cover_art_id})},this.move_cover_art_focus=function(t){var e=r.focused_cover_art_index()+t,n=_.get(r.cover_arts(),[e,"url"]);i.navigate_to_absolute_url(n)},this.user_signed_in=n.user_signed_in}]})},function(t,e,n){"use strict";var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();angular.module("genius").component("deferCompile",{bindings:{timing_label:"@timingLabel",initial_content_key:"@useInitialContentWithKey",within_visibility_range:"@withinVisibilityRange",delay:"<"},transclude:!0,controller:["$element","$q","$timeout","$transclude","$window","application_bootstrap","initial_placeholder_content","on_within_visibility_range","performance_mark",function(t,e,n,r,o,a,s,c,l){var u=this;this.$onInit=function(){a.before(function(){var e=s.get(u.initial_content_key);e&&t.empty().append(e)});var i=_.isFinite(u.delay)?n(u.delay):e.when(),o=u.timing_label||u.initial_content_key;a.after(function(){return i.then(function(){(u.within_visibility_range?c(t,d(u.within_visibility_range)):e.when()).then(function(){o&&l.create("defer_compile_start:"+o),t.empty().append(r()),o&&l.create("defer_compile_end:"+o)})})})};var d=function(t){var e=t.match(/^(\d+(?:\.\d+)?)(vh|px)$/)||[],n=i(e,3),r=n[1];switch(n[2]){case"px":return parseFloat(r);case"vh":return parseFloat(r)/100*$(o).height();default:throw new Error("within-visibility-range attribute must have units (either px or vh")}}}]})},function(t,e,n){"use strict";angular.module("genius").component("deletedAnswer",{bindings:{answer:"<"},templateUrl:"deleted_answer.html"})},function(t,e,n){"use strict";angular.module("genius").component("detailedSongSearch",{templateUrl:"detailed_song_search.html",bindings:{mode:"<",cancel:"&onCancel",select:"&onSelect",confirm:"&onConfirm"},controller:["$q","$scope","LookupClient","SongClient",function(t,e,n,i){var r=this;e.$watch("$ctrl.url",function(e){r.song_data=null,r.error=null,e&&n.lookup(e).then(function(e){if(r.autocompleted_song=null,"song"!==e._type)return t.reject(new Error("URL is for a non-song page"));r.song=e}).catch(function(t){r.error=t})}),e.$watch("$ctrl.autocompleted_song.id",function(t){r.url=null,r.song_data=null,r.error=null,t&&(r.song_data={id:r.autocompleted_song.id,title:r.autocompleted_song.title,artists:[r.autocompleted_song.primary_artist],albums:[]},i.load_song(t).then(function(t){r.song=t}))}),e.$watch("$ctrl.song.id",function(t){t&&(r.song_data={id:r.song.id,title:r.song.title,artists:[r.song.primary_artist].concat(r.song.featured_artists),albums:r.song.albums},r.select({song:r.song}))}),this.submit=function(){var e=this;this.saving=!0,t.when(this.confirm({song:this.song})).finally(function(){e.saving=null})}}]})},function(t,e,n){"use strict";angular.module("genius").component("dfpAd",{templateUrl:"dfp_ad.html",bindings:{ad_classes:"@adClasses",kv:"<",name:"@",instance_id:"@?instanceId",on_filled:"&onFilled",on_not_filled:"&onNotFilled"},controller:["$element","$immediate","$scope","Ads","querystring",function(t,e,n,i,r){var o=this,a=void 0;this.$onInit=function(){a=o.instance_id||o.name,o.creative_size=[0,0],i.id_for(o.name,a).then(function(t){return o.id=t}).then(function(){return e(function(){i.render(o.name,a,o.kv).then(function(t){t.isEmpty?o.on_not_filled({render_event:t}):(o.filled=!0,o.creative_size=t.size,o.on_filled({render_event:t,custom_values:s()}),n.$emit("layout_changed"))})})})},this.$onDestroy=function(){i.dispose(o.name,a)},this.compiled_ad_unit_classes=function(){if(!o.ad_classes)return"";var t=n.$parent.$eval(o.ad_classes||"[]",{$filled:o.filled,$width:o.creative_size[0],$height:o.creative_size[1]});return _.isArray(t)||(t=[t]),_.flatMap(t,function(t){return _.isObject(t)?_.keys(_.pickBy(t)):_.isString(t)?[t]:[]}).join(" ")};var s=function(){return r.parse(t.find("iframe").prop("contentWindow").customValues||"")}}]})},function(t,e,n){"use strict";angular.module("genius").component("editArtistProfile",{templateUrl:"edit_artist_profile.html",bindings:{artist:"<",close:"&"},controller:["ArtistClient","$location","Session","only_changes",function(t,e,n,i){var r=this;this.$onChanges=function(t){t.artist&&(r.editable_artist=angular.copy(r.artist))},this.can=function(t){return n.has_permission(t,r.artist)},this.update_artist=function(){r.errors=null,r.saving||(r.saving=!0,t.update(r.artist.id,i(r.editable_artist,r.artist)).then(function(n){_.assign(r.artist,n),r.close(),r.errors=null,e.path(t.get_path(n)),e.replace()}).catch(function(t){r.errors=t.data.response.errors}).finally(function(){r.saving=!1}))}}]})},function(t,e,n){"use strict";angular.module("genius").component("editUserEmailPreferences",{templateUrl:"edit_user_email_preferences.html",bindings:{user:"<",close:"&"},controller:["UserClient",function(t){var e=this;this.editable_user=angular.copy(this.user),this.update_user=function(){e.saving||(e.saving=!0,Reflect.deleteProperty(e,"errors"),t.update(e.editable_user.id,{user:_.pick(e.editable_user,["preferences"])}).then(function(t){_.assign(e.user,t.user),e.close(),Reflect.deleteProperty(e,"errors")}).catch(function(t){e.errors=t.errors}).finally(function(){Reflect.deleteProperty(e,"saving")}))}}]})},function(t,e,n){"use strict";angular.module("genius").component("editUserProfile",{templateUrl:"edit_user_profile.html",bindings:{user:"<",disable_image_edit:"<disableImageEdit",disable_user_bio_edit:"<disableUserBioEdit",close:"&"},controller:["UserClient","Session","$location","only_changes",function(t,e,n,i){var r=this;this.$onChanges=function(t){t.user&&(r.editable_user=angular.copy(r.user))},this.can=function(t){return e.has_permission(t,r.user)},this.update_user=function(){if(r.editable_user.password!==r.editable_user.confirm_password)return void(r.errors=["Passwords do not match"]);if(!r.saving){r.saving=!0,r.errors=null;var e=_.pick(r.editable_user,["login","about_me","email","password","photo_url","custom_header_image_url"]);e.about_me=e.about_me.markdown,t.update(r.editable_user.id,{user:i(e,r.user)}).then(function(e){_.assign(r.user,e.user),r.close(),r.errors=null,n.path(t.get_path(e.user)),n.replace()}).catch(function(t){r.errors=t.errors}).finally(function(){r.saving=!1})}}}]})},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}angular.module("genius").component("editableTracklist",{bindings:{album:"<",album_appearances:"<albumAppearances",editing:"<",on_update:"&onUpdate",close:"&"},templateUrl:"editable_tracklist.html",controller:["AlbumClient","$timeout","I18n",function(t,e,n){var r=this;this.$onInit=function(){r.error=null;var t=_.groupBy(r.album_appearances,"track_number"),e=_.max(_.compact(_.map(_.keys(t),function(t){return Number(t)})));r.numbered_slots=[];for(var n=1;n<=e;n++)if(t[n]){var i=t[n][0];r.numbered_slots.push({track_number:n,song_id:i.song.id,title:i.song.title_with_featured})}else r.numbered_slots.push({track_number:n});r.unnumbered_slots=_.map(t.null,function(t){return{song_id:t.song.id,title:t.song.title_with_featured}})},this.remove_trailing_empty_slots=function(){var t=_.max(_.map(_.filter(r.numbered_slots,"song_id"),"track_number"))||0;r.numbered_slots=r.numbered_slots.slice(0,t)},this.make_unnumbered=function(t){Reflect.deleteProperty(t,"track_number"),r.unnumbered_slots.push(t)},this.clear_slot=function(t){t.track_number?r.numbered_slots[t.track_number-1]={track_number:t.track_number}:_.remove(r.unnumbered_slots,{song_id:t.song_id})},this.place_song_into_slot=function(t,e){var n=e.track_number;e.song_id&&(r.clear_slot(e),r.make_unnumbered(e)),r.clear_slot(t),t.track_number=n,r.numbered_slots[n-1]=t,r.remove_trailing_empty_slots()},this.update_slot_number=function(t,e){if(""===e)return r.clear_slot(t),r.make_unnumbered(t),void r.remove_trailing_empty_slots();var n=_.toNumber(e);if(!(_.isNaN(n)||n<=0)){for(;n>r.numbered_slots.length;)r.numbered_slots.push({track_number:r.numbered_slots.length+1});r.place_song_into_slot(t,r.numbered_slots[n-1])}};var o=void 0;this.add_slot_after_delay=function(){o=e(function(){return r.numbered_slots.push({track_number:r.numbered_slots.length+1})},500)},this.cancel_add_slot=function(){e.cancel(o)},this.add_slot_and_fill=function(t){r.cancel_add_slot();var e={track_number:r.numbered_slots.length+1};r.numbered_slots.push(e),r.place_song_into_slot(t,e)},this.add_song=function(t){var e={song_id:t.id,title:t.title_with_featured};t.new&&(e.lyrics_state="incomplete"),r.unnumbered_slots.push(e)},this.create_result=function(t){return{id:_.uniqueId("new_"),title:t,title_with_featured:t,primary_artist:r.album.artist,new:!0}},this.toggle_unreleased=function(t){"incomplete"===t.lyrics_state&&confirm(n.t("song.lyrics_state.unreleased.confirm"))?t.lyrics_state="unreleased":t.lyrics_state="incomplete"},this.save=function(){r.saving=!0,r.error=null;var e=_.map(_.filter([].concat(i(r.numbered_slots),i(r.unnumbered_slots)),"song_id"),function(t){return _.pick(t,["track_number","song_id","title","lyrics_state"])});t.update_tracklist(r.album.id,e).then(function(t){r.on_update({album_appearances:t}),r.close()}).catch(function(t){r.error=t.message+": "+_.join(t.response.errors,", ")}).finally(function(){r.saving=!1})}}]})},function(t,e,n){"use strict";angular.module("genius").component("editableTracklistNumber",{bindings:{track_number:"<trackNumber",on_update:"&onUpdate"},templateUrl:"editable_tracklist_number.html",controller:function(){var t=this;this.$onChanges=function(e){e.track_number&&t.reset()},this.submit=function(){t.on_update({input:t.editable_track_number}),t.reset()},this.reset=function(){t.editing=!1,t.editable_track_number=t.track_number}}})},function(t,e,n){"use strict";angular.module("genius").component("embedlyEmbed",{templateUrl:"embedly_embed.html",bindings:{embed:"<"},controller:["$sce",function(t){var e=this;this.trusted_html=function(){return t.trustAsHtml(e.embed.html)}}]})},function(t,e,n){"use strict";angular.module("genius").component("embedlyYoutube",{templateUrl:"embedly_youtube.html",bindings:{video_id:"@videoId",start:"@"},controller:["$scope","Tracking",function(t,e){var n=this;this.started=!1,t.$on("youtube.player.playing",function(){n.started||(e.track("Play embedded video",{properties:{"Video provider":"youtube"}}),n.started=!0)})}]})},function(t,e,n){"use strict";angular.module("genius").component("expandableContainer",{templateUrl:"expandable_container.html",transclude:{expandable_container_title:"?expandableContainerTitle"},bindings:{start_expanded:"<startExpanded",start_initialized:"<startInitialized",title:"@",variants:"<",yields_api:"&yieldsApi"},controller:[function(){var t=this;this.$onInit=function(){this.expanded=this.start_expanded,this.yields_api({api:this.api})},this.$onChanges=function(t){t.start_expanded&&(this.expanded=this.start_expanded)},this.toggle_expand=function(){t.expanded=!t.expanded},this.api=function(){return{expanded:function(){return t.expanded}}}}]})},function(t,e,n){"use strict";angular.module("genius").component("facebookShareButton",{templateUrl:"facebook_share_button.html",bindings:{url:"<",variants:"<"},controller:["Facebook","Tracking",function(t,e){var n=this;this.share_on_facebook=function(){e.track("Bagon Facebook Share"),t.share(n.url)}}]})},function(t,e,n){"use strict";angular.module("genius").component("hangInitialQuote",{templateUrl:"hang_initial_quote.html",bindings:{content:"<"},controller:function(){this.hang_initial_quote="“"===this.content[0]}})},function(t,e,n){"use strict";angular.module("genius").component("headerActions",{templateUrl:"header_actions.html",controller:["Session",function(t){var e=this;this.$onInit=function(){e.user_signed_in=t.user_signed_in,e.can=function(e){return t.has_permission(e,t.current_user)}}}]})},function(t,e,n){"use strict";angular.module("genius").component("headerAdmin",{bindings:{open_header_menus:"<openHeaderMenus"},templateUrl:"header_admin.html",controller:["Session","UserClient","AssetClient","$window",function(t,e,n,i){var r=this;this.$onInit=function(){r.user=t.current_user,r.can=function(e){return t.has_permission(e,r.user)}},this.logout=function(){r.loading=!0,e.logout().then(function(){i.location.reload()})},this.impersonate_user=function(){var t=prompt("Enter the login of the user you want to sign in as");""!==_.trim(t)&&(r.impersonating=!0,e.impersonate(t).then(function(){i.location.reload()}))},this.search_user_aliases=function(){var t=prompt("Find all users who've ever had this login");""!==_.trim(t)&&(i.location.href="/users/aliases?alias="+encodeURIComponent(t))},this.remove_asset=function(){var t=prompt("Enter the url to remove");""!==_.trim(t)&&n.remove(t)}}]})},function(t,e,n){"use strict";angular.module("genius").component("headerAuth",{templateUrl:"header_auth.html"})},function(t,e,n){"use strict";angular.module("genius").component("headerWithCoverArt",{templateUrl:"header_with_cover_art.html",bindings:{type:"@",object:"<",header_image_url:"<headerImageUrl",cover_art_url:"<coverArtUrl",titleLabel:"<",artist:"<",can_edit:"<canEdit",on_edit:"&onEdit",verified_contributors:"<verifiedContributors",variants:"<",cover_arts:"<coverArts",focused_cover_art_id:"<focusedCoverArtId",close_cover_art_modal:"&onCloseCoverArtModal"},transclude:{metadata:"?metadata",secondary:"?secondary"},controller:function(){var t=this;this.cover_art_cta_text=function(){var e=t.cover_arts.length,n=e>1,i=_.filter(t.cover_arts,"annotated").length;return i?e===i?e+" Annotated Cover"+(n?"s":""):e+" Cover"+(n?"s":"")+", "+i+" Annotated":e+" Cover"+(n?"s":"")}}})},function(t,e,n){"use strict";angular.module("genius").component("hiddenFields",{bindings:{key:"@",value:"<"},templateUrl:"hidden_fields.html",controller:function(){_.isArray(this.value)?this.type="array":_.isObject(this.value)?this.type="object":this.type="constant"}})},function(t,e,n){"use strict";angular.module("genius").component("homeChartsAlbum",{bindings:{album:"<",index:"<",variants:"<"},templateUrl:"home_charts_album.html",controller:[function(){var t=this;this.is_featured_chart=function(){return t.index<3}}]})},function(t,e,n){"use strict";angular.module("genius").component("homeChartsArtist",{bindings:{artist:"<",index:"<",variants:"<"},templateUrl:"home_charts_artist.html",controller:[function(){var t=this;this.is_featured_chart=function(){return t.index<3}}]})},function(t,e,n){"use strict";angular.module("genius").component("homeChartsReferent",{bindings:{referent:"<",index:"<"},templateUrl:"home_charts_referent.html",controller:[function(){var t=this;this.is_featured_chart=function(){return t.index<3}}]})},function(t,e,n){"use strict";angular.module("genius").component("homeChartsSong",{bindings:{song:"<",index:"<",variants:"<"},templateUrl:"home_charts_song.html",controller:[function(){var t=this;this.is_featured_chart=function(){return t.index<3}}]})},function(t,e,n){"use strict";(function(t){angular.module("genius").component("homeCommunity",{bindings:{total_iq:"<totalIq",top_users:"<topUsers",tags:"<"},templateUrl:"home_community.html",controller:["$scope","Session","LeaderboardClient","Tracking",function(e,n,i,r){var o=this;this.$onInit=function(){o.user_signed_in=n.user_signed_in,o.period_options=a,o.tag_options=[s].concat(o.options_for_tags(o.tags)),o.selected_period="day",o.selected_tag=null,o.loading=!1,o.leaderboard=o.top_users,t.Observable.$watch(e,function(){return _.pick(o,"selected_period","selected_tag")},!0).skip(1).map(function(){return o.fetch_leaderboard_data()}).switchMap(t.Observable.fromPendingPromise).subscribe(function(t){var e=t.pending,n=t.value;o.loading=e,o.leaderboard=_.get(n,"leaderboard",[])})},this.track_filter=function(){r.track("Home Page Community Filter",{properties:{period:o.selected_period,tag:_.get(o.selected_tag,"name")}})},this.fetch_leaderboard_data=function(){return null==o.selected_tag?i.global({period:o.selected_period}):i.for_tag(o.selected_tag,{period:o.selected_period})},this.filter_by_period=function(t){o.selected_period=t,o.track_filter()},this.filter_by_tag=function(t){o.selected_tag=t,o.track_filter()},this.options_for_tags=function(t){return _.map(t,function(t){return{label:"In "+t.name,value:t}})};var a=[{label:"Top Scholars Today",value:"day"},{label:"Top Scholars This Week",value:"week"},{label:"Top Scholars This Month",value:"month"},{label:"Top Scholars of All Time",value:"all_time"}],s={label:"In All Genres",value:null}}]})}).call(e,n(23))},function(t,e,n){"use strict";angular.module("genius").component("homeFeaturedLatestStory",{bindings:{story:"<",variants:"<"},templateUrl:"home_featured_latest_story.html",controller:[function(){}]})},function(t,e,n){"use strict";angular.module("genius").component("homeFeaturedStories",{bindings:{stories:"<stories",variants:"<variants"},templateUrl:"home_featured_stories.html",controller:["ScrollPoint",function(t){this.scroll_to=t.scroll_to}]})},function(t,e,n){"use strict";angular.module("genius").component("homeFeaturedStory",{bindings:{story:"<story",variants:"<"},templateUrl:"home_featured_story.html",controller:[function(){}]})},function(t,e,n){"use strict";angular.module("genius").component("homePage",{templateUrl:"home_page.html",controller:Object.assign(["$anchorScroll","$immediate","GlobalPageStateBus","Tracking",function(t,e,n,i){var r=this,o=function(t){return{subhead:t.params[1]||null}};this.$onInit=function(){i.track("Home Page View")},this.$routerCanReuse=function(t){return!0},this.$routerOnActivate=function(t){r.page_data=t.routeData.page_data,a(o(t).subhead)},this.$routerOnReuse=function(t){a(o(t).subhead)};var a=function(i){i&&e(function(){"videos"===i&&n.$emit("home_recent_stories:videos_filter_selected"),t(i)})}}],{$canActivate:["$nextInstruction","PageTransition",function(t,e){return e.by_router_instruction(t)}]})})},function(t,e,n){"use strict";(function(t){angular.module("genius").component("homeRecentStories",{bindings:{recent_stories:"<recentStories",per_page:"<perPage"},templateUrl:"home_recent_stories.html",controller:["$scope","StoryClient","Tracking","PagedDataFeed","GlobalPageStateBus",function(e,n,i,r,o){var a=this;this.$onInit=function(){a.recent_stories.splice(a.per_page),a.selected_source=null,a.loading=!1,a.source_options=[{label:"Recent Stories",value:null},{label:"Videos",value:"videos"},{label:"Articles",value:"articles"}],t.Observable.$watch(e,function(){return a.selected_source}).skip(1).map(function(){return a.fetch_stories()}).switchMap(t.Observable.fromPendingPromise).subscribe(function(t){var e=t.pending,n=t.value;e?a.loading=!0:(a.loading=!1,a.recent_stories=n)})},e.$watch("$ctrl.recent_stories",function(){a.recent_stories_feed=new r(_.partial(n.index),"stories",{per_page:a.per_page,source:a.selected_source,context:"home"},2)}),o.$on("home_recent_stories:videos_filter_selected",function(){a.selected_source="videos"}),this.fetch_stories=function(){return n.index({context:"home",source:a.selected_source,per_page:a.per_page}).then(function(t){return t.stories})},this.track_filter=function(){i.track("Home Page Recent Stories Filter",{properties:{source:a.selected_source}})},this.track_load=function(){i.track("Home Page Recent Stories Show More",{properties:{page:a.recent_stories_feed.next_page}})},this.filter_by_source=function(t){a.selected_source=t,a.track_filter()}}]})}).call(e,n(23))},function(t,e,n){"use strict";angular.module("genius").component("homeVideoLists",{bindings:{video_lists:"<videoLists"},templateUrl:"home_video_lists.html",controller:["VideoListClient","PagedDataFeed","$templateCache","mobile_device",function(t,e,n,i){var r=this;this.$onChanges=function(n){n.video_lists&&(r.video_lists_feed=new e(_.partial(t.index),"video_lists",{per_page:4},2))},this.logo_name=function(t){return t.slug+("news"!==t.slug||i?"":"_wide")+".svg"},this.has_logo=function(t){return!!n.get(r.logo_name(t))}}]})},function(t,e,n){"use strict";angular.module("genius").component("imageUploadButton",{templateUrl:"image_upload_button.html",bindings:{default_image:"<defaultImage",on_file_picked:"&onFilePicked",allow_clear:"<allowClear",clear_confirm:"@clearConfirm",on_clear:"&onClear",allow_crop_to_square:"<allowCropToSquare",variants:"<"},controller:["Filepicker",function(t){var e=this,n=new t;this.pick_image_for_artist=function(t){var i={container:"modal",services:["COMPUTER","URL","FACEBOOK","INSTAGRAM","IMAGE_SEARCH"],openTo:t};e.allow_crop_to_square&&(i.services.unshift("CONVERT"),i.conversions=["crop"],i.cropRatio=1);var r={path:Math.random().toString(36).slice(2)};n.pick_and_store(i,r).then(function(t){e.on_file_picked({url:t})})}}]})},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}angular.module("genius").component("inbox",{bindings:{inbox_name:"@inboxName",opened:"<opened",clear_unread_count:"&clearUnreadCount"},templateUrl:"inbox.html",controller:["InboxClient","Tracking",function(t,e){var n=this,r=void 0,o=void 0,a=void 0;this.should_paginate=function(){return n.opened&&!a&&!n.done_loading},this.load_next_page=function(){a||(a=t.line_items(n.inbox_name,r).then(function(t){var e;(e=n.line_items).push.apply(e,i(t)),a=null,t.length?r=t.timestamp_for_next_page:n.done_loading=!0,n.opened&&l(t)}))};var s=function(){n.line_items=[],n.done_loading=!1,r=void 0,n.load_next_page()},c=function(){n.opened?o=Date.now():s()},l=function(e){t.mark_read(n.inbox_name,_(e).filter("unread").map("event_ids").value()),n.clear_unread_count()};this.$onInit=function(){s(),t.on_update(n.inbox_name,c)},this.$onChanges=function(t){if(t.opened){var i=t.opened.currentValue,r=t.opened.previousValue;!i||r&&!t.opened.isFirstChange()?r&&!i&&o&&o<Date.now()&&s():(l(n.line_items),e.track("Inbox Open",{inbox_name:n.inbox_name}))}}}]})},function(t,e,n){"use strict";angular.module("genius").component("inboxContainer",{bindings:{inbox_name:"@inboxName",open_inboxes:"<openInboxes",sync_count_to_title:"<syncCountToTitle",abbreviate_after:"<abbreviateAfter",use_messages_inbox:"<useMessagesInbox",use_iq_inbox:"<useIqInbox"},templateUrl:"inbox_container.html"})},function(t,e,n){"use strict";angular.module("genius").component("inboxIcon",{bindings:{inbox_name:"@inboxName",opened:"<",sync_count_to_title:"<syncCountToTitle",abbreviate_after:"<abbreviateAfter",yields_api:"&yieldsApi"},templateUrl:"inbox_icon.html",controller:["Session","TopBarIndicatorsLoader","WindowTitle","InboxClient",function(t,e,n,i){var r=this,o=function(t){r.unread_count=t,r.sync_count_to_title&&n.update_count(r.unread_count)};this.$onInit=function(){o(t.current_user["unread_"+r.inbox_name+"_count"]),e.listen_for(r.inbox_name,o),i.on_update(r.inbox_name,e.refresh),r.yields_api({api:{decrement:function(t){o(r.unread_count-t)},clear:function(){o(0)}}})}}]})},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}angular.module("genius").component("inboxLineItemDetailDiscussion",{bindings:{discussion:"<object"},templateUrl:"inbox_line_item_detail_discussion.html",controller:["DiscussionClient","PagedDataFeed",function(t,e){var n=this;this.$onChanges=function(i){i.discussion&&(n.paged_data=new e(_.partial(t.forum_posts,n.discussion.id),"forum_posts",{per_page:3},2),n.forum_posts=_.clone(n.discussion.latest_posts),n.discussion.forum_post_count>n.forum_posts.length?n.has_next=n.paged_data.has_next:n.has_next=function(){return!1})},this.load_more=function(){n.loading=!0,n.paged_data.next().then(function(t){var e;return(e=n.forum_posts).push.apply(e,i(t))}).finally(function(){return n.loading=!1})}}]})},function(t,e,n){"use strict";angular.module("genius").component("inboxLineItemDetailDiscussionHeader",{bindings:{discussion:"<"},templateUrl:"inbox_line_item_detail_discussion_header.html"})},function(t,e,n){"use strict";angular.module("genius").component("inboxLineItemDetailForumPost",{bindings:{forum_post:"<object"},templateUrl:"inbox_line_item_detail_forum_post.html"})},function(t,e,n){"use strict";angular.module("genius").component("inboxLineItemDetailForumPostSingle",{bindings:{forum_post:"<forumPost"},templateUrl:"inbox_line_item_detail_forum_post_single.html"})},function(t,e,n){"use strict";angular.module("genius").component("inboxLineItemDetailObject",{templateUrl:"inbox_line_item_detail_object.html",bindings:{object:"<",variants:"<"}})},function(t,e,n){"use strict";angular.module("genius").component("inboxLineItemMessage",{bindings:{template:"<",key:"<",params:"<",state:"<"},template:'<ng-include src="$ctrl.template"></ng-include>'})},function(t,e,n){"use strict";angular.module("genius").component("iqInbox",{bindings:{opened:"<",clear_unread_count:"&clearUnreadCount"},templateUrl:"iq_inbox.html",controller:["Session","UserClient","Pusher","Tracking",function(t,e,n,i){var r=this;this.load=function(){e.contribution_opportunity_assignments(r.user.id).then(function(t){r.loaded=!0;var n=_.map(r.assignments,"id"),i=_.reject(t.contribution_opportunity_assignments,function(t){return _.includes(n,t.id)});r.assignments=r.assignments.concat(i),r.opened&&(e.mark_contribution_opportunity_assignments_read(r.user.id),r.clear_unread_count())})},this.remove=function(t){r.assignments=_.reject(r.assignments,{id:t.id}),r.load()},this.dismiss_explanation=function(){r.show_explanation=!1,e.dismiss_contribution_opportunities_explanation(r.user.id)},this.$onInit=function(){r.assignments=[],r.user=t.current_user,r.show_explanation=!r.user.dismissed_contribution_opportunities_explanation,r.load(),n.subscribe(t.current_user.pusher_channel,"contribution_opportunity_completion",function(t){_.find(r.assignments,function(e){return e.contribution_opportunity.id===t})&&(r.load(),r.assignments=_.reject(r.assignments,function(e){return e.contribution_opportunity.id===t}))}),n.subscribe(t.current_user.pusher_channel,"contribution_opportunities_refreshed",r.load)},this.$onChanges=function(t){if(t.opened){var e=t.opened.currentValue,n=t.opened.previousValue;!e||n&&!t.opened.isFirstChange()||(i.track("Inbox Open",{inbox_name:"iq_inbox"}),r.clear_unread_count())}}}]})},function(t,e,n){"use strict";angular.module("genius").component("iqNotificationList",{templateUrl:"iq_notification_list.html",controller:["LocalStorage","PageVisibility","Session","Pusher","$timeout",function(t,e,n,i,r){this.user=n.current_user,this.notifications=[],this.line_item_count=0;var o=function(t){_.isEmpty(this.notifications)&&this.notifications.unshift(this.user),this.line_item_count++,r(function(){this.notifications.unshift(t),this.user.iq+=t.iq_gained,r(function(){_.pull(this.notifications,t),0===--this.line_item_count&&this.notifications.pop()}.bind(this),5e3)}.bind(this),200)}.bind(this);i.subscribe(n.current_user.pusher_channel,"iq_increment",function(n){e.when_visible(function(){if(t.is_available()){var e=t.getItem("newest_event_id")||0,i=_.max(n.event_ids);i>e&&(o(n),t.setItem("newest_event_id",i))}else o(n)})}.bind(this))}]})},function(t,e,n){"use strict";angular.module("genius").component("leaderboardAd",{templateUrl:"leaderboard_ad.html",bindings:{name:"@",has_skin:"<hasSkin"}})},function(t,e,n){"use strict";angular.module("genius").component("lyricsSyncEditor",{bindings:{id:"<modelId",instructions_url:"@instructionsUrl",go_to_home:"&goToHome"},templateUrl:"lyrics_sync_editor.html",controller:["$scope","$q","$immediate","BeforeUnloadCheck","LyricsSynchronizationClient","SpotifyPlayback","WebAudioPlayback","Session",function(t,e,n,i,r,o,a,s){var c=this;this.position=0,this.current_line_index=-1,this.text_editing_enabled=!1,this.$onInit=function(){r.get(c.id).then(function(t){c.lyrics_synchronization=t,c.auto_advance=!c.can("edit")})};var l=_.noop;t.$watch("$ctrl.lyrics_synchronization.audio_track.id",function(t){l(),t&&(c.lyrics_synchronization.audio_track.cached_audio_url?c.media_player=new a(c.lyrics_synchronization.audio_track):"spotify"===c.lyrics_synchronization.audio_track.provider&&(c.media_player=new o(c.lyrics_synchronization.audio_track)),l=c.media_player.$on("state",u))}),this.start_or_advance=function(){if(!c.media_player.state.is_playing)return c.media_player.api.play();if(!(c.current_line_index>=c.lyrics_synchronization.lines.length-1)){var t=c.current_line_index;if(c.current_line_index=c.lyrics_synchronization.next_visible_line_index_after_index(c.current_line_index),c.can("edit"))try{c.lyrics_synchronization.apply_timestamp_to_line_at_index(c.position,c.current_line_index)}catch(e){c.error=e,c.current_line_index=t}}},this.seek_to_index=function(t){var e=c.lyrics_synchronization.timestamp_for_line_at_index(t);null!==e&&c.media_player.api.seek_to_position(e),c.auto_advance||(c.current_line_index=t)},this.seek_to_index_and_play=function(t){c.seek_to_index(t),c.media_player.api.play()},this.can=function(t){return c.lyrics_synchronization&&s.has_permission(t,c.lyrics_synchronization)},this.in_order_validator_for_index=function(t){return function(e){return!e&&0!==e||e>c.lyrics_synchronization.max_timestamp_before_index(t)&&e<c.lyrics_synchronization.min_timestamp_after_index(t+1)}},this.move_to_index_for_position=function(t){this.current_line_index=this.lyrics_synchronization.line_index_for_position(t)},this.current_line=function(){return c.lyrics_synchronization.lines[c.current_line_index]},this.after_edit_line_timestamp_at_index=function(t){c.lyrics_synchronization.lines[t]._editing_time=!1,c.lyrics_synchronization.mark_dirty(),c.seek_to_index_and_play(t)};var u=function(t,e){c.position=e.position,c.auto_advance&&c.move_to_index_for_position(c.position)};this.last_action=e.when();var d=function(t,i){return i=i||{},function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return c.saving=!0,c.last_action=c.last_action.finally(function(){return Reflect.apply(t,c,o).then(function(t){i.retain_error||(c.error=null),c.lyrics_synchronization._dirty=null,_.assign(c.lyrics_synchronization,_.omit(t,"lines")),t.lines&&c.lyrics_synchronization.lines?t.lines.forEach(function(t,e){_.assign(c.lyrics_synchronization.lines[e],t)},c):c.lyrics_synchronization.lines=t.lines}).catch(function(t){return c.error=t,n(c.load.bind(c)),e.reject(t)}).finally(function(){c.saving=!1})}),c.last_action}};this.load=d(function(){return r.get(c.id)},{retain_error:!0}),this.submit=d(function(t,e){return r.submit(t,c.lyrics_synchronization,e)}),this.submit_sync=d(function(){return r.submit_sync(c.lyrics_synchronization)}),this.update_state=d(function(t){return r.update_state(t,c.lyrics_synchronization)}),this.save=d(function(){return r.save(c.lyrics_synchronization)}),this.autosave=_.debounce(this.save,1e3),this.revert_action=d(function(t){return r.revert_action(t,c.lyrics_synchronization)}),this.skip=d(function(t){return r.skip(t,c.lyrics_synchronization)}),this.change_song=d(function(t){return r.change_song({song_id:t.id,lyrics_synchronization_id:c.id}).then(function(t){return c.reassociating=null,t})}),this.preview_with_song=function(t){return r.preview({song_id:t.id,external_track_id:c.lyrics_synchronization.audio_track.id}).then(function(t){c.error=null,c.lyrics_synchronization=t}).catch(function(t){return c.error=t,c.error})},this.cancel_reassociation=function(){c.reassociating=!1,c.load()};var p=function(){return c.lyrics_synchronization._dirty};i.add(p),t.$on("$destroy",function(){i.remove(p)}),r.$on("edit",function(){c.error=null,c.can("edit")&&(c.can("approve")||c.can("staff_approve"))&&c.autosave()})}]})},function(t,e,n){"use strict";angular.module("genius").component("lyricsSyncHome",{bindings:{instructions_url:"@instructionsUrl"},templateUrl:"lyrics_sync_home.html",controller:["$rootScope","$location","$window","LyricsSynchronizationClient",function(t,e,n,i){var r=this;t.$on("$locationChangeStart",function(){r.id=null,r.tasks=null,r.checked_out=null,r.navigating=!0}),t.$on("$locationChangeSuccess",function(){if("/lyrics_synchronizations/home"===e.path())r.load();else{if(r.id=parseInt(e.path().replace(/^\/lyrics_synchronizations\//,"")),!r.id)return e.path("/lyrics_synchronizations/home");r.navigating=null}}),this.load=function(){var t=this;i.home().then(function(e){_.assign(t,e),t.navigating=null})},this.start=function(t){i.start(t).then(o)},this.check_out=function(t){i.submit("check_out",t).then(o)},this.check_in=function(t){i.submit("check_in",t).then(this.load.bind(this))},this.navigate_to=function(t){e.path("/lyrics_synchronizations/"+t)};var o=function(t){"pristine"===t.state&&n.open("/songs/"+t.song_id),e.path("/lyrics_synchronization/"+t.id)}}]})},function(t,e,n){"use strict";angular.module("genius").component("manageChartItem",{bindings:{type:"<",id:"<"},templateUrl:"manage_chart_item.html",controller:["ChartClient",function(t){var e=this;this.$onInit=function(){e.loading=!0,t.state(e.type,e.id).then(function(t){e.excluded=t.excluded,e.loading=!1})},this.toggle_excluded=function(){e.loading=!0,(e.excluded?t.unexclude(e.type,e.id).then(function(){return e.excluded=!1}):t.exclude(e.type,e.id).then(function(){return e.excluded=!0})).finally(function(){return e.loading=!1})}}]})},function(t,e,n){"use strict";angular.module("genius").component("manageRoles",{templateUrl:"manage_roles.html",bindings:{user:"<"},controller:["Session","UserClient","Reversible","AppConfig",function(t,e,n,i){var r=this;this.user_authority_roles=i.user_authority_roles,this.can_toggle=function(e){return t.has_permission("toggle_"+e+"_status",r.user)},this.has_role=function(t){return _.includes(r.user.roles_for_display,t)},this.role_grant=function(t){return _.find(r.user.role_grants,function(e){return e.role===t})},this.errors={},this.grant=function(t,i){r.errors={};var o=void 0,a=void 0;i?(o=r.user.roles_for_display.concat(t),a=e.add_role(r.user.id,t)):(o=_.without(r.user.roles_for_display,t),a=e.remove_role(r.user.id,t));var s=n.modify(r.user,{roles_for_display:o});a.then(function(t){_.assign(r.user,t.user)}).catch(function(e){s(),r.errors[t]=e.errors})}}]})},function(t,e,n){"use strict";angular.module("genius").component("mediaPlayer",{templateUrl:"media_player.html",bindings:{media_sources:"<mediaSources",sticky_offset:"<stickyOffset",on_edit:"&onEdit",can_edit:"<canEdit"},controller:["Tracking","mobile_device",function(t,e){var n=this;this.$onInit=function(){n.media_player={}},this.$onChanges=function(t){if(t.media_sources){for(var e=void 0,i=["youtube","soundcloud"],r=0;r<i.length;r++){var o=i[r];if(e=_.find(n.media_sources,{provider:o}))break}_.get(e,"url")!==_.get(n.media,"url")&&(n.played_once=!1,n.media=e,e||(n.media_player={}))}},this.play=function(){n.played_once?n.media_player.api.playpause():(n.media_player.api.load_media(),"youtube"===n.media.provider&&e||n.media_player.api.playpause(),"youtube"===n.media.provider?t.track("Play featured video",{properties:{"Video provider":n.media.provider}}):t.track("Play audio",{properties:{"Audio provider":n.media.provider}}),n.played_once=!0)}}]})},function(t,e,n){"use strict";angular.module("genius").component("mergeArtistForm",{templateUrl:"merge_artist_form.html",bindings:{artist:"<"},controller:["Session","ArtistClient",function(t,e){this.artist_name_to_merge_with="",this.can=function(e,n){return t.has_permission(e,n)},this.merge_artist=function(){if(this.show_warning){if(delete this.errors,delete this.artist_merge_complete,this.saving)return;this.saving=!0,e.merge(this.artist.id,this.artist_name_to_merge_with).then(function(){this.artist_merge_complete=!0}.bind(this)).catch(function(t){this.errors=t.data.response.errors}.bind(this)).finally(function(){delete this.saving}.bind(this))}else this.show_warning=!0}.bind(this)}]})},function(t,e,n){"use strict";angular.module("genius").component("messagesInbox",{bindings:{opened:"<",decrement_unread_count:"&decrementUnreadCount"},templateUrl:"messages_inbox.html",controller:["Attempt","InboxClient","Tracking",function(t,e,n){var i=this;this.attempt_close=function(e){t.close_form(e,function(){i.composing=!1})};var r=function(){i.refresh_at=Date.now()};this.$onInit=function(){e.on_update("messages_inbox",r)},this.$onChanges=function(t){if(t.opened){var e=t.opened.currentValue,i=t.opened.previousValue;!e||i&&!t.opened.isFirstChange()||n.track("Inbox Open",{inbox_name:"messages_inbox"})}}}]})},function(t,e,n){"use strict";angular.module("genius").component("miniAlbumCard",{bindings:{album:"<object",variants:"<"},templateUrl:"mini_album_card.html"})},function(t,e,n){"use strict";angular.module("genius").component("miniAnnotatableCard",{bindings:{object:"<",variants:"<"},templateUrl:"mini_annotatable_card.html"})},function(t,e,n){"use strict";angular.module("genius").component("miniArticleCard",{bindings:{article:"<object",variants:"<"},templateUrl:"mini_article_card.html"})},function(t,e,n){"use strict";angular.module("genius").component("miniArtistCard",{bindings:{artist:"<object",variants:"<"},templateUrl:"mini_artist_card.html"})},function(t,e,n){"use strict";angular.module("genius").component("miniSongCard",{bindings:{song:"<object",search_highlights:"<searchHighlights",artist:"<",number:"<",variants:"<"},templateUrl:"mini_song_card.html",controller:["string_to_symbol_array",function(t){var e=this,n=function(e,n,i){return t(e).slice(n,i).join("")},i=function(t){var e=t.value,i=t.ranges,r=[],o=0;i.forEach(function(t){var i=n(e,o,t.start),a=n(e,t.start,t.end),s="<span>"+a+"</span>";r.push(i),r.push(s),o=t.end});var a=e.split("").slice(o).join("");return r.push(a),r.join("")};this.$onChanges=function(t){if((t.artist||t.song)&&(e.non_primary_artist_present=e.artist&&e.artist.id!==e.song.primary_artist.id),t.search_highlights){var n=_.keyBy(e.search_highlights,"property").lyrics;n&&(e.excerpt_with_markup=i(n))}}}]})},function(t,e,n){"use strict";angular.module("genius").component("miniUserCard",{bindings:{user:"<object",variants:"<"},templateUrl:"mini_user_card.html"})},function(t,e,n){"use strict";angular.module("genius").component("miniVideoCard",{templateUrl:"mini_video_card.html",bindings:{video:"<object"}})},function(t,e,n){"use strict";angular.module("genius").component("missingMetadataForm",{templateUrl:"missing_metadata_form.html",bindings:{missing_params:"<missingParams",object:"<",type:"@",yields_api:"&yieldsApi",yields_iq:"&yieldsIq",on_pending_event:"&onPendingEvent",placeholder:"@",source:"@"},controller:["$scope","SongClient","Tracking","Reversible",function(t,e,n,i){var r=this,o=["autocomplete_artists","autocomplete_albums"],a=function(t,e){return o.includes(t)?{reset:function(){return r.changes[e]=[]},changes_count:function(){return r.changes[e].length}}:{reset:function(){return r.changes[e]=null},changes_count:function(){return Number(!_.isEmpty(r.changes[e]))}}};this.$onInit=function(){r.params=_.map(r.missing_params,a),r.changes={},r.reset_changes(),r.iq_api=_.cloneDeep(r.object.current_user_metadata.iq_by_action),r.yields_iq({iq_api:r.iq_api}),t.$watch(function(){return _.sum(_.invokeMap(r.params,"changes_count"))},function(t){return r.iq_api.edit_metadata.primary.multiplier=_.max([t,1])}),r.yields_api({api:{edit:function(){return r.show_full_form=!0}}})},this.submit=function(){r.errors=[],r.saving=!0;var t=i.modify(r.object,r.changes),o=void 0;switch(r.type){case"song":o=e.update(r.object.id,r.changes),r.on_pending_event({event:"UserEditMetadataSong",result:o})}o.then(function(){n.track("Metadata Edit",{Source:r.source})}).catch(function(e){t(),r.reset_changes(),r.errors=e.errors}).finally(function(){r.saving=!1})},this.cancel=function(){r.reset_changes(),r.show_full_form=!1,r.errors=[]},this.reset_changes=function(){_.invokeMap(r.params,"reset")}}]})},function(t,e,n){"use strict";angular.module("genius").component("onInternalNavigation",{transclude:!0,template:'<ng-transclude ng-if="$ctrl.show"></ng-transclude>',controller:["$document","AppConfig",function(t,e){var n=this;this.$onInit=function(){var i=t.prop("referrer");i&&(n.show=new URL(i).host===e.canonical_domain)}}]})},function(t,e,n){"use strict";angular.module("genius").component("otherUsersWithIp",{templateUrl:"other_users_with_ip.html",bindings:{user:"<"},controller:["PagedDataFeed","UserClient",function(t,e){var n=this;this.$onChanges=function(i){i.user&&(n.infinite_scroll_data=new t(_.partial(e.other_users_with_ip,n.user.id),"other_users_with_ip"))}}]})},function(t,e,n){"use strict";angular.module("genius").component("pageTransitionOverlay",{template:'\n    <div class="page_transition_overlay" ng-if="$ctrl.transitioning()"></div>\n  ',controller:["PageTransition",function(t){this.transitioning=function(){return t.transitioning}}]})},function(t,e,n){"use strict";angular.module("genius").component("paginatedAccomplishments",{bindings:{user:"<"},templateUrl:"paginated_accomplishments.html",controller:["CursoredDataFeed","AccomplishmentClient","UserClient","Reversible","Session",function(t,e,n,i,r){var o=this;this.$onInit=function(){var t=void 0;Reflect.defineProperty(o,"visibility",{get:function(){return t},set:function(e){t=e,this.update_src()}}),o.visibility="visible",o.filter_options=[{i18n_key:"manage_accomplishments.all",value:"all"},{i18n_key:"manage_accomplishments.visible",value:"visible"},{i18n_key:"manage_accomplishments.hidden",value:"hidden"}]},this.can=function(t){return r.has_permission(t,o.user)},this.toggle_managing=function(){o.managing=!o.managing,o.managing?o.visibility="all":o.visibility="visible"},this.update_src=function(){o.scrollable_data=new t(_.partial(n.accomplishments,o.user.id),"accomplishments",{visibility:o.visibility,per_page:10})},this.toggle=function(t){var n=i.modify(t,{hidden:!t.hidden});e.update(t.id,{accomplishment:{hidden:t.hidden}}).then(function(e){_.assign(t,e.accomplishment)}).catch(function(){n()})}}]})},function(t,e,n){"use strict";angular.module("genius").component("paginatedLeaderboard",{bindings:{source:"<",per_page:"<perPage",on_empty:"&onEmpty",extra_info:"@extraInfo"},templateUrl:"paginated_leaderboard.html",controller:["PagedDataFeed",function(t){var e=this;this.$onChanges=function(n){(n.source||n.per_page)&&(e.scrollable_data=new t(e.source,"leaderboard",{per_page:e.per_page}))}}]})},function(t,e,n){"use strict";angular.module("genius").component("profileAdminPane",{bindings:{user:"<",view_errors_link:"<viewErrorsLink"},templateUrl:"profile_admin_pane.html",controller:["Session",function(t){var e=this;this.$onInit=function(){e.managing_accomplishments=!1},this.$onChanges=function(t){t.user&&(e.can_moderate=e.can("toggle_penalty_status")||e.can("mark_spam")||e.can("mark_ham")||e.can("mass_delete_unreviewed_activity")||e.can("mass_delete_votes"))},this.can=function(n){return t.has_permission(n,e.user)}}]})},function(t,e,n){"use strict";angular.module("genius").component("profileAllActivity",{templateUrl:"profile_all_activity.html",bindings:{user:"<",artist:"<"},controller:["UserClient","ArtistClient","PagedDataFeed","Session",function(t,e,n,i){var r=this;this.$onChanges=function(o){r.activity_types=[],i.has_permission("view_activity_stream",r.user)&&r.activity_types.push({activity_type:"user",label:r.user.name+"'s Activity",profile_activity_scrollable_data:new n(_.partial(t.activity_line_items,r.user.id),"line_items",{text_format:"html"})}),i.has_permission("view_activity_stream",r.artist)&&r.activity_types.push({activity_type:"artist",label:"Activity on "+r.artist.name+"'s songs",profile_activity_scrollable_data:new n(_.partial(e.activity_line_items,r.artist.id),"line_items",{text_format:"html"})}),r.activity_type=r.activity_types[0]}}]})},function(t,e,n){"use strict";angular.module("genius").component("profileAnnotation",{bindings:{annotation:"<",referent:"<",variants:"<"},templateUrl:"profile_annotation.html",controller:["$scope",function(t){t.$watchGroup(["$ctrl.annotation.community","$ctrl.annotation.cosigned_by"],function(){this.referent_display_mode=this.annotation.community&&0===this.annotation.cosigned_by.length?"default":"green"}.bind(this)),t.$on("annotation_deleted",function(t,e,n){e===this.annotation&&n.then(function(){this.deleted=!0}.bind(this))}.bind(this))}]})},function(t,e,n){"use strict";angular.module("genius").component("profileArtistDescriptionPreview",{templateUrl:"profile_artist_description_preview.html",bindings:{artist:"<",top_scholar:"<topScholar"}})},function(t,e,n){"use strict";angular.module("genius").component("profileArtistPane",{bindings:{artist:"<"},templateUrl:"profile_artist_pane.html",controller:["Session","ArtistClient",function(t,e){var n=this;this.$onInit=function(){n.user_signed_in=t.user_signed_in},this.$onChanges=function(t){t.artist&&(n.twitter_url="https://twitter.com/"+n.artist.twitter_name,n.facebook_url="http://www.facebook.com/"+n.artist.facebook_name,n.instagram_url="http://instagram.com/"+n.artist.instagram_name)},this.get_leaderboard_page=function(t){return e.load_leaderboard(n.artist.id,t)},this.can=function(e,n){return t.has_permission(e,n)},this.change_state=function(t){return n.state=t}}]})},function(t,e,n){"use strict";angular.module("genius").component("profileContributionsAnnotations",{templateUrl:"profile_contributions_annotations.html",bindings:{user:"<",contributions_group:"<contributionsGroup"},controller:function(){var t=this;this.$onInit=function(){t.limit=1},this.$onChanges=function(e){e.contributions_group&&(t.annotations=t.contributions_group.contributions)}}})},function(t,e,n){"use strict";angular.module("genius").component("profileContributionsAnswers",{templateUrl:"profile_contributions_answers.html",bindings:{user:"<",contributions_group:"<contributionsGroup"},controller:function(){var t=this;this.$onChanges=function(e){e.contributions_group&&(t.answers=t.contributions_group.contributions)}}})},function(t,e,n){"use strict";angular.module("genius").component("profileContributionsArticles",{templateUrl:"profile_contributions_articles.html",bindings:{user:"<",contributions_group:"<contributionsGroup"},controller:function(){var t=this;this.$onChanges=function(e){e.contributions_group&&(t.article=t.contributions_group.contributions[0])}}})},function(t,e,n){"use strict";angular.module("genius").component("profileContributionsComments",{templateUrl:"profile_contributions_comments.html",bindings:{user:"<",contributions_group:"<contributionsGroup"},controller:function(){var t=this;this.$onInit=function(){t.limit=1},this.$onChanges=function(e){e.contributions_group&&(t.comments=t.contributions_group.contributions,t.commentable=t.comments[0].commentable)}}})},function(t,e,n){"use strict";angular.module("genius").component("profileContributionsGroup",{templateUrl:"profile_contributions_group.html",bindings:{user:"<",contributions_group:"<contributionsGroup"}})},function(t,e,n){"use strict";angular.module("genius").component("profileContributionsPyongs",{templateUrl:"profile_contributions_pyongs.html",bindings:{user:"<",contributions_group:"<contributionsGroup"},controller:function(){var t=this;this.$onChanges=function(e){e.contributions_group&&(t.pyong=t.contributions_group.contributions[0])}}})},function(t,e,n){"use strict";angular.module("genius").component("profileContributionsQuestions",{templateUrl:"profile_contributions_questions.html",bindings:{user:"<",contributions_group:"<contributionsGroup"},controller:function(){var t=this;this.$onChanges=function(e){e.contributions_group&&(t.questions=t.contributions_group.contributions)}}})},function(t,e,n){"use strict";angular.module("genius").component("profileContributionsTranscriptions",{templateUrl:"profile_contributions_transcriptions.html",bindings:{user:"<",contributions_group:"<contributionsGroup"},controller:function(){var t=this;this.$onChanges=function(e){e.contributions_group&&(t.song=t.contributions_group.contributions[0])}}})},function(t,e,n){"use strict";angular.module("genius").component("profileFollowers",{bindings:{artist:"<",user:"<",follows:"<"},templateUrl:"profile_followers.html",controller:["PagedDataFeed","UserClient",function(t,e){var n=this;this.$onChanges=function(t){t.user&&(n.scrollable_data=n.get_scrollable_data())},this.get_scrollable_data=function(){return n.user&&n.follows?new t(_.partial(e.load_followed_users,n.user.id),"followed_users"):n.user&&!n.follows?new t(_.partial(e.load_followers_by_user,n.user.id),"followers"):n.user?void 0:new t(_.partial(e.load_followers_by_artist,n.artist.id),"followers")}}]})},function(t,e,n){"use strict";angular.module("genius").component("profileIdentity",{templateUrl:"profile_identity.html",bindings:{artist:"<",user:"<"},controller:[function(){var t=this;this.alternate_name_limit=2,this.user_has_more_than_one_role=function(){return t.user&&t.user.roles_for_display.length>1},this.more_alternate_names_to_show=function(){return t.artist.alternate_names.length>t.alternate_name_limit},this.show_all_alternate_names=function(){t.alternate_name_limit=1/0}}]})},function(t,e,n){"use strict";var i=[{i18n_key:"contribution_type.all_activity.name",filter:null,sort:[]},{i18n_key:"contribution_type.annotations.name",filter:"annotations",sort:[{i18n_key:"contribution_type.annotations.sort.popularity",value:"popularity"},{i18n_key:"contribution_type.annotations.sort.chronologically",value:"chronologically"}]},{i18n_key:"contribution_type.pyongs.name",filter:"pyongs",sort:[]},{i18n_key:"contribution_type.transcriptions.name",filter:"transcriptions",sort:[{i18n_key:"contribution_type.transcriptions.sort.popularity",value:"popularity"},{i18n_key:"contribution_type.transcriptions.sort.chronologically",value:"chronologically"}]},{i18n_key:"contribution_type.comments.name",filter:"comments",sort:[]},{i18n_key:"contribution_type.questions_and_answers.name",filter:"questions_and_answers",sort:[]},{i18n_key:"contribution_type.articles.name",filter:"articles",sort:[{i18n_key:"contribution_type.articles.sort.popularity",value:"popularity"},{i18n_key:"contribution_type.articles.sort.chronologically",value:"chronologically"}]},{i18n_key:"contribution_type.unreviewed_annotations.name",filter:"unreviewed_annotations",sort:[{i18n_key:"contribution_type.unreviewed_annotations.sort.popularity",value:"popularity"},{i18n_key:"contribution_type.unreviewed_annotations.sort.chronologically",value:"chronologically"}]}];angular.module("genius").component("profilePage",{templateUrl:"profile_page.html",bindings:{artist:"<",user:"<",artist_songs:"<artistSongs",artist_albums:"<artistAlbums",top_scholar:"<topScholar",top_accomplishment:"<topAccomplishment",pinned_annotations:"<pinnedAnnotations",artist_has_more_songs:"<artistHasMoreSongs",show_artist_pane:"<showArtistPane",preloaded_user_activity:"<preloadedUserActivity",initial_next_user_activity_timestamp:"<initialNextUserActivityTimestamp",$router:"<",current_user_metadata:"<currentUserMetadata"},controller:["CursoredDataFeed","UserClient","ArtistClient","$rootRouter","Session","ScrollPoint","Tracking","mobile_device","VideoRegistry",function(t,e,n,r,o,a,s,c,l){var u=this;this.$onInit=function(){u.user_activity_sort_options_by_filter=i,u.logged_in=o.user_signed_in,u.user&&u.filter_activity_by(u.user_activity_sort_options_by_filter[0]);var t={};u.artist&&(t["Artist ID"]=u.artist.id),u.artist&&(l.register_page(u.artist,c?"mobile_artist_page":"desktop_artist_page"),s.delayed_track("Profile Page Load",t))},this.$onChanges=function(t){(t.user||t.artist)&&(u.community_artist=u.artist&&u.user&&!u.user.is_verified),t.user&&(u.can_message_user=u.can("send_message",u.user),u.can_view_activities_in_real_time=u.logged_in&&u.user,u.can_edit_artist_profile=u.can("edit_anything",u.artist),u.can_edit_user_profile=u.can("edit",u.user),u.can_edit_profile=u.can_edit_artist_profile||u.can_edit_user_profile,u.can_view_admin_info=u.can("view_admin_info",u.user),u.can_view_roles=u.can("view_roles",u.user),u.can_verify=u.can("toggle_verification_status",u.user),u.can_moderate_user=u.can("toggle_penalty_status",u.user)||u.can("mark_spam",u.user)||u.can("mark_ham",u.user)||u.can("mass_delete_unreviewed_activity",u.user)||u.can("mass_delete_votes",u.user),u.can_view_tracked_errors=u.can("view_tracked_errors",u.user),u.user&&(u.bugsnag_link="https://app.bugsnag.com/genius/genius/errors?filters[event.since][0]=all&filters[user.id][0][value]="+u.user.id+"&filters[user.id][0][type]=eq"))},this.scroll_to=a.scroll_to,this.can=function(t,e){return o.has_permission(t,e)},this.filter_activity_by=function(n,i){u.filter_by_contribution_type=n,n.filter?(u.filter_by_contribution_type_sort=i||n.sort[0],u.user_contributions_scrollable_data=new t(_.partial(e.load_contributions,u.user.id,n.filter),"contribution_groups",{text_format:"html,markdown",sort:u.filter_by_contribution_type_sort&&u.filter_by_contribution_type_sort.value,per_page:8})):u.user_contributions_scrollable_data=new t(_.partial(e.load_contributions,u.user.id,!1),"contribution_groups",{text_format:"html,markdown",per_page:8},u.initial_next_user_activity_timestamp)},this.filter_activity_by_type=function(t){u.filter_activity_by(_.find(u.user_activity_sort_options_by_filter,{filter:t})),u.scroll_to("user_activity")},this.display_as_artist=function(){return!(!u.artist||u.user&&!u.user.is_verified)},this.display_as_user=function(){return!u.display_as_artist()},this.header_url=function(){return u.display_as_artist()?u.artist.header_image_url:u.user.header_image_url},this.avatar_url=function(){return u.display_as_artist()?u.artist.image_url:u.user.avatar.medium.url};var d=function(t){u.display_as_artist()?r.navigate(["ArtistPage",{},t?"ProfileBioPage":"ProfilePage",{slug:n.get_slug(u.artist)}]):r.navigate([t?"UserBioPage":"UserPage",{slug:e.get_slug(u.user)}])};this.open_description=function(){d(!0)},this.close_description=function(){d(!1)},this.change_state=function(t){return u.state=t}}]})},function(t,e,n){"use strict";angular.module("genius").component("profileUserDescriptionPreview",{templateUrl:"profile_user_description_preview.html",bindings:{user:"<",top_accomplishment:"<topAccomplishment"}})},function(t,e,n){"use strict";angular.module("genius").component("profileUserPane",{bindings:{user:"<",on_statistics_select:"&onStatisticsSelect"},templateUrl:"profile_user_pane.html",controller:["Tracking",function(t){var e=this;this.change_state=function(n){e.state=n,t.track("Profile Tab Open",{tab_name:n,display_as_artist:!1})}}]})},function(t,e,n){"use strict";angular.module("genius").component("question",{bindings:{question:"<",variants:"<",move_question:"&?moveQuestion",featured:"<",on_pending_event:"&onPendingEvent",yields_iq:"&yieldsIq",yields_api:"&yieldsApi"},templateUrl:"question.html",controller:["Reversible","QuestionClient","Session",function(t,e,n){var i=this;this.$onInit=function(){i.yields_api({api:{answer:function(){i.answerApi.start_editing()},archive:i.archive}})},this.can=function(t,e){return n.has_permission(t,e)},this.is_pinned=function(){return"pinned"===i.question.state},this.is_verified=function(){return i.question.answer&&i.question.answer.answer_source},this.archive=function(){i.question._deleted=!0;var t=i.change_state("archive");return i.on_pending_event({event:"UserArchiveQuestion",result:t}),t.catch(function(){Reflect.deleteProperty(i.question,"_deleted")})},this.pin=function(){var e=t.modify(i.question,{state:"pinned"});return i.change_state("pin").catch(e)},this.unpin=function(){var e=t.modify(i.question,{state:"pending"});return i.change_state("unpin").catch(e)},this.change_state=function(t){return e.create_if_not_exists(i.question).then(function(){return e.change_state(i.question,t)})},this.start_editing=function(){i.question._editing=_.defaults(i.question._editing||{},{_form_visible:!0,body:i.question.body})},this.move=function(t){this.move_question({direction:t,question:this.question})},this.cancel_editing=function(){Reflect.deleteProperty(i.question,"_editing")},this.finish_editing=function(){if(!i.disable_saving_with){i.disable_saving_with="Saving";var n=t.modify(i.question,{"_editing._form_visible":!1});e.update(i.question,{question:i.question._editing}).then(i.cancel_editing.bind(i)).catch(n).finally(function(){i.disable_saving_with=!1})}}}]})},function(t,e,n){"use strict";angular.module("genius").component("questionForm",{bindings:{questionable:"<",on_new_question:"&onNewQuestion"},templateUrl:"question_form.html",controller:["Session","$scope","QuestionClient",function(t,e,n){var i=this;this.user_signed_in=t.user_signed_in;var r=function(e){i.question={_new:!0,author:t.current_user,author_name:e&&e.author_name,author_email:e&&e.author_email,body:""}};this.save=function(){if(!i.saving){i.saving=!0,t.user_signed_in||(i.question.anonymous_user={name:i.question.name});var o=i.question;r(),e.question_form.$setPristine(),n.create(i.questionable._type,i.questionable.id,o).then(function(){i.saving=!1,e.question_form.$setPristine(),i.thank_you=!0,i.on_new_question({question:o}),r(o),i.error={}}).catch(function(t){i.error=t,i.question=o,i.saving=!1})}}}]})},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}angular.module("genius").component("questionList",{bindings:{pinned_questions:"<pinnedQuestions",default_questions:"<defaultQuestions",featured_question:"<featuredQuestion",pending_question_count:"<pendingQuestionCount",variants:"<",questionable:"<"},templateUrl:"question_list.html",controller:["QuestionClient","PagedDataFeed",function(t,e){var n=this,r={state:"pending"};this.$onChanges=function(i){(i.default_questions||i.pinned_questions)&&(n.questions=_([]).concat(n.default_questions,n.pinned_questions).compact().value(),n.monetized_question_ids=n.pinned_questions.map(function(t,e){return{id:t.id,index:e}}).filter(function(t){var e=t.index;return e%2==0&&e<n.pinned_questions.length-1}).map(function(t){return t.id})),i.featured_question&&n.featured_question&&"pinned"!==n.featured_question.state&&n.questions.push(n.featured_question),i.variants&&(n.variants&&n.variants.answered&&(r.answered=n.variants.answered),n.scrollable_data=new e(_.partial(t.index,n.questionable._type,n.questionable.id),"questions",r)),i.pending_question_count&&(n.pending_question_count?n.has_next=n.scrollable_data.has_next:n.has_next=function(){return!1})},this.sorting_predicates=[function(t){return["default","pinned","pending","archived"].indexOf(t.state)},"pin_order"],this.move_question=function(e,i){var r=void 0;"up"===e?r=_(n.questions).filter(function(t){return t.pin_order&&t.pin_order<i.pin_order}).sortBy("pin_order").reverse().take(2).thru(function(t){return[t[1],t[0]]}):"down"===e&&(r=_(n.questions).filter(function(t){return t.pin_order&&t.pin_order>i.pin_order}).sortBy("pin_order").take(2).thru(function(t){return[t[0],t[1]]}));var o=n.move_question_between(i,r.get(0),r.get(1));t.move(i,e).catch(o)},this.move_question_between=function(t,e,n){var i=void 0;e&&n?i=(e.pin_order+n.pin_order)/2:n?i=n.pin_order/2:e&&(i=e.pin_order+1);var r=t.pin_order;return t.pin_order=i,function(){t.pin_order=r}},this.load_more=function(){n._loading=!0,n.scrollable_data.next().then(function(t){var e;t=_.reject(t,n.is_featured_question,n),n.pending_question_count-=t.length,(e=n.questions).push.apply(e,i(t))}).finally(function(){n._loading=!1})},this.is_featured_question=function(t){return n.featured_question&&n.featured_question.id===t.id},this.is_monetized=function(t){return n.monetized_question_ids.includes(t.id)}}]})},function(t,e,n){"use strict";angular.module("genius").component("reasonsToggle",{bindings:{reasonChanged:"&"},templateUrl:"reasons_toggle.html",controller:["AppConfig",function(t){this.comment_reasons=t.comment_reasons,this.comment_reasons_help_url=t.comment_reasons_help_url,this.selectedReason="",this.change_reason=function(t){this.selectedReason===t?delete this.selectedReason:this.selectedReason=t,this.reasonChanged({reason:this.selectedReason})}}]})},function(t,e,n){"use strict";angular.module("genius").component("recentSignupsPage",{templateUrl:"recent_signups_page.html",controller:["UserClient","Attempt","TimestampedDataFeed","I18n",function(t,e,n,i){var r=function(e,n){n.marking_spam_state=!0,t.update_spam_state(n.user.id,{state:e}).then(function(){n.marked_spam_state=!0}.bind(this)).finally(function(){delete n.marking_spam_state})}.bind(this);this.mark=function(t,n){e.admin_action(function(){r(t,n)},i.t("mark_"+t+".confirm"))},this.filter_by_spam_state=function(e){this.filtering_spam_state!==e&&(this.filtering_spam_state=e,this.recent_signups_scrollable_data=new n(_.partial(t.load_recent_signups,"unclassified_spam_state"===e?"":e),"user_spam_evaluations"))},this.filter_by_spam_state("unclassified_spam_state")}]})},function(t,e,n){"use strict";angular.module("genius").component("recirculatedContent",{templateUrl:"recirculated_content.html",bindings:{song:"<",stories:"<",placement:"@"},controller:["VideoPlacement","Session",function(t,e){var n=this;this.$onChanges=function(e){e.song&&n.song&&(n.video_placement=new t(n.song,n.placement))},this.can=function(t,n){return e.has_permission(t,n)}}]})},function(t,e,n){"use strict";angular.module("genius").component("relevantVideos",{bindings:{object:"<",placement:"@",container_classes:"@containerClasses",on_fill:"&onFill",variants:"<"},templateUrl:"relevant_videos.html",controller:["VideoPlacement","Session",function(t,e){var n=this;this.$onChanges=function(e){e.object&&(n.video_placement=new t(n.object,n.placement,function(t){return n.on_fill({videos:t})}))},this.can=function(t,n){return e.has_permission(t,n)}}]})},function(t,e,n){"use strict";!function(t){var e=["artist","user","artist_songs","artist_albums","top_scholar","top_accomplishment","pinned_annotations","artist_has_more_songs","preloaded_user_activity","initial_next_user_activity_timestamp","current_user_metadata"],n=_.curry(function(t,e){return new RegExp(""+e.source+t.source)}),i=_.curry(function(t,e){return new RegExp("(?:"+e.source+t.source+")?")}),r=function(t){return new RegExp("("+t.source+")")},o=i(/.*/),a=function(t){var e=t.path,n=void 0===e?o:e,i=t.query,r=void 0===i?o:i,a=t.hash,s=void 0===a?o:a;return new RegExp(["^",n(/(?:)/).source,r(/\?/).source,s(/#/).source,"$"].join(""))};t.module("genius").component("routablePage",{template:"<ng-outlet></ng-outlet>",$routeConfig:[{regex:a({path:n(/(?:)/),hash:i(r(/.*/))}),serializer:function(t){return{urlPath:t.subhead?"#"+t.subhead:""}},name:"HomePage",component:"homePage",data:{type:"home"}},{path:"/albums/:artist_slug/:album_slug",name:"AlbumPage",component:"albumPage",data:{type:"album",clientRoutableOn:["desktop"]}},{path:"/album_cover_arts/:cover_art_id",name:"AlbumPageCoverArtFocus",component:"albumPage",data:{type:"album_cover_art",clientRoutableOn:["desktop"]}},{path:"/a/:article_slug",name:"ArticlePage",component:"articlePage",data:{type:"article",clientRoutableOn:["desktop"]}},{path:"/a/preview/:preview_key",name:"ArticleExternalPreviewPage",component:"articlePage",data:{type:"article",clientRoutableOn:["desktop"]}},{path:"/articles/:article_id/preview",name:"ArticlePreviewPage",component:"articlePage",data:{type:"article",clientRoutableOn:["desktop"]}},{path:"/shows/:slug",name:"VideoListPage",component:"videoListPage",data:{type:"video_list",clientRoutableOn:["desktop"]}},{path:"/videos/:slug",name:"VideoPage",component:"videoPage",data:{type:"video",clientRoutableOn:["desktop"]}},{path:"/search",name:"SearchResultsPage",component:"searchResultsPage"},{path:"/artists/...",name:"ArtistPage",component:"routableProfilePage"},{regex:a({path:n(r(/[^\/?]*-(?:annotated|lyrics)/)),query:i(r(/.*/))}),serializer:function(t){return{urlPath:t.slug}},name:"SongPage",component:"songPage",data:{type:"song"}},{path:"/admin_tasks",name:"AdminTasksPage",component:"adminTasksPage"},{regex:a({path:n(r(/\d+/))}),serializer:function(t){return{urlPath:t.referent_id}},name:"SongReferentFocus",component:"songPage",data:{type:"referent"}},{path:"/:slug",name:"UserPage",component:"routedPage",data:{includeFromCache:e,component:"profilePage",include:{show_artist_pane:!1}}},{path:"/:slug/bio",name:"UserBioPage",component:"routedPage",data:{includeFromCache:e,component:"profilePage",include:{show_artist_pane:!0}}},{path:"/users/...",name:"UserRouter",component:"routableUserPage"}]})}(window.angular)},function(t,e,n){"use strict";!function(t){var e=["artist","user","artist_songs","artist_albums","top_scholar","top_accomplishment","pinned_annotations","artist_has_more_songs","preloaded_user_activity","initial_next_user_activity_timestamp","current_user_metadata"];t.module("genius").component("routableProfilePage",{template:"<ng-outlet></ng-outlet>",$routeConfig:[{path:"/:slug",name:"ProfilePage",component:"routedPage",data:{component:"profilePage",includeFromCache:e,include:{show_artist_pane:!1}}},{path:"/:slug/bio",name:"ProfileBioPage",component:"routedPage",data:{component:"profilePage",includeFromCache:e,include:{show_artist_pane:!0}}}]})}(angular)},function(t,e,n){"use strict";!function(t){t.module("genius").component("routableUserPage",{template:"<ng-outlet></ng-outlet>",$routeConfig:[{path:"/recent_signups",name:"RecentSignupsPage",component:"routedPage",data:{component:"recentSignupsPage"}}]})}(angular)},function(t,e,n){"use strict";angular.module("genius").component("routedPage",{template:["$rootRouter",function(t){for(var e=function(t){return t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase().replace(/_/g,"-")},n=t.currentInstruction;null!=n.child;)n=n.child;var i=n.component.routeData.data,r=e(i.component),o=t.currentInstruction.component.params;return"<"+r+" "+_(i.includeFromCache).map(function(t){return e(t)+'="$ctrl.preloadedData.'+t+'"'}).join(" ")+" "+_(i.includeFromUrlParams).map(function(t){return e(t)+'="'+o[t]+'"'}).join(" ")+" "+_(i.include||{}).map(function(t,n){return e(n)+'="'+t+'"'}).join(" ")+' $router="$ctrl.$router"></'+r+">"}],bindings:{$router:"<"},controller:["PreloadCache",function(t){this.preloadedData=t,this.$routerCanReuse=function(){return!1}}]})},function(t,e,n){"use strict";angular.module("genius").component("searchResultItem",{bindings:{hit:"<"},templateUrl:"search_result_item.html"})},function(t,e,n){"use strict";angular.module("genius").component("searchResultItems",{bindings:{results:"<",limit_to:"<limitTo"},templateUrl:"search_result_items.html"})},function(t,e,n){"use strict";angular.module("genius").component("searchResultPaginatedSection",{bindings:{section_type:"@sectionType",search_text:"@searchText",on_load_next:"&onLoadNext"},templateUrl:"search_result_paginated_section.html",controller:["PagedDataFeed","SearchClient",function(t,e){var n=this;this.$onChanges=function(i){(i.section_type||i.search_text)&&(n.infinite_scroll_data=new t(_.partial(e.section,n.section_type,n.search_text),"hits",{},1,n.on_load_next))}}]})},function(t,e,n){"use strict";angular.module("genius").component("searchResultSection",{bindings:{section:"<",on_show_more:"&onShowMore",limit_to:"<limitTo",variants:"<"},templateUrl:"search_result_section.html"})},function(t,e,n){"use strict";angular.module("genius").component("searchResults",{bindings:{sections:"<",search_text:"<searchText",scroll_container_selector:"@scrollContainerSelector",on_filter:"&onFilter",on_sections_change:"&onSectionsChange",on_load_next:"&onLoadNext",on_animation_end:"&onAnimationEnd"},templateUrl:"search_results.html",controller:["$element","$immediate",function(t,e){var n=this;this.$onChanges=function(t){t.sections&&n.on_sections_change()},this.has_results=function(){return _.flatMap(n.sections,"hits").length>0};var i=t.find(this.scroll_container_selector);i.length||(i=$(t).closest(this.scroll_container_selector));var r=t.find(".global_search-search_results"),o=t.find(".global_search-search_results-sections"),a=void 0,s=void 0;this.save_scroll_and_scroll_top=function(){e(function(){var e=t.find(".global_search-search_results-show_more");a=i.scrollTop(),s=r.height(),r.css({minHeight:s}),o.css({position:"absolute",top:-a}),e.css({position:"relative",top:0}),i.scrollTop(0)})},this.restore_scroll=function(){var e=t.find(".global_search-search_results-show_more"),n=i.scrollTop();e.css({position:"absolute",top:a-n}),o.css({position:"relative",top:0}),i.scrollTop(a)},o.on("animationend",function(){n.on_animation_end()})}]})},function(t,e,n){"use strict";angular.module("genius").component("searchResultsPage",{bindings:{$router:"<"},templateUrl:"search_results_page.html",controller:["mobile_device","SearchClient","Tracking",function(t,e,n){var i=this;this.$routerOnActivate=function(r){if(n.track("Search Standalone Page View"),_.isEmpty(r.params.q))return void(i.sections=[]);i.q=decodeURIComponent(r.params.q);var o=t?3:5;return e.multi(i.q,{per_page:o}).then(function(t){i.sections=t,i.has_results=_.flatMap(i.sections,"hits").length>0})}}]})},function(t,e,n){"use strict";angular.module("genius").component("selectDropdown",{templateUrl:"select_dropdown.html",require:{ngModel:"?ngModel"},bindings:{options:"<",on_select:"&onSelect",variants:"<",selection:"<"},controller:["$scope",function(t){t.$watch("$ctrl.options",function(){this.selected=this.options[0]}.bind(this)),t.$watch("$ctrl.selected",function(){this.ngModel&&this.ngModel.$setViewValue(arguments[0])}.bind(this)),t.$watch("$ctrl.selection",function(t){t&&(this.selected=t)}.bind(this)),this.is_clickable=function(){return this.options.length>1}}]})},function(t,e,n){"use strict";angular.module("genius").component("skinAd",{templateUrl:"skin_ad.html",bindings:{name:"@",bound_on_filled:"&onFilled"},controller:[function(){var t=this;this.$onInit=function(){t.background_color="transparent"},this.gradient_background=function(){return"linear-gradient(transparent, "+t.background_color+")"},this.on_filled=function(e,n){t.filled=!0,n.background_color&&(t.background_color=n.background_color),t.bound_on_filled({render_event:e,custom_values:n})}}]})},function(t,e,n){"use strict";angular.module("genius").component("songAlbums",{bindings:{song:"<",primary_album_tracks:"<primaryAlbumTracks"},templateUrl:"song_albums.html",controller:function(){var t=!1;this.primary_album=function(){return this.song.album},this.other_albums=function(){return this.primary_album()?_.reject(this.song.albums,{id:this.primary_album().id}):this.song.albums},this.hidden_album_count=function(){return t?0:Math.max(0,this.other_albums().length-2)},this.show_all=function(){t=!0}}})},function(t,e,n){"use strict";angular.module("genius").component("songAttributionVisualization",{bindings:{id:"<"},templateUrl:"song_attribution_visualization.html",controller:["SongClient",function(t){var e=this,n=["#FF574B","#87A6FD","#7FFA95","#FFA0E8","#80FDFB","#FEF498","#E5A0AC","#A0CDA8"];this.$onInit=function(){e.users={},e.user_colors={},t.attribution_visualization(e.id).then(function(t){e.words=t.words,e.change_times=_.uniq(e.words.map(function(t){return t.changed_at})).sort(function(t,e){return t-e}),e.current_time_index=e.change_times.length-1,t.users.forEach(function(t,i){e.users[t.id]=t,e.user_colors[t.id]=n[i]||"#CCCCCC"})}),e.color=function(t){if(t.user_id)return e.user_colors[t.user_id]},e.words_to_show=function(){return e.words?e.words.filter(function(t){return t.changed_at<=e.change_times[e.current_time_index]}):[]},e.adjust_current_time_index=function(t){var n=e.current_time_index+t;n<0||n>e.change_times.length-1||(e.current_time_index=n)}}}]})},function(t,e,n){"use strict";angular.module("genius").component("songMetadataSongRelationshipsInput",{templateUrl:"song_metadata_song_relationships_input.html",bindings:{song_relationships:"<songRelationships",isDisabled:"<"},controller:function(){var t=this;this.$onChanges=function(e){e.song_relationships&&(t.visible_relationships=_.filter(t.song_relationships,function(t){return t.songs.length}))},this.available_relationships=function(){return _.difference(t.song_relationships,t.visible_relationships)},this.change_relationship_to=function(e,n){n.songs=e.songs,e.songs=[],t.visible_relationships[t.visible_relationships.indexOf(e)]=n},this.remove_song_relationship=function(e){e.songs=[],t.visible_relationships=_.without(t.visible_relationships,e)},this.add_new_song_relationship=function(){var e=t.available_relationships();e.length&&t.visible_relationships.push(e[0])}}})},function(t,e,n){"use strict";angular.module("genius").component("songMissingMetadata",{templateUrl:"song_missing_metadata.html",bindings:{song:"<",possible_missing_info:"<possibleMissingInfo"},controller:function(){var t=this;this.has_missing_info=function(){return _.some(t.possible_missing_info,t.missing_info)},this.missing_info=function(e){return _.isEmpty(t.song[e])&&_.includes(t.possible_missing_info,e)}}})},function(t,e,n){"use strict";angular.module("genius").component("songPage",{templateUrl:"song_page.html",controller:Object.assign(["$document","$window","$scope","$location","$q","Tracking","ReferentElementMap","ReferentRegistry","querystring","performance_mark",function(t,e,n,i,r,o,a,s,c,l){var u=this,d=function(t){return{slug:t[1],query:c.parse(t[2]||"")}},p=function(t){return{referent_id:parseInt(t[1])}},f=function(t,e){switch(t.routeData.data.type){case"song":return e.song(d(t.params));case"referent":return e.referent(p(t.params));default:throw Error("Unknown song page instruction type: "+t.routeData.data.type)}};this.$onInit=function(){u.lyrics_compiled=r.defer()},this.$routerCanReuse=function(t){return f(t,{song:function(t){return t.slug===g()},referent:function(t){return Boolean(s.peek(t.referent_id))}})},this.$routerOnActivate=function(t){u.page_data=t.routeData.page_data,Object.assign(n,u.page_data),f(t,{song:function(t){var n=parseInt(t.query.referent_id||_.get(i.hash().match(/^note-(\d+)$/),1));_.isFinite(n)?(o.set_annotation_opened_from_permalink(n),u.scroll_to_referent(n).then(function(){return i.url("/"+n)})):e.scrollTo(0,0)},referent:function(t){u.scroll_to_referent(t.referent_id).then(function(){return u.display_referent(t.referent_id)})}}),l.create_once("first_router_on_activate")},this.$routerOnReuse=function(t){f(t,{song:_.noop,referent:function(t){u.display_referent(t.referent_id)}})},this.$routerOnDeactivate=function(){o.reset_counters(),s.clear()},this.scroll_to_referent=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return u.lyrics_compiled.promise.then(function(){return r(function(r){var o=a.get(n),s=o.offset().top+o.height()/2-$(e).height()/2;t.find("html, body").animate({scrollTop:s},i).promise().then(r)})})},this.display_referent=function(t){o.track("Open Annotation",{annotation_id:t}),s.preload_around(t,10),n.highlighted_fragment_id=t;var i=s.get(t);r(function(n){var r=h(i);r.bottom<0||r.top>$(e).height()?u.scroll_to_referent(t,150).then(function(){return n(h(i))}):n(r)}).then(function(t){u.lyrics_positioning_target=t,n.current_referent=i})},this.display_description_annotation=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tracking_name;e&&o.track(e),u.clear_current_referent(),n.current_referent=u.page_data.song.description_annotation},this.clear_current_referent=function(){n.highlighted_fragment_id=null,n.current_referent=null,i.url(u.page_data.song.path)},this.on_lyrics_compiled=function(){u.lyrics_compiled.resolve()},this.update_lyrics_selection_range=function(t){t?(u.clear_current_referent(),u.lyrics_selection_range=t,u.lyrics_positioning_target=t.getBoundingClientRect()):(u.lyrics_selection_range=null,n.current_referent?m():u.lyrics_positioning_target=null)};var h=function(t){if(t)return t.precomputed_client_rect||a.get(t.id).get(0).getBoundingClientRect()},m=function(){_.get(n.current_referent,"is_description")||(u.lyrics_positioning_target=h(n.current_referent))},g=function(){var t=_.get(u,"page_data.song.url");if(t)return _.last(t.split("/"))};n.$on("layout_changed",_.throttle(m,300))}],{$canActivate:["$nextInstruction","PageTransition","performance_mark",function(t,e,n){return n.create_once("first_router_can_activate"),e.by_router_instruction(t)}]})})},function(t,e,n){"use strict";angular.module("genius").component("songPageSidebarMultiPlacement",{templateUrl:"song_page_sidebar_multi_placement.html",bindings:{song:"<"},controller:function(){var t=void 0,e=void 0;this.video_did_fill=function(e){var n=_.get(e,"0.relevance");t="high"===n||"medium"===n},this.ad_did_not_fill=function(){e=!0},this.should_render_primary_video_component=function(){return t||_.isUndefined(t)||e},this.should_render_secondary_video_component=function(){return t||e},this.should_show_ad=function(){return!t&&!_.isUndefined(t)}}})},function(t,e,n){"use strict";angular.module("genius").component("songTopVerifiedArtist",{bindings:{contributors:"<verifiedContributors",on_clicked_verified_annotator:"&onClickedVerifiedAnnotator",on_clicked_verified_answer:"&onClickedVerifiedAnswer"},templateUrl:"song_top_verified_artist.html",controller:function(){var t=this;this.$onChanges=function(e){if(e.contributors){var n=_.sortBy(t.contributors,function(t){return t.contributions.length});t.contributor=_.last(n)}},this.on_clicked=function(e){_.includes(t.contributor.contributions,"annotations")?(t.on_clicked_verified_annotator({user:t.contributor.user}),e.preventDefault()):_.includes(t.contributor.contributions,"answers")&&(t.on_clicked_verified_answer({artist:t.contributor.artist}),e.preventDefault())}}})},function(t,e,n){"use strict";angular.module("genius").component("songVerifiedArtists",{bindings:{verified_contributors:"<verifiedContributors"},templateUrl:"song_verified_artists.html",controller:["$scope",function(t){t.$watch("$ctrl.verified_contributors",function(t){1===t.length&&(this.featured=!0),this.commentary_and_lyrics_by=_.filter(t,function(t){return _.includes(t.contributions,"lyrics")&&(_.includes(t.contributions,"annotations")||_.includes(t.contributions,"answers"))}),this.commentary_by=_.filter(t,function(t){return!_.includes(t.contributions,"lyrics")&&(_.includes(t.contributions,"annotations")||_.includes(t.contributions,"answers"))}),this.lyrics_by=_.filter(t,function(t){return _.includes(t.contributions,"lyrics")&&!(_.includes(t.contributions,"annotations")||_.includes(t.contributions,"answers"))}),this.lyrics_only=this.lyrics_by.length&&!(this.commentary_and_lyrics_by.length||this.commentary_by.length)}.bind(this))}]})},function(t,e,n){"use strict";angular.module("genius").component("songVerifiedArtistsSection",{bindings:{contributors:"<",featured:"<",label:"@",lyrics_only:"<lyricsOnly"},templateUrl:"song_verified_artists_section.html"})},function(t,e,n){"use strict";angular.module("genius").component("songVerifiedArtistsSectionSingle",{bindings:{contributor:"<",featured:"<",label:"@",variants:"<"},templateUrl:"song_verified_artists_section_single.html",controller:function(){var t=this;this.$onChanges=function(e){e.contributor&&(t.url=t.contributor.artist.url,t.image_url=t.contributor.artist.image_url,t.is_meme_verified=t.contributor.artist.is_meme_verified,t.name=t.contributor.artist.name)}}})},function(t,e,n){"use strict";angular.module("genius").component("spamStatus",{templateUrl:"spam_status.html",bindings:{user:"<"},controller:["UserClient",function(t){var e=this;this.$onChanges=function(n){n.user&&t.spam_status(e.user.id).then(function(t){e.user_spam_evaluation=t.user_spam_evaluation})}}]})},function(t,e,n){"use strict";angular.module("genius").component("squareItemAndIq",{bindings:{event_type:"@eventType",iq_params:"<iqParams",show_pill_initial:"<showPill",variants:"<"},templateUrl:"square_item_and_iq.html",transclude:!0,controller:["Iq","Session",function(t,e){var n=this;this.show_pill=function(){return!!e.user_signed_in&&(!!_.isUndefined(n.show_pill_initial)||n.show_pill_initial)},this.iq=function(){return n.iq_params?_.sum(_.map(_.filter(n.iq_params,"applicable"),function(t){return t.multiplier*t.base})):t.for(n.event_type)}}]})},function(t,e,n){"use strict";angular.module("genius").component("statisticsPanel",{bindings:{user:"<",on_select:"&onSelect"},templateUrl:"statistics_panel.html"})},function(t,e,n){"use strict";angular.module("genius").component("statisticsPanelItem",{bindings:{label:"@",value:"<",icon:"@"},templateUrl:"statistics_panel_item.html"})},function(t,e,n){"use strict";angular.module("genius").component("taboola",{template:'\n    <div\n      ng-if="$ctrl.enabled"\n      class="{{$ctrl.container_classes}}"\n    >\n      <div id="{{$ctrl.container_id}}"></div>\n    </div>\n  ',bindings:{mode:"@",placement:"@",container_classes:"@containerClasses"},controller:["taboola",function(t){var e=this;this.$onInit=function(){e.enabled=t.enabled,e.container_id=_.uniqueId("taboola-")},this.$postLink=function(){t.push_and_flush({container:e.container_id,mode:e.mode,placement:e.placement,target_type:"mix"})}}]})},function(t,e,n){"use strict";angular.module("genius").component("twitterShareButton",{templateUrl:"twitter_share_button.html",bindings:{url:"<",message:"<",variants:"<"},controller:["Twitter","Tracking",function(t,e){var n=this;this.share_on_twitter=function(){e.track("Bagon Twitter Share"),t.share({url:n.url,message:n.message})}}]})},function(t,e,n){"use strict";angular.module("genius").component("userAttribution",{bindings:{object:"<",rank:"<"},templateUrl:"user_attribution.html"})},function(t,e,n){"use strict";angular.module("genius").component("userIdentities",{templateUrl:"user_identities.html",bindings:{user:"<",editable:"<"},controller:["IdentityClient","Session",function(t,e){this.can=function(t){return e.has_permission(t,this.user)},this.can_edit=function(){return this.editable&&this.can("manage_identities")},this.saving_identity={},this.unlink_identity=function(e){this.saving_identity[e.provider]||(this.saving_identity[e.provider]=!0,delete this.errors,t.destroy(e.id).then(function(t){_.assign(this.user,t.user),delete this.errors}.bind(this)).catch(function(t){this.errors=t.errors}.bind(this)).finally(function(){delete this.saving_identity[e.provider]}.bind(this)))},this.identity_auth_path=function(t){return"/auth/"+t}}]})},function(t,e,n){"use strict";angular.module("genius").component("userInfoWithActions",{bindings:{user:"<object",variants:"<"},templateUrl:"user_info_with_actions.html",controller:["$scope","Session","UserClient",function(t,e,n){this.user_signed_in=e.user_signed_in,this.current_user=e.current_user,t.$watch("$ctrl.user",function(t){if(!t.current_user_metadata){var e=this.user;n.load(e.id).then(function(t){_.assign(e,t)})}}.bind(this))}]})},function(t,e,n){"use strict";angular.module("genius").component("userModeration",{templateUrl:"user_moderation.html",bindings:{user:"<"},controller:["Session","UserClient","Attempt","AppConfig",function(t,e,n,i){var r=this;this.can=function(e){return t.has_permission(e,r.user)},this.clear=function(){r.errors=null,r.messages=null},this.toggle_penalty_status=function(){if(!r.updating){r.clear(),r.updating=!0;var t=void 0;t=r.user.penalty_box_until?e.unpenalty_box(r.user.id):e.penalty_box(r.user.id),t.then(function(t){_.assign(r.user,t.user)}).catch(function(t){r.errors=t.errors}).finally(function(){r.updating=!1})}},this.update_spam_state=function(t){r.updating||n.admin_action(function(){r.clear(),r.updating=!0,e.update_spam_state(r.user.id,{state:t}).then(function(t){_.assign(r.user,t.user),r.messages=["Done! (But it'll take a few minutes to finish)"]}).catch(function(t){r.errors=t.errors}).finally(function(){r.updating=!1})},I18n.t("mark_"+t+".confirm"))},this.mass_delete_unreviewed_activity=function(){r.updating||n.admin_action(function(){r.clear(),r.updating=!0,e.mass_delete_unreviewed_activity(r.user.id).then(function(t){_.assign(r.user,t.user),r.messages=["Done! (But it'll take a few minutes to finish)"]}).catch(function(t){r.errors=t.errors}).finally(function(){r.updating=!1})},I18n.t("mass_delete_unreviewed_activity.confirm"))},this.vote_types=i.user_vote_types_for_delete,this.mass_delete_votes=function(t){r.updating||n.admin_action(function(){r.clear(),r.updating=!0,e.delete_votes(r.user.id,t).then(function(t){_.assign(r.user,t.user),r.messages=["Done! (But it'll take a few minutes to finish)"]}).catch(function(t){r.errors=t.errors}).finally(function(){r.updating=!1})},I18n.t("mass_delete_votes."+t+".confirm"))}}]})},function(t,e,n){"use strict";angular.module("genius").component("verticalAlbumCard",{bindings:{album:"<object"},templateUrl:"vertical_album_card.html"})},function(t,e,n){"use strict";angular.module("genius").component("verticalSearchResultItem",{bindings:{hit:"<"},templateUrl:"vertical_search_result_item.html"})},function(t,e,n){"use strict";angular.module("genius").component("verticalSearchResultItems",{bindings:{results:"<",limit_to:"<limitTo"},templateUrl:"vertical_search_result_items.html"})},function(t,e,n){"use strict";angular.module("genius").component("videoCarousel",{bindings:{object:"<",placement:"@",variants:"<",title:"@",active_video:"<activeVideo",on_load:"&onLoad",video_list:"<videoList"},templateUrl:"video_carousel.html",controller:["VideoPlacement","$templateCache",function(t,e){var n=this;this.$onChanges=function(i){i.object&&(n.video_placement=new t(n.object,n.placement,function(t){n.loaded=!0,n.on_load({videos:t})})),n.logo_name=function(){return n.video_list?n.video_list.slug+("news"===n.video_list.slug?"_wide":"")+".svg":null},n.has_logo=function(){return!!e.get(n.logo_name())},n.logo_variants=function(){var t=void 0;switch(n.logo_name()){case"news_wide.svg":t=["large","down_4"];break;case"bts.svg":t=["large"];break;case"irl.svg":t=["medium"];break;default:t=["small"]}return _.map(t,function(t){return"video_carousel-video-card-logo--"+t}).join(" ")}}}]})},function(t,e,n){"use strict";angular.module("genius").component("videoEditForm",{templateUrl:"video_edit_form.html",bindings:{video:"<object"},controller:["Session","VideoSourcesClient",function(t,e){var n=this;this.$onChanges=function(t){t.video&&(n.loaded=!1,e.index(n.video.id).then(function(t){n.video_sources=t,n.loaded=!0}))},this.add_video_source=function(){n.error=null,e.create(n.video.id,n.new_source).then(function(t){n.video_sources.push(t),n.new_source={}}).catch(function(t){n.error=t})},this.remove_video_source=function(t){n.error=null,e.destroy(t.id).then(function(){_.remove(n.video_sources,t)}).catch(function(t){n.error=t})},this.has_permission=t.has_permission}]})},function(t,e,n){"use strict";angular.module("genius").component("videoListEditForm",{templateUrl:"video_list_edit_form.html",bindings:{video_list:"<object",on_updated:"&onUpdated"},controller:["VideoListClient",function(t){var e=this;this.save=function(){Reflect.deleteProperty(e,"errors"),t.update(e.editable_video_list.id,{title_image_url:e.editable_video_list.title_image_url,mobile_title_image_url:e.editable_video_list.mobile_title_image_url}).then(function(t){e.video_list=t,e.on_updated({video_list:e.video_list})}).catch(function(t){e.errors=t.response.errors})},this.$onChanges=function(t){t.video_list&&(e.editable_video_list=_.cloneDeep(e.video_list))}}]})},function(t,e,n){"use strict";angular.module("genius").component("videoListPage",{templateUrl:"video_list_page.html",controller:Object.assign(["Tracking","Session",function(t,e){var n=this;this.$routerOnActivate=function(e){n.page_data=e.routeData.page_data,t.track("Video List Page Load",{"Video List ID":n.page_data.video_list.id})},this.can_perform=function(t){return e.has_permission(t,n.page_data.video_list)}}],{$canActivate:["$nextInstruction","PageTransition",function(t,e){return e.by_router_instruction(t)}]})})},function(t,e,n){"use strict";angular.module("genius").component("videoListVideo",{templateUrl:"video_list_video.html",bindings:{video:"<",video_list:"<videoList",position:"<",variants:"<"},controller:["Session",function(t){var e=this;this.$onChanges=function(t){t.video&&(e.tracking_data={"Page Type":"desktop_video_list_page",Placement:"list",Position:e.position,"Video ID":e.video.id,"Object Type":"video_list","Object ID":e.video_list.id})},this.has_permission=t.has_permission}]})},function(t,e,n){"use strict";angular.module("genius").component("videoPage",{templateUrl:"video_page.html",controller:Object.assign(["Tracking","$interval","SmartRouting","Session","$location","VideoRegistry","ArticleClient","Attempt","currentFlashMessages","$window",function(t,e,n,i,r,o,a,s,c,l){var u=this,d=void 0;this.navigate_to_next_video=function(){n.navigate_to_absolute_url(u.next_video.url+"?utm_source=autoplay")},this.countdown_to_next_video=function(){u.next_video&&(u.seconds_until_next_video=5,d=e(function(){u.seconds_until_next_video-=1,0===u.seconds_until_next_video&&(u.stop_countdown_to_next_video(),u.navigate_to_next_video())},1e3))},this.stop_countdown_to_next_video=function(){u.seconds_until_next_video=void 0,e.cancel(d)},this.delete_article=function(){s.admin_action(function(){a.delete(u.page_data.article.id).then(function(){c.push({type:"notice",message:"Successfully deleted article"}),l.location.href=u.page_data.video.url})},"Are you sure you want to delete this article?")},this.$routerOnActivate=function(e){u.page_data=e.routeData.page_data,o.register_page(u.page_data.video,"desktop_video_page"),u.tracking_data={"Page Type":"desktop_video_page",Placement:"main",Position:1,"Video ID":u.page_data.video.id,"Object Type":"video","Object ID":u.page_data.video.id},t.track("Video Page Load",{"Video ID":u.page_data.video.id,Source:r.search().utm_source})},this.can=function(t){return i.has_permission(t,u.page_data.video)}}],{$canActivate:["$nextInstruction","PageTransition",function(t,e){return e.by_router_instruction(t)}]})})},function(t,e,n){"use strict";angular.module("genius").component("videoRelevanceReason",{bindings:{video:"<"},templateUrl:"video_relevance_reason.html"})},function(t,e,n){"use strict";angular.module("genius").component("videosModal",{bindings:{initial_video:"<initialVideo",build_tracking_data:"&buildTrackingData",on_close:"&onClose",object:"<"},templateUrl:"videos_modal.html",controller:["VideoRegistry",function(t){var e=this;this.$onInit=function(){e.players={},e.carousel_videos=t.videos_for(e.object),e.initial_video&&(_.remove(e.carousel_videos,e.initial_video),e.carousel_videos.unshift(e.initial_video))},this.$onChanges=function(t){t.initial_video&&e.initial_video&&(e.active_video=e.initial_video)},this.select_video=function(t){if(t&&t!==e.active_video){var n=e.players[e.active_video.id];n&&n.pause(),e.play_pct=0,e.active_video=t,e.video_can_play=!1}},this.next_video=function(){var t=_.findIndex(e.carousel_videos,function(t){return t.id===e.active_video.id}),n=e.carousel_videos[t+1];n&&e.select_video(n)},this.update_progress=function(t,n){e.play_pct=Math.ceil(n?t/n*100:0)},this.add_video_api=function(t,n){return e.players[t]=n},this.tracking_data=function(t){return _.assign(e.build_tracking_data({video:t}),{"Modal Position":_.indexOf(e.carousel_videos,t)+1})}}]})},function(t,e,n){"use strict";angular.module("genius").component("vttpButton",{templateUrl:"vttp_button.html",bindings:{vttp_id:"<vttpId",background_image_url:"<backgroundImageUrl",song_art_url:"<songArtUrl",song_title:"<songTitle"},controller:["getScript","AppConfig","Tracking",function(t,e,n){var i=this;this.$onInit=function(){i.shared_button_id="vttp_stories_play_button",i.partner_id=e.vttp_parner_id,i.play_count=0},this.track_play=function(){i.play_count+=1,n.track("VTTP Play",{"VTTP ID":i.vttp_id,Iteration:3,"Play Count":i.play_count})},this.$postLink=function(){t("https://vttp.co/js/vsembed.min.js?v=89")}}]})},function(t,e,n){"use strict";angular.module("genius").component("webAnnotatorManagerErrors",{bindings:{yields_on_error:"&yieldsOnError"},templateUrl:"web_annotator_manager_errors.html",controller:["$timeout",function(t){var e=this;this.$onInit=function(){e.errors=[],e.yields_on_error({on_error:e.on_error})},this.on_error=function(n){e.errors.unshift(n),t(function(){return _.remove(e.errors,n)},5e3)}}]})},function(t,e,n){"use strict";angular.module("genius").component("webAnnotatorManager",{bindings:{web_page_id:"@webPageId"},templateUrl:"web_annotator_manager.html",controller:["WebAnnotatorClient",function(t){var e=this;this.$onInit=function(){e.errors=[],t.load_web_page(e.web_page_id).then(function(t){return e.web_page=t})},this.protect=function(n){t[(n?"protect":"unprotect")+"_web_page"](e.web_page_id).then(function(t){return e.web_page=t}).catch(e.on_error)},this.publish_drafts=function(){t.publish_web_page_drafts(e.web_page_id).then(function(t){return e.web_page=t}).catch(e.on_error)}}]})},function(t,e,n){"use strict";angular.module("genius").component("webAnnotatorRolesTable",{templateUrl:"web_annotator_roles_table.html",bindings:{header:"@",web_location_id:"<webLocationId",web_location_type:"@webLocationType"},controller:["WebAnnotatorClient",function(t){var e=this;this.$onInit=function(){e.errors=[],e.load()},this.load=function(){return t.load_user_roles(e.web_location_type+"s",e.web_location_id).then(function(t){return e.user_roles=t})},this.create=function(n){return t.create_user_role(e.web_location_type+"s",e.web_location_id,n).then(e.load)}}]})},function(t,e,n){"use strict";angular.module("genius").component("youtubeSubscribeButton",{templateUrl:"youtube_subscribe_button.html",controller:["Google","$element",function(t,e){this.$postLink=function(){t.setup().then(function(){t.refresh_youtube_subscribe_in(e[0])})}}]})},function(t,e,n){"use strict";angular.module("genius").constant("AdConfig",window.AD_CONFIG)},function(t,e,n){"use strict";angular.module("genius").constant("AnalyticsConfig",window.ANALYTICS_CONFIG)},function(t,e,n){"use strict";angular.module("genius").constant("mobile_device",window.MOBILE_DEVICE)},function(t,e,n){"use strict";angular.module("genius").controller("ArticleFormCtrl",["Filepicker","$element","$immediate",function(t,e,n){var i=this,r=void 0;this.$onInit=function(){i.snippets={Lyrics:{before:"<g-lyrics>",after:"</g-lyrics>"},"Outlined Title":{before:"<g-outlined-title>",after:"</g-outlined-title>"},Pullquote:{before:"<g-pullquote>\n  ",after:"\n  <cite>Attribution</cite>\n</g-pullquote>\n"},"Image With Caption":{before:'<g-image src="https://example.com/image.png">',after:"</g-image>",default_body:"\n  Caption\n"},"Fullbleed Image With Caption":{before:'<g-fullbleed-image src="https://example.com/image.png">',after:"</g-fullbleed-image>",default_body:"\n  Caption\n"},List:{before:"<g-list>\n  <g-list-item>\n    <g-list-item-title>",after:'</g-list-item-title>\n    <g-list-item-media src=""></g-list-item-media>\n    <g-list-item-body></g-list-item-body>\n  </g-list-item>\n</g-list>'}},i.formatting={"Header (Primary)":{before:"# "},"Header (Secondary)":{before:"## "},"Header (Tertiary)":{before:"### "},Link:{before:"[",after:"](url)"},Italic:{before:"*",after:"*"},Bold:{before:"**",after:"**"},Strikethrough:{before:"~~",after:"~~"},Superscript:{before:"<sup>",after:"</sup>"},Subscript:{before:"<sub>",after:"</sub>"},Small:{before:"<small>",after:"</small>"},Center:{before:"<center>",after:"</center>"},"Bulleted List":{before:"- ",each_line:!0},"Numbered List":{before:"1. ",each_line:!0},Blockquote:{before:"> "},"En Dash":{before:"--"},"Em Dash":{before:"---"},"Horizontal Line":{before:"***"}},r=new t({services:"COMPUTER"})},this.pick_image=function(){return r.pick_and_store().then(function(t){i.insert_at_body_markdown_cursor({before:'<g-image src="'+t+'">',after:"</g-image>",default_body:"Caption"})})},this.preview=function(){i.previewing=!0,n(function(){var t=e.find("form.edit_article");t.find('input[name="_method"]').attr("value","post"),t.submit()})}}])},function(t,e,n){"use strict";angular.module("genius").controller("CustomAppNotificationCtrl",["$scope","CustomAppNotificationClient",function(t,e){t.send_preview_notification=function(){e.send_preview_notification(t.notification).then(function(){alert("sent a preview notification to your devices, take a look")})}}])},function(t,e,n){"use strict";angular.module("genius").controller("DevCtrl",["$window","$scope","$http","AppConfig",function(t,e,n,i){e.search={query:""},e.saving=!1,e.build_scenario=function(){if(!e.saving){e.saving=!0;var r=e.current_scenario.traits.filter(function(t){return t.enabled}).map(function(t){return t.name});n.post(i.api_root_url+"/scenarios?id="+e.current_scenario.id,{scenario:{traits:r}}).then(function(n){t.location.href=n.data.url,e.saving=!1})}},e.configure_scenario=function(t){e.current_scenario=t},e.clear_scenario=function(){e.current_scenario=void 0};var r=_.once(function(){n.get(i.api_root_url+"/scenarios").then(function(t){e.results=t.data.scenarios})});e.open_search=function(){r(),e.open=!0},e.close_search=function(){e.open=!1}}])},function(t,e,n){"use strict";angular.module("genius").controller("FactTrackAnnotationEditCtrl",["$scope",function(t){t.set_timestamp_to_now=function(){t.annotation.timestamp_in_ms=t.ctrl.time},t.annotation_duration=function(){var e=t.annotations.indexOf(t.annotation),n=t.annotations[e+1];return(n?n.timestamp_in_ms:t.duration)-t.annotation.timestamp_in_ms}}])},function(t,e,n){"use strict";angular.module("genius").controller("FactTrackSongEditCtrl",["$scope","$debounce","SpotifyAnnotationClient","orderByFilter","SpotifyBridge","ScrollPoint",function(t,e,n,i,r,o){t.scroll_to=o.scroll_to,t.song_id=$("[data-song-id]").attr("data-song-id"),r.$on("ready",function(){t.is_ready=!0}),this.toggle_fullscreen=function(){this.alt_mode=!1,this.fullscreen=!this.fullscreen},this.toggle_alt_mode=function(){this.alt_mode=!this.alt_mode},t.remove_annotation=function(e){var n=t.annotations.indexOf(e);t.annotations.splice(n,1)},t.add_annotation=function(){t.annotations.push({content_type:"iq",timestamp_in_ms:this.time})}.bind(this),n.load_song(t.song_id).then(function(e){t.spotify_song=e.spotify_song,t.annotations=e.spotify_annotations,t.spotify_song.track_url&&(t.is_ready=!0),_.some(t.annotations,{content_type:"credits"})||t.annotations.push({content_type:"credits",content:"Check out the full lyrics and annotations on Genius for contributors, sources, and even more knowledge.",timestamp_in_ms:t.spotify_song.metadata.duration_ms-3e3}),c()});var a=!1,s=function e(){if(t.saving_disabled)return void(a=!0);t.saving_disabled=!0,n.save_song(t.song_id,t.spotify_song,t.annotations).then(function(e){t.spotify_song.lock_version=e.spotify_song.lock_version,t.save_error=void 0}).catch(function(e){var n=e.data;t.save_error=n.message||"Failed to save",t.conflicted="conflict"===n.error,$.facebox("<div><img src='https://images.genius.com/5f38d92d0b29722104abd09aa01b1585.200x200x4.gif'></div><br><h1>Something went wrong!</h1><h2>Consider copy/pasting your work somewhere else before reloading the page</h2>")}).finally(function(){t.saving_disabled=!1,a&&(a=!1,e())})},c=function(){t.$watch("annotations",function(){t.annotations=i(t.annotations,["timestamp_in_ms","id"])},!0);var n=e(s,1e3);t.$watchGroup(["annotations","spotify_song.note","spotify_song.finalized"],function(){n()},!0)}}])},function(t,e,n){"use strict";angular.module("genius").controller("HeaderCtrl",["$scope","GlobalRefs",function(t,e){this.$onInit=function(){this.cloudflare_error=Boolean(e.get_element("cloudflare_unavailable_alert").length)},t.toggle_mobile_subnav_menu=function(){t.mobile_subnav_menu_open=!t.mobile_subnav_menu_open},t.close_mobile_subnav_menu=function(){t.mobile_subnav_menu_open=!1}}])},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("genius").controller("SongCtrl",["$scope","$window","$q","$location","$immediate","ReferentRegistry","ReferentElementMap","ReferentClient","SongClient","Tracking","Session","currentFlashMessages","Reversible","Attempt","Pusher","I18n","ScrollPoint","only_changes","VideoRegistry","mobile_device",function(t,e,n,r,o,a,s,c,l,u,d,p,f,h,m,g,v,b,y,w){var x=this;t.$ctrl&&(t.$ctrl.song_ctrl=this),t.attempt_close=h.close_form,t.$watch("song.id",function(e){e&&(y.register_page(t.song,w?"mobile_song_page":"desktop_song_page"),u.delayed_track("Song Page Load",{}))});var k=r.search().from_question_email;k&&u.track("Question email question clicked",{question_id:k});t.user_signed_in=d.user_signed_in,s.clear();var C=function(e){return _.find(t.annotation_previews,{referent_id:e})},S=function(t){var e=Number($(t).data("id"));return C(e)};this.update_focused_referent_anchor=function(e){x.focused_fragement_element_id=$(e).data("fragment_element_id"),t.annotation_preview=S(e),t.$digest()},this.is_active_element=function(t){return x.focused_fragement_element_id===t},this.dismiss_annotation_preview=function(){t.annotation_preview_dismissed=!0,u.track("Dismiss Annotation Teaser")},this.reactivate_annotation_preview=function(){t.annotation_preview_dismissed=!1,u.track("Reactivate Annotation Teaser")},this.referent_has_preview=function(t){return!!C(t)},this.highlight_preview_referent=function(e){return x.is_active_element(e)&&!t.annotation_preview_dismissed},this.show_preview_referent_indicator=function(e){return x.is_active_element(e)&&t.annotation_preview_dismissed},a.register(t.song.description_annotation),t.preloaded_referents&&_.each(t.preloaded_referents,function(t){a.register(_.assign({fragments:[]},t))}),o(function(){l.count_view(t.song.id),a.preload_from_start(5)},!1),t.sidebar={signing_up:!1},t.initial_sidebar_content_showing=function(){return!(t.current_referent||t.$ctrl.lyrics_selection_range||t.sidebar.signing_up||t.$ctrl.creating_referent)},t.delete_song=function(){l.delete(t.song.id).then(function(){p.push({type:"notice",message:"Successfully deleted Song"}),e.location.href="/"})},t.next_track=function(){var e=!1;return _.find(t.primary_album_tracks,function(n){if(e)return!0;e=n.song.id===t.song.id})},t.open_first_verified_annotation=function(t){u.track("Tap Verified Callout");var e=a.first(function(e){return"verified"===e.classification&&_.includes(e.verified_annotator_ids,t.id)});x.open_referent_by_id(e.id)},t.open_next_referent=function(t){u.track("Tap Next Verified"),x.open_referent_by_id(t)},t.$watch("next_up_clicked",function(t){t&&u.track("Next Song Tap")}),this.update_url_for_open_referent=function(t){r.url()!=="/"+t&&r.url("/"+t)};var A=function(e,n){return l.perform_action(t.song.id,e,n).then(function(e){t.song=e})};t.can_perform=function(e){return d.has_permission(e,t.song)};var E={hide:function(){x.hiding_prompt_visible=!0},destroy:function(){t.delete_song()},view_annotation_engagement_data:function(){t.toggle_engagement_data()},edit_spotify_annotations_for:function(){e.open("/songs/"+t.song.id+"/edit-fact-track")},view_lyrics_synchronization:function(){e.open("/songs/"+t.song.id+"/lyrics_sync")}},T={view_annotation_engagement_data:!0,edit_spotify_annotations_for:!0,view_lyrics_synchronization:!0};t.attempt_admin_action=function(e,n){if(T[e])return t.perform_admin_action(e,n);h.admin_action(_.partial(t.perform_admin_action,e,n),g.lookup("song.action_confirmations."+e)||g.t("song.action_confirmations.admin_default"))},t.perform_admin_action=function(t,e){if(E[t])return E[t]();A(t,e)},t.$on("editorial_action_count_changed",function(t,e){if(e.commentable.referent_id){var n=a.get(e.commentable.referent_id);if(n){var i=_.chain(n.annotations).filter(function(t){return!t.verified}).sumBy(function(t){return t.comment_count+t.proposed_edit_count});n.pending_editorial_actions_count=i}}}),t.$on("annotation_deleted",function(e,n,i){t.$ctrl.lyrics_compiled.promise.then(function(){var e=a.get(n.referent_id);t.$ctrl.lyrics_interface.block_edit(!0),e._deleted=_(e.annotations).every(function(t){return t._deleted||t.new}),i.then(function(){e._deleted?t.$ctrl.lyrics_interface.remove_referent(n.referent_id):(Reflect.deleteProperty(e,"_deleted"),c.refresh(e))}).catch(function(){Reflect.deleteProperty(e,"_deleted")}).finally(function(){t.$ctrl.lyrics_interface.block_edit(!1)})})}),t.$watch("current_referent._deleted",function(e){e&&t.$ctrl.clear_current_referent()});var j=_.once(function(){l.load_annotation_open_data(t.song.id).then(function(e){t.open_data=e})});t.toggle_engagement_data=function(){t.showing_annotation_engagement_data=!t.showing_annotation_engagement_data,j()},t.set_current_hover_and_digest=function(e){t.hover_referent_id=e,t.$digest()},t.$on("referent_created",function(e,n){a.register(n),_.assign(t.song,n.annotatable.client_timestamps),x.update_url_for_open_referent(n.id)}),this.save=function(e){x.saving=!0;var i=b(e,t.song),r=f.modify(t.song,e);return l.update(t.song.id,i).then(function(e){return angular.extend(t.song,e)}).catch(function(t){return r(),n.reject(t)}).finally(function(){x.saving=!1})},this.show_metadata_form=function(t,e){x.show_metadata_form_sections=i({},t,!0),u.track("Song Page Open Edit Form",{section:t,keyboard_shortcut:!!e})},this.has_track_info=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=t.song;return _(n).filter(function(t){return _.isNumber(r[t])||_.some(r[t])}).some()},this.has_song_relationships=function(){return _(t.song.song_relationships).map(function(t){return t.songs}).flatten().some()},this.close=function(){x.show_metadata_form_sections=!1},this.open_referent_by_id=function(t){r.path("/"+t)},this.featured_annotation_in_view=_.once(function(t){t&&u.track("Featured Annotation In View")}),this.reload_song=function(){return x.edit_blocked=!0,l.load_song(t.song.id).then(function(e){x.edit_blocked=!1,_.assign(t.song,_.omit(e,"description","description_annotation"))})},d.user_signed_in&&m.subscribe(t.song.pusher_channel,"song-updated",function(e){t.song.updated_by_human_at<e.updated_by_human_at&&x.reload_song(),t.song.lyrics_updated_at<e.lyrics_updated_at&&t.$ctrl.lyrics_interface.refresh_lyrics()}),t.open_first_verified_answer=function(e){var n=_.find(t.pinned_questions,function(t){return _.get(t,"answer.answer_source.artist.id")===e.id});n?v.scroll_to("question_"+n.id):v.scroll_to("questions")},o(function(){$(".song_media_controls").offset()&&(x.media_player_sticky_offset=-($(".song_body").offset().top-$(".song_media_controls").offset().top))})}])},function(t,e,n){"use strict";angular.module("genius").directive("addAnnotation",[function(){return{restrict:"E",templateUrl:"add_annotation.html",scope:{start_new_community_referent:"&startNewCommunityReferent",start_new_referent:"&startNewReferent",creating_referent:"<creatingReferent",can_add_community_annotation:"<canAddCommunityAnnotation",can_add_pinned_annotation:"<canAddPinnedAnnotation",annotation:"<",song:"<",enable_waiting_class:"<enableWaitingClass"},controllerAs:"ctrl",controller:["Session",function(t){this.user_signed_in=t.user_signed_in}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("alwaysDirty",function(){return{restrict:"A",controller:["BeforeUnloadCheck",function(t){var e=function(){return!0};this.$onInit=function(){return t.add(e)},this.$onDestroy=function(){return t.remove(e)}}]}})},function(t,e,n){"use strict";angular.module("genius").directive("annotatableImage",["$document",function(t){return{templateUrl:"annotatable_image.html",restrict:"E",scope:{src:"@",song:"<",on_image_referent_creation_started:"&onImageReferentCreationStarted",on_image_referent_created:"&onImageReferentCreated",on_image_referent_creation_failed:"&onImageReferentCreationFailed",can_perform:"<canPerform",lyrics_anchorer:"<lyricsAnchorer"},controller:["$scope",function(e){var n=this;this.create_image_referent=function(i){var r=n.getImage(),o=t[0].createRange();o.selectNodeContents(r),o.precomputed_client_rect=o.getBoundingClientRect(),e.creating_image_referent=!0,e.on_image_referent_creation_started({selection_range:o}),e.image_referent_creation_failed=!1,e.lyrics_anchorer.create_image_referent(r,o,i).then(function(t){e.creating_image_referent=!1,e.on_image_referent_created({referent:t,selection_range:o}),e.image_referent_created=!0},function(t){e.creating_image_referent=!1,e.on_image_referent_creation_failed({error:t}),e.image_referent_creation_failed=!0})},this.set_current_hover_and_digest=function(t){e.hovering_over_image=t,e.$digest()}}],controllerAs:"ctrl",link:{pre:function(t,e,n,i){i.getImage=function(){return e.find("img")[0]}}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("annotation",["Session","Reversible","AnnotationClient","ReferentRegistry","ReferentClient","BrandClient","$immediate","$q","Bowser","I18n","AppConfig",function(t,e,n,i,r,o,a,s,c,l,u){return{restrict:"E",templateUrl:"annotation.html",scope:{annotation:"=object",referent:"<referent",variants:"<",annotatable_title:"<annotatableTitle",on_seek_to_next_card:"&onSeekToNextCard",yields_api:"&yieldsApi",on_pending_event:"&onPendingEvent",yields_iq:"&yieldsIq",on_dirty:"&onDirty",on_clean:"&onClean",focused_comments:"<focusedComments"},controllerAs:"ctrl",controller:["$scope","$filter",function(a,s){var d=this;this.hiding_comments=a.variants&&a.variants.hideComments,this.user_signed_in=t.user_signed_in,this.is_android=c.android,this.truncation_length=600,this.content_is_truncated=_.get(a,"variants.truncate_content")&&a.annotation.body.html.length>this.truncation_length,this.unreviewed_annotation_tooltip_info_url=u.unreviewed_annotation_tooltip_info_url,this.integrate_comment=function(t){a.start_editing({integration_body:t.body})},this.update_editorial_action_count=function(){a.annotation.proposed_edit_count=d.edits_to_show_count(),a.$emit("editorial_action_count_changed",{commentable:a.annotation})},a.$watch("annotation.comment_count",this.update_editorial_action_count),this.comment_removed=function(){return e.modify(a.annotation,{comment_count:a.annotation.comment_count-1})},this.edits_to_show_count=function(){return a.annotation.edits?a.annotation.edits.filter(function(t){return!t._deleted&&!t._merged}).length:a.annotation.proposed_edit_count},a.next_referent=function(t){var e=function(e){return"verified"===e.classification&&_.includes(e.verified_annotator_ids,t.id)},n={after_referent_id:a.annotation.referent_id};i.first(e,n)},this.seek_to_next_card=function(t){a.on_seek_to_next_card({referent_id:a.next_referent(t).id})},this.has_more_by_user=function(t){return!!a.next_referent(t)},a.finish_editing=function(){if(!a.disable_saving_with){a.disable_saving_with="Saving";var t=void 0;t=_.get(a,"annotation._editing.proposed_edit")?n.propose_edit(a.annotation).then(function(t){a.annotation.edits=a.annotation.edits||[],a.annotation.edits.unshift(t),d.showing_edits=!0}):n.save(a.annotation,{referent:a.referent}).then(function(){r.refresh(a.referent)});var i=e.modify(a.annotation,{"_editing._form_visible":!a.annotation.referent_id});t.then(a.dismiss_editing).catch(i).finally(function(){a.disable_saving_with=null})}},a.cancel_editing=function(){if(a.dismiss_editing(),Reflect.deleteProperty(a.referent,"temporary_classification"),a.annotation.new&&_.remove(a.referent.annotations,a.annotation),!a.referent.annotations.length){var t=n.safe_delete(a.annotation);a.$emit("annotation_deleted",a.annotation,t)}},a.dismiss_editing=function(){Reflect.deleteProperty(a.annotation,"_editing"),a.$emit("layout_changed")},this.initialize_annotation_custom_preview=function(){a.annotation._editing._creating_custom_preview=!0},this.clear_annotation_custom_preview=function(){a.annotation._editing.custom_preview=null,a.annotation._editing._creating_custom_preview=!1},this.show_annotation_custom_preview_form=function(){return a.annotation._editing.custom_preview||a.annotation._editing._creating_custom_preview},this.report_as_abusive=function(){return d.reported_abuse=!0,n.report_as_abusive(a.annotation.id).catch(function(){d.reported_abuse=!1})},this.should_show_comments=function(){return!a.rejecting&&!d.hiding_comments&&!a.annotation.new&&!a.annotation._editing&&(a.annotation.body.html||a.annotation.needs_exegesis)},this.annotation_is_unwritten=function(){return a.annotation.new||a.annotation.needs_exegesis||!_.get(a,"annotation.body.html")},this.show_annotation_label=function(){if(!t.user_signed_in&&"needs_exegesis"===_.get(a,"referent.classification"))return!1;var e=_.get(a,"annotation._editing._form_visible"),n=a.annotation.being_created||e;return a.annotation.community&&!n&&!d.annotation_is_being_created_by_someone_else()},this.show_placeholder_annotation_label=function(){var t=_.get(a,"annotation._editing._form_visible");return a.annotation.being_created&&!t&&!d.annotation_is_being_created_by_someone_else()},this.annotation_is_being_created_by_someone_else=function(){return a.annotation.being_created&&(!t.user_signed_in||t.current_user.id!==a.annotation.created_by.id)},this.annotation_title=function(){var t=a.variants&&a.variants.isDescription&&!a.variants.force_genius_annotation_title,e="pending"===a.annotation.state?"Unreviewed ":"",n="accepted"!==a.annotation.state||t?"":"Genius ",i=l.t(t?"sle.prependable_to_name":"annotation.singular_noun_capitalized",{type_name:s("modelHumanName")(a.referent.annotatable._type)}),r=s("truncateToBoundary")(a.annotatable_title,100);return e+n+i+(t?" “"+r+"”":"")},this.brands=null,this.load_brands=function(){o.index().then(function(t){d.brands=t})},this.is_authored_by_current_user=function(){return _(a.annotation.authors).some(function(e){return e.user.id===t.current_user.id})},this.set_brand=function(t){return n.set_brand(a.annotation,t).then(function(t){_.assign(a.annotation,t)})},this.clear_brand=function(){return n.clear_brand(a.annotation).then(function(t){_.assign(a.annotation,t)})};var p={reject:function(){a.begin_rejection()},accept:function(){a.accept()}};a.yields_api({api:p}),_.has(a.annotation,"current_user_metadata.iq_by_action")&&a.yields_iq({iq_api:a.annotation.current_user_metadata.iq_by_action})}],link:function(i){i.annotation_directive=i,i.can=function(e){return t.has_permission(e,i.annotation)};var r=function(){i.annotation.cosigned_by.push(t.current_user)},o=function(){_.remove(i.annotation.cosigned_by,function(e){return e.id===t.current_user.id})};i.toggle_cosign=function(t){t?r():o(),i.saving_cosign=!0,n.toggle_cosign(i.annotation.id,t).then(function(t){_.assign(i.annotation,t.annotation),_.assign(i.referent,t.referent)}).catch(t?o:r).finally(function(){i.saving_cosign=!1})},i.showing_contributors=!1,i.clear_votes=function(){i.showing_voters=!1;var t=e.modify(i,{"annotation.votes_total":0,"annotation.current_user_metadata.interactions.vote":void 0});n.clear_votes(i.annotation.id).catch(t)},i.toggle_voters=function(){i.showing_voters=!i.showing_voters},i.$on("images_loaded",function(){i.loaded=!0,i.$emit("layout_changed")}),i.toggle_contributors=function(){i.showing_contributors=!i.showing_contributors},i.toggle_ellipsis_menu=function(){i.showing_ellipsis_menu=!i.showing_ellipsis_menu},i.start_editing=function(t){t=t||{},i.annotation._editing=_.defaults(i.annotation._editing||{},{_form_visible:!0,_has_source:!!i.annotation.source,source:angular.copy(i.annotation.source||{}),proposed_edit:t.proposed_edit,html:i.annotation.body.html,markdown:i.annotation.body.markdown,_creating_custom_preview:!1,custom_preview:i.annotation.custom_preview}),t.integration_body&&(i.annotation._editing.html=_.compact([i.annotation._editing.html,"PROPOSED SUGGESTION: "+t.integration_body.html]).join("<br>"),i.annotation._editing.markdown=_.compact([i.annotation._editing.markdown,"PROPOSED SUGGESTION: "+t.integration_body.markdown]).join("\n\n")),i.annotation.verified&&(i.referent.temporary_classification="verified")},i.accept=function(){var t=n.accept(i.annotation,{referent:i.referent});i.on_pending_event({event:"UserAcceptAnnotation",result:t}),t.then(function(){i.context_updated_at=Date.now()})},i.focus_comment_textarea=function(){i.$broadcast("focus_comment_textarea",i.annotation)},i.begin_rejection=function(){i.rejecting=!0,a(i.focus_comment_textarea)},i.reject_with_comment=function(t){i.rejecting=!1,i.disable_saving_with="Saving";var e=n.safe_reject(i.annotation,{comment:t,referent:i.referent});return i.on_pending_event({event:"UserRejectAnnotation",result:e}),e.then(function(){i.context_updated_at=Date.now()}).catch(function(){return i.rejecting=!0,s.reject()}).finally(function(){return i.disable_saving_with=null}),i.$emit("annotation_deleted",i.annotation,e),e},i.delete=function(){var t=n.safe_delete(i.annotation);i.$emit("annotation_deleted",i.annotation,t)},i.toggle_pin_status=function(){if(!i.toggling_pin_status){i.toggling_pin_status=!0;var t=i.can("pin_to_profile")?"pin_to_profile":"unpin_from_profile";n[t](i.annotation.id).then(function(t){_.assign(i.annotation,t.annotation)}).finally(function(){i.toggling_pin_status=!1})}},i.$on("vote_submitted",function(t,e,n){"down"===n&&"annotation"===e&&i.focus_comment_textarea()}),i.$on("vote_saved",function(t){i.$broadcast("update_voters")})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("annotationEdit",["Session","AnnotationClient",function(t,e){return{restrict:"E",templateUrl:"annotation_edit.html",scope:{edit:"<object",before_html:"<beforeHtml",on_merge:"&onMerge",on_resolution:"&onResolution"},controllerAs:"ctrl",controller:["$scope",function(n){var i=this;this.can_moderate=t.has_permission("moderate",n.edit),this.merge=function(){i.working=!0,n.edit._merged=!0,e.merge_edit(n.edit.id).then(function(t){_.assign(n.edit,t),n.on_merge({edit:n.edit}),n.on_resolution()}).catch(function(){n.edit._merged=!1}).finally(function(){i.working=!1})},this.reject=function(){i.working=!0,n.edit._deleted=!0,e.reject_edit(n.edit.id).then(n.on_resolution).catch(function(){n.edit._deleted=!1}).finally(function(){i.working=!1})}}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("annotationEdits",["AnnotationClient","ReferentClient","ReferentRegistry",function(t,e,n){return{scope:{annotation:"<object",context_updated_at:"<contextUpdatedAt",on_resolution:"&onResolution"},restrict:"E",templateUrl:"annotation_edits.html",controllerAs:"ctrl",controller:["$scope",function(i){var r=this;this.on_merge=function(t){_.assign(i.annotation,t.annotation_after),o()};var o=function(){r.loading_edits||(r.loading_edits=!0,t.proposed_edits(i.annotation.id).then(function(t){i.annotation.edits=t}).finally(function(){Reflect.deleteProperty(r,"loading_edits")}))};i.$watch("annotation.edits.length",function(t,r){if(t||r){var o=n.peek(i.annotation.referent_id);e.refresh(o)}}),i.$watch("context_updated_at",function(t){t&&o()}),o()}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("annotationFragment",["ReferentHelper","ReferentRegistry","ReferentElementMap","$compile","$templateCache","$location",function(t,e,n,i,r,o){return{restrict:"A",scope:!0,link:function(a,s,c){a.fragment_id=Number(a.$eval(c.annotationFragment)),a.fragment_element_id=a.$id,a.image=a.$eval(c.image),s.data("fragment_element_id",a.fragment_element_id);var l=function(){a.referent.display_mode=t.display_mode_by_classification(a.referent.temporary_classification||a.referent.classification)};a.$watch("referent.classification",l),a.$watch("referent.temporary_classification",l),a.referent=e.register({id:a.fragment_id,classification:a.classification,stub:!0,fragments:[],is_image:a.image,pending_editorial_actions_count:Number(c.pendingEditorialActionsCount),possibly_branded:"true"===c.possiblyBranded}),n.has(a.referent.id)||n.set(a.referent.id,s),c.verifiedAnnotatorIds&&(a.referent.verified_annotator_ids=_.map(c.verifiedAnnotatorIds.split(" "),Number)),a.referent.classification=c.classification,_.isUndefined(a.referent.fragment)?a.referent.fragments.push(s[0].innerText||s.text()):a.referent.fragments.push(a.referent.fragment),a.referent.fragment=_.uniq(a.referent.fragments).join("\n"),a.referent.fragment_from_lyrics=a.referent.fragment,a.open=function(){n.set(a.fragment_id,s),o.url("/"+a.fragment_id)},a.$watch("referent.id",function(t){a.fragment_id=t||a.fragment_id});var u=void 0;if(a.$watch("referent._deleted",function(t){if(t&&!u){var e=s.find("img")[0];u=e?$("<annotatable-image>").attr({src:e.src,song:"song","on-image-referent-created":"lyrics_ctrl.on_image_referent_created(selection_range, referent);","on-image-referent-creation-failed":"lyrics_ctrl.on_image_referent_creation_failed(error)","on-image-referent-creation-started":"lyrics_ctrl.on_image_referent_creation_started(selection_range)","can-perform":"can_perform",lyrics_anchorer:"lyrics_ctrl.lyrics_anchorer"}):$("<span>").html(s.html()),s.before(u).detach(),i(u.parent())(a)}else!t&&u&&(u.replaceWith(s),u=void 0)}),a.$watch("referent.display_mode",function(t,e){s.removeClass("referent--"+e||"default"),s.addClass("referent--"+t||"default")}),a.$watchGroup(["highlighted_fragment_id","hover_referent_id"],function(){s.toggleClass("referent--highlighted",a.highlighted_fragment_id===a.fragment_id||a.hover_referent_id===a.fragment_id)}),a.$watchGroup(["showing_annotation_engagement_data","open_data"],function(){a.showing_annotation_engagement_data&&a.open_data?s.attr("data-annotation-views",a.open_data[a.fragment_id]?a.open_data[a.fragment_id]:"N/A"):s.removeAttr("data-annotation-views")}),a.can_perform("see_editorial_indicators")){i(r.get("referent_editorial_indicator.html"))(a).insertBefore(s)}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("annotationHistory",[function(){return{restrict:"E",templateUrl:"annotation_history.html",scope:{annotation:"<",onRevert:"&"},controllerAs:"ctrl",controller:["$scope","AnnotationClient","Session",function(t,e,n){this.can_revert=n.has_permission("edit",t.annotation),e.load_versions(t.annotation.id).then(function(e){t.versions=e}),this.revert_to=function(n){t.reverting_to=n,e.revert_to_version(t.annotation.id,n).then(function(e){_.assign(t.annotation,e),t.onRevert()}).finally(function(){Reflect.deleteProperty(t,"reverting_to")})}}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("annotationPlaceholder",[function(){return{restrict:"E",templateUrl:"annotation_placeholder.html",scope:{showCondition:"<",noLabel:"<",placeholder_title:"<placeholderTitle"}}}])},function(t,e,n){"use strict";angular.module("genius").directive("annotationSidebar",[function(){var t={verified:"add_pinned_annotation_to",community:"add_community_annotation_to"};return{templateUrl:"annotation_sidebar.html",controllerAs:"ctrl",scope:!0,link:function(t,e,n){t.$watch(n.referent,function(e){t.referent=e})},controller:["$scope","Session","ReferentHelper","Attempt",function(e,n,i,r){var o=this;this.user_signed_in=n.user_signed_in,this.can_create_referent_from_selection=function(){return!!e.$ctrl.lyrics_selection_range},this.start_new_referent_annotation=function(t){var n=this;e.$ctrl.creating_referent=!0,e.$ctrl.lyrics_compiled.promise.then(function(){return e.$ctrl.lyrics_interface.block_edit(!0),e.$ctrl.lyrics_interface.anchorer.create_referent(e.$ctrl.lyrics_selection_range,t).then(function(t){e.$emit("referent_created",t),e.referent=t})}).then(function(){n.referent_creation_failed=!0}).finally(function(){e.$ctrl.creating_referent=!1,e.$ctrl.lyrics_interface.block_edit(!1)})},this.add_pinned_annotation=function(){var t=i.create_verified_annotation_placeholder(e.referent);e.referent.annotations.unshift(t)},this.add_community_annotation=function(){var t=i.create_community_annotation_placeholder(e.referent);e.referent.annotations.push(t)},this.can_create_annotation_type_on_referent=function(i){if(!e.referent)return!1;if(_.some(e.referent.annotations,"new"))return!1;var r=t[i];return n.has_permission(r,e.referent)},this.can_create_community_annotation_on_referent=function(){return this.can_create_annotation_type_on_referent("community")&&!_.some(e.referent.annotations,"needs_exegesis")},e.$watch("referent.id",function(t,e){t&&e&&t.id===e.id||(o.referent_creation_failed=!1)}),this.close=function(){r.close_form(!o.annotation_dirty,function(){o.annotation_dirty=!1,e.$ctrl.clear_current_referent(),e.sidebar.signing_up=!1})}}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("applyAnnotationArrowClass",["$immediate","MutationObserver",function(t,e){return{restrict:"A",link:function(n,i){var r=new e(function(e){t(function(){for(var t=0;t<e.length;t++){var n=e[t];if("style"===n.attributeName){var r=n.target.getBoundingClientRect(),o=!!$(document.elementFromPoint(r.right+1,r.top-1)).closest(".annotation_sidebar_unit--verified").length;i.toggleClass("annotation_sidebar_arrow--verified",o)}}},!0)});r.observe(i[0],{attributes:!0}),n.$on("destroy",r.disconnect.bind(r))}}}])},function(t,e,n){"use strict";angular.module("genius").directive("authenticationForm",["$window","AuthenticationClient","AbTest",function(t,e,n){return{scope:{variants:"<?",on_cancel:"&onCancel",user_session:"=?userSession",include_sign_in:"<?signIn",include_social:"<?social",show_email_fields:"=?showEmail",header_text:"<headerText",preamble_text:"<preambleText",init_signing_in:"<signingIn"},templateUrl:"authentication_form.html",controllerAs:"ctrl",controller:["$scope",function(i){var r=this;this.show_email_fields=i.show_email_fields,this.signing_in=i.init_signing_in,i.user_session=i.user_session||{},this.submit=function(){if(!r.saving){r.saving=!0,r.errors=null;var o=r.signing_in?"sign_in":"sign_up";e[o](i.user_session).then(function(e){n.clear(),"sign_up"===o&&"/"===t.location.pathname?t.location=e.user.url:t.location.reload()}).catch(function(t){r.errors=t.response.errors}).finally(function(){r.saving=!1})}},this.toggle_signup_signin=function(){r.show_email_fields=!0,r.signing_in=!r.signing_in,r.errors=null}}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("autoResizeIframe",function(){return{restrict:"A",link:function(t,e,n){var i;n.autoResizeIframe&&(i=t.$eval(n.autoResizeIframe)),e.iFrameResize(i)}}})},function(t,e,n){"use strict";angular.module("genius").directive("autocompleteTagsInput",["AlbumClient","ArtistClient","TagClient","SongClient",function(t,e,n,i){var r={album:{autocomplete:t.autocomplete,persistence_property:"name",display_property:"name_with_artist"},artist:{autocomplete:e.autocomplete,display_property:"name"},tag:{autocomplete:n.autocomplete,display_property:"name"},song:{autocomplete:i.autocomplete,persistence_property:"id",display_property:"full_title"}};return{restrict:"E",scope:{bindTo:"=",disabled:"<ngDisabled",name:"@",inputClasses:"@",autocompleteModel:"@",autocompleteOptions:"<?",requireExisting:"<",excludeIf:"&"},templateUrl:"autocomplete_tags_input.html",link:{pre:function(t){var e=r[t.autocompleteModel];t.max_results=10,t.display_property=e.display_property,t.autocomplete=function(n){return e.autocomplete(n,t.autocompleteOptions).then(function(i){if(i=_.reject(i,function(e){return t.excludeIf({result:e})}),t.requireExisting)return i;if(_.some(i,function(e){return e[t.display_property].toLowerCase()===n.toLowerCase()}))return i;var r={_new:!0};return r[e.display_property]=n,e.persistence_property&&(r[e.persistence_property]=n),i=_.take(i,t.max_results-1).concat(r)})}},post:function(t,e,n){t.placeholder=function(){return t.bindTo&&0===t.bindTo.length?n.placeholder:""}}}}}])},function(t,e,n){"use strict";n(307),angular.module("genius").directive("autocompleteWith",["ArtistClient","UserClient","CustomPerformanceRoleClient","SongClient","Bindings",function(t,e,n,i,r){var o={delay:250,scroll:!1,matchSubset:!1,max:20,minChars:4,dataType:"json",selectFirst:!1,resultsClass:"autocomplete-results"},a={user:e,customPerformanceRole:n,artist:t,song:i},s=r.resolver({on_select:"&?onSelect",create_result:"&?createResult",display_field:"@displayField",autocomplete_with:"@autocompleteWith"});return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){var r=s(t,n),c=r.display_field,l=a[r.autocomplete_with],u={};c&&(i.$formatters.push(function(t){return t?_.get(t[0],c,""):""}),i.$parsers.push(function(t){return u[t]=u[t]||_.set({},c,t),u[t]}));var d=_.assign({},o,l.autocomplete_options),p=d.parse;d.parse=function(t,e){var n=p(t);if(_.each(n,function(t){u[t.data[0]]=t.value}),r.create_result){var i=r.create_result({term:e});n.unshift({data:[e,i],result:i,value:i})}return n},e.autocomplete(l.autocomplete_api_endpoint,d).result(function(n,o){_.isUndefined(r.on_select)?(i.$setViewValue(o[0]),i.$render()):(t.$apply(function(){return r.on_select({data:o[1]})}),e.val(""))})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("brightcove",["$window","AppConfig","Bindings","Brightcove","Bowser","querystring","$q","Session","mobile_device",function(t,e,n,i,r,o,a,s,c){var l=n.resolver({video:"<object",on_ready:"&onReady",can_play:"&canPlay",on_time_change:"&onTimeChange",on_finish:"&onFinish",yields_api:"&yieldsApi",player_name:"@playerName",tracking_data:"<trackingData"}),u=Date.now();return{restrict:"A",link:function(n,d,p){var f=d[0];if(f.constructor!==t.HTMLVideoElement)throw new Error("The 'brightcove' directive can only be used as an attribute on a <video> element");var h=function(){return/(?:^|\s)vjs-tech(?:\s|$)/.test(f.className)},m=function(){return r.android},g=l(n,p),v=i[g.player_name+"_player_id"];if(!v)throw new Error("The 'brightcove' slot is not configured!");var b=a(function(t){return n.$on("$destroy",t)});n.player=i.load_api(v).then(function(t){var e=t.bc,r=t.videojs,o=function(){_.each(r.players,function(t){t&&t.pause()})},a=Object.assign({"Logged In":s.user_signed_in,"Mobile Site":c},g.tracking_data);d.attr({"data-video-id":g.video.provider_id,"data-account":i.account_id,"data-player":v,"data-embed":"default","data-param-tracking-data":JSON.stringify(a),controls:!0});var l=void 0;return l=h()?r(f):e(f),l.play=_.wrap(l.play,function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(o(),Reflect.apply(t,l,n),m()){var r=f.requestFullScreen||f.webkitRequestFullScreen||f.mozRequestFullScreen;r&&Reflect.apply(r,f,[])}}),l.ima3&&(l.ima3.adMacroReplacement=_.wrap(l.ima3.adMacroReplacement,function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return y(Reflect.apply(t,l.ima3,n))})),l.ready(function(){n.$apply(g.on_ready),g.yields_api({api:l}),$(l.el_).find(".vjs-control").addClass("needsclick")}),l.on("timeupdate",_.throttle(function(){var t=l.duration(),e=l.currentTime();n.$apply(function(){g.on_time_change({duration:t,current:e}),t&&e>=t&&g.on_finish()})}),250),d.on("canplay",function(){n.$apply(g.can_play)}),b.then(function(){return l.dispose()}),l});var y=function(n){if(!window["Genius.ads"])return null;var i=new URL(n),r=o.parse(i.search.slice(1));_.assign(r,{url:t.location.href,description_url:g.video.article_url,hl:(t.navigator.language||"en").split("-")[0],correlator:u});var a={};g.video.dfp_kv.forEach(function(t){var e=t.name,n=t.values;a[e]=n.join(",")});var s=void 0;s="null"===r.cust_params?{}:o.parse(r.cust_params||"");var c=_.defaults({},a,s,{platform:"web",environment:e.env,campaign_id:o.parse(t.location.search.slice(1)).campaign});return r.cust_params=o.stringify(c),i.search=o.stringify(r),i.toString()}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("classForBrowser",["Bowser","Bindings",function(t,e){var n=e.resolver({browsers_and_classes:"<classForBrowser"});return{restrict:"A",link:function(e,i,r){var o=n(e,r),a=!1;_.each(o.browsers_and_classes,function(e,n){_.has(t,n)&&(i.addClass(e),a=!0)}),a||i.addClass(o.browsers_and_classes._default)}}}])},function(t,e,n){"use strict";angular.module("genius").directive("classForDuration",["$timeout",function(t){return{restrict:"A",link:function(e,n,i){_.forIn(e.$eval(i.classForDuration),function(e,i){e&&(n.addClass(i),t(function(){n.removeClass(i)},e))})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("clickOutside",["$document",function(t){return{restrict:"A",link:function(e,n,i){var r=i.hasOwnProperty("suppressClickOutsideIfHandled"),o=function(t){r&&t.originalEvent.defaultPrevented||document.body.contains(t.target)&&(n[0].contains(t.target)||e.$apply(function(){e.$eval(i.clickOutside,{$event:t})}))},a=n.closest("[click-outside-target]").length?n.closest("[click-outside-target]"):t;a.on("click",o),e.$on("$destroy",function(){a.off("click",o)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("clickToLoad",[function(){return{scope:{message:"@"},restrict:"E",transclude:!0,templateUrl:"click_to_load.html",link:function(t){t.load=function(){t.loading=!0}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("clippedBackgroundImage",["$window","ImageTransform",function(t,e){return{link:function(n,i,r){var o=function(t,e){return Math.ceil(t/e)*e};n.$watch(r.clippedBackgroundImage,function(a){n.$applyAsync(function(){i.addClass("clipped_background_image");var n="",s=parseInt(r.clippedBackgroundImageWidthIncrement);if(_.isFinite(s)||(s=1),a){var c=t.devicePixelRatio||1,l=o(i.outerWidth(),s)*c,u=o(i.outerHeight(),s)*c,d=void 0;_.has(r,"clippedBackgroundImageFitHeight")&&l>u?(d=e.resize(a,{height:u}),i.addClass("clipped_background_image--tiled_horizontally")):d=e.resize(a,{width:l,height:i.height()*c}),n="url('"+d+"')"}i.css("background-image",n)})})}}}])},function(t,e,n){"use strict";var i=["accepted","integrated","rejected","marked_spam","archived"];angular.module("genius").directive("comment",["Session","CommentClient","Reversible",function(t,e,n){return{restrict:"E",templateUrl:"comment.html",scope:{comment:"<object",variants:"<"},require:"?^^annotation",controllerAs:"ctrl",controller:function(){},link:function(r,o,a,s){var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=s?s.comment_removed():void 0,o=n.modify(r.comment,Object.assign(e,{_deleted:!0}));t.catch(function(){i&&i(),o()})};r.destroy=function(){c(e.destroy(r.comment.id),{deleted_at:(new Date).getTime()})},r.integrate=function(){s.integrate_comment(r.comment),r.perform_action("integrate","integrated")},r.perform_action=function(t,n){c(e.change_state(r.comment.id,t),{state:n})},r.can_perform=function(e){return t.has_permission(e,r.comment)},r.toggle_voters=function(){r.showing_voters=!r.showing_voters},r.$on("vote_saved",function(t){r.$broadcast("update_voters")}),r.is_removed=function(){return r.comment.deleted_at||_.includes(i,r.comment.state)}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("commentForm",[function(){return{restrict:"E",templateUrl:"comment_form.html",scope:{commentable:"<",onSave:"&",allowReasons:"<",saveText:"@",savingText:"@",textareaPlaceholder:"@",showFullFormByDefault:"<",showReasonsByDefault:"<",on_dirty:"&onDirty",on_clean:"&onClean"},controllerAs:"ctrl",controller:["Session","$scope","Reversible",function(t,e,n){var i=this;this.user_signed_in=t.user_signed_in,this.show_full_form_by_default=e.showFullFormByDefault,this.show_reasons_by_default=e.showReasonsByDefault,this.showing_full_form=this.show_full_form_by_default||!1,this.current_user=t.current_user,this.show_full_form=function(){return i.showing_full_form=!0},this.show_reasons_form=function(){return i.showing_full_form||i.show_reasons_by_default};var r=function(){e.comment={_new:!0,author:t.current_user,body:{}}};r(),this.body_is_required=function(){return!e.comment.reason||e.comment.reason.requires_body},this.save=function(){if(!i.saving){t.user_signed_in||(e.comment.anonymous_user={name:e.comment.name});var o=e.comment,a=n.modify(i,{showing_full_form:!1,saving:!1});r(),e.form.$setPristine(),e.onSave({comment:o}).catch(function(){e.comment=o,a()})}},e.$watch("comment.body.markdown",function(t){_.isEmpty(t)?e.on_clean():e.on_dirty()})}],link:function(t,e){t.$on("focus_comment_textarea",function(n,i){i===t.commentable&&e.find('textarea[ng-model="comment.body.markdown"]').focus()})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("commentsPlaceholder",[function(){return{restrict:"E",templateUrl:"comments_placeholder.html",scope:{}}}])},function(t,e,n){"use strict";angular.module("genius").directive("componentDateInput",function(){return{scope:{ngModel:"=",disabled:"<"},restrict:"E",templateUrl:"component_date_input.html",controllerAs:"ctrl",controller:[function(){_.assign(this,{years:_.range(1,(new Date).getFullYear()+2).reverse(),months:["January","February","March","April","May","June","July","August","September","October","November","December"].map(function(t,e){return{name:t,number:e+1}}),days:_.range(1,32)})}]}})},function(t,e,n){"use strict";angular.module("genius").directive("composeMessage",[function(){return{restrict:"E",scope:{recipient:"<",on_sent:"&onSent",yields_is_dirty:"&yieldsIsDirty"},templateUrl:"compose_message.html",controller:["$scope","MessageClient","Session",function(t,e,n){var i=this,r=void 0;t.recipient&&(r=t.recipient.id);var o=function(){t.message={recipient_id:r,body:""},t.ctrl.form&&t.ctrl.form.$setPristine()};o(),this.new_message=!t.message.recipient_id,this.current_user=n.current_user,this.showing_markdown_preview=!1,this.markdown_preview_initialized=!1,this.show_markdown_preview=function(){i.showing_markdown_preview=!0,i.markdown_preview_initialized=!0},this.hide_markdown_preview=function(){i.showing_markdown_preview=!1},this.send=function(){t.sending=!0,t.error=null;var n=t.message;e.create(n).then(function(e){o(),t.on_sent({message:e})}).catch(function(e){t.error=e}).finally(function(){t.sending=!1})}}],controllerAs:"ctrl"}}])},function(t,e,n){"use strict";angular.module("genius").directive("confirm",["$window",function(t){return{priority:-1,restrict:"A",scope:{message:"@confirm"},link:function(e,n){n.on("click",function(n){e.message&&(t.confirm(e.message)||(n.stopImmediatePropagation(),n.preventDefault()))})}}}])},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}angular.module("genius").directive("conversationMessages",[function(){return{templateUrl:"conversation_messages.html",scope:{conversation:"<",yields_is_dirty:"&yieldsIsDirty"},controller:["$scope","MessageClient","ConversationClient",function(t,e,n){var r=1,o=void 0;t.finished_paginating=!1,t.messages=[],this.message_sent=function(e){t.messages.push(e),t.conversation.latest_message=e,t.conversation.latest_message_preview=e.body_preview},this.should_paginate=function(){return!o&&!t.finished_paginating},this.load_next_page=function(){o||(o=e.for_conversation(t.conversation.id,{page:r}).then(function(e){var a;(a=t.messages).unshift.apply(a,i(e.reverse())),o=null,1===r&&n.mark_read(t.conversation.id),++r,t.finished_paginating=0===e.length}))},this.load_next_page()}],controllerAs:"ctrl"}}])},function(t,e,n){"use strict";angular.module("genius").directive("conversationWithUser",["ConversationClient",function(t){return{restrict:"E",scope:{user:"<"},template:'<conversation-messages conversation="conversation" ng-if="conversation"></conversation-messages>',controller:["$scope",function(e){t.with_user(e.user.id).then(function(t){e.conversation=t})}]}}])},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}angular.module("genius").directive("conversations",["ConversationClient","Attempt",function(t,e){return{restrict:"E",scope:{visible:"<",refresh_at:"<refreshAt",on_conversation_read:"&onConversationRead"},templateUrl:"conversations.html",controller:["$scope",function(n){var r=this;n.attempt_close=e.close_form;var o=void 0,a=void 0,s=void 0,c=function(){o=Date.now(),n.conversations=[],r.all_pages_loaded=!1,a=1};c(),this.should_paginate=function(){return!!n.visible&&!r.all_pages_loaded&&!s},this.load_page=function(){s||(s=t.latest({page:a}).then(function(t){var e;(e=n.conversations).push.apply(e,i(t)),r.all_pages_loaded=!t.length,++a,s=null}))},n.$watchGroup(["visible","refresh_at"],function(){!n.visible&&n.refresh_at&&n.refresh_at>o&&c()}),this.open=function(t){n.open_conversation_id=t;var e=_.find(n.conversations,{id:t}),i=e.unread,r=e.unread_messages_count;e.unread=!1,e.unread_messages_count=0,i&&n.on_conversation_read({conversation:e,unread_messages_count:r})},this.close=function(){n.open_conversation_id=null}}],controllerAs:"ctrl"}}])},function(t,e,n){"use strict";angular.module("genius").directive("copyToClipboard",["Clipboard","$timeout",function(t,e){var n=function(t,n){var i=t.text();t.text(n),e(function(){t.text(i)},750)};return{restrict:"A",link:function(e,i,r){var o=new t(i[0],{text:function(){return e.$eval(r.copyToClipboard)}});o.on("success",function(){r.textToShowAfterCopy&&n(i,r.textToShowAfterCopy)}),o.on("error",i.remove),e.$on("$destroy",o.destroy.bind(o))}}}])},function(t,e,n){"use strict";angular.module("genius").directive("copyValueToScope",[function(){return{restrict:"A",link:{pre:function(t,e,n){var i=t.$eval(n.copyValueToScope);t[i.key]=i.value}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("cosigns",function(){return{restrict:"E",templateUrl:"cosigns.html"}})},function(t,e,n){"use strict";angular.module("genius").directive("delayedHref",["$window","$immediate",function(t,e){return{restrict:"A",link:function(n,i,r){var o=r.delayedHref;i.on("click",function(n){n.preventDefault(),e(function(){t.location.href=o},!1)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("delimitedKeys",function(){return{scope:{key:"@delimitedKeys"},restrict:"A",require:"ngModel",link:function(t,e,n,i){var r={};t.$watch(n.ngModel,function(e){e&&e.forEach(function(e){r[e[t.key]]=e})}),i.$formatters.push(function(e){return _.map(e,t.key).join(", ")}),i.$parsers.push(function(e){return e.split(/\s?,\s/).map(function(e){return r[e]||_.set({},t.key,e)})})}}})},function(t,e,n){"use strict";angular.module("genius").directive("descriptionReferent",[function(){return{scope:{referent:"<object",variants:"<"},templateUrl:"description_annotation.html"}}])},function(t,e,n){"use strict";angular.module("genius").directive("detectImageDiffs",["$immediate",function(t){return{link:function(e,n,i){t(function(){n.find("img").each(function(){var t=-1!==e.$eval(i.left).indexOf(this.src),n=-1!==e.$eval(i.right).indexOf(this.src);t&&!n&&this.classList.add("del"),!t&&n&&this.classList.add("ins")})},!1)}}}])},function(t,e,n){"use strict";angular.module("genius").directive("dirtyable",["BeforeUnloadCheck",function(t){return{restrict:"A",require:"form",link:function(e,n,i,r){var o=function(){return e.$apply(function(){return r.$commitViewValue()}),r.$dirty},a=function(){return r.$commitViewValue(),r.$dirty};e.$eval(i.yieldsIsDirty,{is_dirty:a}),t.add(o),e.$on("$destroy",function(){return t.remove(o)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("displayUnlessCookie",["Cookies","DateTools",function(t,e){var n=function(n,i){t.put(n,1,{expires:e.days_to_ms(i),path:"/"})};return{transclude:!0,scope:{name:"@",expiresInDays:"<",setCookieOnDisplay:"<"},template:'<ng-transclude ng-if="!hidden"></ng-transclude>',link:function(e){e.hidden=t.get(e.name),e.setCookieOnDisplay&&!t.get(e.name)&&n(e.name,e.expiresInDays)},controller:["$scope",function(t){this.set_cookie_and_close=function(){n(t.name,t.expiresInDays),t.hidden=!0}}]}}])},function(t,e,n){"use strict";n(1215),angular.module("genius").directive("dragAndDrop",["Bindings",function(t){var e=t.resolver({data:"<dragAndDrop",draggable:"<",on_dragstart:"&onDragstart",on_dragend:"&onDragend",on_dragenter:"&onDragenter",on_dragleave:"&onDragleave",on_drop:"&?onDrop",cant_drop:"<cantDrop"});return{restrict:"A",link:function(t,n,i){var r=e(t,i);r.draggable&&(n.addClass("draggable_item"),n[0].addEventListener("dragstart",function(e){e.dataTransfer.setData("text",JSON.stringify(r.data)),n.addClass("draggable_item--dragging"),t.$apply(r.on_dragstart)}),n[0].addEventListener("dragend",function(){n.removeClass("draggable_item--dragging"),t.$apply(r.on_dragend)})),r.on_drop&&(new Dragster(n[0]),n[0].addEventListener("dragster:enter",function(){r.cant_drop||(n.addClass("droppable_item"),t.$apply(r.on_dragenter))}),n[0].addEventListener("dragster:leave",function(){r.cant_drop||(n.removeClass("droppable_item"),t.$apply(r.on_dragleave))}),n[0].addEventListener("dragover",function(t){t.preventDefault()}),n[0].addEventListener("drop",function(e){if(e.stopPropagation(),e.preventDefault(),n.removeClass("droppable_item"),!r.cant_drop){var i=JSON.parse(e.dataTransfer.getData("text"));return t.$apply(function(){return r.on_drop({data:i})}),!1}}))}}}])},function(t,e,n){"use strict";angular.module("genius").directive("editableMarkdown",["$immediate","Filepicker","Autosize",function(t,e,n){return{restrict:"E",replace:!0,templateUrl:"editable_markdown.html",scope:{html:"=",markdown:"=",is_required:"<?isRequired",placeholder:"@"},controller:function(){var t=new e;this.pick_image=function(){t.pick_and_store().then(function(t){this.insert_at_markdown_cursor({before:t})}.bind(this))}},controllerAs:"ctrl",link:function(e,i){e.editable=e,e.resize_textarea=function(){e.$evalAsync(function(){var e=i.find("textarea");n(e),t(e.focus.bind(e),!1)})}}}}])},function(t,e,n){"use strict";var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n(1382),n(1201),n(1211),angular.module("genius").directive("embedly",["getScript","querystring","$compile",function(t,e,n){var r=new RegExp("^https?://","i"),o=function(t){return t.find("a").filter(function(){return r.test($.trim($(this).text()))})},a=_.template('\n    <blockquote class="twitter-tweet">\n      <a href="<%- tweet_url %>"></a>\n    </blockquote>\n  '),s=_.template('\n    <blockquote\n      class="rg_standalone_container"\n      data-src="//'+CANONICAL_DOMAIN+'/annotations/<%- annotation_id %>/standalone_embed"\n    ></blockquote>\n  '),c=_.template('\n    <embedly-embed\n      embed=":: <%- JSON.stringify(embed) %>"\n    ></embedly-embed>\n  '),l=_.template('\n    <embedly-youtube\n      video-id="<%- video_id %>"\n      start="<%- start %>"\n    ></embedly-youtube>\n  '),u=/^https?:\/\/tidal\.com\/(track|album|video)\/(\d+)$/,d=_.template('\n    <div class="tidal-embed" data-type="<%- type %>" data-id="<%- id %>"></div>\n  '),p=function(r,p){var h=$(r||".embedly:visible");o(h).each(function(){var r=$(this);if(app.youtubeURLre.test(this.href)){var o=new URL(this.href),f=e.parse(o.search.slice(1)),h=e.parse(o.hash.slice(1)),m=f.t||h.t||0;/\d+m|\d+s|\d+m\d+s/.test(m)&&(m=_(m.match(/^(\d+m)?(\d+s)?$/)).slice(1,3).values().map(function(t){return t?parseInt(t):0}).thru(function(t){return 60*t[0]+t[1]}).value());var g=f.v||o.pathname.slice(1);r.replaceWith(n(l({video_id:g,start:m}))(p))}else if(app.twitterURLre.test(this.href))r.replaceWith(a({tweet_url:this.href})),t("//platform.twitter.com/widgets.js",{cache:!0});else if(app.rgURLre.test(this.href)&&this.href===r.text()&&!r.closest(".cont-annotations.act-standalone_embed").length){var v=app.rgURLre.exec(this.href).pop();r.replaceWith(s({annotation_id:v})),t("//"+CANONICAL_DOMAIN+"/annotations/load_standalone_embeds.js",{cache:!0})}else if(this.href.match(/https?:\/\/embed\.vidyard\.com\/(landingpage|share)\/(.*)/i))r.embedly({addImageStyles:!1,className:"embedly_preview",secure:!0,query:{secure:"true"}});else if(u.test(this.href)){var b=this.href.match(u).slice(1),y=i(b,2),w=y[0],x=y[1];r.replaceWith(d({type:w[0],id:x})),t("//embed.tidal.com/tidal-embed.js",{cache:!0})}else{if(!app.embedlyURLre.test(this.href))return;var k={addImageStyles:!1,className:"embedly_preview",secure:!0,query:{luxe:!MOBILE_DEVICE,secure:"true"},display:function(t){var e=t.html;/soundcloud\.com/.test(e)?(t.html=e.replace("visual%3Dtrue","visual%3Dfalse").replace(/height="\d+"/,'height="165"'),t.height=165):("video"===t.type||"photo"!==t.type&&"rich"!==t.type)&&r.replaceWith(n(c({embed:t}))(p)),t.display()}};r.embedly(k)}r.text("Loading embed...")}),f(r,p)},f=function(t,e){var i=$(t||".embedly_pro:visible");o(i).each(function(){if(app.embedlyURLre.test(this.href))return!0;var t=$(this);t.embedly({secure:!0,query:{secure:"true"},display:function(i){if(!i.description||_.trim(t.parent().text())!==_.trim(t.text()))return void t.text(i.title);t.replaceWith(n(c({embed:i}))(e))}}),t.text("Loading embed...")})};return{restrict:"A",link:function(t,e,n){t.$watch(n.embedly||n.ngBindHtml,function(n){n&&p(e,t)})}}}])},function(t,e,n){"use strict";n(1377),angular.module("genius").directive("embedlyPlayer",["$sce","$immediate","$q","Tracking","PlayerJS",function(t,e,n,i,r){return{restrict:"E",templateUrl:"embedly_player.html",transclude:!0,scope:{yieldsApi:"&",yieldsState:"&",media:"<",controls:"<?",playerClass:"@",preload:"<",allowFullScreen:"<?"},link:function(o,a){var s=function(){u.has_errored=!0},c=void 0,l=void 0,u=void 0,d=function(){var t=r.Player(a.find("iframe")[0]);t.on("ready",function(){t.setVolume(100),c.resolve(t),o.$apply(function(){u.is_loaded=!0,u.is_loading=!1})}),t.on("play",function(){i.track("play_song_media",{playing:!0,first_interaction:!1}),o.$apply(function(){u.is_playing=!0})}),t.on("pause",function(){o.$apply(function(){u.is_playing=!1})}),t.on("ended",function(){o.$apply(function(){u.is_playing=!1})}),t.on("timeupdate",_.throttle(function(t){o.$apply(function(){u.percentage=t.seconds/t.duration,u.time_remaining=1e3*(t.duration-t.seconds)})},1e3)),t.on("error",function(){o.$apply(s)})};o.load_media=function(){u.is_loading||u.is_loaded||(i.track("play_song_media",{playing:!1,first_interaction:!0}),u.is_loading=!0,o.is_initialized=!0,e(d,!1))};var p={load_media:o.load_media,playpause:function(){u.is_playing?this.pause():this.play()},play:function(){l.then(function(t){t.play()})},pause:function(){l.then(function(t){t.pause()})},seek_to:function(t){l.then(function(e){e.getDuration(function(n){e.setCurrentTime(n*t)})})}};o.yieldsApi({api:p});var f=function(t){return"youtube"===o.media.provider&&!t.author_name},h=function(t){return t.invalid||"error"===t.type||"link"===t.type},m={youtube:{youtube_controls:o.controls?2:0,youtube_modestbranding:1,youtube_showinfo:0,youtube_rel:0,youtube_iv_load_policy:3,youtube_start:o.media?o.media.start:void 0,youtube_fs:o.allowFullScreen?1:0}}[o.media?o.media.provider:void 0],g=function t(e){var i=_.assign({},m,e);return n.resolve($.embedly.oembed(o.media.url,{query:i})).then(function(e){var r=e[0];return f(r)||h(r)?i.force?n.reject(Error("No embed found")):t({force:!0}):r})};o.$watch("state.is_playing",function(t){t&&(o.state.has_played=!0)}),o.$watch("media.url",function(e){if(o.is_initialized=!1,c=n.defer(),l=c.promise,u=o.state={},o.yieldsState({state:u}),!e)return void(u.is_ready=!0);o.media_html=null,g().then(function(e){u.placeholder=e.thumbnail_url,u.is_ready=!0,o.media_html=t.trustAsHtml(e.html),o.preload&&o.load_media()}).catch(s)}),o.$on("$destroy",function(){o.yieldsState({state:void 0})})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("emptyCopyContent",["$immediate","$window","$document",function(t,e,n){return{link:function(i,r,o){r.on("copy",function(){var r=i.$eval(o.emptyCopyContent),a=e.getSelection();if(!a.toString()){var s=$("<div>").html(r).css({position:"absolute",height:0,width:0}).appendTo(n.prop("body"));a.removeAllRanges();var c=n[0].createRange();c.selectNodeContents(s[0]),a.addRange(c),t(function(){s.remove()},!1)}})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("expandableAccordionSection",[function(){return{restrict:"E",scope:{label:"@",expanded:"=",shortcut:"@"},templateUrl:"expandable_accordion_section.html",replace:!0,transclude:!0,link:function(t){t.expand_content=function(){t.expanded=!t.expanded}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("expandableList",[function(){return{restrict:"E",scope:{collection:"<",template:"<",limit:"<",label:"@",variants:"<"},templateUrl:function(t,e){return e.template+".html"},controllerAs:"ctrl",controller:["$scope",function(t){this.more_to_show=function(){return t.collection.length>t.limit},this.show_more=function(){Reflect.deleteProperty(t,"limit")}}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("exportsFormApi",["$immediate",function(t){return{restrct:"A",require:"form",link:function(e,n,i,r){e.$eval(i.exportsFormApi,{api:_.assign(r,{submit:function(){t(function(){r.$commitViewValue(),n.triggerHandler("submit")},!1)}})})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("factTrackSimulator",[function(){return{restrict:"E",templateUrl:"fact_track_simulator.html",scope:{annotations:"<",track_uuid:"<trackUuid",time:"=?",spotify_song:"<song",yields_api:"&yieldsApi",variants:"<",current_annotation_index:"=?currentAnnotationIndex",annotation_clicked:"&annotationClicked",autoplay:"<",default_playback_type:"@defaultPlaybackType"},controllerAs:"ctrl",controller:["$scope","SpotifyBridge","SpotifyPlayback","WebAudioPlayback",function(t,e,n,i){var r=this;t.track_uuid;this.initialize_playback=function(e){var o=t.time,a=t.playing;e=e||{},a&&r.playback.api.pause(),"web_audio"===e.type?r.playback=new i({cached_audio_url:t.spotify_song.track_url}):r.playback=new n({provider_id:t.track_uuid,duration:t.spotify_song.metadata.duration_ms}),r.clear_playback_listener&&r.clear_playback_listener(),r.clear_playback_listener=r.playback.$on("state",function(e,n){t.time=n.position,t.playing=n.is_playing}),r.playback.api.seek_to_position(o)},this.annotation_percentage=function(){if(!t.current_annotation)return 0;var e=t.current_annotation.timestamp_in_ms,n=t.annotations[t.current_annotation_index+1],i=n?n.timestamp_in_ms:t.duration;return(i-t.time)/(i-e)},this.seek_to=function(t){r.playback.api.seek_to_position(t)},this.seek_to_percentage=function(t){r.playback.api.seek_to(t)},this.toggle_play_pause=function(){r.playback.api.playpause()},this.card_clicked=function(){t.annotation_clicked({current_annotation:t.current_annotation})};var o={playback_type:function(){return r.playback.type},playback_label:function(){return r.playback.label},set_playback_options:function(t){r.initialize_playback(t)},other_track_playing:function(){},use_current_track:function(){},pause:function(){t.is_playing&&t.ctrl.toggle_play_pause()},seek_to:function(e,n){n=n||{},t.ctrl.seek_to(e),n.play&&r.playback.api.play()}};t.time=0,t.duration=t.spotify_song.metadata.duration_ms,t.album=t.spotify_song.metadata.album,t.yields_api({api:o}),t.default_playback_type?this.initialize_playback({type:t.default_playback_type}):t.spotify_song.track_url&&!e.is_socket?this.initialize_playback({type:"web_audio"}):this.initialize_playback({type:"spotify"}),t.autoplay&&(this.playback.api.seek_to_position(0),this.playback.api.play());var a={content_type:"intro",timestamp_in_ms:0};t.$watch("time",function(){var e=t.annotations.filter(function(e){return e.timestamp_in_ms<=t.time});t.current_annotation_index=e.length-1,t.current_annotation=t.annotations[t.current_annotation_index]||a})}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("filepickerInput",["Filepicker",function(t){return{link:function(e,n,i){var r=new t({services:"COMPUTER"}),o=e.$eval(i.minWidth);n.on("click",function(){return e.$eval(i.onFilepickerError,{error:null}),r.pick().then(function(t){n.attr("value",""),n.attr("placeholder","Saving image..."),e.$eval(i.onFilepickerProgress,{uploading:!0}),o&&t.dimensions.width<o?(n.attr("value",""),n.attr("placeholder","Please upload an image at least "+o+"px wide"),e.$eval(i.onFilepickerError,{error:"must be wider than "+o+"px"})):r.store(t.blob).then(function(t){n.attr("value",t),e.$eval(i.onFilepickerProgress,{uploading:null})})}),!1})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("flashMessages",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"flash_messages.html",controllerAs:"ctrl",controller:["$scope","$sce","Cookies","currentFlashMessages",function(t,e,n,i){var r=n.getObject("flash")||{};_.each(r,function(t,n){i.push({message:e.trustAsHtml(t),type:n})}),n.remove("flash",{path:"/"}),t.flash_messages=i,this.close_message=function(e){_.pull(t.flash_messages,e)}}]}})},function(t,e,n){"use strict";angular.module("genius").directive("focusOnChange",function(){return{restrict:"A",link:function(t,e,n){var i=!0;t.$watch(n.focusOnChange,function(){if(i)return void(i=!1);e.focus()})}}})},function(t,e,n){"use strict";angular.module("genius").directive("followButton",["FollowClient","Session","Tracking","Reversible",function(t,e,n,i){return{restrict:"E",scope:{onUnauthorized:"&",object:"<",type:"@",variants:"<",disabled:"<"},templateUrl:"follow_button.html",link:function(r){var o=void 0;r.user_signed_in=e.user_signed_in,r.$watch("object.current_user_metadata.interactions.following",function(t){r.following=!!t}),r.label=function(){return r.hoverLabel||(r.following?"Following":"Follow")},r.toggle_following=function(){if(!e.user_signed_in)return r.onUnauthorized();if(!o){o=!0;var a={};a["object.current_user_metadata.interactions.following"]=!r.following;var s=i.modify(r,a);n.track(r.following?"Follow Button":"Unfollow Button"),t.set_following(r.type,r.object.id,!r.following).catch(s).finally(function(){r.hoverLabel=null,o=!1})}},r.can_follow=function(){return e.has_permission("follow",r.object)}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("globalErrorMessage",[function(){return{scope:{},templateUrl:"global_error_message.html",controllerAs:"ctrl",controller:["GlobalErrorBus","$sce",function(t,e){var n=this;t.$on("global_error",function(t,i){n.message_html=e.trustAsHtml(i)})}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("globalMessage",["$compile","$templateCache","GlobalRefs",function(t,e,n){var i=e.get("global_message.html"),r=n.get_element("global_message");return{scope:!0,restrict:"E",transclude:!0,link:function(e,n,o,a,s){t(i)(e,function(t){r.append(t),e.$on("$destroy",function(){t.remove()})},{parentBoundTranscludeFn:s,futureParentElement:r})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("handleIntraPageLinks",["ReferentRegistry","ModelRouter","$location",function(t,e,n){return{restrict:"A",link:function(i,r){r.on("click","a",function(){var r=$(this).attr("data-api_path");if(r){var o=e.lookup(r);if(o&&"referent"===o.type){var a=t.peek(o.id);if(a)return i.$apply(function(){return n.url("/"+a.id)}),!1}}})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("handleRoutableLinks",["LinkEvents","SmartRouting",function(t,e){return{restrict:"A",link:function(n,i){i.on("click","a",function(n){var i=$(n.target).closest("a"),r=i.attr("href");t.should_open_in_new_window_or_tab(n,i[0])||r&&(n.preventDefault(),e.navigate_to_absolute_url(i[0].href))})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("headerMenuItem",[function(){return{restrict:"E",transclude:!0,scope:{name:"@",url:"@"},templateUrl:"header_menu_item.html"}}])},function(t,e,n){"use strict";angular.module("genius").directive("hideSongForm",[function(){return{restrict:"E",scope:{song:"<",on_close:"&onClose"},templateUrl:"hide_song_form.html",controllerAs:"ctrl",controller:["$scope","SongClient",function(t,e){this.save=function(n){var i=this;this.saving=!0,e.perform_action(t.song.id,"hide",{viewable_by_roles:n}).then(function(e){_.assign(t.song,e),t.error=null,t.on_close()}).catch(function(e){return t.error=e.message}).finally(function(){return i.saving=!1})}}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("httpMethod",function(){return{restrict:"A",link:function(t,e,n){var i=!1,r=n.action||n.href,o=n.httpMethod.toUpperCase();e.click(function(){if(!i)return i=!0,$("<form>",{action:r,method:o}).append($("<input>",{type:"hidden",name:"authenticity_token",value:$.cookie("_csrf_token")})).appendTo($("body")).submit(),!1})}}})},function(t,e,n){"use strict";angular.module("genius").directive("inboxLineItem",["Tracking",function(t){var e=[{formation:["targets","actors"],strategies:["user_upvoted_annotation","user_downvoted_annotation","user_accepted_annotation","user_rejected_annotation","user_created_annotation","user_deleted_annotation","user_pyonged_annotation","user_pyonged_song","user_pyonged_video","user_pyonged_album","user_pyonged_article","user_upvoted_forum_post","user_downvoted_forum_post","user_upvoted_video","user_downvoted_video","user_hit_pageview_threshold_song","user_created_cover_art","user_edited_cover_art","user_deleted_cover_art","user_locked_album","user_unlocked_album","user_posted_in_discussion","user_recognized_song","user_upvoted_article","user_downvoted_article","user_moved_discussion","user_followed_discussion","user_followed_song","user_followed_artist","user_hid_song","user_unhid_song","user_cosigned_annotation","user_verified_the_lyrics_of_song","user_unverified_the_lyrics_of_song","user_pinned_discussion","user_unpinned_discussion","user_deleted_discussion","user_deleted_song","user_created_song","user_wrote_article","user_locked_song","user_unlocked_song","user_followed_group","user_followed_web_page"]},{formation:["targets","context","actors"],strategies:["user_created_question","user_archived_question","user_edited_question","user_pinned_question","user_unpinned_question","user_created_answer","user_deleted_answer","user_edited_answer","user_upvoted_question","user_downvoted_question","user_upvoted_answer","user_downvoted_answer"]},{formation:["targets","actions"],strategies:["user_edited_annotation","user_proposed_an_edit_to_annotation","user_added_a_suggestion_to_song","user_marked_annotation","user_commented_on_album","user_commented_on_article","user_commented_on_video","user_replied_to_annotation"]},{formation:["context","targets","actors"],strategies:["user_upvoted_comment","user_downvoted_comment","user_merged_annotation_edit","user_rejected_annotation_edit","user_integrated_comment","user_archived_comment","user_accepted_comment","user_rejected_comment"]},{formation:["context","actors"],strategies:["user_invited_user"]},{formation:["user_acted_on_user"],strategies:["user_followed_user","user_de_modded_user","user_marked_as_spam_user","user_made_an_editor_out_of_user","user_made_a_moderator_out_of_user","user_mediatored_user"]},{formation:["context_commentable","context"],strategies:["user_mentioned_user","user_mentioned_group"]},{formation:["actors"],strategies:["user_created_identity","user_added_a_photo_user"]},{formation:["merged_artist","context","actors"],strategies:["user_merged_artist"]},{formation:["metadata_changes","targets","actors"],strategies:["user_edited_the_metadata_of_song","user_edited_the_metadata_of_artist","user_edited_the_metadata_of_album"]},{formation:["lyrics_changes","targets","actors"],strategies:["user_edited_the_lyrics_of_song"]},{formation:["annotations_with_comments"],strategies:["user_added_a_suggestion_to_annotation"]}],n={},i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value,l=!0,u=!1,d=void 0;try{for(var p,f=c.strategies[Symbol.iterator]();!(l=(p=f.next()).done);l=!0){var h=p.value;n[h]=c.formation}}catch(t){u=!0,d=t}finally{try{!l&&f.return&&f.return()}finally{if(u)throw d}}}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}var m={"user.Pyong.song":"inbox_line_items/pyong.html","user.Pyong.annotation":"inbox_line_items/pyong.html","user.Pyong.video":"inbox_line_items/pyong.html","user.Pyong.album":"inbox_line_items/pyong.html","user.Pyong.article":"inbox_line_items/pyong.html"};return{scope:{inbox_name:"<inboxName",line_item:"<object",eager_load_details:"<eagerLoadDetails",variants:"<"},templateUrl:"inbox_line_item.html",controller:["$scope","querystring","InboxClient",function(e,i,r){var o=this;this.state={load_details:!1,show_details:!1},e.details_url="/activity_stream/show_details?"+i.stringify({id:e.line_item.event_ids}),this.formation=n[e.line_item.strategy],e.$watch("ctrl.state.load_details",function(t,n){o.formation&&t&&!n&&r.get_line_item(e.inbox_name,e.line_item.event_ids.join(",")).then(function(t){o.line_item_detail=t})}),e.$watch("eager_load_details",function(t){o.state.load_details=!(!o.state.load_details&&!t)}),this.message_components=e.line_item.message_components,this.message_template=m[this.message_components.key]||"inbox_line_items/generic.html";var a=_.once(function(){t.track("Line Item Open",{action_name:e.line_item.action_name,inbox_name:e.inbox_name,strategy_name:e.line_item.strategy,bagon:!0,iframe:!o.formation})});this.toggle_visible=function(){o.state.load_details=!0,o.state.show_details=!o.state.show_details,o.state.show_details&&a(),o.state.show_details&&e.line_item.unread&&(e.line_item.unread=!1,r.mark_read(e.inbox_name,[e.line_item.event_ids]))}}],controllerAs:"ctrl"}}])},function(t,e,n){"use strict";angular.module("genius").directive("inboxLineItemActionIcon",[function(){return{scope:{action_name:"<actionName"},templateUrl:"inbox_line_item_action_icon.html"}}])},function(t,e,n){"use strict";angular.module("genius").directive("inboxLineItemDetail",["Bindings","$compile","$templateCache",function(t,e,n){var i=t.resolver({detail:"<lineItemDetail"}),r=t.resolver({formation:"<"});return{restrict:"E",template:"",link:function(t,i,o){var a=r(t,o).formation,s='\n        <div\n          class="inbox_line_item_detail"\n          ng-class="{\'inbox_line_item_detail--dark_background\': $ctrl.use_dark_background}"\n        >\n      ',c=!0,l=!1,u=void 0;try{for(var d,p=a[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value;s+='<div class="inbox_line_item_detail-section">',s+=n.get("inbox_line_item_detail/"+f+".html"),s+="</div>"}}catch(t){l=!0,u=t}finally{try{!c&&p.return&&p.return()}finally{if(l)throw u}}s+="</div>",i.append(e(s)(t))},controller:["$scope","$attrs","ReferentRegistry",function(t,e,n){var r=this;i(t,e).assign_to(this),t.$watch("$ctrl.detail",function(){r.detail.targets=_.map(r.detail.targets,function(t){return"referent"===t._type?n.update_if_present(t):t}),r.use_dark_background=_.includes(["forum_post","discussion"],_.get(r.detail,"context._type"))||_.includes(["forum_post","discussion"],_.get(r.detail,"target._type"))})}],controllerAs:"$ctrl"}}])},function(t,e,n){"use strict";n(1255),angular.module("genius").directive("infiniteScroll",["$window","$document","$immediate",function(t,e,n){return{link:function(i,r,o){var a=!1,s=$(t);"infiniteScrollDisabled"in o&&i.$watch(o.infiniteScrollDisabled,function(t){(a=t)||n(l,!1)});var c=function(){i.$apply(function(){i.$eval(o.infiniteScroll)})},l=function(t){if(!a){var n=e[0].documentElement.clientHeight;if(t){var i=t.target;i.getBoundingClientRect&&(n=i.getBoundingClientRect().top+i.offsetHeight)}n>=r[0].getBoundingClientRect().top+r[0].offsetHeight&&c()}};s.on("scroll",l),r.parents().on("scroll",l),i.$on("$destroy",function(){return r.parents().off("scroll",l),s.off("scroll",l)}),o.yieldsOnLoadMore&&i.$eval(o.yieldsOnLoadMore,{callback:function(){return n(l,!1)}})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("insertableAtCursor",["$window",function(t){return{restrict:"A",link:function(e,n,i){var r=function(e){var i=e.before,r=void 0===i?"":i,o=e.after,a=void 0===o?"":o,s=e.default_body,c=void 0===s?"":s,l=e.each_line,u=void 0!==l&&l;_.toArray(n).forEach(function(e){var n=pageYOffset,i=e.selectionStart,o=e.selectionEnd,s=e.scrollTop,l=e.value.substring(i,o),d=void 0;d=l&&u?_.map(l.split("\n"),function(t){return r+t+a}).join("\n"):l?r+l+a:r+c+a,e.value=e.value.substring(0,i)+d+e.value.substring(o,e.value.length),e.focus(),e.selectionStart=i,e.selectionEnd=e.selectionStart+d.length,e.scrollTop=s,t.scrollTo(0,n),$(e).trigger("input")})};e.$eval(i.insertableAtCursor,{insertFn:r})}}}])},function(t,e,n){"use strict";n(1249),angular.module("genius").directive("kb",["$window",function(t){return{restrict:"E",link:function(e,n,i){var r=$(t),o=function(t){return e.$apply(function(){return e.$eval(i.action,{$event:t})}),!1};r.bind("keydown",i.shortcut,o),e.$on("$destroy",function(){return r.unbind("keydown",o)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("keepInView",["$document","$window",function(t,e){return{link:function(n,i,r){var o=0;n.$watch(r.keepInView,function(n){if(n){var r=i[0].getBoundingClientRect(),a=e.innerHeight;if(r.bottom>.95*a||r.top<.05*a){var s=o-Date.now(),c=s<200?100:300;o=Date.now(),$(t.prop("body")).animate({scrollTop:$(i).offset().top-.05*a},c)}}})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("leaderboard",[function(){return{restrict:"E",templateUrl:"leaderboard.html",scope:{leaderboard_rows:"<collection"}}}])},function(t,e,n){"use strict";angular.module("genius").directive("linksNavigableByArrowKeys",["$immediate","Mousetrap","Bindings",function(t,e,n){var i=n.resolver({yields_refresh:"&linksNavigableByArrowKeys"});return{restrict:"A",link:function(n,r,o){var a=i(n,o),s=void 0,c=null,l=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t(function(){s=r.find("a:visible"),e&&(c=null)},!1)};l(),a.yields_refresh({refresh:l});var u=function(){if(s.length&&!(c>=s.length-1))return _.isNull(c)?c=0:c++,s[c].focus(),!1};e.bindGlobal("down",u),n.$on("$destroy",function(){return e.unbind("down")});var d=function(){if(s.length&&!_.isNull(c)&&0!==c)return c--,s[c].focus(),!1};e.bindGlobal("up",d),n.$on("$destroy",function(){return e.unbind("up")})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("localReferentRouting",function(){return{controller:["$scope","$location","Tracking",function(t,e,n){t.$on("$locationChangeSuccess",function(){var i=Number(e.search().referent_id);if(!i){var r=e.hash().match(/^note-(\d+)$/);r&&(i=r[1])}var o=e.path();if(i)n.set_annotation_opened_from_permalink(i),t.song_ctrl.scroll_to_referent(i).then(function(){t.song_ctrl.update_url_for_open_referent(i),e.replace()});else if(o===t.song.path)t.current_referent=null;else{var a=Number(o.slice(1));t.song_ctrl.display_referent(a)}})}]}})},function(t,e,n){"use strict";angular.module("genius").directive("lockScrollPositionOnIos",["$window","Bowser",function(t,e){return{link:function(n){if(e.ios){var i=$("body"),r=$(t).scrollTop();i.css("top",-r),n.$on("$destroy",function(){i.css("top",""),$(t).scrollTop(r)})}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("lyricSyncTimestampInput",["timestamp_for_displayFilter","parse_time_string","Mousetrap","$immediate",function(t,e,n,i){return{require:"ngModel",link:function(r,o,a,s){var c=void 0,l=new n(o[0],{stop_propagation:!0,prevent_default:!0});l.$bind("up",function(){u(e(s.$viewValue)+50)}),l.$bind("down",function(){u(e(s.$viewValue)-50)}),l.$bind("esc",function(){u(e(c)),o.blur()}),i(function(){c=s.$viewValue});var u=function(e){var n=s.$viewValue,i=t(Math.round(e),{always_millis:!0});s.$setViewValue(i),s.$valid?s.$render():s.$setViewValue(n)};o.bind("keyup",function(){s.$commitViewValue(),r.$apply()}),s.$parsers.push(e),s.$formatters.push(function(e){if(e||0===e)return t(e,{always_millis:!0})}),r.$watch(a.ngModel,function(e,n){_.isUndefined(e)&&!_.isUndefined(n)&&(""!==s.$viewValue?s.$setViewValue(t(n,{always_millis:!0})):s.$setViewValue(null),s.$commitViewValue())}),"validators"in a&&_.assign(s.$validators,r.$eval(a.validators))}}}])},function(t,e,n){"use strict";angular.module("genius").directive("lyrics",["$compile","SongClient","LyricsEditing","LyricsAnchorer","Lyrics","ReferentHelper","ReferentElementMap","TextSelection","Tracking","Bindings","ScrollFocus","mobile_device","Session","I18n","string_has_unmatched_parentheses",function(t,e,n,i,r,o,a,s,c,l,u,d,p,f,h){var m=l.resolver({yields_api:"&yieldsApi",on_selection_range_updated:"&onSelectionRangeUpdated",canonical_lyrics_html:"<canonicalLyricsHtml",on_focused_referent_anchor_changed:"&onFocusedReferentAnchorChanged"});return{restrict:"E",templateUrl:"lyrics.html",controller:["$scope",function(t){var i=this;this.user_signed_in=p.user_signed_in,this.set_editable=function(e){t.editable=e,i.editable_lyrics_stale=!1},this.start_editing=function(){i.set_editable(n.prepare_lyrics_for_editing(t.canonical_lyrics_html)),i.editing=!0},this.cancel_editing=function(){i.editing=!1,i.lyrics_errors=null,i.lyrics_form.$rollbackViewValue(),i.lyrics_form.$setPristine()},this.finish_editing=function(){if(!i.saving){var n=i.validate_lyrics();if(n.length)return void(i.lyrics_errors=n);i.saving=!0;var o=t.lyrics_section_html();return i.editing=!1,i.edit_blocked=!0,t.lyrics_section_html(s()),i.lyrics_errors=null,e.save_lyrics(t.song,a()).then(function(t){r(t),i.editing=!1,i.edit_blocked=!1,i.lyrics_form.$setPristine()}).catch(function(e){t.lyrics_section_html(o),409===e.meta.status?(i.refresh_lyrics(),i.editing=!0):(i.lyrics_errors=e.response.errors,i.lyrics_errors&&i.lyrics_errors.length||(i.lyrics_errors=[e.meta.message||"Unexpected error"]),i.editing=!0,i.edit_blocked=!1)}).finally(function(){i.saving=!1})}},this.refresh_lyrics=function(){return i.edit_blocked=!0,e.load_lyrics(t.song.id).then(function(t){i.edit_blocked=!1,r(t)})},this.remove_referent=function(e){t.canonical_lyrics_html=n.lyrics_html_without_referent(t.canonical_lyrics_html,e)},this.on_image_referent_created=function(e,n){i.edit_blocked=!1,n.precomputed_client_rect=e.precomputed_client_rect,t.current_referent=n,t.$emit("referent_created",n)},this.on_image_referent_creation_failed=function(){i.edit_blocked=!1},this.on_image_referent_creation_started=function(){i.edit_blocked=!0},this.submit_correction=function(t){i.correction.replacement.markdown=t;var e=i.edit_blocked;return i.edit_blocked=!0,i.correction_error=null,i.lyrics_anchorer.submit_correction(i.correction).then(function(){i.correction=null,c.track("Corrected Line"),i.edit_blocked=Boolean("edit blocked until server pushes canonical lyrics")}).catch(function(t){i.correction_error=t.message,i.edit_blocked=e})},this.validate_lyrics=function(){var e=$("<div>").append(t.editable.markdown).text();return h(e)?[f.t("lyrics.unmatched_parens_error")]:[]};var r=function(e){return _.assign(t.song,e.client_timestamps),i.update_lyrics_selection_safe(e.body.html),o(t.canonical_lyrics_html)!==o(e.body.html)&&(t.canonical_lyrics_html=e.body.html,i.editable_lyrics_stale=!0),e},o=function(t){return $("<div>").append($(t)).html()},a=function(){return n.clean_up_lyrics__deprecated(n.lyrics_pseudo_markdown_to_html__deprecated(t.editable.markdown,t.editable.attr_hash))},s=function(){return n.backfill_angular_link_properties(n.lyrics_pseudo_markdown_to_html__deprecated(t.editable.markdown,t.editable.attr_hash))};t.$watch("lyrics_ctrl.correction",function(t,e){t&&c.track("Started Line Correction"),e&&e.anchor.hasClass("line-correction")&&e.anchor.replaceWith(e.original.html)}),t.$watch("current_referent",function(t){t&&(i.correction=null)}),t.$watch("lyrics_data",function(t){t&&r(t)})}],controllerAs:"lyrics_ctrl",link:function(e,n,c,l){var p=m(e,c),f=n.find("section");l.lyrics_anchorer=new i({container:f,get_state:function(){var t=e.current_referent?a.get(e.current_referent.id):null;return{range:l.selection_range,referent:e.current_referent,reference_element:t}},scope:e,song:e.song}),l.update_selection_range=function(t){t!==this.selection_range&&(t&&!o.range_or_contents_intersects_links_or_contains_images(t)?this.selection_range=t:this.selection_range=null,p.on_selection_range_updated({range:this.selection_range}))},p.yields_api({api:{anchorer:l.lyrics_anchorer,remove_referent:l.remove_referent,refresh_lyrics:l.refresh_lyrics.bind(l),block_edit:function(t){l.edit_blocked=t}}}),l.update_lyrics_selection_safe=function(t){s.restore_selection_if_clobbered(f[0],function(){e.lyrics_section_html(t)})};var h={replace:function(){}};d&&(h=new u([],{container:f.get(0)}).on("update",function(t){p.on_focused_referent_anchor_changed({referent_anchor:t})}));var g=function(t){f.empty(),f.append(t);var n=f.find("a[annotation-fragment]").toArray(),i=_.chain(n).uniqBy(function(t){return $(t).data("id")}).filter(function(t){var n=Number($(t).data("id"));return e.song_ctrl.referent_has_preview(n)}).value();h.replace(i),e.$emit("content_change")},v=void 0;e.lyrics_section_html=function(n){if(v&&v.$destroy(),!n)return f.html();a.clear(),v=e.$new(),g(t(r.prepare_for_display(n))(v)),e.$ctrl.on_lyrics_compiled()},e.canonical_lyrics_html=p.canonical_lyrics_html}}}])},function(t,e,n){"use strict";angular.module("genius").directive("lyricsSyncKeyboard",["Mousetrap",function(t){return{scope:{showing:"<"},restrict:"E",require:"^lyricsSyncEditor",templateUrl:"lyrics_sync_keyboard.html",link:function(e,n,i,r){e.definitions=[{key:"?",label:"?",description:"Show/Hide Keyboard Shortcuts",action:function(){r.showing_keyboard_shortcuts=!r.showing_keyboard_shortcuts}},{key:"space",label:"Space",description:"Advance Line Selection and Set to Current Time",action:function(){r.can("edit")&&r.can("sync")&&r.start_or_advance()}},{key:"enter",label:"&#x23ce;",description:"Seek to Current Line",action:function(){r.seek_to_index(r.current_line_index)}},{key:"up",label:"&darr;, &uarr;",description:"Move Line Selection, Adjust Time While Editing",action:function(){if(0!==r.current_line_index)do{--r.current_line_index}while(r.current_line()&&r.current_line().hidden)}},{key:"down",action:function(){if(r.current_line_index!==r.lyrics_synchronization.lines.length-1)do{++r.current_line_index}while(r.current_line()&&r.current_line().hidden)}},{key:"left",label:"&larr;, &rarr;",description:"Seek Forwards and Backwards",action:function(){r.media_player.api.seek_to_position(r.position-200)}},{key:"right",action:function(){r.media_player.api.seek_to_position(r.position+150)}},{key:"e",label:"e",description:"Pause And Edit Timestamp",action:function(){r.can("edit")&&(r.media_player.api.pause(),r.current_line()._editing_time=!0)}}],_.each(e.definitions,function(e){t.$bind(e.key,e.action,{prevent_default:!0,stop_propagation:!0})}),e.$on("$destroy",function(){_.each(e.definitions,function(e){t.unbind(e.key)})})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("markdownPreview",[function(){return{restrict:"E",scope:{markdown_content:"<markdownContent"},templateUrl:"markdown_preview.html",controller:["$scope","MarkdownPreviewClient",function(t,e){t.$watch("markdown_content",_.throttle(function(){e.create_preview(t.markdown_content).then(function(e){t.html_content=e})},500,{leading:!0,trailing:!0}))}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("mediaControls",[function(){return{restrict:"E",scope:{media:"<mediaPlayer",hide_playpause:"<?hidePlaypause",variants:"<?"},templateUrl:"media_controls.html"}}])},function(t,e,n){"use strict";angular.module("genius").directive("mentionable",["MentionClient",function(t){return{restrict:"A",link:function(e,n){n.atwho({at:"@",displayTpl:"<li>${name}</li>",insertTpl:"@${value}",searchKey:"name",callbacks:{remoteFilter:function(e,n){t.autocomplete(e).then(function(t){n(t)})},sorter:function(t,e){return e}}})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("metadataCustomPerformanceRoleInput",[function(){return{restrict:"E",templateUrl:"metadata_custom_performance_role_input.html",scope:{role_field_placeholder:"@roleFieldPlaceholder",artist_field_placeholder:"@artistFieldPlaceholder",customPerformanceRoles:"<",isDisabled:"<",validation_errors:"<validationErrors"},controllerAs:"ctrl",controller:["$scope",function(t){this.remove_custom_performance=function(e){_.pull(t.customPerformanceRoles,e)},this.add_new_custom_performance=function(){t.customPerformanceRoles.push({label:"",artists:[]})},this.errors_for_label=function(e){return _.get(t.validation_errors,"custom_performances:"+e.toLowerCase())}}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("metadataInputAndLabel",function(){return{restrict:"E",templateUrl:"metadata_input_and_label.html",replace:!0,transclude:!0,scope:{label:"@",errors:"<",full:"<",is_disabled:"<isDisabled"}}})},function(t,e,n){"use strict";angular.module("genius").directive("modalWindow",["$compile","$document","$templateCache","Bowser",function(t,e,n,i){var r=n.get("modal_window.html");return{scope:{on_close:"&onClose",variants:"<",hidden:"<"},transclude:!0,link:function(n,o,a,s,c){var l=t(r),u=e.prop("body");n.is_ios=i.ios,l(n,function(t){$(u).append(t),n.close=function(t){n.on_close({reason:t})},n.$on("$destroy",function(){return t.remove()})},{parentBoundTranscludeFn:c,futureParentElement:u})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("mousetrapInput",function(){return{restrict:"A",link:function(t,e){e.addClass("mousetrap")}}})},function(t,e,n){"use strict";angular.module("genius").directive("mutuallyExclusiveSwitches",[function(){return{restrict:"E",scope:!0,link:function(t,e,n){var i=n.property;t[i]={},t.$watch(i,function(e,n){_(e).values().compact().size()<=1||_.forEach(e,function(e,r){var o=n[r];e&&!o&&(t[i]=_.pick(t[i],r))})},!0)}}}])},function(t,e,n){"use strict";angular.module("genius").directive("navigateOnClick",["$window",function(t){return{restrict:"A",link:function(e,n,i){n.on("click",function(){t.location.href=i.navigateOnClick})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("newConversation",[function(){return{scope:{on_sent:"&onSent",yields_is_dirty:"&yieldsIsDirty"},templateUrl:"new_conversation.html",controller:["$scope","ConversationClient",function(t,e){this.did_send=function(n){e.get(n.conversation_id).then(function(e){t.conversation=e})}}],controllerAs:"ctrl"}}])},function(t,e,n){"use strict";angular.module("genius").directive("ngAutofocus",["$immediate",function(t){return{restrict:"A",link:function(e,n,i){var r=function(){t(n.focus.bind(n),!1)};i.ngAutofocus?e.$watch(i.ngAutofocus,function(t){t&&r()}):r()}}}])},function(t,e,n){"use strict";angular.module("genius").directive("ngBodyClass",[function(){var t=$("body");return{restrict:"A",link:function(e,n,i){e.$watch(i.ngBodyClass,function(e){for(var n in e)t.toggleClass(n,!!e[n])},!0),e.$on("$destroy",function(){for(var n in e.$eval(i.ngBodyClass))t.removeClass(n)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("ngClickDisabled",function(){return{priority:-2,restrict:"A",link:function(t,e,n){e.on("click",function(e){if(t.$eval(n.ngClickDisabled))return e.stopImmediatePropagation(),!1})}}})},function(t,e,n){"use strict";angular.module("genius").directive("notificationInbox",["Pusher","Tracking","Session","Bowser","$window",function(t,e,n,i,r){var o=function(t,e){e.qtip({content:{prerender:!0,url:"/"+t.inbox_name,data:{event_id_to_expand:$.deparam(document.location.search.slice(1)).event_id_to_expand},text:$("<div>",{class:"qtip-loading-bar",text:"Loading..."})},position:{target:$(".header-actions"),corner:{target:"bottomRight",tooltip:"topRight"}},hide:{effect:{length:0},when:{event:"unfocus"}},show:{effect:{length:0},delay:0,when:{event:"click"}},style:{name:"light",tip:{corner:"topRight",size:{x:20,y:20}},width:{min:580,max:580},border:{width:0,color:"transparent"},classes:{tooltip:"activity_stream_tooltip mecha--deprecated",content:t.inbox_name+"_tooltip_content",tip:"activity_stream_tip"}},api:{onContentUpdate:t.mark_visible_as_read,onShow:t.$apply.bind(t,t.record_inbox_shown),onHide:t.$apply.bind(t,t.record_inbox_hidden)}})};return{scope:{inbox_name:"@inboxName",abbreviate_after:"@abbreviateAfter",sync_count_to_title:"<syncCountToTitle"},restrict:"E",templateUrl:"notification_inbox.html",controller:["$scope",function(t){angular.extend(t,{reload_inbox_tooltip:function(){t.qtip_element.reloadTooltip()},record_inbox_shown:function(){e.track("Inbox Open",{inbox_name:t.inbox_name}),t.inbox_tooltip_open=!0,t.mark_visible_as_read()},record_inbox_hidden:function(){t.inbox_tooltip_open=!1,t.new_events_available&&(t.reload_inbox_tooltip(),t.new_events_available=!1)},mark_visible_as_read:function(){var e=$("form#mark_"+t.inbox_name+"_read");e.length&&t.inbox_tooltip_open&&($.post(e.attr("action"),e.serialize()),e.remove())},notify_new_events:function(){t.inbox_tooltip_open?t.new_events_available=!0:t.reload_inbox_tooltip()},go_to_full_page_if_mobile:function(){i.mobile&&(r.location="/inboxes/"+t.inbox_name)}})}],link:function(e,r){e.inbox_tooltip_open=!1,e.new_events_available=!1,e.qtip_element=r.find(".notification_inbox"),i.mobile||o(e,e.qtip_element),t.subscribe(n.current_user.pusher_channel,"new-"+e.inbox_name.replace(/_/g,"-")+"-event",function(){e.notify_new_events()}),t.subscribe(n.current_user.pusher_channel,"inbox-marked-read",function(t){t.inbox===e.inbox_name&&e.notify_new_events()}),$("."+e.inbox_name+"_tooltip_content").live("ajax:complete",e.mark_visible_as_read)}}}])},function(t,e,n){"use strict";angular.module("genius").directive("odometer",["Odometer",function(t){return{restrict:"E",scope:{value:"<",options:"<"},link:function(e,n){var i=new t(_.merge({el:n[0],value:e.value},e.options));e.$watch("value",function(t){i.update(t)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("onHoverWithNoDigest",[function(){return{restrict:"A",link:function(t,e,n){e.hover(function(){t.$eval(n.onHoverWithNoDigest,{hover:!0})},function(){t.$eval(n.onHoverWithNoDigest,{hover:!1})})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("onInnerHeightChange",[function(){return{restrict:"A",link:function(t,e,n){t.$watch(function(){return e.innerHeight()},function(e){t.$eval(n.onInnerHeightChange,{height:e})})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("onLoad",[function(){return{restrict:"A",link:function(t,e,n){e.on("load",function(){t.$apply(function(){t.$eval(n.onLoad)})})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("openInApp",["$window","Tracking","Bowser","AppConfig",function(t,e,n,i){return{restrict:"E",templateUrl:"open_in_app.html",scope:{iosDeepLink:"<",placement:"@"},link:function(r,o){r.is_ios=n.ios,o.on("click",function(){r.hasTriedToOpenApp||(r.hasTriedToOpenApp=!0,e.track("Clicked Open in App"),t.location=r.iosDeepLink,r.appStoreUrl=i.app_store_url)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("openLinksInNewWindow",[function(){return{restrict:"A",link:function(t,e){e.on("click","a:not([target])",function(t){t.target.target="_blank"})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("placeholderSpinner",[function(){return{restrict:"E",scope:{placeholderClasses:"@",variants:"<variants"},templateUrl:"placeholder_spinner.html"}}])},function(t,e,n){"use strict";angular.module("genius").directive("placeholderText",[function(){return{restrict:"E",templateUrl:"placeholder_text.html"}}])},function(t,e,n){"use strict";angular.module("genius").directive("placeholderUserBadge",[function(){return{restrict:"E",scope:{size:"@"},templateUrl:"user_badge.html",link:function(t){t.user={name:"username",iq:"1738",avatar:{thumb:{url:""}}}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("playPauseButton",function(){return{restrict:"E",templateUrl:"play_pause_button.html",scope:{playing:"<",loading:"<"}}})},function(t,e,n){"use strict";angular.module("genius").directive("positionBeside",["$window",function(t){var e=function(e,i,r){if(!i)return 0;var o=e.offsetParent(),a=o[0].getBoundingClientRect(),s=e.height(),c=a.top,l=a.bottom,u=c,d=l;r.maximum_visibility&&(u=n(o,Math.max(u,0)),d=n(o,Math.min(d,t.innerHeight-1),!0));var p=i.top+(i.height-s)/2,f=p+s-d;f>0&&(p-=f);var h=u-p;return h>0&&(p+=h),p},n=function t(e,n,i){var r=e[0].getBoundingClientRect().left+e.width()/2,o=$(document.elementFromPoint(r,n));if(!o.length||e.is(o)||e.find(o).length)return n;var a=o[0].getBoundingClientRect(),s=void 0;return s=i?a.top-1:a.bottom+1,t(e,s,i)};return{restrict:"A",link:function(n,i,r){n.$watch(r.positionBeside,function(o){var a=e(i,o,{maximum_visibility:!!n.$eval(r.positionForMaximumVisibility)});i.offset({top:a+$(t).scrollTop()})})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("preload",["PreloadCache",function(t){return{restrict:"E",priority:1e4,link:function(e,n){var i=JSON.parse(n.find("preload-content").attr("data-preload_data"));angular.forEach(i,function(n,i){t[i]=e[i]=n}),n.remove()}}}])},function(t,e,n){"use strict";angular.module("genius").directive("preventDefaultClick",function(){return{priority:-1,restrict:"A",link:function(t,e){e.on("click",function(t){t.preventDefault(),t.stopPropagation()})}}})},function(t,e,n){"use strict";angular.module("genius").directive("preventDefaultKeydown",function(){return{restrict:"A",link:function(t,e,n){var i=_.map(n.preventDefaultKeydown.split(" "),Number);e.on("keydown",function(t){_.includes(i,t.which)&&t.preventDefault()})}}})},function(t,e,n){"use strict";angular.module("genius").directive("proxiedImage",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$formatters.push(function(t){if(!t)return"";var e={};try{var n=new URL(t);return n.hostname.match(/\.embed\.ly$/)&&_.each(n.search.substr(1).split("&"),function(t){var n=t.split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}),e.url||t}catch(e){return t}})}}})},function(t,e,n){"use strict";angular.module("genius").directive("pusher",["Pusher",function(t){return{scope:{channel:"@pusherChannel",event_name:"@pusherEventName",updateCallback:"&pusherUpdate",enabled:"="},link:function(e){var n=function(){t.subscribe(e.channel,e.event_name,function(t){e.updateCallback({value:t.value})})};void 0===e.enabled&&(e.enabled=!0),e.enabled&&n(),e.$watch("enabled",function(t,e){t&&!e&&n()})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("pyongButton",[function(){return{restrict:"E",scope:{pyongable:"<object",type:"@",onUnauthorized:"&",variants:"<"},templateUrl:function(t,e){return"forHeader"in e?"pyong_button_for_header.html":"pyong_button_square_button.html"},controllerAs:"ctrl",controller:["$scope","PyongClient","Session",function(t,e,n){var i=this,r=t.pyongable;this.pyonged=function(){return!!n.user_signed_in&&r.current_user_metadata.interactions.pyong},this.pyong=function(){if(!n.user_signed_in)return t.onUnauthorized();i.pyonged()||(i.show_pyong_form=!0,r.pyonged=i.clicked_pyong=!0,r.pyongs_count+=1,e.pyong(t.type,r.id).then(function(t){r.current_user_metadata.interactions.pyong=t.current_user_metadata.interactions.pyong,r.pyongs_count=t.pyongs_count}).catch(function(){r.pyongs_count-=1,r.pyonged=!1}))}}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("pyongForm",["PyongClient",function(t){return{restrict:"E",scope:{id:"<",type:"<",onComplete:"&"},templateUrl:"pyong_form.html",link:function(e){e.submit=function(n){e.disabled=!0,t.finalizePyong(e.type,e.id,n).then(e.onComplete).finally(function(){return e.disabled=!1})}}}}])},function(t,e,n){"use strict";n(307),$.browser={},angular.module("genius").directive("quickSearch",["Tracking",function(t){return{restrict:"A",link:function(e,n){n.autocomplete("/search/quick.js",{delay:250,scrollHeight:500,matchSubset:!1,max:20,minChars:4,selectFirst:!1,resultsClass:"ac_results quick_search-results",formatResult:function(t){return t[1]?"Loading...":" "}}).result(function(e,n){n&&n[1]&&($("form.global_search :submit").attr("disabled","disabled"),t.track_with_timeout("Search Result Tap",function(){window.location.href=n[1]}))})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("referentFragmentContainer",["ReferentHelper",function(t){return{templateUrl:"referent_fragment_container.html",restrict:"E",transclude:{referentHeader:"?referentHeader",referentFragment:"referentFragment"},scope:{referent:"<object",variants:"<"},link:function(e){e.$watch("referent.classification",function(n){e.referent.display_mode=t.display_mode_by_classification(n)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("releaseDate",[function(){return{templateUrl:"release_date.html",restrict:"E",scope:{date_components:"<dateComponents",variants:"<"}}}])},function(t,e,n){"use strict";angular.module("genius").directive("removeClassOnAngularLoad",[function(){return{restrict:"A",link:function(t,e,n){e.removeClass(n.removeClassOnAngularLoad)}}}])},function(t,e,n){"use strict";angular.module("genius").directive("roleIcon",[function(){return{scope:{role:"<",hasChecky:"<"},templateUrl:"role_icon.html"}}])},function(t,e,n){"use strict";angular.module("genius").directive("roleSelectionDialog",["AppConfig",function(t){return{restrict:"E",templateUrl:"role_selection_dialog.html",scope:{prompt:"@",save:"&",saving:"<",error:"<"},link:function(e){e.available_roles=t.available_roles,e.backing={},e.submit=function(){var t=_(e.backing).map(function(t,e){if(t)return e}).compact().value();e.save({selected_roles:t})}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("scrollFromBottom",function(){return{restrict:"A",link:function(t,e){var n=new MutationObserver(function(){var t=e.prop("scrollHeight");e.scrollTop(e.scrollTop()+t-i),i=t}),i=e.prop("scrollHeight");n.observe(e[0],{childList:!0,subtree:!0}),t.$on("$destroy",function(){n.disconnect()})}}})},function(t,e,n){"use strict";angular.module("genius").directive("scrollOnlyThisElement",[function(){return{restrict:"A",link:function(t,e){e.on("mousewheel",function(t){t.preventDefault();var n=t.detail<0||t.wheelDelta>0?1:-1;e.scrollTop(e.scrollTop()+n*t.deltaFactor*t.deltaY)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("scrollPoint",["ScrollPoint",function(t){return{restrict:"A",link:function(e,n,i){var r=i.scrollPoint;t.register(r,n),e.$on("$destroy",function(){t.unregister(r,n)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("scrollToBottomWhen",["$immediate",function(t){return{restrict:"A",link:function(e,n,i){e.$watch(i.scrollToBottomWhen,function(e,i){e&&!i&&t(function(){n.scrollTop(n.prop("scrollHeight"))},!1)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("scrollToTopOnChange",function(){return{restrict:"A",scope:{scrollToTopOnChange:"<"},link:function(t,e){t.$watch("scrollToTopOnChange",function(){e.scrollTop(0)})}}})},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}angular.module("genius").directive("scrollableData",["Bindings",function(t){var e=t.resolver({src:"<",preload:"&",empty_message:"@emptyMessage",scroll_mechanism:"@scrollMechanism",repeat_with:"@repeatWith",button_classes:"@buttonClasses",container_classes:"@containerClasses",item_classes:"@itemClasses",unique_by:"@uniqueBy",start_collapsed:"<startCollapsed",on_show_more:"&onShowMore",on_scroll_complete:"&onScrollComplete",on_empty:"&onEmpty"});return{restrict:"E",templateUrl:"scrollable_data.html",transclude:{empty:"?empty",show_more:"?showMore"},scope:!0,controller:["$scope","$attrs",function(t,n){var r=this;e(t,n).assign_to(this),t.$watch("$scrollable_data_ctrl.src",function(){r.auto_reset&&r.src.reset(),r.reset()}),this.get_preloaded_data=function(){return r.preload()||[]},this.reset=function(){var t=r.get_preloaded_data();r.models=_.clone(t),r.has_next=r.src.has_next,r.loading=!1,!r.has_next()||t.length||r.start_collapsed||r.load_next()},this.load_next=function(){if(!r.loading){r.loading=!0,r.on_show_more();var t=r.models;return r.src.next().then(function(e){t.push.apply(t,i(e))}).then(function(){r.unique_by&&(r.models=_.uniqBy(r.models,r.unique_by)),r.loading=!1,0!==r.models.length||r.has_next()||r.on_empty(),r.more_loaded_callback&&r.more_loaded_callback()})}},t.$watch("$scrollable_data_ctrl.src.has_next()",function(t){t||r.on_scroll_complete()})}],controllerAs:"$scrollable_data_ctrl"}}])},function(t,e,n){"use strict";angular.module("genius").directive("scrubber",["$document","$timeout",function(t,e){var n="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0;return{scope:{scrubPercentage:"=",scrubbed:"&",scale:"@"},link:function(i,r){var o=parseFloat(i.scale||"1"),a=function(t){var e=r.width()*o,n=Math.max(0,Math.min(e,t-r.offset().left));i.scrubbed({percentage:n/e})};r.on("click",function(t){return a(t.pageX),!1});var s=n?{start:"touchstart",end:"touchend",move:"touchmove"}:{start:"mousedown",end:"mouseup",move:"mousemove"},c=function(t){if(t.pageX)return t.pageX;var e=t.originalEvent;return"touchend"===e.type?e.changedTouches[0].pageX:e.touches[0].pageX};r.on(s.start,function(){var n=r.width()*o,l=function(t){var e=Math.max(0,Math.min(n,c(t)-r.offset().left));i.$apply(function(){i.scrubPercentage=e/n})};t.on(s.move,l),t.one(s.end,function(n){n.originalEvent.defaultPrevented||(a(c(n)),t.off(s.move,l),e(function(){Reflect.deleteProperty(i,"scrubPercentage")},500,!1))})})}}}])},function(t,e,n){"use strict";(function(t){angular.module("genius").directive("searchForm",["Tracking","$location","SearchClient","$immediate","PageTransition",function(e,n,i,r,o){return{restrict:"E",templateUrl:"search_form.html",scope:{style:"@searchStyle"},link:function(a,s){var c=s.find("input.quick_search");a.unfocus=function(){a.focused&&(e.track("Search Cancel"),a.focused=!1,a.search_text="")},a.focus=function(){a.focused||(e.track("Search Page View"),a.focused=!0,c.focus())},o.on_client_transition_complete(function(){a.focused=!1,a.search_text=""}),t.Observable.$watch(a,"search_text").auditTime(500).switchMap(function(e){return e?t.Observable.fromPromise(i.multi(e)):t.Observable.of(null)}).subscribe(function(t){r(function(){return a.sections=t})}),a.submit_form=function(){a.focused&&a.search_text&&s.find("form").submit()},"/gastly"===n.path()&&(a.search_text=n.search().q)}}}])}).call(e,n(23))},function(t,e,n){"use strict";angular.module("genius").directive("selectAllOnClick",[function(){return{restrict:"A",link:function(t,e){e.on("click",function(t){t.target.select()})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("setClassBeforeNavigate",["$immediate","LinkEvents","SmartRouting",function(t,e,n){return{restrict:"A",link:function(i,r,o){r.on("click",function(i){e.should_open_in_new_window_or_tab(i,r)||o.href&&(i.preventDefault(),r.addClass(o.setClassBeforeNavigate),t(function(){return n.navigate_to_absolute_url(o.href)}))})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("setCookieAndCloseOnClick",["Tracking",function(t){return{require:"^displayUnlessCookie",link:function(e,n,i,r){n.on("click",function(){return t.track(e.$parent.name),r.set_cookie_and_close(),e.$apply(),!1})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("setDesiredLocation",["$window","Cookies",function(t,e){return{restrict:"A",link:function(n,i,r){i.click(function(){e.put("desired_location",t.location.href,{path:"/"})})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("shareButtons",[function(){return{scope:{song:"<"},templateUrl:"share_buttons.html",controllerAs:"ctrl",controller:[function(){return{}}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("showArrowAtOffset",[function(){return{restrict:"A",link:function(t,e){t.show_arrow_at_offset=function(t){return t>e.position().top}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("showIfBrowser",["Bowser",function(t){return{restrict:"A",link:function(e,n,i){t[i.showIfBrowser]||n.hide()}}}])},function(t,e,n){"use strict";angular.module("genius").directive("simpleDatetimeInput",["$filter",function(t){return{restrict:"E",scope:{},require:"ngModel",templateUrl:"simple_datetime_input.html",controller:["$scope",function(t){t.datetime={};var e=(new Date).getFullYear();_.assign(t,{years:_.range(1900,e+100).reverse(),months:["January","February","March","April","May","June","July","August","September","October","November","December"].map(function(t,e){return{name:t,number:e+1}}),days:_.range(1,32),hours:_.range(0,24),minutes:_.range(0,60)})}],link:function(e,n,i,r){var o=t("cast_to_date");r.$render=function(){var t=o(r.$modelValue)||new Date;e.datetime={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes()}},r.$render(),e.$watch(function(){if(e.datetime&&!_.some(e.datetime,function(t){return void 0===t}))return e.datetime.year+"/"+e.datetime.month+"/"+e.datetime.day+" "+e.datetime.hour+":"+e.datetime.minute},function(t){t&&r.$setViewValue(t)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("sizedSrc",["ImageTransform","$window",function(t,e){return{restrict:"A",scope:{sizedSrc:"<"},link:function(n,i){n.$watch("sizedSrc",function(n){i.css("width","100%");var r=i.width()*(e.devicePixelRatio||1);i.attr("src",t.resize(n,{width:r}))})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("skin",["Bindings",function(t){var e=t.resolver({skin:"<",skin_template:"<skinTemplate"});return{restrict:"A",link:function(t,n,i){var r=e(t,i),o=function(){return _.chain(r.skin_template).mapValues(function(t){return _.get(r.skin,t)}).omitBy(function(t){return null==t}).value()},a=function(t,e){e&&e!==t&&_.each(e,function(t,e){n.css(e,"")}),t&&n.css(t)};t.$watch(o,a,!0)}}}])},function(t,e,n){"use strict";angular.module("genius").directive("slideDown",["$immediate","Bindings",function(t,e){var n=e.resolver({no_slide_when:"<noSlideWhen",slide_down_callback:"&slideDownCallback"});return{restrict:"A",link:function(e,i,r){var o=n(e,r);if(!o.no_slide_when){i.hide();t(function(){i.slideDown(200,function(){o.slide_down_callback()})},!1)}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("slideOverPane",[function(){return{restrict:"E",templateUrl:"slide_over_pane.html",transclude:!0,scope:{condition:"<",closeOn:"&",scrollToTopTrigger:"<"},controller:["$scope","Bowser",function(t,e){e.ios&&(t.is_ios=!0)}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("slideUpOn",["$immediate",function(t){return{restrict:"A",link:function(e,n,i){e.$watch(i.slideUpOn,function(e){e&&t(function(){n.slideUp(200)},!1)})}}}])},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}angular.module("genius").directive("songActivity",["SongClient",function(t){return{templateUrl:"song_activity.html",restrict:"E",scope:{song:"<"},controllerAs:"ctrl",controller:["$scope",function(e){var n=this,r=0,o=0;this.loading_contributors=!0,this.loading_iq_earners=!0,this.load_contributors=function(){t.load_contributor_data(e.song.id).then(function(t){o+=t.iq_earners.length,e.contributors=t,e.has_more_iq_earners=o<t.iq_earners_total,r+=1}).finally(function(){e.ctrl.loading_contributors=!1,e.ctrl.loading_iq_earners=!1})},this.load_more_iq_earners=function(){e.loading_contributors||(n.loading_iq_earners=!0,t.load_iq_earners(e.song.id,{page:r}).then(function(t){o+=t.iq_earners.length,e.contributors.iq_earners=_.uniqBy(e.contributors.iq_earners.concat(t.iq_earners),"user.id"),e.has_more_iq_earners=o<t.iq_earners_total,r+=1}).finally(function(){e.ctrl.loading_iq_earners=!1}))},this.load_contributors();var a=void 0,s=void 0;this.load_next_page=function(){s||(s=t.line_items(e.song.id,a).then(function(t){var n,r=t.line_items;(n=e.line_items).push.apply(n,i(r)),s=void 0,r.length?(a=t.next_page)||(e.done_loading=!0):e.done_loading=!0}))},this.should_paginate=function(){return!s&&!e.done_loading},function(){e.line_items=[],e.done_loading=!1,a=1,n.load_next_page()}()}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("songAdminMenu",[function(){return{restrict:"E",templateUrl:"song_admin_menu.html",controller:["$scope",function(t){t.actions=["publish","unpublish","hide","unhide","award_transcription_iq","remove_transcription_iq","reindex","view_annotation_engagement_data","edit_spotify_annotations_for","view_lyrics_synchronization","destroy","verify_lyrics","unverify_lyrics","disable_media","enable_media"]}],link:function(t){t.$watch("song.current_user_metadata",function(){t.has_admin_items=_(t.actions).some(function(e){return t.can_perform(e)})})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("songAlbum",[function(){return{scope:{album:"<",tracks:"<",current_song:"<currentSong"},restrict:"E",templateUrl:"song_album.html"}}])},function(t,e,n){"use strict";angular.module("genius").directive("songMetadata",[function(){return{templateUrl:"song_metadata.html",restrict:"E",scope:{song:"<"},controllerAs:"ctrl",controller:["$scope","Session",function(t,e){this.has_permission=function(n){return e.has_permission(n,t.song)}}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("songMetadataForm",["$window","Session","TagClient","I18n",function(t,e,n,i){return{scope:{save:"&onSave",song_was:"<object",expanded_sections:"=expandedSections",yields_is_dirty:"&yieldsIsDirty"},restrict:"E",templateUrl:"song_metadata_form.html",controllerAs:"ctrl",controller:["Tracking","$scope",function(r,o){var a=this;this.close=function(){!o.expanded_sections||a.song_form.$dirty&&!t.confirm(i.t("song.action_confirmations.dismiss_dirty"))||(o.expanded_sections=null)},this.has_permission=function(t){return e.has_permission(t,o.song)},this.submit=function(){o.save({song:o.song}).then(function(){r.track("Metadata Edit",{Source:"Edit"}),o.expanded_sections=null}).catch(function(t){a.error=t})},o.song=angular.copy(o.song_was),o.$watch("song_was.updated_by_human_at",function(t,e){t>e&&(a.editable_metadata_stale=!0)}),o.available_primary_tags=[],n.primary().then(function(t){o.available_primary_tags=t.map(function(t){return t.id===o.song.primary_tag.id?o.song.primary_tag:t})})}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("songMetadataPreview",[function(){return{templateUrl:"song_metadata_preview.html",restrict:"E",scope:{song:"<"},controllerAs:"ctrl"}}])},function(t,e,n){"use strict";angular.module("genius").directive("songPrimaryAlbum",function(){return{restrict:"E",templateUrl:"song_primary_album.html",scope:{album:"<"}}})},function(t,e,n){"use strict";angular.module("genius").directive("soundcloud",["$q","Tracking","getScript","Soundcloud",function(t,e,n,i){var r=function(){return n("https://w.soundcloud.com/player/api.js",{cache:!0})};return{restrict:"E",templateUrl:"soundcloud.html",replace:!0,scope:{yieldsApi:"&",yieldsState:"&",soundcloud_src:"<soundcloudSrc"},link:function(n,o){n.$watch("soundcloud_src",function(a){if(a){var s=t.defer(),c=s.promise,l=function(t,e){t.attr("src",e)};t.all([i.player_url_for_src(n.soundcloud_src),r()]).then(function(t){var e=t[0];l(o,e.$$unwrapTrustedValue());var i=SC.Widget(o[0]);i.bind(SC.Widget.Events.READY,function(){i.getDuration(function(t){t?(s.resolve(i),n.duration=t):u.has_errored=!0,n.$apply()})})});var u={};n.yieldsState({state:u});var d=function(t,e,i){t.bind(e,function(){n.$apply(i)})},p=_.once(function(){e.track("Soundcloud play")});c.then(function(t){u.is_loaded=!0,d(t,SC.Widget.Events.ERROR,function(){u.has_errored=!0}),d(t,SC.Widget.Events.PAUSE,function(){u.is_loaded=!0,u.is_playing=!1}),d(t,SC.Widget.Events.PLAY,function(){p(),u.is_loaded=!1,u.is_playing=!0}),t.bind(SC.Widget.Events.PLAY_PROGRESS,_.throttle(function(t){n.$apply(function(){u.is_loaded=!0,u.percentage=t.relativePosition,u.time_remaining=n.duration-t.currentPosition})},100))}),n.yieldsApi({api:{load_media:function(){},playpause:function(){c.then(function(t){u.is_playing?t.pause():t.play()})},pause:function(){c.then(function(t){t.pause()})},seek_to:function(t){u.percentage=t,c.then(function(e){e.seekTo(n.duration*t)})}}}),c.then(function(t){i.oembed_url_for_src(a).then(t.load.bind(t))})}})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("spotifyOnboarding",["Cookies","AppConfig",function(t,e){return{link:function(n,i){t.put("has_hidden_open_in_app_button",1,{path:"/"}),n.app_store_url=e.app_store_url,n.jump_below_onboarding=function(){var t=i.position().top+i.outerHeight();$("html, body").animate({scrollTop:t},150)}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("standaloneReferent",function(){return{templateUrl:"standalone_referent.html",restrict:"E",scope:{referent:"<object",variants:"<",yields_api:"&yieldsApi",on_pending_event:"&onPendingEvent",yields_iq:"&yieldsIq",focused_comments:"<focusedComments"},controller:["$scope","$window","$immediate",function(t,e,n){n(function(){e.parent.postMessage({sentinel:"amp",type:"embed-size",height:e.document.body.scrollHeight},"*")}),this.disables_user_tooltips=_.get(t,"variants.disableTooltips")}]}})},function(t,e,n){"use strict";angular.module("genius").directive("standardRichContent",function(){return{restrict:"E",scope:{html:"<",variants:"<"},templateUrl:"standard_rich_content.html",controller:["$element","$scope","$sce","Facebook",function(t,e,n,i){e.$watch("html",function(r){r?(e.trusted_html=n.trustAsHtml(r),e.$applyAsync(function(){return i.process_embeds(t[0])})):Reflect.deleteProperty(e,"trusted_html")})}]}})},function(t,e,n){"use strict";angular.module("genius").directive("sticky",["Waypoint","$immediate","Bindings",function(t,e,n){var i=n.resolver({sticky:"<"});return{restrict:"A",link:function(n,r,o){var a=i(n,o),s=o.stickyClass,c=void 0;if("stickyUseParentAsWrapper"in o)c=!1;else{var l=o.stickyWrapperClass||"sticky_wrapper";c='<div class="'+l+'">'}var u=!1;e(function(){var e=void 0!==a.sticky,i=new t.Sticky({element:r,wrapper:c,stuckClass:s,offset:function(){return o.stickyOffset||"0"},handler:function(){return u=!u},enabled:!e});e&&n.$watch(function(){return a.sticky},function(){a.sticky?i.waypoint.enable():i.waypoint.disable()})},!1)}}}])},function(t,e,n){"use strict";angular.module("genius").directive("stopPropagation",function(){return{restrict:"A",link:function(t,e,n){e.on(n.stopPropagation,function(t){t.stopPropagation()})}}})},function(t,e,n){"use strict";angular.module("genius").directive("submitOnCmdEnter",function(){return{restrict:"A",require:"form",link:function(t,e,n,i){e.on("keydown",function(n){13===n.keyCode&&(n.metaKey||n.shiftKey)&&(t.$apply(function(){i.$commitViewValue()}),e.triggerHandler("submit"),n.preventDefault())})}}})},function(t,e,n){"use strict";angular.module("genius").directive("svg",["Bowser","ShimInnerHtmlProp","$templateCache","$immediate",function(t,e,n,i){var r=function(e,r){var o=$(n.get(r));e.html(o[0].innerHTML),_.each(o[0].attributes,function(t){e[0].setAttribute(t.name,t.value)});var a=e.get(0).getAttribute("viewBox");(t.msie||t.msedge)&&a&&i(function(){var t=a.split(" ");t.length>3&&e.width(e.height()*(parseInt(t[2])/parseInt(t[3])))},!1)};return{link:function(t,n,i){e(),"src"in i&&r(n,i.src),"ngSrc"in i&&t.$watch(i.ngSrc,function(t){t&&r(n,t)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("tetherDrop",["$immediate","TetherDrop",function(t,e){return{restrict:"E",scope:{containerClasses:"@",position:"@",showOn:"@",visible:"<?",onClose:"&",yieldsApi:"&?"},transclude:"true",link:function(n,i,r,o,a){var s=void 0,c=new e({content:s||"",target:i.closest("[tether-drop-target]")[0],position:n.position||"right middle",openOn:n.showOn,remove:!0,loadContentOnDemand:!0,hoverOpenDelay:250,tetherOptions:{constraints:[{to:"window",attachment:"together element",pin:!0}],classes:{element:n.containerClasses}}});c.once("open",function(){a(function(e){var n=$(c.content);n.hide(),s=$("<div>").append(e)[0],n.append(s),t(function(){n.show(),c.position()})})}),c.on("close",n.onClose),"visible"in r&&n.$watch("!!visible",function(t){t?c.open():c.close()}),n.$watch(function(){return c.position}),n.$on("$destroy",function(){return c.destroy()});var l={hide:c.close.bind(c),show:c.open.bind(c)};"yieldsApi"in r&&n.yieldsApi({tetherApi:l})}}}])},function(t,e,n){"use strict";angular.module("genius").component("textCorrector",{bindings:{text:"<",cancel:"&",submit:"&",yields_text_corrector:"&yieldsTextCorrector"},templateUrl:"text_corrector.html",controller:["$q","$window","I18n",function(t,e,n){this.submit_form=function(){return this.saving=!0,t.when(this.submit({corrected:this.text})).finally(function(){delete this.saving,this.correction_form.$setPristine()}.bind(this))},this.cancel_correction=function(){this.is_dirty()&&!e.confirm(n.t("editing.dirty_unload_confirm_box"))||(this.correction_form.$rollbackViewValue(),this.correction_form.$setPristine(),this.cancel())},this.yields_text_corrector({text_corrector:{cancel:this.cancel_correction.bind(this)}})}]})},function(t,e,n){"use strict";angular.module("genius").directive("textSelectionChanged",["TextSelection",function(t){var e=function(t){for(var e=t.commonAncestorContainer;e.nodeType!==Node.ELEMENT_NODE;)e=e.parentNode;return e};return{restrict:"A",scope:{textSelectionChanged:"&"},link:function(n,i){t.$on("selection",function(t,r){var o=r.ranges.filter(function(t){return i[0].contains(e(t))});n.textSelectionChanged({ranges:o})})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("textarea",["Autosize","$immediate",function(t,e){return{restrict:"E",link:function(n,i,r){if(!("autosizeOff"in r)){var o=function(){t.update(i)},a=function(){t(i)};"autosizeInitOnFocus"in r?i.on("focus",a):e(a,!1),i.on("change",o),n.$watch(r.ngModel,function(t){t!==i.val()&&e(o,!1)}),r.ngShow&&n.$watch(r.ngShow,function(t){t&&e(o,!1)})}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("timeAgo",[function(){return{restrict:"E",templateUrl:"time_ago.html",scope:{time:"<"}}}])},function(t,e,n){"use strict";angular.module("genius").directive("timestampInput",["timestamp_for_displayFilter",function(t){var e=function(t){if(!t)return null;var e=t.split(":");return Math.floor(1e3*(60*parseInt(e[0]||"0",10)+parseFloat(e[1]||"0")))};return{scope:{timestamp:"=ngModel",ngDisabled:"<"},template:'<input ng-model="string" ng-disabled="ngDisabled" type="text"/>',link:function(n,i){n.$watch("timestamp",function(e){n.string=t(e)}),i.find("input").on("blur",function(){n.timestamp=e(n.string),n.$apply()})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("tracking",["Tracking","Waypoint","$immediate",function(t,e,n){return{restrict:"A",link:function(i,r,o){var a=function(){t.track(o.trackingEvent,i.$eval(o.trackingOptions))};switch(o.tracking){case"scroll_into_view":n(function(){new e({element:r,handler:function(){a(),this.destroy()},offset:"100%"})});break;default:r.bind(o.tracking,a)}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("tracksLinkWithClass",["$document",function(t){return{restrict:"A",link:function(e,n,i){if(void 0!==window.mixpanel){n.addClass(i.tracksLinkWithClass);var r=i.withEventName||"clicked_"+i.tracksLinkWithClass;mixpanel.track_links("."+i.tracksLinkWithClass,r,{"from url":t[0].location.href})}}}}])},function(t,e,n){"use strict";angular.module("genius").directive("transcludeInjectingLocalScope",function(){return{restrict:"E",link:function(t,e,n,i,r){if(!r)throw{message:"Illegal use of transcludeInjectingLocalScope directive in the template! No parent directive that requires a transclusion found.",element:e};var o=t.$new();r(o,function(t){e.empty(),e.append(t),e.on("$destroy",function(){o.$destroy()})})}}})},function(t,e,n){"use strict";angular.module("genius").directive("upwardsInfiniteScroll",["$throttle",function(t){return{restrict:"A",link:function(e,n,i){var r=i.upwardsInfiniteScroll,o=!1;i.infiniteScrollDisabled&&e.$watch(i.infiniteScrollDisabled,function(t){o=t,a()});var a=function(){o||n.scrollTop()<.1*n.height()&&e.$eval(r)};a(),n.on("scroll",t(a,250,{leading:!1}))}}}])},function(t,e,n){"use strict";angular.module("genius").directive("userBadge",function(){return{restrict:"E",templateUrl:"user_badge.html",scope:{user:"<object",size:"@",pinned_role:"<pinnedRole",anonymous_user:"<anonymousUser",sponsor:"<",variants:"<"},require:"^?standaloneAnnotation",link:function(t,e,n,i){t.disables_user_tooltips=i&&i.disables_user_tooltips;var r=!_.includes(["small","x_small"],t.size);t.is_two_lines=r,t.user&&(t.avatar_url=r?t.user.avatar.small.url:t.user.avatar.thumb.url)}}})},function(t,e,n){"use strict";angular.module("genius").directive("userBadgeAndTimestamp",function(){return{restrict:"E",templateUrl:"user_badge_and_timestamp.html",scope:{size:"@",user:"<",pinned_role:"<pinnedRole",anonymous_user:"<anonymousUser",time:"<",sponsor:"<",variants:"<"}}})},function(t,e,n){"use strict";angular.module("genius").directive("userTooltip",function(){return{restrict:"E",templateUrl:"user_tooltip.html",scope:{user:"<"}}})},function(t,e,n){"use strict";angular.module("genius").directive("voters",["VoteClient",function(t){return{restrict:"E",templateUrl:"voters.html",scope:{type:"@",object:"<"},link:function(e){e.load=function(){t.load_voters(e.type,e.object.id).then(function(t){e.loaded_voters=!0,e.voters=t,e.object.votes_total=t.votes_total})},e.$on("update_voters",function(t){e.loaded_voters=!1,e.load()}),e.load()}}}])},function(t,e,n){"use strict";angular.module("genius").directive("voting",[function(){var t={down:-1,up:1};return{restrict:"E",templateUrl:"voting.html",scope:{voteTotalClicked:"&",voteable:"<object",type:"@",onUnauthorized:"&",variants:"<"},controllerAs:"ctrl",controller:["$scope","Session","Tracking","VoteClient","Reversible",function(e,n,i,r,o){var a=function(n,i){var a=(t[n]||0)-(t[i]||0),s={votes_total:e.voteable.votes_total+a};e.voteable.has_voters||(s.has_voters=!0);var c=o.modify(e.voteable,s);r.submit_vote(e.type,e.voteable.id,n).then(function(){e.$emit("vote_saved")}).catch(function(){c(),e.voteable.current_user_metadata.interactions.vote=i})};this.submit_vote=function(t){var r=e.voteable.current_user_metadata.interactions.vote;if(t===r&&(t=void 0),!n.user_signed_in)return i.track("Logged out vote attempt"),e.onUnauthorized({vote:t});n.has_permission("vote",e.voteable)&&(e.voteable.current_user_metadata.interactions.vote=t,a(t,r),e.$emit("vote_submitted",e.type,t))}}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("watchImagesLoaded",["$immediate","$q",function(t,e){return{restrict:"A",link:function(n,i,r){var o=r.watchImagesLoaded||"ngBindHtml";n.$watch(o,function(r){if(!r)return void n.$emit("images_loaded");t(function(){e(function(t){i.waitForImages(t)}).then(function(){n.$emit("images_loaded")})},!1)})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("webAnnotatorRoleRow",[function(){return{templateUrl:"web_annotator_role_row.html",scope:{on_create:"&onCreate",on_error:"&onError",user_role:"<userRole"},bindToController:!0,controllerAs:"$ctrl",controller:["WebAnnotatorClient","$q",function(t,e){var n=this,i=function(){return _.pick(n.user_role,["user_login","role","page_moderator","auto_feature"])};this.$onInit=function(){this.editing=!this.user_role.id},this.create=function(){n.saving=!0,e.when(n.on_create({params:i()})).then(function(){n.user_role={auto_feature:!0}}).catch(function(t){n.on_error({error:t})}).finally(function(){n.saving=!1})},this.save=function(){n.saving=!0,t.update_user_role(n.user_role.id,i()).then(function(t){n.user_role=t,n.editing=!1}).catch(function(t){n.on_error({error:t})}).finally(function(){n.saving=!1})},this.destroy=function(){n.user_role._deleted=!0,t.destroy_user_role(n.user_role.id).catch(function(t){n.on_error({error:t}),n.user_role._deleted=!1})}}]}}])},function(t,e,n){"use strict";angular.module("genius").directive("yieldsBoundingBoxHeight",["$immediate",function(t){return{restrict:"A",scope:{yieldsBoundingBoxHeight:"&"},link:function(e,n){t(function(){var t=n[0].getBoundingClientRect().height;e.yieldsBoundingBoxHeight({height:t})})}}}])},function(t,e,n){"use strict";angular.module("genius").directive("youtubePlayer",["$document","Youtube",function(t,e){return{restrict:"E",scope:{src:"<?",start:"<?",controls:"<?",fullscreen:"<?",yields_api:"&yieldsApi",yields_state:"&yieldsState",eager_load:"<?eagerLoad",autoplay:"<?",playsinline:"<?"},link:function(n,i){n.state={};var r=t[0].createElement("div");i[0].appendChild(r);var o=new e(r,{controls:n.controls,fullscreen:n.fullscreen,playsinline:n.playsinline});n.$watch("src",function(t){var e=t.match(/http:\/\/www\.youtube\.com\/watch\?v=(.*)/i)[1];o.cue_video_by_id(e,n.start||0),n.eager_load&&(o.api.load_media(),n.autoplay&&(o.api.mute(),o.api.playpause())),n.yields_api({api:o.api}),n.yields_state({state:o.state})})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("$debounce",["$timeout",function(t){return function(e,n){var i;return function(){t.cancel(i),i=t(e,n)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("$immediate",["$timeout",function(t){return function(e,n){return t(e,0,n)}}])},function(t,e,n){"use strict";angular.module("genius").factory("$throttle",["$rootScope",function(t){return function(e,n,i){return _.throttle(function(){var n=arguments;t.$apply(function(){e.apply(null,n)})},n,i)}}])},function(t,e,n){"use strict";angular.module("genius").factory("AbTest",["AbTestClient","LocalStorage","$q",function(t,e,n){return{in_ab_test_variant:function(i,r){return e.is_available()&&_.has(JSON.parse(e.getItem("ab_tests")),i)?n.resolve(JSON.parse(e.getItem("ab_tests"))[i]===r):t.get().then(function(t){return e.is_available()&&e.setItem("ab_tests",JSON.stringify(t.ab_tests)),t.ab_tests[i]===r})},clear:function(){e.is_available()&&e.removeItem("ab_tests")},get mixpanel_properties(){var t={};return e.is_available()&&e.getItem("ab_tests")&&_.forIn(JSON.parse(e.getItem("ab_tests")),function(e,n){t["AB Test - "+n]=e}),t}}}])},function(t,e,n){"use strict";angular.module("genius").factory("AbTestClient",["ApiClient",function(t){return{get:function(){return t.get("/ab_tests")}}}])},function(t,e,n){"use strict";angular.module("genius").factory("AccomplishmentClient",["ApiClient",function(t){return{update:function(e,n){return t.put("/accomplishments/:accomplishment_id",_.merge({accomplishment_id:e},n))}}}])},function(t,e,n){"use strict";angular.module("genius").factory("AdminTaskClient",["ApiClient",function(t){return{get:function(e){return t.get("/admin_tasks/"+e)},perform_task:function(e,n){return t.post("/admin_tasks/"+e.name+"/perform",{property_values:n})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("Ads",["$location","$q","$window","ApiClient","application_bootstrap",function(t,e,n,i,r){n["Genius.ads"]=n["Genius.ads"]||[];var o=e(function(t){return n["Genius.ads"].push(t)}),a=function(e,n,r){i.post("/client_logs/gpt_slot_rendered/"+t.search().log_ads,Object.assign({name:e,instance:n,url:t.url(),hb_bidder:_.get(r.slot.getTargetingMap(),["hb_bidder",0]),hb_adid:_.get(r.slot.getTargetingMap(),["hb_adid",0])},r.slot.getResponseInformation()))};return o.then(function(t){r.after(t.trigger_user_syncs.bind(t))}),{id_for:function(t,e){return o.then(function(n){return n.id_for(t,e)})},reset_for_new_page_view:function(t){var e=t.targeting;return o.then(function(t){t.reset_for_new_page_view({targeting:e})})},render:function(n,i,r){return o.then(function(o){return e(function(e){o.render(n,i,r).then(function(r){t.search().log_ads&&a(n,i,r),e(r)})})})},dispose:function(t,n){return o.then(function(i){return e(function(e){i.dispose(t,n).then(e)})})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("AdwordsAdClient",["AppConfig","$http",function(t,e){return{all:function(n){return e.get(t.api_root_url+"/adwords_ads?adwords_ad_group_id="+n).then(function(t){return t.data.response.ads})},create:function(n,i){return e.post(t.api_root_url+"/adwords_ads",{ad:i,adwords_ad_group_id:n}).then(function(t){return t.data.response.ad})},update:function(n,i){return e.put(t.api_root_url+"/adwords_ads/"+n,{ad:i}).then(function(t){return t.data.response.ad})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("AdwordsAdGroupClient",["AppConfig","$http",function(t,e){return{all:function(n){return e.get(t.api_root_url+"/adwords_ad_groups?adwords_campaign_id="+n).then(function(t){return t.data.response.ad_groups})},create:function(n,i){return e.post(t.api_root_url+"/adwords_ad_groups",{ad_group:i,adwords_campaign_id:n}).then(function(t){return t.data.response.ad_group})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("AdwordsCampaignClient",["AppConfig","$http",function(t,e){return{all:function(){return e.get(t.api_root_url+"/adwords_campaigns").then(function(t){return t.data.response.campaigns})},create:function(n){return e.post(t.api_root_url+"/adwords_campaigns",{campaign:n}).then(function(t){return t.data.response.campaign})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("AdwordsNetworkClient",["$http","AppConfig",function(t,e){return{all:function(){return t.get(e.api_root_url+"/adwords_networks").then(function(t){return t.data.response.networks})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("AlbumClient",["ApiClient",function(t){return{autocomplete:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.returning("albums").get("/albums/autocomplete",Object.assign({q:e},n))},load_leaderboard:function(e,n){return t.get("/albums/"+e+"/leaderboard",n)},update:function(e,n){return t.returning("album").put("/albums/"+e,{album:n,text_format:"html,markdown"})},update_tracklist:function(e,n){return t.returning("album_appearances").put("/albums/"+e+"/tracklist",{tracklist:n})},delete:function(e){return t.delete("/albums/"+e)},change_lock_state:function(e,n){return t.returning("album").put("/albums/"+e+"/change_lock_state",{state_event:n})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("AnnotationClient",["$q","ApiClient","Session","Reversible","Markdown",function(t,e,n,i,r){var o=function(t){var e=n.user_signed_in?"html,markdown":"html";return t.extend({params:{text_format:e}})},a=function(t,e){return t._deleted=!0,e.catch(function(){Reflect.deleteProperty(t,"_deleted")})},s=function(t,n){return e.use(o).returning("annotation_edit").post("/annotation_edits/:edit_id/:action",{edit_id:n,action:t})},c=function(t,n){return e.use(o).put("/annotations/:annotation_id",_.merge(n,{annotation_id:t}))},l=function(t,n){return e.use(o).post("/referents/:referent_id/annotations",_.merge(n,{referent_id:t}))},u=function(t){return 0===t.comment_count};return{save:function(e,n){var o={body:{markdown:e._editing.markdown},edit_note:e._editing.edit_note};e._editing._has_source&&(o.source=e._editing.source),e._editing.custom_preview!==e.custom_preview&&(o.custom_preview=e._editing.custom_preview);var a=void 0;a=e.id?c(e.id,{annotation:o}):l(n.referent.id,{annotation:o});var s=i.modify(e,{"body.html":r.to_html(e._editing.markdown),new:!1,source:o.source});return a.then(function(t){return _.assign(n.referent,t.referent),_.assign(e,t.annotation)}).catch(function(){return s(),t.reject()})},safe_delete:function(t){return a(t,this.delete(t.id))},delete:function(t){return e.delete("/annotations/:annotation_id",{annotation_id:t})},accept:function(r,a){var s=a.referent,c=i.modify(s,{classification:"unreviewed"===s.classification?"accepted":s.classification}),l=i.modify(r,{state:"accepted",accepted_by:n.current_user,"current_user_metadata.permissions":["edit"]});return e.use(o).returning("annotation").post("/annotations/:annotation_id/accept",{annotation_id:r.id}).then(function(t){return _.assign(r,t)}).catch(function(){return c(),l(),t.reject()})},safe_reject:function(e,n){var r=void 0,o=n.comment,a=_.assign({},o,{body:o.body.markdown,reason:o.reason?o.reason.raw_name:void 0});return r=u(e)?i.modify(e,{_deleted:!0}):i.modify(e,{needs_exegesis:!0}),this.reject(e.id,{comment:a}).then(function(t){var i=t||{};_.assign(e,i.annotation||{_deleted:!0}),_.assign(n.referent,i.referent||{_deleted:!0})}).catch(function(){return r(),t.reject()})},reject:function(t,n){return e.use(o).post("/annotations/:annotation_id/reject",_.merge(n,{annotation_id:t}))},pin_to_profile:function(t){return e.use(o).put("/annotations/:annotation_id/pin_to_profile",{annotation_id:t})},unpin_from_profile:function(t){return e.use(o).put("/annotations/:annotation_id/unpin_from_profile",{annotation_id:t})},toggle_cosign:function(t,n){return e.use(o).put("/annotations/:annotation_id/"+(n?"":"un")+"cosign",{annotation_id:t})},clear_votes:function(t){return e.delete("/votes",{annotation_id:t})},report_as_abusive:function(t){return e.post("/annotations/:annotation_id/report_as_abusive",{annotation_id:t})},load_versions:function(t){return e.use(o).returning("versions").get("/annotations/:annotation_id/versions",{annotation_id:t})},revert_to_version:function(t,n){return e.use(o).returning("annotation").put("/annotations/:annotation_id/version",{annotation_id:t,version_id:n})},propose_edit:function(t){var n={body:{markdown:t._editing.markdown},edit_note:t._editing.edit_note};return e.use(o).returning("annotation_edit").post("/annotations/:annotation_id/edits",{annotation_id:t.id,annotation:n})},proposed_edits:function(t){return e.use(o).returning("annotation_edits").get("/annotations/:annotation_id/edits",{annotation_id:t})},merge_edit:function(t){return s("merge",t)},reject_edit:function(t){return s("reject",t)},set_brand:function(t,n){return e.use(o).returning("annotation").put("/annotations/:id/brand",{id:t.id,brand_id:n.id})},clear_brand:function(t){return e.use(o).returning("annotation").delete("/annotations/:id/brand",{id:t.id})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("AnswerClient",["$http","$q","AppConfig","Session","Reversible","Markdown",function(t,e,n,i,r,o){var a=function(t){var n=new Error(t.data.meta.message);return _.assign(n,_.pick(t,"status","statusText")),e.reject(_.assign(n,t.data.response))},s=function(e,r){var o=i.user_signed_in?"html,markdown":"html",s={text_format:o};return t.put(n.api_root_url+"/answers/"+e,r,{params:s}).then(function(t){return t.data.response}).catch(function(t){return a(t)})},c=function(e,r){var o=i.user_signed_in?"html,markdown":"html",s={text_format:o};return r=_.assign({},r,{question:_.pick(e,["body","questionable_id","questionable_type","default_key","state"])}),t.post(n.api_root_url+"/answers",r,{params:s}).then(function(t){return t.data.response}).catch(function(t){return a(t)})},l=function(e,r){var o=i.user_signed_in?"html,markdown":"html",s={text_format:o};return t.post(n.api_root_url+"/questions/"+e+"/answers",r,{params:s}).then(function(t){return t.data.response}).catch(function(t){return a(t)})};return{save:function(t,n){var a={body:{markdown:t._editing.markdown},pin_question:t._editing.pin_question};i.has_permission("update_answer_source",n.question)&&(a.answer_source=t.answer_source);var u=void 0;u=t.id?s(t.id,{answer:a}):n.question.id?l(n.question.id,{answer:a}):c(n.question,{answer:a});var d=r.modify(t,{"body.html":o.to_html(t._editing.markdown),new:!1}),p={};a.pin_question&&(p.state="pinned");var f=r.modify(n.question,p);return u.then(function(e){return _.assign(n.question,_.omit(e.question,"answer")),_.assign(t,e.answer)}).catch(function(t){return d(),f(),e.reject(t)})},destroy:function(i,o){var s=i.id;if(!s)return e.reject(new Error("Answer hasn't been saved yet."));var c=r.modify(o.question.current_user_metadata,{permissions:o.question.current_user_metadata.permissions.concat("add_answer")});return t.delete(n.api_root_url+"/answers/"+s).then(function(t){return _.assign(o.question,_.omit(t.question,"answer")),t.data.response}).catch(function(t){return c(),a(t)})}}}])},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();angular.module("genius").factory("ApiClient",["$http","AppConfig","PromiseQueue","BeforeUnloadCheck",function(t,e,n,c){var l=new n;c.add(function(){return!l.is_empty()});var u=function(t){var e=_.isObject(t)&&_.isObject(t.data)&&_.has(t.data,"meta")&&_.has(t.data,"response"),n=_.isObject(t)&&204===t.status&&""===t.data;return e||n},d=function t(e){a(this,t),_.assign(this,e.data.response)},p=function(t){function e(t,n){a(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.status=n.status,i.response=n.data,i.stack=Error().stack,i}return o(e,t),s(e,[{key:"name",get:function(){return"ApiError"}}]),e}(Error),f=function(t){if(u(t)){var e=t.data.meta.message||t.statusText,n=new p(e,t);return _.assign(n,{response:t.data.response})}return new p(t.statusText,t)},h=function(t,e){return t.split("/").map(function(n){return n.replace(/^:(\w+)$/,function(n,i){if(_.has(e,i)&&null!=e[i]){var r=e[i];return Reflect.deleteProperty(e,i),r}throw Error("Missing param '"+i+"' for API path '"+t+"'")})}).join("/")},m=function(t){return function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!_.startsWith(n,"/"))throw Error("Path must start with /");i=_.clone(i),n=h(e.api_root_url+n,i);var r="get"===t||"delete"===t?{params:i}:{data:i};return this.extend({method:t,url:n}).merge(r).send()}};return function(){function e(t,n){a(this,e),this._config=t,this._transform=n}return s(e,[{key:"_update",value:function(t){var n=_.assign({config:this._config,transform:this._transform},t);return new e(n.config,n.transform)}},{key:"_is_get",value:function(){return"get"===this._config.method}},{key:"extend",value:function(t){return this._update({config:_.assign({},this._config,t)})}},{key:"merge",value:function(t){return this._update({config:_.merge({},this._config,t)})}},{key:"use",value:function(t){return _.tap(t(this),function(t){if(!(t instanceof e))throw TypeError("Result of ApiRequest#use() must be an ApiRequest")})}},{key:"set_param",value:function(t,e){return this.merge({params:i({},t,e)})}},{key:"transform",value:function(t){return this._update({transform:_.flow(this._transform,t)})}},{key:"returning",value:function(t){return this.transform(_.property(t))}},{key:"send",value:function(){var e=this;return(this._is_get()?t(this._config):l.add(function(){return t(e._config)})).catch(function(t){var e=_.isObject(t.data)?f(t):new p(t.statusText,t);return Promise.reject(e)}).then(function(t){return u(t)?Promise.resolve(new d(t)):Promise.reject(new p("Invalid response",t))}).then(this._transform)}},{key:"then",value:function(t,e){return this._response=this._response||this.send(),this._response.then(t,e)}},{key:"get",get:function(){return m("get")}},{key:"post",get:function(){return m("post")}},{key:"put",get:function(){return m("put")}},{key:"delete",get:function(){return m("delete")}}],[{key:"empty",value:function(){return new e({},_.identity)}}]),e}().empty()}])},function(t,e,n){"use strict";angular.module("genius").constant("AppConfig",window.APP_CONFIG)},function(t,e,n){"use strict";angular.module("genius").factory("application_bootstrap",["$q",function(t){var e=!1,n=t.defer(),i=[];return{before:function(t){e||t()},after:function(t){if(e)return t();i.push(n.promise.then(t))},done:function(){return e=!0,n.resolve(),t.all(i)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("ArticleClient",["$http","AppConfig","ApiClient",function(t,e,n){return{index:function(n){return t.get(e.api_root_url+"/articles",{params:n}).then(function(t){return t.data.response})},delete:function(t){return n.delete("/articles/"+t)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("ArtistClient",["$http","AppConfig","ApiClient",function(t,e,n){var i={autocomplete_api_endpoint:e.api_root_url+"/artists/autocomplete",autocomplete:function(e){return t.get(i.autocomplete_api_endpoint,{params:{q:e}}).then(function(t){return t.data.response.artists})},autocomplete_options:{minChars:2,parse:function(t){return _.map(t.response.artists,function(t){return{data:[t.name,t],value:t,result:t}})}},load:function(n){return t.get(e.api_root_url+"/artists/"+n).then(function(t){return t.data.response.artist})},update:function(n,i){var r=["name","alternate_names","image_url","header_image_url","instagram_name","twitter_name","facebook_name"];return t.put(e.api_root_url+"/artists/"+n,{artist:_.pick(i,r),text_format:"html,markdown"}).then(function(t){return t.data.response.artist})},load_albums:function(n,i){return t.get(e.api_root_url+"/artists/"+n+"/albums",{params:i}).then(function(t){return t.data.response})},load_leaderboard:function(n,i){return t.get(e.api_root_url+"/artists/"+n+"/leaderboard",{params:i}).then(function(t){return t.data.response})},merge:function(n,i){return t.put(e.api_root_url+"/artists/"+n+"/merge",{target:{name:i}}).then(function(t){return t.data.response})},get_slug:function(t){return _(this.get_path(t).split("/")).last()},get_path:function(t){return new URL(t.url).pathname},activity_line_items:function(n,i){return t.get(e.api_root_url+"/artists/"+n+"/activity_stream/line_items",{params:i}).then(function(t){return t.data.response})},contribution_opportunities:function(t,e){return n.get("/artists/:id/contribution_opportunities",_.merge(e,{id:t,text_format:"html,markdown"}))}};return i}])},function(t,e,n){"use strict";angular.module("genius").factory("AssetClient",["$http",function(t){return{remove:function(e){return t.post("/assets/remove",{asset_url:e})}}}])},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("genius").factory("AsyncAnalytics",["$document","$q","$immediate","AnalyticsConfig","Librato","Tracking","wait_for_global",function(t,e,n,r,o,a,s){var c={controller_and_action:"dimension2",primary_tag:"dimension3",music:"dimension4",client_routed:"dimension5"},l=function(t){return s("_sf_async_config").then(function(e){return Object.assign(e,t.chartbeat),s("pSUPERFLY")}).then(function(e){e.virtualPage(t.path,t.title)})},u=function(){return s("COMSCORE").then(function(t){t.beacon({c1:"2",c2:r.comscore_client_id})})},d=function(t){return s("ga").then(function(e){return e(function(){e("set","page",t.path),e("set",c.controller_and_action,t.controller_and_action),e("set",c.primary_tag,t.tracking_data["Primary Tag"]),e("set",c.music,String(t.tracking_data["Music?"])),e("set",c.client_routed,"true"),e("send","pageview")})})},p=function(t){o.set_page_type(t.page_type)},f=function(t){a.reset_counters(),a.register({fast_navigating:!0}),a.set_tacking_data(t.tracking_data.reduce(function(t,e){var n=e.key,r=e.value;return Object.assign(t,i({},n,r))},{}))},h=function(){return e.all({__qc:s("__qc"),_qevents:s("_qevents"),quantserve:s("quantserve")}).then(function(t){var e=t.__qc,i=t._qevents,o=t.quantserve;e.qpixelsent=[],o(),n(function(){return i.push({qacct:r.quantcast_account})})})};return{on_navigation:function(t){if(this.remove_social_metadata(),!r.enabled)return e.when();var n=[l(t),u(),d(t),p(t),h()];return r.mixpanel_enabled&&n.push(f(t)),e.all(n)},remove_social_metadata:_.once(function(){return _.filter(t.prop("head").querySelectorAll("meta"),function(t){return(t.getAttribute("property")||"").match(/^(og|fb|twitter):/)}).forEach(function(t){return t.remove()})})}}])},function(t,e,n){"use strict";angular.module("genius").factory("Attempt",["$window","I18n",function(t,e){return{close_form:function(n,i){n?i():t.confirm(e.t("editing.dirty_unload_confirm_box"))&&i()},admin_action:function(e,n){t.confirm(n)&&e()}}}])},function(t,e,n){"use strict";angular.module("genius").factory("AuthenticationClient",["ApiClient","signed_out_created_content",function(t,e){return{sign_in:function(e){return t.post("/sessions",{user:e})},sign_up:function(n){return t.post("/users",{user:n,signed_out_created_content:e.get()}).then(function(t){return e.clear(),t})}}}])},function(t,e,n){"use strict";n(1240),angular.module("genius").factory("Autosize",["$window",function(t){return t.autosize}])},function(t,e,n){"use strict";angular.module("genius").factory("BeforeUnloadCheck",["$window","I18n",function(t,e){var n=[];return t.onbeforeunload=function(){if(_.some(n,function(t){return t()}))return e.t("editing.dirty_unload")},{add:function(t){n.push(t)},remove:function(t){_.remove(n,function(e){return e===t})}}}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();angular.module("genius").factory("Bindings",[function(){var t=function(t,e){var n=t[0];"?"===t[1]&&(n+="?");var i=t.slice(n.length)||e,r={"@":function(){return this.$attrs[i]},"<":function(){return this.$scope.$eval(this.$attrs[i])},"&":function(){var t=this;return function(e){return t.$scope.$eval(t.$attrs[i],e)}},"&?":function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=this;if(!_.isUndefined(this.$attrs[i]))return function(e){return t.$scope.$eval(t.$attrs[i],e)}})}[n];if(!r)throw new Error("invalid attribute specification passed to Bindings service: '"+t+"'");return r};return{resolver:function(e){var n=function(){function n(t,e){i(this,n),this.$scope=t,this.$attrs=e,this.assign_to(this)}return r(n,[{key:"assign_to",value:function(n){var i=this;_.each(e,function(e,r){Reflect.defineProperty(n,r,{get:t(e,r).bind(i)})})}}]),n}();return function(t,e){return new n(t,e)}}}}])},function(t,e,n){"use strict";n(272),angular.module("genius").factory("Bowser",["$window",function(t){return t.bowser}])},function(t,e,n){"use strict";angular.module("genius").factory("BrandClient",["ApiClient",function(t){return{index:function(){return t.returning("brands").get("/brands")}}}])},function(t,e,n){"use strict";angular.module("genius").factory("Brightcove",["$q","AppConfig","getScript","wait_for_global",function(t,e,n,i){var r=function(t){return"//players.brightcove.net/"+e.brightcove_account_id+"/"+t+"_default/index.min.js"},o=t.defer(),a=function(e){return o.promise.then(function(){return n(r(e),{cache:!0})}).then(function(){return t.all({videojs:i("videojs"),bc:i("bc")})})},s={account_id:e.brightcove_account_id,load_api:function(t){return o.resolve(),a(t)}};return _(e).keys().map(function(t){return t.match(/brightcove_(.*)_web_player_id/)}).filter().each(function(t){s[t[1]+"_player_id"]=e[t[0]]}),s}])},function(t,e,n){"use strict";angular.module("genius").factory("ChartClient",["ApiClient",function(t){return{get:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.get("/:model/chart",_.assign({model:e},n))},state:function(e,n){return t.get("/:model/:id/charts/state",{model:e,id:n})},exclude:function(e,n){return t.put("/:model/:id/charts/exclude",{model:e,id:n})},unexclude:function(e,n){return t.put("/:model/:id/charts/unexclude",{model:e,id:n})}}}])},function(t,e,n){"use strict";n(1235),angular.module("genius").factory("Clipboard",["$window",function(t){return t.Clipboard}])},function(t,e,n){"use strict";angular.module("genius").factory("CommentClient",["$http","$q","AppConfig","Markdown","signed_out_created_content",function(t,e,n,i,r){return{load:function(e,i,r){return t.get(n.api_root_url+"/"+e+"/"+i+"/comments",{params:r}).then(function(t){return t.data.response})},destroy:function(e){return t.delete(n.api_root_url+"/comments/"+e)},create:function(o,a,s){s._deleted=!1;var c=_.assign({},s,{body:s.body.markdown,reason:s.reason?s.reason.raw_name:void 0});return s.body.html=i.to_html(c.body),t.post(n.api_root_url+"/"+o+"/"+a+"/comments?text_format=html",{comment:c}).then(function(t){return _.assign(s,t.data.response.comment),r.add("comments",s.id),s.anonymous_author&&(s.anonymous_author.email=s.email),s}).catch(function(){return s._deleted=!0,e.reject()})},change_state:function(e,i){var r={state_event:i};return t.put(n.api_root_url+"/comments/"+e+"/change_state",r)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("ContributionOpportunityAssignmentClient",["ApiClient",function(t){return{update:function(e,n){return t.put("/contribution_opportunity_assignments/:id",{id:e,contribution_opportunity_assignment:n})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("ConversationClient",["ApiClient",function(t){var e=t.set_param("text_format","html");return{latest:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.returning("conversations").get("/conversations",{page:t.page||1})},get:function(t){return e.returning("conversation").get("/conversations/:conversation_id",{conversation_id:t})},mark_read:function(t){return e.returning("conversation").post("/conversations/:conversation_id/mark_read",{conversation_id:t})},with_user:function(t){return e.returning("conversation").put("/conversations/with_user",{user_id:t})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("Cookies",[function(){return{get:function(t){return $.cookie(t)},getObject:function(t){var e=$.cookie(t);if(e)return JSON.parse(e)},getAll:function(){return $.cookie()},put:function(t,e,n){return $.cookie(t,e,n)},putObject:function(t,e,n){return $.cookie(t,JSON.stringify(e),n)},remove:function(t,e){return $.removeCookie(t,e)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("CoverArtClient",["ApiClient","Session",function(t,e){return{index:function(n,i){var r={text_format:e.user_signed_in?"html,markdown":"html"};return r[n+"_id"]=i,t.returning("cover_arts").get("/cover_arts",r)},create:function(e,n,i){var r={cover_art:i};return r[e+"_id"]=n,t.post("/cover_arts",r)},update:function(e,n){return t.put("/cover_arts/"+e,{cover_art:n})},destroy:function(e){return t.delete("/cover_arts/"+e)},move_between:function(e,n){return t.put("/cover_arts/"+e+"/move_between",n)}}}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}angular.module("genius").factory("CursoredDataFeed",[function(){return function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"next_cursor";i(this,t),this.cursor_name=s,this.next_cursor=a,this.params=_.clone(r),this.next=function(){var t={};return t[o.cursor_name]=o.next_cursor,e(_.assign(t,o.params)).then(function(t){return o.next_cursor=t[o.cursor_name],t[n]})},this.has_next=function(){return o.next_cursor||void 0===o.next_cursor},this.reset=function(){o.next_cursor=a}}return t}()}])},function(t,e,n){"use strict";angular.module("genius").factory("CustomAppNotificationClient",["$http",function(t){return{send_preview_notification:function(e){return t.post("/custom_app_notifications",{custom_app_notification:_.assign(e,{preview:!0})})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("CustomPerformanceRoleClient",["$http","AppConfig",function(t,e){return{autocomplete_api_endpoint:e.api_root_url+"/custom_performance_roles/autocomplete",autocomplete:function(e){return t.get(this.autocomplete_api_endpoint,{params:{q:e}}).then(function(t){return t.data.response})},autocomplete_options:{minChars:2,parse:function(t){return _.map(t.response.custom_performance_roles,function(t){var e=t.label;return{data:[e],value:e,result:e}})}}}}])},function(t,e,n){"use strict";angular.module("genius").factory("DateTools",[function(){return{days_to_ms:function(t){var e=new Date;return e.setTime(e.getTime()+864e5*t),e}}}])},function(t,e,n){"use strict";angular.module("genius").factory("DiscussionClient",["ApiClient",function(t){return{forum_posts:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.get("/discussions/"+e+"/forum_posts",_.defaults(n,{text_format:"html"}))}}}])},function(t,e,n){"use strict";angular.module("genius").factory("EagerLoader",function(){var t=function(){this.data={},this.listeners={}};return t.prototype={loaded:function(t,e){this.listeners[t]?this.listeners[t].forEach(function(t){t(e)}):this.data[t]=e},listen_for:function(t,e){this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e),this.data[t]&&(e(this.data[t]),delete this.data[t])}},t})},function(t,e,n){"use strict";angular.module("genius").factory("EventEmitter",["$rootScope",function(t){return function(){this.proxy_emitter=t.$new(),this.emit=function(t,e){this.proxy_emitter.$emit(t,e)},this.on=function(t,e){return this.proxy_emitter.$on(t,function(t,n){t.stopPropagation(),t.preventDefault(),e(n)}),this}}}])},function(t,e,n){"use strict";angular.module("genius").factory("Facebook",["AppConfig","$window","$q","getScript",function(t,e,n,i){var r=_.once(function(){var r=n.defer();return e.fbAsyncInit=function(){e.FB.init({appId:t.facebook_app_id,version:"v"+t.facebook_opengraph_api_version}),r.resolve(e.FB)},i("//connect.facebook.net/en_US/sdk.js",{cache:!0}),r.promise});return $(r),{share:function(t){r().then(function(e){e.ui({method:"share",href:t})})},process_embeds:function(t){r().then(function(e){e.XFBML.parse(t)})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("FeedbackClient",["ApiClient",function(t){return{post_feedback:function(e){return t.post("/feedback",{feedback:{body:e}})}}}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();angular.module("genius").factory("Filepicker",["$window","AppConfig","$q",function(t,e,n){var o=t.filepicker;o.setKey(e.filepicker_api_key);var a=["image/jpeg","image/png","image/gif"],s={policy:e.filepicker_policy,signature:e.filepicker_signature},c=["IMAGE_SEARCH","COMPUTER","URL"];return function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.allowed_mime_types=e.allowed_mime_types||a,this.services=e.services||c,this.open_to=e.open_to||"IMAGE_SEARCH"}return r(t,[{key:"allows_mime_type",value:function(t){return this.allowed_mime_types.includes((t||"").toLowerCase())}},{key:"_store",value:function(t,e){var i=this,r=angular.extend(angular.copy(s),e);r.container=t.container;var a=n.defer();return o.store(t,r,function(t){return a.resolve(i._construct_s3_url(t.key))},function(t){return a.reject(t)},function(t){return a.notify(t)}),a.promise}},{key:"_read_blob",value:function(t){var e=n.defer(),i=new FileReader;return i.onloadend=function(){return e.resolve(i.result)},i.readAsBinaryString(t),e.promise}},{key:"_construct_s3_url",value:function(t){return"https://s3.amazonaws.com/"+e.filepicker_s3_image_bucket+"/"+encodeURIComponent(t)}},{key:"store",value:function(t,e){var n=this;return t instanceof Blob?this._read_blob(t).then(function(t){return n._store(btoa(t),angular.extend(e,{base64decode:!0}))}):this._store(t,e)}},{key:"pick",value:function(t){var e=n.defer(),i=angular.extend(angular.copy(s),{mimetypes:this.allowed_mime_types,services:this.services,openTo:this.open_to},t);return o.pick(i,function(t){o.stat(t.url,angular.extend(angular.copy(s),{width:!0,height:!0}),function(n){return e.resolve({blob:t,dimensions:n})})}),e.promise}},{key:"pick_and_store",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.defer(),a=angular.extend(s,{mimetypes:this.allowed_mime_types,services:this.services,openTo:this.open_to},t);return o.pickAndStore(a,i,function(t){r.resolve(e._construct_s3_url(t[0].key))}),r.promise}}]),t}()}])},function(t,e,n){"use strict";angular.module("genius").factory("FollowClient",["AppConfig","$http",function(t,e){return{set_following:function(n,i,r){return e.post(t.api_root_url+"/"+n+"s/"+i+"/"+(r?"follow":"unfollow")).then(function(t){return t.data.response})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("getScript",["$q",function(t){return function(e,n){return t.when($.ajax(_.assign({url:e,type:"GET",dataType:"script"},n)))}}])},function(t,e,n){"use strict";angular.module("genius").factory("GlobalErrorBus",["$rootScope",function(t){return t.$new("isolate")}])},function(t,e,n){"use strict";angular.module("genius").factory("GlobalErrorInterceptor",["GlobalErrorBus","$q",function(t,e){return{responseError:function(n){if(429===n.status){var i=_.get(n,"data.response.message.html")||"<h1>You hit a rate limit!</h1>";t.$emit("global_error",i)}return e.reject(n)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("GlobalPageStateBus",["$rootScope",function(t){return t.$new("isolate")}])},function(t,e,n){"use strict";angular.module("genius").factory("GlobalRefs",["$window",function(t){var e={global_message:".global_messages",cloudflare_unavailable_alert:"#cf_alert_div"};return{get_element:function(n){return t.$(e[n])}}}])},function(t,e,n){"use strict";angular.module("genius").factory("Google",["getScript","$window",function(t,e){return{setup:_.once(function(){return t("https://apis.google.com/js/platform.js",{cache:!0})}),refresh_youtube_subscribe_in:function(t){e.gapi.ytsubscribe.go(t)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("HtmlConstants",["$window",function(t){var e={top_level_block_containers:t.TOP_LEVEL_BLOCK_CONTAINERS,top_level_stand_alone_blocks:t.TOP_LEVEL_STANDALONE_BLOCKS};return e.top_level_block_containers_regexp=new RegExp("</("+e.top_level_block_containers.join("|")+")>\\s*","gi"),e.top_level_stand_alone_blocks_regexp=new RegExp("</("+e.top_level_stand_alone_blocks.join("|")+")>\\s*","gi"),e}])},function(t,e,n){"use strict";angular.module("genius").factory("I18n",["$window",function(t){return t.I18n}])},function(t,e,n){"use strict";angular.module("genius").factory("IdentityClient",["$http","ApiClient","AppConfig","$q",function(t,e,n,i){var r=function(t){var e=new Error(t.data.meta.message);return _.assign(e,_.pick(t,"status","statusText")),i.reject(_.assign(e,t.data.response))};return{destroy:function(e){var i={params:{text_format:"html,markdown"}};return t.delete(n.api_root_url+"/identities/"+e,{},i).then(function(t){return t.data.response}).catch(function(t){return r(t)})},spotify_credentials:function(){return e.returning("credentials").get("/identities/spotify_credentials")}}}])},function(t,e,n){"use strict";angular.module("genius").factory("ImageTransform",["AppConfig",function(t){var e=["images.genius.com","images.rapgenius.com"];return{resize:function(n,i){if(n){var r=new URL(n);if(_.includes(e,r.host)){var o=parseInt(i.width||0)+"x"+parseInt(i.height||0);return t.thumbor_base_url+"/"+o+"/"+encodeURIComponent(n)}return n}}}}])},function(t,e,n){"use strict";angular.module("genius").factory("InboxClient",["Session","Pusher","ApiClient",function(t,e,n){return{get_line_item:function(e,i){var r=t.user_signed_in?"html,markdown":"html",o=e?"/inboxes/"+e+"/line_items/"+i:"/line_items/"+i;return n.get(o,{text_format:r}).then(function(t){return t.line_item})},line_items:function(t,e){return n.get("/inboxes/:inbox_name/line_items",{text_format:"html",timestamp_for_next_page:e,inbox_name:t}).then(function(t){return t.line_items.timestamp_for_next_page=t.timestamp_for_next_page,t.line_items})},mark_read:function(t,e){var i=void 0;if(e){i={};for(var r=0;r<e.length;r++)i[r+1]=e[r]}return n.post("/inboxes/:inbox_name/line_items/mark_read",{event_ids:i,inbox_name:t})},on_update:function(n,i){e.subscribe(t.current_user.pusher_channel,"new-"+n.replace(/_/g,"-")+"-event",i),e.subscribe(t.current_user.pusher_channel,"inbox-marked-read",function(t){t.inbox===n&&i()})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("Iq",["PreloadCache","Session",function(t,e){var n=t.iq_by_event_type;return{for:function(t){var i=e.current_user.virtual_iq_event_type_map;return i&&_.has(i,t)&&(t=i[t]),_.has(n,t)?n[t]:0}}}])},function(t,e,n){"use strict";angular.module("genius").factory("LeaderboardClient",["ApiClient",function(t){return{global:function(e){return t.get("/leaderboard",e)},for_tag:function(e,n){return t.get("/tags/:tag_id/leaderboard",_.assign({tag_id:e.id},n))}}}])},function(t,e,n){"use strict";angular.module("genius").factory("Librato",["$http","$q","AnalyticsConfig","SessionConfig",function(t,e,n,i){return{set_page_type:function(t){this.page_type=t},measure:function(r,o){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{log:!0}).log&&_.get(i,"log_client_metrics")&&console.log("LIBRATO METRIC: "+r+" = "+o),_.get(n,"enabled")?t.post("https://"+n.librato_web_client_host+"/v1/metrics",{gauges:[{name:r,value:o,source:this.page_type+"_page"}]}):e.when()}}}])},function(t,e,n){"use strict";angular.module("genius").factory("LinkEvents",function(){return{should_open_in_new_window_or_tab:function(t,e){return e=e||$(t.target).closest("a")[0],2===t.which||t.metaKey||t.ctrlKey||t.shiftKey||"_blank"===e.target}}})},function(t,e,n){"use strict";angular.module("genius").factory("LocalStorage",["$window",function(t){return{is_available:function(){try{var e="__storage_test__";return t.localStorage.setItem(e,e),t.localStorage.removeItem(e),!0}catch(t){return!1}},setItem:t.localStorage.setItem.bind(t.localStorage),getItem:t.localStorage.getItem.bind(t.localStorage),removeItem:t.localStorage.removeItem.bind(t.localStorage)}}])},function(t,e,n){"use strict";angular.module("genius").factory("LookupClient",["$http","AppConfig",function(t,e){return{lookup:function(n){return t.get(e.api_root_url+"/lookup",{params:{url:n}}).then(function(t){return _(t.data.response).values().first()})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("Lyrics",["mobile_device",function(t){var e=function(t){return'\n    <dfp-ad\n      instance-id="in_read_ad"\n      name="'+t+'"\n      class="u-display_block"\n      ad-classes="{\'dfp_unit--in_read\': $height > 1, \'u-xx_large_top_margin\': $height > 1}"\n    ></dfp-ad>\n  '},n=(t?["mobile_song_medium1","mobile_song_medium2","mobile_song_medium3"]:["desktop_song_inread","desktop_song_inread2","desktop_song_inread3"]).map(function(t){return e(t)}),i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=$("<div>").html(t.replace(/\s*\n/g,"")),o=r.find("br");return e.forEach(function(t){o=_.drop(o,n),o=_.dropWhile(o,function(t){return"br"!==_.get(t,"previousSibling.nodeName","").toLowerCase()});var e=$('<span avoid-selection class="u-noselect">').html(t),a=o.shift();a?$(a).before(e):i===t&&r.append(e)}),r.html()},r=function(t){return t.replace(/}}/g,"}\x3c!-- literal brace --\x3e}")};return{prepare_for_display:function(t){return r(i(t,n,25))}}}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();angular.module("genius").factory("LyricsAnchorer",["$compile","ReferentLocator","ReferentRegistry","ReferentClient","LyricsEditing","SongClient",function(t,e,n,o,a,s){var c=function(t){return $("<a>").attr("href","#").attr("class","referent").attr("ng-click","open()").attr("prevent-default-click","").attr("data-id","new").attr("on-hover-with-no-digest","set_current_hover_and_digest(hover ? fragment_id : undefined)").attr("annotation-fragment","'"+t+"'").attr("classification","new")};return function(){function l(t){i(this,l),this.container=t.container,this.get_state=t.get_state,this.scope=t.scope,this.song=t.song}return r(l,[{key:"construct_referent",value:function(e){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];return o.create_referent({song:_.pick(this.song,["id","updated_by_human_at"]),referent:a,community:!!r.community}).then(function(r){_.assign(r.annotations[0],{new:!0,_editing:{_form_visible:!0}}),n.preload_insert(r);var o=c(r.id);return o.html(e.extractContents()),e.insertNode(o[0]),t(o)(i.scope),n.register(r),r})}},{key:"create_referent",value:function(t,e){return this.construct_referent(t,e,this.calculate_referent_location(t))}},{key:"create_image_referent",value:function(t,e,n){var i=t.src;return this.construct_referent(e,n,{image_url:i,occurrence:this.get_occurrence_in_container_among('img[src="'+i+'"]',t)})}},{key:"build_correction",value:function(){var t=void 0,e=void 0,n=this.get_state();if(n.referent){var i=this.get_occurrence_in_container_among("[annotation-fragment="+n.referent.id+"]",n.reference_element);t=n.reference_element,e={id:n.referent.id,occurrence:i}}else t=$("<span>").attr("class","line-correction"),e=this.calculate_referent_location(n.range),t.html(n.range.extractContents()),n.range.insertNode(t[0]);var r=t.html(),o=a.prepare_lyrics_for_editing(r);return{anchor:t,rect:t.get(0).getBoundingClientRect(),payload:{referent:e},replacement:o,original:{html:r}}}},{key:"submit_correction",value:function(t){return t.payload.replacement={html:a.lyrics_pseudo_markdown_to_html__deprecated(t.replacement.markdown,{})},t.anchor.html(t.payload.replacement.html),s.correct_lyrics(this.song,t.payload).catch(function(e){throw t.anchor.html(t.original.html),e})}},{key:"calculate_referent_location",value:function(t){return e.calculate_referent_location(t,this.container[0])}},{key:"get_occurrence_in_container_among",value:function(t,e){return this.container.find(t).index(e)+1}}]),l}()}])},function(t,e,n){"use strict";n(1383),angular.module("genius").factory("LyricsEditing",["AppConfig","HtmlConstants","MarkdownHelpers","ReferentRegistry",function(t,e,n,i){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=e.trim();return"/"===n[0]||0===n.indexOf("http")||n.includes(t.canonical_domain)};return{lyrics_html_without_referent:function(t,e){var n=$("<div>").append($(t));return n.find("[data-id='"+e+"']").each(function(t,e){var n=$(e),i=n.find("img")[0]||n.text();n.replaceWith(i)}),n.html()},prepare_lyrics_for_editing:function(t){return this.lyrics_html_to_pseudo_markdown__deprecated(this.clean_up_lyrics__deprecated(t))},clean_up_lyrics__deprecated:function(t){return $.trim($("<div>").append(t).find("a").each(function(){var t=$(this);if(!t.attr("data-id")&&!t.data("real-link")&&!t.hasClass("referent")){var e=new Error("Error processing lyrics for editing: detected non-referent link ("+t[0].outerHTML+")");throw e.human_readable_message="Your browser's copy of the lyrics is out of sync. Try reloading the page",e}t.html().match(/<br[\s\/]?>$/i)&&(t.find("br:last").remove(),t.after("<br>"))}).end().find("#annotation_prompt").remove().end().html().replace(/<p( [^>]*)?>/gi,"").replace(/<\/p>\s*/gi,"\n\n").replace(e.top_level_block_containers_regexp,"$&\n\n").replace(e.top_level_stand_alone_blocks_regexp,"$&\n\n").replace(/\s*<br[\s\/]?>([ \t]*)\s*/gi,"\n$1"))},lyrics_html_to_pseudo_markdown__deprecated:function(t){var e={attr_hash:{}},n=$("<div>").append(t).find("a").each(function(){var t=$(this);t.find(".referent-vote_total").remove();var n=t.attr("data-id");_.isUndefined(n)?t.data("real-link")?t.replaceWith("["+t.html()+"]("+t.attr("href")+")"):t.replaceWith(t.html()):(_.set(e.attr_hash,n,{class:t.attr("class"),"data-editorial-state":t.attr("data-editorial-state")}),t.replaceWith("["+t.html()+"]("+n+")"))}).end().find("lyrics").removeAttr("ng-non-bindable").end();return e.markdown=n.find("annotatable-image").each(function(){var t=$(this),e=t.attr("src");t.replaceWith($("<img>").attr("src",e))}).end().html(),e},lyrics_pseudo_markdown_to_html__deprecated:function(t,e){e||(e={}),t=t.replace(/\n/gi,"<br>");var i=$("<div>").append(n.convert_markdown_anchors(t)),o=i.find("a").each(function(){var t=$(this);t.attr("href",$.trim(t.attr("href"))),t.attr("href").match(/^\d+$/)?t.attr("data-id",t.attr("href")).attr("href","/"+t.attr("data-id")).attr(_.get(e,t.attr("data-id"),{})):r(t.attr("href"))?t.attr("target",$.isUrlInternal(t.attr("href"))?"_self":"_blank").attr("data-real-link",!0):t.replaceWith("["+t.html()+"]("+t.attr("href")+")")}).end().find("lyrics").attr("ng-non-bindable",!0).end().html();return n.unescape_special_characters_escaped_by_markdown_anchor_converter(o)},backfill_angular_link_properties:function(t){var e=$("<div>").append(t).find("a[data-id]").each(function(){var t=$(this),e=Number(t.attr("data-id")),n=i.peek(e);n&&(t.attr("annotation-fragment",e),t.attr("on-hover-with-no-digest","set_current_hover_and_digest(hover ? fragment_id : undefined)"),t.attr("ng-click","open()"),t.attr("prevent-default-click",""),t.attr("classification",n.classification),t.attr("image",n.is_image),t.attr("pending-editorial-actions-count",n.pending_editorial_actions_count))}).end();return $("<div>").append(e).html()}}}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();angular.module("genius").factory("LyricsSynchronizationClient",["$rootScope","$q","$http","AppConfig",function(t,e,n,o){var a=t.$new(),s=function(t){return _.isNumber(t)&&(t||0===t)},c=function(t,e){return _.compact([o.api_root_url,"lyrics_synchronizations",t,e]).join("/")},l=function(t){return new p(t.data.response.lyrics_synchronization)},u=function(t){var n=new Error(t.data.meta.message);return _.assign(n,_.pick(t,"status","statusText")),e.reject(_.assign(n,t.data.response))},d=function(t){return function(){this._dirty=!0;for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return _.tap(Reflect.apply(t,this,n),function(){a.$emit("edit")})}},p=function(){function t(e){i(this,t),_.assign(this,e)}return r(t,[{key:"max_timestamp_before_index",value:function(t){return _(this.lines.slice(0,t)).map("timestamp").max()}},{key:"min_timestamp_after_index",value:function(t){return _(this.lines.slice(t)).map("timestamp").compact().min()}},{key:"timestamp_for_line_at_index",value:function(t){return-1===t?0:this.lines[t].timestamp}},{key:"line_index_for_position",value:function(t){return _.findLastIndex(this.lines,function(e){return s(e.timestamp)&&e.timestamp<t})}},{key:"next_visible_line_index_after_index",value:function(t){return _.findIndex(this.lines,function(e,n){return n>t&&!e.hidden})}},{key:"mark_dirty",get:function(){return d(_.noop)}},{key:"apply_timestamp_to_line_at_index",get:function(){return d(function(t,n){if(t<this.max_timestamp_before_index(n))throw new Error("Can't set time to earlier than a previous line");return this.lines[n].timestamp=t,this.lines.slice(n).forEach(function(e){e.timestamp<t&&(e.timestamp=null)}),e.when(this.lines[n])})}},{key:"set_line_at_index_hidden",get:function(){return d(function(t,e){_.assign(this.lines[t],{hidden:e,timestamp:null})})}},{key:"set_line_at_index_marked",get:function(){return d(function(t,e){this.lines[t].fixed=!1,this.lines[t].marked=e})}},{key:"set_line_at_index_fixed",get:function(){return d(function(t){this.lines[t].marked=!1,this.lines[t].fixed=!0})}},{key:"add_line_at_index",get:function(){return d(function(t,e){this.lines.splice(t,0,_.defaults(e||{},{added:!0,lyrics:"[Instrumental Break]",timestamp:null}))})}},{key:"remove_line_at_index",get:function(){return d(function(t){this.lines.splice(t,1)})}},{key:"all_lines_timestamped",get:function(){return _.every(this.lines,function(t){return t.hidden||s(t.timestamp)})}},{key:"all_timestamps_in_order",get:function(){return _(this.lines).map("timestamp").compact().all(function(t,e,n){return 0===e||t>n[e-1]})}},{key:"preview",get:function(){return"preview"===this.state}}]),t}();return{$on:a.$on.bind(a),get:function(t){return n.get(c(t)).then(l)},preview:function(t){return n.get(c("preview"),{params:t}).then(l).catch(u)},home:function(){return n.get(c("home")).then(function(t){var e=t.data.response.lyrics_synchronization_home;return e.checked_out=e.checked_out.map(function(t){return new p(t)}),e})},submit:function(t,i,r){return(i._dirty?this.save(i):e.when(i)).then(function(e){return n.post(c(e.id,t),_.assign(r||{},_.pick(e,"lock_version"))).then(l,u)})},submit_sync:function(t){return _.some(t.lines,"marked")?e.reject(new Error("Can't submit lyrcis with lines still marked as incorrect")):this.submit("sync",t)},update_state:function(t,e){return n.put(c(e.id,"state"),{state:t}).then(l,u)},save:function(t){if(!t.all_timestamps_in_order)return e.reject(new Error("Can't save lyrics with timestamps out of order"));var i={lyrics_synchronization:t};return n.put(c(t.id),i).then(l,u)},revert_action:function(t,e){return n.post(c(e.id,"revert_action"),{action_id:t.id}).then(l,u)},skip:function(t,e){return n.post(c(e.id,"skip"),t).then(l,u)},change_song:function(t){return n.put(c(t.lyrics_synchronization_id,"song"),{song_id:t.song_id}).then(l,u)},start:function(t){return n.post(c("start"),{verb:t}).then(l,u)},set_finalized:function(t,e){return n[e?"put":"delete"](c(t)+"/finalized").then(l,u)}}}])},function(t,e,n){"use strict";n(1234),angular.module("genius").factory("Markdown",["$window",function(t){var e=angular.element;return{to_html:function(n){if(!n)return n;var i=new t.Attacklab.showdown.converter;n=n.replace(/(?:^|\s+)https?:\/\/(?:[a-z0-9\-]+\.)+[a-z]{2,6}(?:\/[^\/#?]+)+\.(?:jpe?g|gif|png)(?=$|\s+)/gim,function(t){return"\n\n![]("+e.trim(t)+")"});var r=i.makeHtml(n);return e("<div>").append(r).find("a").each(function(){var t=e(this);t.attr("href").match(/^\d+$/)&&t.attr("href","/"+t.attr("href"))}).end().html()}}}])},function(t,e,n){"use strict";angular.module("genius").factory("MarkdownHelpers",function(){var t=function(t,e,n,i,r,o,a,s){void 0===s&&(s="");var c=e,l=n,u=i.toLowerCase(),d=r,p=s;if(""===d){if(""===u&&(u=l.toLowerCase().replace(/ ?\n/g," ")),d="#"+u,!(c.search(/\(\s*\)$/m)>-1))return c;d=""}var f='<a href="'+d+'"';return""!==p&&(p=p.replace(/"/g,"&quot;"),f+=' title="'+p+'"'),f+=">"+l+"</a>"};return{unescape_special_characters_escaped_by_markdown_anchor_converter:function(t){return t.replace(/~E(\d+)E/,function(t,e){return String.fromCharCode(e)})},convert_markdown_anchors:function(e){return e.replace(/(\[((?:\[[^\]]*\]|\[\[[^\]]*\]\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,t)}}})},function(t,e,n){"use strict";angular.module("genius").factory("MarkdownPreviewClient",["$http","AppConfig",function(t,e){return{create_preview:function(n){return t.post(e.api_root_url+"/markdown_preview",{markdown:n}).then(function(t){return t.data.response.html})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("MentionClient",["$http","AppConfig",function(t,e){return{autocomplete:function(n){return t.get(e.api_root_url+"/mentions",{params:{q:n}}).then(function(t){return t.data.response.mentions})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("MessageClient",["ApiClient",function(t){return{for_conversation:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.returning("messages").get("/conversations/:conversation_id/messages",{conversation_id:e,text_format:"html",page:n.page||1})},create:function(e){return t.returning("message").post("/messages",{message:e,text_format:"html"})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("MetaTagData",["$document",function(t){var e={};return{get:function(n){if(_.has(e,n))return e[n];var i=t[0].head.querySelector("[itemprop="+n+"]");return e[n]=i?JSON.parse(i.content):void 0,e[n]}}}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}angular.module("genius").factory("MixedDataFeed",["$q",function(t){return function(){function e(n){var r=this;i(this,e),this.scrollable_data_objects=n,this.reset=function(){_.each(r.scrollable_data_objects,function(t){t.src.reset()})},this.next=function(){return t.all(_.map(r.scrollable_data_objects,function(t){return t.src.next().then(function(e){return{type:t.type,models:e}})}))},this.has_next=function(){return _.some(r.scrollable_data_objects,function(t){return t.src.has_next()})}}return e}()}])},function(t,e,n){"use strict";angular.module("genius").factory("ModelRouter",function(){return{lookup:function(t){if(!_.isString(t))throw Error("URL must be a string");var e=t.match(/^\/referents\/(\d+)$/);if(e)return{type:"referent",id:Number(e[1])}}}})},function(t,e,n){"use strict";n(117),angular.module("genius").factory("moment",["$window",function(t){return t.moment}])},function(t,e,n){"use strict";n(1283),n(1284),angular.module("genius").factory("Mousetrap",["$window","$rootScope",function(t,e){var n=function(t,n){return n=n||{},function(i){n.prevent_default&&i.preventDefault(),n.stop_propagation&&i.stopPropagation(),e.$apply(function(){t.call(this,i)}.bind(this))}},i=function(e,n){this.default_options=n||{},this.mousetrap=new t.Mousetrap(e)};return i.prototype.bind=function(t,e){this.mousetrap.bind(t,e)},i.prototype.$bind=function(t,e,i){i=_.assign({},this.default_options,i),this.bind(t,n(e,i))},_.assign(i,{$bind:function(t,e,i){this.bind(t,n(e,i))},bind:t.Mousetrap.bind.bind(t.Mousetrap),unbind:t.Mousetrap.unbind.bind(t.Mousetrap),trigger:t.Mousetrap.trigger.bind(t.Mousetrap),bindGlobal:t.Mousetrap.bindGlobal.bind(t.Mousetrap)})}])},function(t,e,n){"use strict";angular.module("genius").factory("MutationObserver",["$window",function(t){return t.MutationObserver}])},function(t,e,n){"use strict";angular.module("genius").factory("NewRelic",["$window","$rootScope","Session",function(t,e,n){var i=t.newrelic,r=function(t){var n=0,r=e.$watch(function(){(n+=1)===t&&(i.finished(),i.addPageAction("secondApply"),r())})};return{init:function(t){i&&(i.setCustomAttribute("signedIn",n.user_signed_in),t&&i.setPageViewName(t,"resource.path"),r(2))}}}])},function(t,e,n){"use strict";n(1238),angular.module("genius").factory("Odometer",["$window",function(t){return t.Odometer}])},function(t,e,n){"use strict";angular.module("genius").factory("on_within_visibility_range",["$q","$window",function(t,e){var n=0,i=$(e).height(),r=[],o=function(){n=Math.max(n,$(e).scrollTop()),r=_.tap([],function(t){r.forEach(function(e){e.element.offset().top-e.range<n+i?e.resolve():t.push(e)})})};return $(e).on("scroll",_.throttle(o,100)),$(e).on("resize",function(){i=$(e).height()}),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _.tap(t(function(t){return r.push({resolve:t,range:n,element:$(e)})}),o)}}])},function(t,e,n){"use strict";angular.module("genius").factory("only_changes",[function(){return function(t,e){return _.omitBy(t,function(t,n){return e[n]===t})}}])},function(t,e,n){"use strict";angular.module("genius").factory("OnsiteInterceptor",function(){var t=function(t){var e=document.createElement("a");return e.href=t,e.hostname};return{request:function(e){var n=t(e.url);return n&&n!==window.location.hostname||(e.headers["X-Requested-With"]="XMLHttpRequest","GET"!==e.method&&(e.headers["X-CSRF-Token"]=$.cookie("_csrf_token"))),e}}})},function(t,e,n){"use strict";angular.module("genius").factory("PageDataClient",["MetaTagData","ApiClient",function(t,e){return{load:function(t,n){return e.transform(_.property("page_data")).get("/page_data/:type",{type:t,page_path:n})},preloaded:function(){return t.get("page_data")}}}])},function(t,e,n){"use strict";angular.module("genius").factory("PageTransition",["$document","$location","$rootScope","Ads","AsyncAnalytics","cfpLoadingBar","PageDataClient",function(t,e,n,i,r,o,a){var s=!1,c=!1,l=n.$new(!0);return{by_router_instruction:function(n){return"/"+_.get(n.urlPath.match(/^[^?#]*/),0)!==_.get(a.preloaded(),"path")||s?(s=c=!0,o.start(),a.load(n.routeData.data.type,e.path()).then(function(e){if(c=!1,o.complete(),Object.assign(n.routeData,{page_data:e}),e.dfp_kv){var a={},s=!0,u=!1,d=void 0;try{for(var p,f=e.dfp_kv[Symbol.iterator]();!(s=(p=f.next()).done);s=!0){var h=p.value,_=h.name,m=h.values;a[_]=m}}catch(t){u=!0,d=t}finally{try{!s&&f.return&&f.return()}finally{if(u)throw d}}i.reset_for_new_page_view({targeting:a})}return t.prop("title",e.title),t.scrollTop(0),r.on_navigation(e),l.$broadcast("client_transition_complete"),!0}).catch(function(e){return t.prop("location").reload(),Promise.reject(e)})):(Object.assign(n.routeData,{page_data:a.preloaded()}),s=!0,!0)},on_client_transition_complete:function(t){l.$on("client_transition_complete",t)},get transitioning(){return c}}}])},function(t,e,n){"use strict";angular.module("genius").factory("PageVisibility",["$document","$rootScope",function(t,e){var n=void 0,i=void 0;_.isUndefined(t[0].hidden)?_.isUndefined(t[0].mozHidden)?_.isUndefined(t[0].msHidden)?_.isUndefined(t[0].webkitHidden)||(n="webkitHidden",i="webkitvisibilitychange"):(n="msHidden",i="msvisibilitychange"):(n="mozHidden",i="mozvisibilitychange"):(n="hidden",i="visibilitychange");var r=!_.isUndefined(n),o=[];return r&&t[0].addEventListener(i,function(){if(!_.isEmpty(o)){for(;_.some(o);)o.shift()();e.$apply()}}),{is_visible:function(){return!t[0][n]},is_hidden:function(){return t[0][n]},when_visible:function(e,i){e=i?e.bind(i):e,r&&t[0][n]?o.push(e):e()}}}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}angular.module("genius").factory("PagedDataFeed",[function(){return function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_.noop;i(this,t),this.next_page=a,this.params=_.clone(r),this.next=function(){return e(_.assign({page:o.next_page},o.params)).then(function(t){return o.next_page=t.next_page,o.total_entries=t.total_entries,s(t[n]),t[n]})},this.has_next=function(){return o.next_page},this.reset=function(){o.next_page=1}}return t}()}])},function(t,e,n){"use strict";angular.module("genius").factory("parse_time_string",function(){return function(t){if(!t)return null;var e=t.split(/\D/),n=e[2]?parseInt((e[2]+"000").slice(0,3)):0;return 60*parseInt(e[0])*1e3+1e3*parseInt(e[1])+n}})},function(t,e,n){"use strict";angular.module("genius").factory("performance_mark",["$window",function(t){var e=function(e){_.get(t,"performance.mark")&&t.performance.mark(e)};return{create:e,create_once:_.memoize(e)}}])},function(t,e,n){"use strict";angular.module("genius").factory("Preloader",["$q",function(t){var e=function(t){this.bulk_load_function=t};return e.prototype={cache:{},insert:function(e,n){this.cache[e]=t.when(n)},load:function(t){return this.bulk_load([t]),this.cache[t]},filter_unloaded:function(t){var e=this.cache;return t.filter(function(t){return!e[t]})},bulk_load:function(t){var e=this.cache,n=this.filter_unloaded(t),i=n.length?this.bulk_load_function(n):void 0;n.forEach(function(t){e[t]=i.then(function(e){return e[t]})})}},e}])},function(t,e,n){"use strict";(function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();angular.module("genius").factory("PromiseQueue",["$q",function(i){return function(){function r(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,r),this.pending_count=0,this.queue=(new t.Subject).do(function(){return n.pending_count++}).concatMap(function(e){var n=e.f,r=e.deferred;r.resolve(n());var o=t.Observable.fromPromise(r.promise);return i.fail_fast||(o=o.catch(function(e){return t.Observable.of(e)})),o}),this.queue.subscribe(function(){return n.pending_count--},_.noop)}return n(r,[{key:"is_empty",value:function(){return 0===this.pending_count}},{key:"add",value:function(t){var e=i.defer();return this.queue.next({f:t,deferred:e}),e.promise}}]),r}()}])}).call(e,n(23))},function(t,e,n){"use strict";n(1295),angular.module("genius").factory("Pusher",["$window","$rootScope","AppConfig",function(t,e,n){var i,r={},o=function(){return i||(i=new t.Pusher(n.pusher_app_key)),i};return{pusher:o,subscribe:function(t,n,i){r[t]||(r[t]={},o().subscribe(t).bind_all(function(n,i){var o=r[t][n];o&&e.$applyAsync(function(){o.forEach(function(t){t(i)})})})),r[t][n]=r[t][n]||[],r[t][n].push(i)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("PyongClient",["AppConfig","$http",function(t,e){var n=function(n,i,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o[i+"_id"]=r,e.post(t.api_root_url+n,o).then(function(t){return t.data.response[i]})};return{pyong:function(t,e){return n("/pyongs",t,e,{note_may_follow:!0})},finalizePyong:function(t,e,i){return n("/pyongs/finalize",t,e,{pyong_note:i})}}}])},function(t,e,n){"use strict";n(1254),angular.module("genius").factory("querystring",[function(){return{stringify:function(t){return $.param(t)},parse:function(t){return $.deparam(t)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("QuestionClient",["$http","$q","AppConfig","Reversible","ApiClient","Session",function(t,e,n,i,r,o){return{index:function(t,e,n){return n.text_format=o.user_signed_in?"html,markdown":"html",n[t+"_id"]=e,r.get("/questions",n)},create_if_not_exists:function(t){return t.id?e.resolve(t):this.create(t.questionable_type,t.questionable_id,t)},create:function(i,r,o){var a=_.assign({},o,{body:o.body}),s={question:a,text_format:"plain"};return s[i+"_id"]=r,t.post(n.api_root_url+"/questions",s).then(function(t){return _.assign(o,t.data.response.question),o}).catch(function(t){return e.reject(_.set(t.data.response,"message",t.data.meta.message))})},update:function(r,o){var a=i.modify(r,o.question);return t.put(n.api_root_url+"/questions/"+r.id,o,{params:{text_format:"html,markdown"}}).then(function(t){_.assign(r,t.data.response.question)}).catch(function(t){return a(),e.reject(new Error(t.data.meta.message))})},move:function(i,r){var o={direction:r};return t.put(n.api_root_url+"/questions/"+i.id+"/move",o,{params:{text_format:"html,markdown"}}).then(function(t){_.assign(i,t.data.response.question)}).catch(function(t){return e.reject(new Error(t.data.meta.message))})},change_state:function(i,r){var o={state_event:r},a=n.api_root_url+"/questions/"+i.id+"/change_state";return t.put(a,o,{params:{text_format:"html,markdown"}}).then(function(t){_.assign(i,t.data.response.question)}).catch(function(t){return e.reject(new Error(t.data.meta.message))})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("ReferentClient",["$http","AppConfig","Session","querystring",function(t,e,n,i){return{refresh:function(t){return this.get(t.id).then(function(e){return _.assign(t,_.omit(e,"annotations")),_.each(t.annotations,function(t){_.each(e.annotations,function(e){e.id===t.id&&_.assign(t,e)})}),t})},get:function(i){var r=n.user_signed_in?"html,markdown,plain":"html,plain",o={text_format:r};return t.get(e.api_root_url+"/referents/"+i,{params:o}).then(function(t){return t.data.response.referent})},bulk_load:function(r){var o=n.user_signed_in?"html,markdown,plain":"html,plain",a=i.stringify({text_format:o,ids:r});return t.get(e.api_root_url+"/referents/multi?"+a).then(function(t){return Object.keys(t.data.response.referents).forEach(function(e){t.data.response.referents[e]=t.data.response.referents[e]}),t.data.response.referents})},create_referent:function(n){var r=i.stringify({text_format:"html"});return t.post(e.api_root_url+"/songs/"+n.song.id+"/referents?"+r,n).then(function(t){return t.data.response.referent})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("ReferentElementMap",function(){return new Map})},function(t,e,n){"use strict";angular.module("genius").factory("ReferentHelper",["Session",function(t){var e=function(e){return{_editing:{_form_visible:!0},new:!0,referent_id:e.id,body:{markdown:"",html:""},authors:[{user:t.current_user,pinned_role:e.current_user_metadata.relationships.pinned_role}],created_at:parseInt(Date.now()/1e3),needs_exegesis:0===e.annotations.length}};return{display_mode_by_classification:function(e){return _.includes(["verified","cosigned"],e)?"green":"unreviewed"===e&&t.has_permission("see_unreviewed_referents",t.current_user)?"red":"yellow"},create_verified_annotation_placeholder:function(t){return _.assign(e(t),{verified:!0})},create_community_annotation_placeholder:function(t){return _.assign(e(t),{id:t.id})},range_or_contents_intersects_links_or_contains_images:function(t){var e=t.cloneContents();return!!e.querySelectorAll("img").length||!!(e.querySelectorAll("a").length||$(t.startContainer).closest("a").length||$(t.endContainer).closest("a").length)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("ReferentLocator",["$document","AppConfig","string_to_symbol_array",function(t,e,n){var i=e.annotator_context_length,r=function(t){return t.replace(/\s+/g,"")},o=function(e){var n=t[0].createRange();return n.selectNodeContents(e),n},a=function(t){var e=t.cloneContents();return $(e).find("[avoid-selection]").remove(),o(e)},s=function(t,e){var n=o(e);return n.setEnd(t.startContainer,t.startOffset),r(a(n).toString())},c=function(t,e){var n=o(e);return n.setStart(t.endContainer,t.endOffset),r(n.toString())};return{calculate_referent_location:function(t,e){var r=n(s(t,e)),o=r.slice(-i),a=n(c(t,e)),l=a.slice(0,i);return{previous_context:o.join(""),text:t.toString(),next_context:l.join(""),total_offset:r.length}},calculate_image_location:function(t,e){return{image_url:e.src,occurrence:$(t).find('img[src="'+e.src+'"]').index(e)+1}}}}])},function(t,e,n){"use strict";angular.module("genius").factory("ReferentRegistry",["Preloader","ReferentClient",function(t,e){var n=new t(function(t){return e.bulk_load(t)}),i={referents:{},referent_ids:[]},r=function(t){var e=i.referents[t.id];Reflect.deleteProperty(e,"stub"),Object.assign(e,t)};return{get:function(t){var e=this.peek(t);return e&&e.stub&&n.load(t).then(r),e},peek:function(t){return i.referents[t]},first:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.after_referent_id,r=i.referent_ids.indexOf(n),o=_.find(i.referent_ids,function(e,n){return n>r&&t(i.referents[e])});return i.referents[o]},register:function(t){return i.referents[t.id]?i.referents[t.id]:(i.referents[t.id]=t,i.referent_ids.push(t.id),t)},bulk_preload:function(t){n.bulk_load(t)},preload_insert:function(t){n.insert(t.id,t)},preload_from_start:function(t){this.preload_around(i.referent_ids[0],t)},preload_around:function(t,e){var r=i.referent_ids.indexOf(t),o=_(i.referent_ids).sortBy(function(t){return Math.abs(_.indexOf(i.referent_ids,t)-r)}).value(),a=n.filter_unloaded(o).slice(0,e);n.bulk_load(a)},update_if_present:function(t){var e=this.peek(t.id);return e?(e.stub&&Object.assign(e,t),e):t},clear:function(){Object.assign(i,{referents:{},referent_ids:[]})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("RetryFailureInterceptor",["$injector","$q",function(t,e){return{responseError:function(n){var i=n.config;return i.retries&&i.retries>0?(i.retries-=1,t.get("$http")(i)):e.reject(n)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("Reversible",["$parse",function(t){return{modify:function(e,n){var i=void 0,r={},o={};for(i in n)r[i]=t(i),_.has(e,i)&&(o[i]=r[i](e)),r[i].assign(e,n[i]);return function(){for(i in n)_.has(o,i)?r[i].assign(e,o[i]):i.split(".").reduce(function(t,e,n,i){if(t)return n===i.length-1?Reflect.deleteProperty(t,e):t[e]},e)}}}}])},function(t,e,n){"use strict";function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();angular.module("genius").factory("ScrollFocus",["$window","EventEmitter",function(t,e){var n=t.JSONStore,s=function(){return n.get_object("scroll_focus_debug")},c=function(){function t(){o(this,t),this.elements=[]}return a(t,[{key:"clear",value:function(){_.invokeMap(this.elements,"remove")}},{key:"draw_area",value:function(t,e){this.draw({position:"absolute",backgroundColor:"rgba(255, 0, 0, 0.1)",border:"1px solid red",width:"100%",top:t,height:e-t})}},{key:"draw_line",value:function(t){this.draw({position:"absolute",border:"1px solid blue",width:"100%",height:1,top:t})}},{key:"draw",value:function(t){var e=$("<div>").css(t).appendTo("body");this.elements.push(e)}}]),t}();return function(e){function n(e,r){o(this,n);var a=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));a.elements=e,a.options=_.defaults({},r,{update_ms:10,topmost_offset:.25,bottommost_offset:.6,zone_radius:.1,container:$(t.document.body),scroll_frame:t}),a.debug=new c;var s=null;return a.scroll_handler=_.throttle(function(){a._draw_debug();var t=a._focused_element();t!==s&&(a.emit("update",t),s=t)},a.options.update_ms),$(a.options.scroll_frame).on("scroll",a.scroll_handler),a}return r(n,e),a(n,[{key:"replace",value:function(t){this.elements=t}},{key:"destroy",value:function(){$(this.options.scroll_frame).off("scroll",this.scroll_handler)}},{key:"_focused_element",value:function(){for(var t=this._trigger_top(),e=this._element_zones(),n=0;n<e.length;n++){var i=e[n];if(i.top<t&&i.bottom>t)return this.elements[n]}return null}},{key:"_trigger_top",value:function(){var t=$(this.options.scroll_frame).height(),e=$(this.options.container),n=e.offset().top+e.height(),i=n-t,r=Math.min(1,$(this.options.scroll_frame).scrollTop()/i),o=this.options.bottommost_offset-this.options.topmost_offset;return(this.options.topmost_offset+r*o)*t}},{key:"_element_zones",value:function(){var t=$(this.options.scroll_frame).height(),e=this.options.zone_radius*t,n=this.options.container.getBoundingClientRect(),i=_.map(this.elements,function(t){var i=t.getBoundingClientRect();return{top:Math.max(n.top,i.top-e),bottom:Math.min(n.bottom,i.bottom+e)}});return _.eachCons(i,2,function(t,e){if(t.bottom>e.top){var n=t.bottom-e.top;t.bottom=t.bottom-n/2,e.top=e.top+n/2}}),i}},{key:"_draw_debug",value:function(){var t=this;if(s()){var e=$(this.options.scroll_frame).scrollTop();this.debug.clear(),this.debug.draw_line(e+this._trigger_top()),_.each(this._element_zones(),function(n){t.debug.draw_area(e+n.top,e+n.bottom)})}}}]),n}(e)}])},function(t,e,n){"use strict";angular.module("genius").factory("ScrollPoint",["$window",function(t){var e={},n={};return e.register=function(t,i){e.has_point(t)&&n[t].push(i),n[t]=[i]},e.unregister=function(t,i){e.has_point(t)&&(n[t]=_.without(n[t],i),n[t].length||delete n[t])},e.scroll_to=function(i){t.requestAnimationFrame(function(){e.has_point(i)&&$("html, body").animate({scrollTop:n[i][0].offset().top})})},e.has_point=function(t){return!!n[t]},e}])},function(t,e,n){"use strict";angular.module("genius").factory("SearchClient",["ApiClient",function(t){return{multi:function(e,n){return t.returning("sections").get("/search/multi",_.assign({q:e},n))},section:function(e,n,i){return t.transform(function(t){return{hits:t.sections[0].hits,next_page:t.next_page}}).get("/search/:section",_.assign({q:n,section:e},i))}}}])},function(t,e,n){"use strict";angular.module("genius").factory("Session",["SessionConfig",function(t){return Object.create(Object.prototype,{has_permission:{value:function(t,e){return _.includes(_.get(e,"current_user_metadata.permissions"),t)}},has_feature:{value:function(e){return _.includes(_.get(t.current_user,"current_user_metadata.features"),e)}},user_signed_in:{get:function(){return!!this.current_user}},current_user:{get:function(){return t.current_user},set:function(e){t.current_user=e}}})}])},function(t,e,n){"use strict";angular.module("genius").factory("SessionConfig",["$window",function(t){return t.SESSION_CONFIG}])},function(t,e,n){"use strict";n(1210),angular.module("genius").factory("SessionTracking",["$window",function(t){return t.SessionTracking}])},function(t,e,n){"use strict";angular.module("genius").factory("ShimInnerHtmlProp",["$window",function(t){return _.once(function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");_.isUndefined(e.innerHTML)&&t.GeniusShimInnerHtml()})}])},function(t,e,n){"use strict";angular.module("genius").factory("signed_out_created_content",["$window","Session",function(t,e){var n=t.sessionStorage,i={},r=function(t){if(n)try{n.setItem("signed_out_created_content",JSON.stringify(t))}catch(t){if("QuotaExceededError"!==t.name)throw t}};return{add:function(t,n){if(!e.user_signed_in){var i=this.get();i[t]=i[t]||[],i[t].push(n),r(i)}},get:function(){return n?JSON.parse(n.getItem("signed_out_created_content")||"{}"):i},clear:function(){i={},n.removeItem("signed_out_created_content")}}}])},function(t,e,n){"use strict";angular.module("genius").factory("SmartRouting",["$q","$routerRootComponent","$document","$injector","$location","mobile_device",function(t,e,n,i,r,o){var a=function(){return angular.element(e).empty()},s=function(t){return i.invoke(["$rootRouter",t])},c=function(t){return s(function(e){return e.recognize(t)})},l=function(e){return a()?c(e).then(function(n){var i=o?"mobile":"desktop",a=_.get(n,"component.routeData.data.clientRoutableOn");return a&&-1!==a.indexOf(i)?r.url(e):t.reject(Error("Cannot route with client"))}):t.reject(Error("No root routing component"))},u=function(t){n[0].location.href=t};return{navigate_to_absolute_url:function(t){var e=new URL(t);if(e.hostname!==n[0].location.hostname)return u(t);var i=e.pathname+e.search+e.hash;l(i).catch(function(e){return u(t)})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("SongClient",["$q","$http","AppConfig","Session","querystring",function(t,e,n,i,r){var o=function(t){return _(t).pick(["id","title","updated_by_human_at","spotify_uuid","youtube_url","soundcloud_url","custom_header_image_url","release_date_components","albums","tags","featured_video","youtube_start","custom_song_art_image_url","recording_location","custom_performances"]).merge(["producer_artists","featured_artists","writer_artists"].reduce(function(e,n){return t[n]&&(e[n]=_.map(t[n],function(t){return _.pick(t,"name")})),e},{})).tap(function(e){t.primary_artist&&(e.primary_artist=t.primary_artist.name),t.primary_tag&&(e.primary_tag_id=t.primary_tag.id),t.song_relationships&&(e.song_relationships_by_id=[],_.each(t.song_relationships,function(t){e.song_relationships_by_id.push({type:t.type,song_ids:_.compact(_.map(t.songs,"id"))})}))}).omit(_.isUndefined).value()};return{autocomplete_api_endpoint:n.api_root_url+"/search",autocomplete_options:{parse:function(t){return _.map(t.response.hits,"result").map(function(t){return{data:[t.title+" | "+t.primary_artist.name,t],value:t,result:t}})},formatItem:function(t){var e=t[1].title+"<br>"+t[1].primary_artist.name;return t[1].new?"Create new: "+e:e}},autocomplete:function(t){return e.get(n.api_root_url+"/search/song",{params:{q:t}}).then(function(t){return _.map(_.get(t,"data.response.sections[0].hits",[]),"result")})},count_view:function(t){return e.post(n.api_root_url+"/songs/"+t+"/count_view")},load_contributor_data:function(t){return e.get(n.api_root_url+"/songs/"+t+"/contributors").then(function(t){return t.data.response.contributors})},load_iq_earners:function(t,i){var o=r.stringify(i);return e.get(n.api_root_url+"/songs/"+t+"/iq_earners?"+o).then(function(t){return t.data.response.contributors})},load_annotation_open_data:function(t){return e.get(n.api_root_url+"/songs/"+t+"/annotation_open_data").then(function(t){return t.data.response.annotation_open_data})},load_song:function(t){return e.get(n.api_root_url+"/songs/"+t,{params:{text_format:"html,markdown"}}).then(function(t){return t.data.response.song})},load_lyrics:function(t){return e.get(n.api_root_url+"/songs/"+t+"/lyrics").then(function(t){return t.data.response.song_lyrics})},perform_action:function(r,o,a){var s=i.user_signed_in?"html,markdown":"html";return e.put(n.api_root_url+"/songs/"+r+"/"+o,a,{params:{text_format:s}}).then(function(t){return t.data.response.song},function(e){return t.reject(new Error(e.data.meta.message))})},delete:function(t){return e.delete(n.api_root_url+"/songs/"+t)},update:function(i,r){var a=o(r);return e.put(n.api_root_url+"/songs/"+i,{song:a},{params:{text_format:"html,markdown"}}).then(function(t){return t.data.response.song},function(e){return t.reject(_.set(e.data.response,"message",e.data.meta.message))})},save_lyrics:function(i,r){return e.put(n.api_root_url+"/songs/"+i.id+"/lyrics",{lyrics:{body:{html:r}},client_timestamps:_.pick(i,["updated_by_human_at","lyrics_updated_at"])}).then(function(t){return t.data.response.song_lyrics},function(e){return t.reject(e.data)})},correct_lyrics:function(i,r){return e.post(n.api_root_url+"/songs/"+i.id+"/correction",{correction:r}).then(function(t){return t.data.response.song_lyrics},function(e){return t.reject(e.data.meta)})},line_items:function(t,i){var r=n.api_root_url+"/songs/"+t+"/activity_stream/line_items",o={text_format:"html",page:i};return e.get(r,{params:o}).then(function(t){return t.data.response})},for_artist:function(t,i){return e.get(n.api_root_url+"/artists/"+t+"/songs",{params:i}).then(function(t){return t.data.response})},search_with_artist:function(t,i){return e.get(n.api_root_url+"/artists/"+t+"/songs/search",{params:i||{}}).then(function(t){return t.data.response})},hot:function(t){return e.get(n.api_root_url+"/songs/hot",{params:t||{}}).then(function(t){return t.data.response})},attribution_visualization:function(t){return e.get(n.api_root_url+"/songs/"+t+"/attribution_visualization").then(function(t){return t.data.response.attribution_visualization})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("Soundcloud",["$sce","$http","querystring",function(t,e,n){var i={auto_play:!1,buying:!1,liking:!1,download:!1,sharing:!1,show_artwork:!1,show_comments:!1,show_playcount:!1,show_user:!1,hide_related:!0,visual:!1},r=function(t){return e.get("https://soundcloud.com/oembed",{params:{url:t,format:"json"}}).then(function(t){var e=new DOMParser,i=e.parseFromString(t.data.html,"text/html"),r=i.querySelector("iframe").src.split("?")[1];return n.parse(r)})};return{oembed_url_for_src:function(t){return r(t).then(function(t){return t.url})},player_url_for_src:function(e){return r(e).then(function(e){var r=n.stringify(_.assign(e,i));return t.trustAsResourceUrl("https://w.soundcloud.com/player/?"+r)})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("SpotifyAnnotationClient",["$http",function(t){return{save_song:function(e,n,i){return t.post("/spotify_annotations/bulk_update",{song_id:e,spotify_annotations:i,spotify_song:{note:n.note,lock_version:n.lock_version,finalized:n.finalized}}).then(function(t){return t.data})},load_song:function(e){return t.get("/songs/"+e+"/spotify_annotations").then(function(t){return t.data})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("SpotifyBridge",["SpotifyLocal","SpotifyRemote","SpotifySocket",function(t,e,n){return/socket/.test(document.location.search)?_.tap(new n,function(t){return t.connect()}):/local_bridge/.test(document.location.search)?t:e}])},function(t,e,n){"use strict";angular.module("genius").factory("SpotifyClient",["$http",function(t){var e=function(){return $("[data-spotify-access-token]").attr("data-spotify-access-token")};return{load_artist_metadata:function(n){var i="https://api.spotify.com/v1/artists/"+n,r=e();return r&&(i+="?access_token="+r),t.get(i).then(function(t){return t.data})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("SpotifyLocal",["$q","$http","$rootScope",function(t,e,n){var i=n.$new(),r=void 0,o=_.once(function(){return t(function(t){var e=new EventSource("http://localhost:5115/stream");e.onopen=function(){i.$emit("ready",{ready:!0}),t(e),i.$apply()},e.onerror=function(){i.$emit("error"),i.$apply()},e.onmessage=function(t){r||(a({data:JSON.parse(t.data)}),i.$apply())}})}),a=function(t){i.$emit("seek",{playing:"playing"===t.data.playerState,position:t.data.playerPosition,track_uri:_.get(t.data.currentTrack,"id")}),i.$emit("playing",{playing:"playing"===t.data.playerState,track_uri:_.get(t.data.currentTrack,"id")})};return{$on:function(t,e){o(),i.$on(t,e)},playpause:function(t){return r=!0,o().then(function(){return e.post("http://localhost:5115/playpause",{trackId:t}).then(a).finally(function(){r=!1})})},seek:function(t,n){return r=!0,o().then(function(){return i.$emit("seek",{position:n,track_uri:t}),e.post("http://localhost:5115/seek",{trackId:t,playerPosition:n}).then(a).finally(function(){r=!1})})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("SpotifyPlayback",["$q","$rootScope","SpotifyBridge",function(t,e,n){var i=function(t){this.position=0,this.duration=t.duration,this.spotify_uuid=t.provider_id,this.track_uri="spotify:track:"+this.spotify_uuid,this.emitter=e.$new(),n.$on("seek",function(t,e){e.track_uri===this.track_uri&&(this.position=e.position,this.emitter.$emit("state",this.state))}.bind(this)),n.$on("playing",function(t,e){this.playing=e.track_uri===this.track_uri&&e.playing,this.emitter.$emit("state",this.state),_.isUndefined(e.position)||(this.position=e.position)}.bind(this))};return Object.defineProperties(i.prototype,{type:{value:"spotify"},label:{value:n.is_socket?"Spotify Socket":"Spotify Desktop"},$on:{value:function(t,e){return this.emitter.$on(t,e)}},state:{get:function(){return{position:this.position,percentage:this.position/this.duration,time_elapsed:this.position,time_remaining:this.duration-this.position,is_loading:!1,is_playing:this.playing}}},api:{get:function(){return{play:function(){this.state.is_playing||n.seek(this.track_uri,this.position||0)}.bind(this),pause:function(){n.pause()},playpause:function(){this.state.is_playing?this.api.pause():this.api.play()}.bind(this),seek_to:function(t){this.api.seek_to_position(this.duration*t)}.bind(this),seek_to_position:function(e){var i=this,r=!this.state.is_playing;this.position=e,t.when(n.seek(this.track_uri,this.position)).then(function(){r&&i.api.pause()})}.bind(this)}}}}),i}])},function(t,e,n){"use strict";angular.module("genius").factory("SpotifyRemote",["$q","$window","$rootScope","$interval","timestamp_for_displayFilter","getScript",function(t,e,n,i,r,o){var a,s,c,l,u=n.$new(),d=function(t,e){s=(new Date).getTime(),c=t,u.$emit("seek",{position:t,track_uri:e})},p=_.once(function(){var n=t.defer();return o("https://d2b1xqaw2ss8na.cloudfront.net/static/js/remote-control-bridge.js",{cache:!0}).then(function(){var t=new e.Spotify.RemoteControlBridgeInterface;t.init({remoteBridgeUrl:"https://embed.spotify.com/remote-control-bridge/",targetOrigin:"https://embed.spotify.com"}),t.attach(function(e){if("player-status"===e.key){a=e.data.track.track_resource.uri,u.is_playing=e.data.status;var i;_.isUndefined(e.data.playing_position)||(i=1e3*e.data.playing_position),u.$emit("playing",{playing:e.data.status,track_uri:a,position:i}),u.is_playing&&e.data.playing_position&&d(i,a)}else"client-error"===e.key?u.$emit("error"):"client-connected"===e.key?(n.resolve(t),u.$emit("ready",{ready:!0})):"client-disconnected"===e.key&&u.$emit("ready",{ready:!1});u.$apply()})}),n.promise});return u.$watch("is_playing",function(t){i.cancel(l),t&&(l=i(function(){var t=(new Date).getTime()-s;u.$emit("seek",{position:t+c,track_uri:a})},50))}),{$on:function(t,e){p(),u.$on(t,e)},pause:function(){p().then(function(t){t.pause()})},playpause:function(t){p().then(function(e){e.playPauseTrack(t.replace(/^spotify:track:/,""),"track")})},seek:function(t,e){p().then(function(n){var i=r(e,{skip_millis:!0});d(e,t),u.is_playing=!1,n.playSpotifyURI(t+"#"+i)})}}}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();angular.module("genius").factory("SpotifySocket",["$http","$interval","$q","$rootScope","$timeout","IdentityClient",function(t,e,n,o,a,s){var c=function(t){return _(t.payloads).flatMap("events").map("type").includes("PLAYER_STATE_CHANGED")};return function(){function l(){i(this,l),this._scope=o.$new(!0),this._last_update=n.when()}return r(l,[{key:"connect",value:function(){var t=this;return this._fresh_token().then(function(i){var r="wss://dealer.spotify.com?access_token="+i;t._socket=new WebSocket(r),t._socket.addEventListener("message",t._handle_message.bind(t)),t._seeking=n.when(),t._ping_interval=e(function(){t._socket.send('{"type": "ping"}')},3e4),t._seek_interval=e(function(){t._is_playing&&t._last_position&&t._emit("seek")},50)})}},{key:"disconnect",value:function(){e.cancel(this._ping_interval),e.cancel(this._seek_interval),this._socket.close(),this._scope.$destroy();var t={connection_id:this._connection_id};return this._request("delete","/me/notifications/player",{params:t})}},{key:"$on",value:function(t,e){this._scope.$on(t,e)}},{key:"pause",value:function(){return this._request("put","/me/player/pause")}},{key:"play",value:function(t){return this._request("put","/me/player/play",{data:{uris:[t]}})}},{key:"seek",value:function(t,e){var i=this,r=n.when();return this.track_uri===t&&this._is_playing||(r=this.play(t)),this._seeking=n.all([r,this._seeking]).then(function(){return i._request("put","/me/player/seek",{params:{position_ms:parseInt(e)}})}),this._seeking}},{key:"_fresh_token",value:function(){var t=this;return _.get(this,["_credentials","expires_at"],0)>Date.now()/1e3?n.when(this._credentials.token):s.spotify_credentials().then(function(e){return t._credentials=e,t._credentials.token})}},{key:"_emit",value:function(t){this._scope.$emit(t,{playing:this._is_playing,position:this.position,track_uri:this.track_uri})}},{key:"_handle_message",value:function(t){var e=JSON.parse(t.data);!this._connection_id&&e.uri?this._subscribe(e):c(e)&&this._update_play_state()}},{key:"_update_play_state",value:function(){var t=this;this._last_update=n.all([this._last_update,this._seeking]).then(function(){return t._request("get","/me/player/currently-playing").then(function(e){t._is_playing=!!e.data.is_playing,t._current_item=e.data.item,t._last_position_at=Date.now();var n=t._last_position_at-e.data.timestamp;t._last_position=Math.max(0,e.data.progress_ms-n),t._emit("playing"),t._is_playing&&0===t._last_position&&a(t._update_play_state.bind(t),n)},_.noop)})}},{key:"_request",value:function(e,i){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.params,s=o.data;return this._fresh_token().then(function(n){return t({method:e,params:a,data:s,url:"https://api.spotify.com/v1"+i,headers:{Authorization:"Bearer "+n}})}).catch(function(t){return r._scope.$emit("error",t),n.reject(t)})}},{key:"_subscribe",value:function(t){var e=this;return this._connection_id=_.get(t.uri.match(/connections\/(.*)$/),1),this._request("put","/me/notifications/player",{params:{connection_id:this._connection_id}}).then(function(){e._scope.$emit("ready",{ready:!0})})}},{key:"is_socket",get:function(){return!0}},{key:"position",get:function(){return _.isFinite(this._last_position)?this._last_position+(Date.now()-this._last_position_at):null}},{key:"track_uri",get:function(){return _.get(this._current_item,"uri")}}]),l}()}])},function(t,e,n){"use strict";angular.module("genius").factory("StopWatch",["$window",function(t){return t.StopWatch}])},function(t,e,n){"use strict";angular.module("genius").factory("StoryClient",["ApiClient",function(t){return{index:function(e){return t.get("/stories",e)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("string_has_unmatched_parentheses",[function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.parentheses,i=void 0===n?"[]()":n,r=[],o=void 0,a=void 0;for(o=0;a=t[o++];){var s=i.indexOf(a);if(!(s<0)){if(Boolean(s%2)){if(!r.length||i.indexOf(r.pop())!==s-1)return!0}else r.push(a)}}return r.length>0}}])},function(t,e,n){"use strict";angular.module("genius").factory("string_to_symbol_array",function(){var t=new RegExp("[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\u0000-\\uFFFF]","g");return function(e){return e.match(t)||[]}})},function(t,e,n){"use strict";angular.module("genius").factory("taboola",["$window","getScript","SessionConfig",function(t,e,n){return t._taboola=t._taboola||[],t._taboola.push({article:"auto"}),n.taboola_enabled&&e("//cdn.taboola.com/libtrc/genius/loader.js",{cache:!0}),{enabled:n.taboola_enabled,push_and_flush:function(e){t._taboola.push(e),t._taboola.push({flush:!0})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("TagClient",["$http","AppConfig",function(t,e){return{autocomplete:function(n){return t.get(e.api_root_url+"/tags/autocomplete",{params:{q:n}}).then(function(t){return t.data.response.tags})},primary:function(){return t.get(e.api_root_url+"/tags/home").then(function(t){return t.data.response.tags})}}}])},function(t,e,n){"use strict";n(305),n(1236),angular.module("genius").factory("TetherDrop",["$window",function(t){return t.Drop}])},function(t,e,n){"use strict";angular.module("genius").factory("TextSelection",["$window","$document","$rootScope","$immediate","XpathRange",function(t,e,n,i,r){var o=n.$new(),a=function(){var n=(t.getSelection||e[0].getSelection||$.noop)();if(void 0!==n&&n.rangeCount&&!n.isCollapsed)return n},s=function(t,e){return!(!t||!e)&&(t.length===e.length&&_.every(_.zip(t,e),function(t){var e=t[0],n=t[1];return e.startOffset===n.startOffset&&e.endOffset===n.endOffset&&e.startContainer.isEqualNode(n.startContainer)&&e.endContainer.isEqualNode(n.endContainer)}))},c=function(t){for(var e=[],n=0;n<t.rangeCount;n++){var i=t.getRangeAt(n);i.getBoundingClientRect().width>.1&&e.push(i)}return e},l=function(){var t=a();return t?c(t):[]},u=[],d=function(){var t=l();s(t,u)||(u=t,o.$emit("selection",{ranges:t}))};return o.restore_selection_if_clobbered=function(t,e){var n=l(),i=void 0;n.length&&(i=r.fromRange(n[0],t));var o=e();if(i&&!l().length){var a=r.toRange(i.start,i.startOffset,i.end,i.endOffset,t),s=getSelection();s.removeAllRanges(),s.addRange(a),d()}return o},e.on("mouseup keyup",function(t){(!t.keyCode||t.keyCode>=37&&t.keyCode<=40)&&i(d)}),o}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}angular.module("genius").factory("TimestampedDataFeed",[function(){var t=function(){return Math.floor((new Date).getTime()/1e3)};return function(){function e(n,r){var o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t();i(this,e),this.reset=function(){o.timestamp_for_next_page=s},this.reset(),this.params=_.clone(a),this.next=function(){return n(_.assign({timestamp_for_next_page:o.timestamp_for_next_page},o.params)).then(function(t){return o.timestamp_for_next_page=t.timestamp_for_next_page,t[r]})},this.has_next=function(){return o.timestamp_for_next_page}}return e}()}])},function(t,e,n){"use strict";angular.module("genius").factory("TopBarIndicatorsLoader",["EagerLoader","$http","Session",function(t,e,n){var i=new t,r=function(){n.user_signed_in&&e.get("/top_bar_indicators",{retries:2}).then(function(t){for(var e in t.data)i.loaded(e,t.data[e])})};return r(),{listen_for:i.listen_for.bind(i),refresh:r}}])},function(t,e,n){"use strict";n(1206),angular.module("genius").factory("Tracking",["$window","AbTest","$timeout",function(t,e,n){var i=t.app.tracking;i.register(e.mixpanel_properties);var r=[];return _.assign(i,{delayed_track:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.push({event:t,properties:e}),n(function(){i.track(t,e),_.remove(r,{event:t})},3e3)},attach_to_delayed_track:function(t,e){_.forEach(r,function(n){_.forEach(e,function(e,i){n.properties[t+" - "+i]=e})})}}),i}])},function(t,e,n){"use strict";angular.module("genius").factory("Twitter",["$window","querystring",function(t,e){return{share:function(n){var i=e.stringify({url:n.url,text:n.message}),r="https://twitter.com/intent/tweet?"+i;t.open(r)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("UserClient",["ApiClient","$http","AppConfig","$q",function(t,e,n,i){var r=function(t){var e=new Error(t.data.meta.message);return _.assign(e,_.pick(t,"status","statusText")),i.reject(_.assign(e,t.data.response))},o={autocomplete_api_endpoint:n.api_root_url+"/users/autocomplete",transform_autocomplete_results:function(t){return t.response.users},contribution_opportunity_assignments:function(e){return t.get("/users/:id/contribution_opportunity_assignments",{id:e,text_format:"html,markdown"})},mark_contribution_opportunity_assignments_read:function(e){return t.post("/users/:id/contribution_opportunity_assignments/mark_read",{id:e})},dismiss_contribution_opportunities_explanation:function(e){return t.delete("/users/:id/contribution_opportunities_explanation",{id:e})},accomplishments:function(t,i){return e.get(n.api_root_url+"/users/"+t+"/accomplishments",{params:i}).then(function(t){return t.data.response})},autocomplete:function(t){var n=this;return e.get(this.autocomplete_api_endpoint,{params:{q:t}}).then(function(t){return n.transform_autocomplete_results(t.data)})},load:function(t){return e.get(n.api_root_url+"/users/"+t).then(function(t){return t.data.response.user})},impersonate:function(t){return e.post("/users/impersonate",{login:t})},autocomplete_options:{parse:function(t){var e=o.transform_autocomplete_results(t);return _.map(e,function(t){return{data:[t.login],value:t.login,result:t.login}})}},load_followers_by_artist:function(t,i){return e.get(n.api_root_url+"/artists/"+t+"/followers",{params:i}).then(function(t){return t.data.response})},load_followers_by_user:function(t,i){return e.get(n.api_root_url+"/users/"+t+"/followers",{params:i}).then(function(t){return t.data.response})},load_followed_users:function(t,i){return e.get(n.api_root_url+"/users/"+t+"/followed_users",{params:i}).then(function(t){return t.data.response})},load_contributions:function(t,i,r){var o=i?"/"+i:"";return e.get(n.api_root_url+"/users/"+t+"/contributions"+o,{params:r}).then(function(t){return t.data.response})},update:function(t,i){var o={params:{text_format:"html,markdown"}};return e.put(n.api_root_url+"/users/"+t,i,o).then(function(t){return t.data.response}).catch(function(t){return r(t)})},load_recent_signups:function(t,i){return i.spam_state=t,e.get(n.api_root_url+"/users/recent_signups",{params:i}).then(function(t){return t.data.response})},add_role:function(t,i){return e.put(n.api_root_url+"/users/"+t+"/roles/"+i).then(function(t){return t.data.response}).catch(function(t){return r(t)})},remove_role:function(t,i){return e.delete(n.api_root_url+"/users/"+t+"/roles/"+i).then(function(t){return t.data.response}).catch(function(t){return r(t)})},associate_with_artist:function(t,i){return e.put(n.api_root_url+"/users/"+t+"/artist",i).then(function(t){return t.data.response}).catch(function(t){return r(t)})},dissociate_from_artist:function(t){return e.delete(n.api_root_url+"/users/"+t+"/artist").then(function(t){return t.data.response}).catch(function(t){return r(t)})},penalty_box:function(t){return e.put(n.api_root_url+"/users/"+t+"/penalty_box").then(function(t){return t.data.response}).catch(function(t){return r(t)})},unpenalty_box:function(t){return e.delete(n.api_root_url+"/users/"+t+"/penalty_box").then(function(t){return t.data.response}).catch(function(t){return r(t)})},update_spam_state:function(t,i){return e.put(n.api_root_url+"/users/"+t+"/spam",i).then(function(t){return t.data.response}).catch(function(t){return r(t)})},mass_delete_unreviewed_activity:function(t){return e.delete(n.api_root_url+"/users/"+t+"/unreviewed_activity").then(function(t){return t.data.response}).catch(function(t){return r(t)})},delete_votes:function(t,i){return e.delete(n.api_root_url+"/users/"+t+"/"+i).then(function(t){return t.data.response}).catch(function(t){return r(t)})},other_users_with_ip:function(t,i){return e.get(n.api_root_url+"/users/"+t+"/other_users_with_ip",{params:i}).then(function(t){return t.data.response})},get_slug:function(t){return _(this.get_path(t).split("/")).last()},get_path:function(t){return new URL(t.url).pathname},activity_line_items:function(t,i){return e.get(n.api_root_url+"/users/"+t+"/activity_stream/line_items",{params:i}).then(function(t){return t.data.response})},spam_status:function(t){return e.get(n.api_root_url+"/users/"+t+"/spam_status").then(function(t){return t.data.response})},logout:function(){return e.delete("/logout")}};return o}])},function(t,e,n){"use strict";angular.module("genius").factory("VideoClient",["ApiClient",function(t){return{index:function(e){return t.get("/videos",e)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("VideoListClient",["ApiClient",function(t){return{index:function(e){return t.get("/video_lists",e)},update:function(e,n){return t.returning("video_list").put("/video_lists/:id",{id:e,video_list:n})}}}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();angular.module("genius").factory("VideoPlacement",["Tracking","VideoRegistry","$immediate",function(t,e,n){return function(){function o(t,r){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.noop;i(this,o),this.object=t,this.name=r,n(function(){e.videos_for_placement(a.object,a.name).then(function(t){a.videos=t,a.track_loaded(),s(a.videos)}),a.page_type=e.current_page_type(a.object)})}return r(o,[{key:"tracking_data",value:function(t){return{"Page Type":this.page_type,Placement:this.name,Position:_.indexOf(this.videos,t)+1,"Video ID":t.id,Relevance:t.relevance,"Object Type":this.object._type,"Object ID":this.object.id}}},{key:"track_loaded",value:function(){var e=this,n={};_.forEach(this.videos,function(t){n[t.relevance]=n[t.relevance]||[],n[t.relevance].push(t)}),_.forEach(n,function(n,i){t.attach_to_delayed_track("Videos Loaded (placement: "+e.name+", relevance: "+i+")",{IDs:_.map(n,"id")})})}}]),o}()}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();angular.module("genius").factory("VideoRegistry",["VideoClient","PagedDataFeed","$q","PromiseQueue","AppConfig","SessionConfig",function(t,e,n,o,a,s){var c=["high","medium","low"],l={},u=function(t){return t._type+":"+t.id},d=function t(e){i(this,t),this.video=e,this.claimed=!1},p=function(){function l(r,o){var s=this;i(this,l),this.name=o,this.placements=_.map(a.video_placements[o],"name"),this.placement_deferreds={},_.forEach(this.placements,function(t){s.placement_deferreds[t]=n.defer()}),this.videos_with_metadata=[];var c={};c[r._type+"_id"]=r.id,this.paged_data_feed=new e(t.index,"videos",c,1,function(t){s.videos_with_metadata=s.videos_with_metadata.concat(_.map(t,function(t){return new d(t)}))}),this.series_videos_with_metadata=[],this.series_paged_data_feed=new e(t.index,"videos",_.merge({series:!0},c),1,function(t){s.series_videos_with_metadata=s.series_videos_with_metadata.concat(_.map(t,function(t){return new d(t)}))}),this.resolve_placements()}return r(l,[{key:"next_unclaimed_video",value:function(t,e){var i=this,r=e?this.series_paged_data_feed:this.paged_data_feed,o=n.defer(),a=_.reject(e?this.series_videos_with_metadata:this.videos_with_metadata,"claimed");if(_.some(a)){var s=_.head(a);c.indexOf(s.video.relevance)<=c.indexOf(t)?o.resolve(s):o.reject()}else r.has_next()?r.next().then(function(){return o.resolve(i.next_unclaimed_video(t,e))}):o.reject();return o.promise}},{key:"resolve_placements",value:function(){var t=this,e=new o;_.forEach(this.placements,function(n){return e.add(function(){return t.resolve_placement(n)})})}},{key:"resolve_placement",value:function(t){var e=this,i=_.find(a.video_placements[this.name],{name:t}),r=s.fringe_enabled&&!_.isUndefined(i.fringe_min_relevance)?i.fringe_min_relevance:i.min_relevance,c=[],l=new o({fail_fast:!0}),u=_.times(i.max_videos,function(){return l.add(function(){return e.next_unclaimed_video(r,i.series).then(function(t){t.claimed=!0,c.push(t)})})});return n.all(u).finally(function(){return e.placement_deferreds[t].resolve(_.map(c,"video"))}),this.placement_deferreds[t].promise}},{key:"videos_for_placement",value:function(t){return this.placement_deferreds[t].promise}},{key:"videos",value:function(){return _.map(this.videos_with_metadata,"video")}}]),l}();return{current_page_type:function(t){return l[u(t)].name},register_page:function(t,e){l[u(t)]=new p(t,e)},videos_for_placement:function(t,e){return l[u(t)].videos_for_placement(e)},videos_for:function(t){return l[u(t)].videos()},paged_data_feed_for:function(t){return l[u(t)].paged_data_feed}}}])},function(t,e,n){"use strict";angular.module("genius").factory("VideoSourcesClient",["ApiClient",function(t){return{index:function(e){return t.returning("video_sources").get("/videos/:video_id/video_sources",{video_id:e})},create:function(e,n){return t.returning("video_source").post("/videos/:video_id/video_sources",{video_id:e,video_source:n})},destroy:function(e){return t.delete("/video_sources/:video_source_id",{video_source_id:e})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("VoteClient",["AppConfig","querystring","$http",function(t,e,n){return{load_voters:function(i,r){var o=_.set({},i+"_id",r);return n.get(t.api_root_url+"/voters?"+e.stringify(o)).then(function(t){return t.data.response.voters})},submit_vote:function(e,i,r){var o=_.set({direction:r||"middle"},e+"_id",i);return n.post(t.api_root_url+"/votes",o)}}}])},function(t,e,n){"use strict";angular.module("genius").factory("wait_for_global",["$q","$window",function(t,e){return function(n,i){return _.get(e,n)?t.when(_.get(e,n)):(i=_.defaults(i||{},{timeout:1e3}),t(function(t,r){setTimeout(function(){clearInterval(o),r(new Error("timed out waiting for '"+n+"' to load"))},i.timeout);var o=setInterval(function(){var i=_.get(e,n);i&&(clearInterval(o),t(i))},50)}))}}])},function(t,e,n){"use strict";n(1371),n(1372),angular.module("genius").factory("Waypoint",["$window",function(t){return t.Waypoint}])},function(t,e,n){"use strict";angular.module("genius").factory("WebAnnotatorClient",["ApiClient",function(t){return{load_web_page:function(e){return t.returning("web_page").get("/web_pages/:id",{id:e})},protect_web_page:function(e){return t.returning("web_page").post("/web_pages/:id/protect",{id:e})},unprotect_web_page:function(e){return t.returning("web_page").post("/web_pages/:id/unprotect",{id:e})},publish_web_page_drafts:function(e){return t.returning("web_page").post("/web_pages/:id/publish_drafts",{id:e})},load_user_roles:function(e,n){return t.returning("user_web_page_roles").get("/:type/:id/user_roles",{type:e,id:n})},create_user_role:function(e,n,i){return t.returning("user_web_page_role").post("/:type/:id/user_roles",{type:e,id:n,user_web_page_role:i})},update_user_role:function(e,n){return t.returning("user_web_page_role").put("/user_web_page_roles/:id",{id:e,user_web_page_role:n})},destroy_user_role:function(e){return t.delete("/user_web_page_roles/:id",{id:e})}}}])},function(t,e,n){"use strict";angular.module("genius").factory("WebAudioPlayback",["$interval","$document","$rootScope",function(t,e,n){var i=function(i){this.emitter=n.$new(),this.audio=e[0].createElement("audio"),this.audio.src=i.cached_audio_url,t(function(){this.emitter.$emit("state",this.state)}.bind(this),50)};return Object.defineProperties(i.prototype,{type:{value:"web_audio"},label:{value:"Cached Audio"},$on:{value:function(t,e){return this.emitter.$on(t,e)}},src:{get:function(){return this.audio.currentSrc}},duration:{get:function(){return 1e3*this.audio.duration}},position:{get:function(){return 1e3*this.audio.currentTime}},playing:{get:function(){return!this.audio.paused}},state:{get:function(){return{position:this.position,percentage:this.position/this.duration,time_elapsed:this.position,time_remaining:this.duration-this.position,is_loading:!1,is_playing:this.playing}}},api:{get:function(){var t=this;return{play:function(){t.audio.play()},pause:function(){t.audio.pause()},playpause:function(){t.audio.paused?t.audio.play():t.audio.pause()}.bind(this),seek_to:function(t){this.api.seek_to_position(this.duration*t)}.bind(this),seek_to_position:function(e){t.audio.currentTime=e/1e3}.bind(this)}}}}),i}])},function(t,e,n){"use strict";angular.module("genius").factory("WindowTitle",["$document",function(t){return{update_count:function(e){var n=e>0?"("+e+") ":"";t[0].title=t[0].title.replace(/^(\(\d+\) )?/,n)}}}])},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();angular.module("genius").factory("Youtube",["$rootScope","$q","$timeout","$window","getScript","wait_for_global",function(t,e,n,o,a,s){var c={controls:0,enablejsapi:1,fs:0,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0},l=e.defer(),u=l.promise.then(function(){return a("https://www.youtube.com/player_api",{cache:!0})}).then(function(){return s("YT.Player")});return function(){function a(n,r){var o=this;i(this,a),this.state={},this.deferred_load=e.defer(),this.player=this.deferred_load.promise.then(function(){return l.resolve(),u}).then(function(i){return e(function(e){var a=new i(n,{height:"100%",width:"100%",playerVars:_.defaults({controls:r.controls?2:0,fs:r.fullscreen?1:0,playsinline:r.playsinline?1:0},c),events:{onReady:function(){e(a)},onStateChange:function(){t.$apply(o.update_state.bind(o))},onError:function(){t.$apply(function(){o.state.has_errored=!0})}}})})})}return r(a,[{key:"load",value:function(){return this.deferred_load.resolve(),this.player}},{key:"cue_video_by_id",value:function(t,e){var n=this;this.player.then(function(i){i.cueVideoById(t,e),n.state.placeholder="https://i.ytimg.com/vi/"+t+"/sddefault.jpg"})}},{key:"update_state",value:function(){var t=this;this.player.then(function(e){var i=e.getDuration(),r=e.getCurrentTime(),a=i>0?i-r:i;_.assign(t.state,{is_playing:e.getPlayerState()===o.YT.PlayerState.PLAYING,percentage:r/i,time_elapsed:1e3*r,time_remaining:1e3*a}),t.state.is_playing&&(t.state.is_loaded=!0,t.state.is_loading=!1,n(t.update_state.bind(t),500))})}},{key:"api",get:function(){var t=this;return this._api?this._api:(this._api={load_media:function(){return t.state.is_loading=!0,t.load().then(function(){t.state.is_loading=!1,t.state.is_loaded=!0})},seek_to:function(e){return t.player.then(function(t){t.seekTo(e*t.getDuration())})},pause:function(){return t.player.then(function(t){t.pauseVideo()})},playpause:function(){return t.player.then(function(e){e.getPlayerState()!==o.YT.PlayerState.PLAYING?(t.state.has_played=!0,e.playVideo()):e.pauseVideo()})},mute:function(){return t.player.then(function(t){t.mute()})}},this._api)}}]),a}()}])},function(t,e,n){"use strict";angular.module("genius").filter("abbreviateBigNumber",[function(){return function(t){return t>1e6?Math.round(t/1e5)/10+"M":t>1e3?Math.round(t/100)/10+"K":t}}])},function(t,e,n){"use strict";angular.module("genius").filter("andMore",[function(){return function(t){return"(and "+t+" more)"}}])},function(t,e,n){"use strict";angular.module("genius").filter("boundedCount",[function(){return function(t,e){if(t)return e&&Number(t)>=Number(e)?e+"+":t.toString()}}])},function(t,e,n){"use strict";angular.module("genius").filter("capitalize",[function(){return _.capitalize}])},function(t,e,n){"use strict";angular.module("genius").filter("cast_to_date",[function(){return function(t){return _.isNumber(t)?new Date(1e3*t):_.isString(t)?new Date(t):_.isDate(t)?t:null}}])},function(t,e,n){"use strict";angular.module("genius").filter("descriptionAnnotationName",["I18n","modelHumanNameFilter",function(t,e){return function(n){var i=e(n),r=t.t("description_annotation."+n);return _.lowerCase(i)+" "+r}}])},function(t,e,n){"use strict";angular.module("genius").filter("drop",[function(){return function(t,e){if(t)return e>=0?_.drop(t,e):_.dropRight(t,-e)}}])},function(t,e,n){"use strict";angular.module("genius").filter("genericLineItemMessage",["i18nFilter",function(t){return function(e,n){var i=Object.assign({scope:"activemodel.activity_stream_line_item_message.message",defaultKey:"default"},n);return t(e,i)}}])},function(t,e,n){"use strict";angular.module("genius").filter("highlight_braced",["$sce","$sanitize",function(t,e){return function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.class_name,o=e(n),a='<span class="'+r+'">$1</span>';return t.trustAsHtml(o.replace(/\[(.+?)\]/g,a))}}])},function(t,e,n){"use strict";angular.module("genius").filter("human_readable_datetime",["$filter",function(t){return function(e,n){var i=t("cast_to_date")(e);return n=n||{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"},i.toLocaleTimeString("en-US",n)}}])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};angular.module("genius").filter("i18n",["I18n","AppConfig",function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.defaultKey&&(r=Object.assign(r,{defaultValue:t.t(r.defaultKey,r)})),"object"===(void 0===n?"undefined":i(n))&&(n=_.findKey(n)),n=n||"__not_found",!t.lookup(n,r)){var o="Missing translation for "+n+"!!!";if("development"===e.env)throw alert(o),new Error(o);return""}return t.t(n,r)}}])},function(t,e,n){"use strict";angular.module("genius").filter("imprecise_date",["$filter",function(t){var e=["yyyy","MMMM yyyy","MMMM d, yyyy"];return function(n){if(n){var i=_(n).at("year","month","day").takeWhile().value(),r=new Date(i[0],(i[1]||1)-1,i[2]||1);return t("date")(r,e[i.length-1])}}}])},function(t,e,n){"use strict";angular.module("genius").filter("indefinitize",[function(){return function(t){return/^[aeiou]/i.test(t)?"an "+t:"a "+t}}])},function(t,e,n){"use strict";angular.module("genius").filter("millisToDuration",["moment",function(t){return function(e){return t.utc(e).format(e>36e5?"HH:mm:ss":"mm:ss")}}])},function(t,e,n){"use strict";angular.module("genius").filter("millisecondsToSeconds",[function(){return function(t){return 1e3*t}}])},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}angular.module("genius").filter("min",[function(){return function(t){return Math.min.apply(Math,i(t))}}])},function(t,e,n){"use strict";angular.module("genius").filter("minBy",["$parse",function(t){return function(e,n){var i=t(n);return _.minBy(e,function(t){return i(t)})}}])},function(t,e,n){"use strict";angular.module("genius").filter("minimum_readable_time",["$window",function(t){var e=245,n=t.location.search.match(/wpm=(\d+)/);n&&(e=Number(n[1]));var i=6e4/e;return function(t){return(t?t.split(/\s+/).length:0)*i}}])},function(t,e,n){"use strict";angular.module("genius").filter("minusModulo",[function(){return function(t,e){return t-t%e}}])},function(t,e,n){"use strict";angular.module("genius").filter("modelHumanName",["I18n",function(t){return function(e){return t.t("activerecord.models."+e.toLowerCase())}}])},function(t,e,n){"use strict";angular.module("genius").filter("richContentPreview",["truncateToBoundaryFilter",function(t){return function(e){if(e){var n=e.replace(/<[^>]+>/gm,"").trim();return n?t(n,75,{with_ellipsis:!0}):"[…]"}}}])},function(t,e,n){"use strict";angular.module("genius").filter("roleHumanName",["I18n",function(t){return function(e){return t.t("role.types."+e+".one")}}])},function(t,e,n){"use strict";angular.module("genius").filter("signed_number",[function(){return function(t){return _.isUndefined(t)?0:t&&t>0?"+"+t.toString():t.toString()}}])},function(t,e,n){"use strict";angular.module("genius").filter("snakeCase",[function(){return _.snakeCase}])},function(t,e,n){"use strict";angular.module("genius").filter("spotify_artist_metadata",["SpotifyClient",function(t){var e={};return function(n){if(!n)return{};var i=e[n];if(i)return i;e[n]={},t.load_artist_metadata(n).then(function(t){e[n]=t})}}])},function(t,e,n){"use strict";angular.module("genius").filter("svg",[function(){return function(t){return t+".svg"}}])},function(t,e,n){"use strict";angular.module("genius").filter("timestamp_for_display",[function(){var t=function(t,e){return"0000".substring(0,e-t.toString().length)+t};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.skip_millis,r=n.always_millis;if(!e&&0!==e)return"";var o=e/1e3,a=Math.floor(o/60)+":"+t(Math.floor(o%60),2),s=Math.floor(e%1e3);return(r||s&&!i)&&(a+="."+t(s,3)),a}}])},function(t,e,n){"use strict";angular.module("genius").filter("to_utc",["$filter",function(t){return function(e){return t("cast_to_date")(e).toISOString()}}])},function(t,e,n){"use strict";angular.module("genius").filter("truncateToBoundary",[function(){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.with_ellipsis;if(t){e=i?e-"…".length:e;var r=t.substr(0,e);if(t[e]&&" "!==t[e]){var o=r.lastIndexOf(" ");-1!==o&&(r=r.substr(0,o))}return i&&r.length<t.length&&(r+="…"),r}}}])},function(t,e,n){"use strict";angular.module("genius").filter("withIndefiniteArticle",[function(){var t=/^[aeiou]/i;return function(e){return(t.test(e)?"an":"a")+" "+e}}])},function(t,e,n){"use strict";angular.module("genius").value("currentFlashMessages",new Array)},function(t,e,n){"use strict";angular.module("genius").value("PreloadCache",{})},function(t,e,n){"use strict";n(1385),angular.module("genius").value("XpathRange",window.XpathRange)},function(t,e,n){"use strict";n(656),$(document).on("click",".atwho-container",function(t){t.stopPropagation()})},function(t,e,n){"use strict";n(1359),setImmediate(function(){var t=new Map;$("[initial-content-for]").each(function(e,n){var i=$(n);i.attr("ng-non-bindable",!0),t.set(i.attr("initial-content-for"),i)}),angular.module("genius").value("initial_placeholder_content",t),window.performance&&performance.mark&&window.performance.mark("angular_bootstrap_start");var e=Date.now();angular.bootstrap(document.body,["genius"],{strictDi:!0}).invoke(["$window","application_bootstrap","Librato","PageDataClient","performance_mark",function(t,n,i,r,o){if(o.create("angular_bootstrap_complete"),t.ga&&t.ANALYTICS_CONFIG){var a=Date.now()-e;i.set_page_type(_.get(r.preloaded(),"page_type","other")),i.measure("angular_bootstrap_time",a),t.ga("send","timing","Initial Load","Angular Bootstrap",a)}setImmediate(n.done)}])}),window.performance&&performance.mark&&window.performance.mark("bundle_load_end")},function(t,e,n){"use strict";n(310),n(315),n(314)},,function(t,e,n){"use strict";window.app=window.app||{},window.app.youtubeURLre=new RegExp("https?://youtube.com/watch|https?://www.youtube.com/watch|https?://youtu.be/"),window.app.twitterURLre=/((http:\/\/(twitter\.com\/.*\/status\/.*\/photo\/.*|twitter\.com\/.*\/statuses\/.*\/photo|pic\.twitter\.com\/.*|www\.twitter\.com\/.*\/statuses\/.*\/photo\/.*|mobile\.twitter\.com\/.*\/status\/.*\/photo\/.*|mobile\.twitter\.com\/.*\/statuses\/.*\/photo\/.*|twitter\.com\/.*\/status\/.*|twitter\.com\/.*\/statuses\/.*|www\.twitter\.com\/.*\/status\/.*|www\.twitter\.com\/.*\/statuses\/.*|mobile\.twitter\.com\/.*\/status\/.*|mobile\.twitter\.com\/.*\/statuses\/.*))|(https:\/\/(twitter\.com\/.*\/status\/.*\/photo\/.*|twitter\.com\/.*\/statuses\/.*\/photo\/.*|www\.twitter\.com\/.*\/status\/.*\/photo\/.*|www\.twitter\.com\/.*\/statuses\/.*\/photo\/.*|mobile\.twitter\.com\/.*\/status\/.*\/photo\/.*|mobile\.twitter\.com\/.*\/statuses\/.*\/photo\/.*|twitter\.com\/.*\/status\/.*|twitter\.com\/.*\/statuses\/.*|www\.twitter\.com\/.*\/status\/.*|www\.twitter\.com\/.*\/statuses\/.*|mobile\.twitter\.com\/.*\/status\/.*|mobile\.twitter\.com\/.*\/statuses\/.*)))/i,window.app.rgURLre=new RegExp("^(https?:\\/\\/(.+\\.)?((?:rap)?genius\\.com|"+CANONICAL_DOMAIN.replace(/\.|\-/g,"\\$&")+")\\/(\\d+)(?:\\/|\\?|$))","i"),window.app.embedlyURLre=/((https?:\/\/(.*yfrog\..*\/.*|www\.flickr\.com\/photos\/.*|flic\.kr\/.*|twitpic\.com\/.*|www\.twitpic\.com\/.*|twitpic\.com\/photos\/.*|www\.twitpic\.com\/photos\/.*|.*imgur\.com\/.*|.*\.posterous\.com\/.*|post\.ly\/.*|twitgoo\.com\/.*|i.*\.photobucket\.com\/albums\/.*|s.*\.photobucket\.com\/albums\/.*|phodroid\.com\/.*\/.*\/.*|www\.mobypicture\.com\/user\/.*\/view\/.*|moby\.to\/.*|xkcd\.com\/.*|www\.xkcd\.com\/.*|imgs\.xkcd\.com\/.*|www\.asofterworld\.com\/index\.php\?id=.*|www\.asofterworld\.com\/.*\.jpg|asofterworld\.com\/.*\.jpg|www\.qwantz\.com\/index\.php\?comic=.*|23hq\.com\/.*\/photo\/.*|www\.23hq\.com\/.*\/photo\/.*|.*dribbble\.com\/shots\/.*|drbl\.in\/.*|.*\.smugmug\.com\/.*|.*\.smugmug\.com\/.*#.*|emberapp\.com\/.*\/images\/.*|emberapp\.com\/.*\/images\/.*\/sizes\/.*|emberapp\.com\/.*\/collections\/.*\/.*|emberapp\.com\/.*\/categories\/.*\/.*\/.*|embr\.it\/.*|picasaweb\.google\.com.*\/.*\/.*#.*|picasaweb\.google\.com.*\/lh\/photo\/.*|picasaweb\.google\.com.*\/.*\/.*|dailybooth\.com\/.*\/.*|brizzly\.com\/pic\/.*|pics\.brizzly\.com\/.*\.jpg|img\.ly\/.*|www\.tinypic\.com\/view\.php.*|tinypic\.com\/view\.php.*|www\.tinypic\.com\/player\.php.*|tinypic\.com\/player\.php.*|www\.tinypic\.com\/r\/.*\/.*|tinypic\.com\/r\/.*\/.*|.*\.tinypic\.com\/.*\.jpg|.*\.tinypic\.com\/.*\.png|meadd\.com\/.*\/.*|meadd\.com\/.*|.*\.deviantart\.com\/art\/.*|.*\.deviantart\.com\/gallery\/.*|.*\.deviantart\.com\/#\/.*|fav\.me\/.*|.*\.deviantart\.com|.*\.deviantart\.com\/gallery|.*\.deviantart\.com\/.*\/.*\.jpg|.*\.deviantart\.com\/.*\/.*\.gif|.*\.deviantart\.net\/.*\/.*\.jpg|.*\.deviantart\.net\/.*\/.*\.gif|www\.fotopedia\.com\/.*\/.*|fotopedia\.com\/.*\/.*|photozou\.jp\/photo\/show\/.*\/.*|photozou\.jp\/photo\/photo_only\/.*\/.*|instagr\.am\/p\/.*|instagram\.com\/p\/.*|www\.instagram\.com\/p\/.*|skitch\.com\/.*\/.*\/.*|img\.skitch\.com\/.*|share\.ovi\.com\/media\/.*\/.*|www\.questionablecontent\.net\/|questionablecontent\.net\/|www\.questionablecontent\.net\/view\.php.*|questionablecontent\.net\/view\.php.*|questionablecontent\.net\/comics\/.*\.png|www\.questionablecontent\.net\/comics\/.*\.png|picplz\.com\/user\/.*\/pic\/.*\/|twitrpix\.com\/.*|.*\.twitrpix\.com\/.*|www\.someecards\.com\/.*\/.*|someecards\.com\/.*\/.*|some\.ly\/.*|www\.some\.ly\/.*|pikchur\.com\/.*|achewood\.com\/.*|www\.achewood\.com\/.*|achewood\.com\/index\.php.*|www\.achewood\.com\/index\.php.*|www\.whosay\.com\/content\/.*|www\.whosay\.com\/photos\/.*|www\.whosay\.com\/videos\/.*|say\.ly\/.*|ow\.ly\/i\/.*|color\.com\/s\/.*|bnter\.com\/convo\/.*|mlkshk\.com\/p\/.*|lockerz\.com\/s\/.*|soundcloud\.com\/.*|soundcloud\.com\/.*\/.*|soundcloud\.com\/.*\/sets\/.*|soundcloud\.com\/groups\/.*|snd\.sc\/.*|www\.last\.fm\/music\/.*|www\.last\.fm\/music\/+videos\/.*|www\.last\.fm\/music\/+images\/.*|www\.last\.fm\/music\/.*\/_\/.*|www\.last\.fm\/music\/.*\/.*|www\.mixcloud\.com\/.*\/.*\/|www\.radionomy\.com\/.*\/radio\/.*|radionomy\.com\/.*\/radio\/.*|www\.hark\.com\/clips\/.*|www\.rdio\.com\/#\/artist\/.*\/album\/.*|www\.rdio\.com\/artist\/.*\/album\/.*|www\.zero-inch\.com\/.*|.*\.bandcamp\.com\/|.*\.bandcamp\.com\/track\/.*|.*\.bandcamp\.com\/album\/.*|freemusicarchive\.org\/music\/.*|www\.freemusicarchive\.org\/music\/.*|freemusicarchive\.org\/curator\/.*|www\.freemusicarchive\.org\/curator\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/templates\/story\/story\.php.*|huffduffer\.com\/.*\/.*|www\.audioboo\.fm\/boos\/.*|audioboo\.fm\/boos\/.*|boo\.fm\/b.*|www\.xiami\.com\/song\/.*|xiami\.com\/song\/.*|www\.saynow\.com\/playMsg\.html.*|www\.saynow\.com\/playMsg\.html.*|grooveshark\.com\/s\/.*|listen\.grooveshark\.com\/s\/.*|radioreddit\.com\/songs.*|www\.radioreddit\.com\/songs.*|radioreddit\.com\/\?q=songs.*|www\.radioreddit\.com\/\?q=songs.*|www\.gogoyoko\.com\/song\/.*|.*amazon\..*\/gp\/product\/.*|.*amazon\..*\/.*\/dp\/.*|.*amazon\..*\/dp\/.*|.*amazon\..*\/o\/ASIN\/.*|.*amazon\..*\/gp\/offer-listing\/.*|.*amazon\..*\/.*\/ASIN\/.*|.*amazon\..*\/gp\/product\/images\/.*|.*amazon\..*\/gp\/aw\/d\/.*|www\.amzn\.com\/.*|amzn\.com\/.*|www\.shopstyle\.com\/browse.*|www\.shopstyle\.com\/action\/apiVisitRetailer.*|api\.shopstyle\.com\/action\/apiVisitRetailer.*|www\.shopstyle\.com\/action\/viewLook.*|gist\.github\.com\/.*|twitter\.com\/.*\/status\/.*|twitter\.com\/.*\/statuses\/.*|www\.twitter\.com\/.*\/status\/.*|www\.twitter\.com\/.*\/statuses\/.*|mobile\.twitter\.com\/.*\/status\/.*|mobile\.twitter\.com\/.*\/statuses\/.*|www\.crunchbase\.com\/.*\/.*|crunchbase\.com\/.*\/.*|www\.slideshare\.net\/.*\/.*|www\.slideshare\.net\/mobile\/.*\/.*|slidesha\.re\/.*|scribd\.com\/doc\/.*|www\.scribd\.com\/doc\/.*|scribd\.com\/mobile\/documents\/.*|www\.scribd\.com\/mobile\/documents\/.*|screenr\.com\/.*|polldaddy\.com\/community\/poll\/.*|polldaddy\.com\/poll\/.*|answers\.polldaddy\.com\/poll\/.*|www\.5min\.com\/Video\/.*|www\.howcast\.com\/videos\/.*|www\.screencast\.com\/.*\/media\/.*|screencast\.com\/.*\/media\/.*|www\.screencast\.com\/t\/.*|screencast\.com\/t\/.*|issuu\.com\/.*\/docs\/.*|www\.kickstarter\.com\/projects\/.*\/.*|www\.scrapblog\.com\/viewer\/viewer\.aspx.*|ping\.fm\/p\/.*|chart\.ly\/symbols\/.*|chart\.ly\/.*|maps\.google\.com\/maps\?.*|maps\.google\.com\/\?.*|maps\.google\.com\/maps\/ms\?.*|.*\.craigslist\.org\/.*\/.*|my\.opera\.com\/.*\/albums\/show\.dml\?id=.*|my\.opera\.com\/.*\/albums\/showpic\.dml\?album=.*&picture=.*|tumblr\.com\/.*|.*\.tumblr\.com\/post\/.*|www\.polleverywhere\.com\/polls\/.*|www\.polleverywhere\.com\/multiple_choice_polls\/.*|www\.polleverywhere\.com\/free_text_polls\/.*|www\.quantcast\.com\/wd:.*|www\.quantcast\.com\/.*|siteanalytics\.compete\.com\/.*|statsheet\.com\/statplot\/charts\/.*\/.*\/.*\/.*|statsheet\.com\/statplot\/charts\/e\/.*|statsheet\.com\/.*\/teams\/.*\/.*|statsheet\.com\/tools\/chartlets\?chart=.*|.*\.status\.net\/notice\/.*|identi\.ca\/notice\/.*|brainbird\.net\/notice\/.*|shitmydadsays\.com\/notice\/.*|www\.studivz\.net\/Profile\/.*|www\.studivz\.net\/l\/.*|www\.studivz\.net\/Groups\/Overview\/.*|www\.studivz\.net\/Gadgets\/Info\/.*|www\.studivz\.net\/Gadgets\/Install\/.*|www\.studivz\.net\/.*|www\.meinvz\.net\/Profile\/.*|www\.meinvz\.net\/l\/.*|www\.meinvz\.net\/Groups\/Overview\/.*|www\.meinvz\.net\/Gadgets\/Info\/.*|www\.meinvz\.net\/Gadgets\/Install\/.*|www\.meinvz\.net\/.*|www\.schuelervz\.net\/Profile\/.*|www\.schuelervz\.net\/l\/.*|www\.schuelervz\.net\/Groups\/Overview\/.*|www\.schuelervz\.net\/Gadgets\/Info\/.*|www\.schuelervz\.net\/Gadgets\/Install\/.*|www\.schuelervz\.net\/.*|myloc\.me\/.*|pastebin\.com\/.*|pastie\.org\/.*|www\.pastie\.org\/.*|redux\.com\/stream\/item\/.*\/.*|redux\.com\/f\/.*\/.*|www\.redux\.com\/stream\/item\/.*\/.*|www\.redux\.com\/f\/.*\/.*|cl\.ly\/.*|cl\.ly\/.*\/content|speakerdeck\.com\/u\/.*\/p\/.*|www\.kiva\.org\/lend\/.*|www\.timetoast\.com\/timelines\/.*|storify\.com\/.*\/.*|.*meetup\.com\/.*|meetu\.ps\/.*|www\.dailymile\.com\/people\/.*\/entries\/.*|.*\.kinomap\.com\/.*|www\.metacdn\.com\/api\/users\/.*\/content\/.*|www\.metacdn\.com\/api\/users\/.*\/media\/.*|prezi\.com\/.*\/.*|.*\.uservoice\.com\/.*\/suggestions\/.*|formspring\.me\/.*|www\.formspring\.me\/.*|formspring\.me\/.*\/q\/.*|www\.formspring\.me\/.*\/q\/.*|twitlonger\.com\/show\/.*|www\.twitlonger\.com\/show\/.*|tl\.gd\/.*|www\.qwiki\.com\/q\/.*|crocodoc\.com\/.*|.*\.crocodoc\.com\/.*|.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|youtu\.be\/.*|.*\.youtube\.com\/user\/.*|.*\.youtube\.com\/.*#.*\/.*|m\.youtube\.com\/watch.*|m\.youtube\.com\/index.*|.*\.youtube\.com\/profile.*|.*\.youtube\.com\/view_play_list.*|.*\.youtube\.com\/playlist.*|www\.vevo\.com\/watch\/.*|www\.vevo\.com\/video\/.*|.*justin\.tv\/.*|.*justin\.tv\/.*\/b\/.*|.*justin\.tv\/.*\/w\/.*|www\.ustream\.tv\/recorded\/.*|www\.ustream\.tv\/channel\/.*|www\.ustream\.tv\/.*|qik\.com\/video\/.*|qik\.com\/.*|qik\.ly\/.*|.*revision3\.com\/.*|.*\.dailymotion\.com\/video\/.*|.*\.dailymotion\.com\/.*\/video\/.*|collegehumor\.com\/video:.*|collegehumor\.com\/video\/.*|www\.collegehumor\.com\/video:.*|www\.collegehumor\.com\/video\/.*|.*twitvid\.com\/.*|www\.break\.com\/.*\/.*|vids\.myspace\.com\/index\.cfm\?fuseaction=vids\.individual&videoid.*|www\.myspace\.com\/index\.cfm\?fuseaction=.*&videoid.*|www\.metacafe\.com\/watch\/.*|www\.metacafe\.com\/w\/.*|blip\.tv\/file\/.*|.*\.blip\.tv\/file\/.*|video\.google\.com\/videoplay\?.*|.*revver\.com\/video\/.*|video\.yahoo\.com\/watch\/.*\/.*|video\.yahoo\.com\/network\/.*|.*viddler\.com\/explore\/.*\/videos\/.*|liveleak\.com\/view\?.*|www\.liveleak\.com\/view\?.*|animoto\.com\/play\/.*|dotsub\.com\/view\/.*|www\.overstream\.net\/view\.php\?oid=.*|www\.livestream\.com\/.*|www\.worldstarhiphop\.com\/videos\/video.*\.php\?v=.*|worldstarhiphop\.com\/videos\/video.*\.php\?v=.*|teachertube\.com\/viewVideo\.php.*|www\.teachertube\.com\/viewVideo\.php.*|www1\.teachertube\.com\/viewVideo\.php.*|www2\.teachertube\.com\/viewVideo\.php.*|bambuser\.com\/v\/.*|bambuser\.com\/channel\/.*|bambuser\.com\/channel\/.*\/broadcast\/.*|www\.schooltube\.com\/video\/.*\/.*|bigthink\.com\/ideas\/.*|bigthink\.com\/series\/.*|sendables\.jibjab\.com\/view\/.*|sendables\.jibjab\.com\/originals\/.*|www\.xtranormal\.com\/watch\/.*|socialcam\.com\/v\/.*|www\.socialcam\.com\/v\/.*|dipdive\.com\/media\/.*|dipdive\.com\/member\/.*\/media\/.*|dipdive\.com\/v\/.*|.*\.dipdive\.com\/media\/.*|.*\.dipdive\.com\/v\/.*|v\.youku\.com\/v_show\/.*\.html|v\.youku\.com\/v_playlist\/.*\.html|www\.snotr\.com\/video\/.*|snotr\.com\/video\/.*|video\.jardenberg\.se\/.*|www\.clipfish\.de\/.*\/.*\/video\/.*|www\.myvideo\.de\/watch\/.*|www\.whitehouse\.gov\/photos-and-video\/video\/.*|www\.whitehouse\.gov\/video\/.*|wh\.gov\/photos-and-video\/video\/.*|wh\.gov\/video\/.*|www\.hulu\.com\/watch.*|www\.hulu\.com\/w\/.*|hulu\.com\/watch.*|hulu\.com\/w\/.*|.*crackle\.com\/c\/.*|www\.fancast\.com\/.*\/videos|www\.funnyordie\.com\/videos\/.*|www\.funnyordie\.com\/m\/.*|funnyordie\.com\/videos\/.*|funnyordie\.com\/m\/.*|www\.vimeo\.com\/groups\/.*\/videos\/.*|www\.vimeo\.com\/.*|vimeo\.com\/groups\/.*\/videos\/.*|vimeo\.com\/.*|vimeo\.com\/m\/#\/.*|www\.ted\.com\/talks\/.*\.html.*|www\.ted\.com\/talks\/lang\/.*\/.*\.html.*|www\.ted\.com\/index\.php\/talks\/.*\.html.*|www\.ted\.com\/index\.php\/talks\/lang\/.*\/.*\.html.*|.*nfb\.ca\/film\/.*|www\.thedailyshow\.com\/watch\/.*|www\.thedailyshow\.com\/full-episodes\/.*|www\.thedailyshow\.com\/collection\/.*\/.*\/.*|movies\.yahoo\.com\/movie\/.*\/video\/.*|movies\.yahoo\.com\/movie\/.*\/trailer|movies\.yahoo\.com\/movie\/.*\/video|www\.colbertnation\.com\/the-colbert-report-collections\/.*|www\.colbertnation\.com\/full-episodes\/.*|www\.colbertnation\.com\/the-colbert-report-videos\/.*|www\.comedycentral\.com\/videos\/index\.jhtml\?.*|www\.theonion\.com\/video\/.*|theonion\.com\/video\/.*|wordpress\.tv\/.*\/.*\/.*\/.*\/|www\.traileraddict\.com\/trailer\/.*|www\.traileraddict\.com\/clip\/.*|www\.traileraddict\.com\/poster\/.*|www\.escapistmagazine\.com\/videos\/.*|www\.trailerspy\.com\/trailer\/.*\/.*|www\.trailerspy\.com\/trailer\/.*|www\.trailerspy\.com\/view_video\.php.*|www\.atom\.com\/.*\/.*\/|fora\.tv\/.*\/.*\/.*\/.*|www\.spike\.com\/video\/.*|www\.gametrailers\.com\/video\/.*|gametrailers\.com\/video\/.*|www\.koldcast\.tv\/video\/.*|www\.koldcast\.tv\/#video:.*|techcrunch\.tv\/watch.*|techcrunch\.tv\/.*\/watch.*|mixergy\.com\/.*|video\.pbs\.org\/video\/.*|www\.zapiks\.com\/.*|tv\.digg\.com\/diggnation\/.*|tv\.digg\.com\/diggreel\/.*|tv\.digg\.com\/diggdialogg\/.*|www\.trutv\.com\/video\/.*|www\.nzonscreen\.com\/title\/.*|nzonscreen\.com\/title\/.*|app\.wistia\.com\/embed\/medias\/.*|hungrynation\.tv\/.*\/episode\/.*|www\.hungrynation\.tv\/.*\/episode\/.*|hungrynation\.tv\/episode\/.*|www\.hungrynation\.tv\/episode\/.*|indymogul\.com\/.*\/episode\/.*|www\.indymogul\.com\/.*\/episode\/.*|indymogul\.com\/episode\/.*|www\.indymogul\.com\/episode\/.*|channelfrederator\.com\/.*\/episode\/.*|www\.channelfrederator\.com\/.*\/episode\/.*|channelfrederator\.com\/episode\/.*|www\.channelfrederator\.com\/episode\/.*|tmiweekly\.com\/.*\/episode\/.*|www\.tmiweekly\.com\/.*\/episode\/.*|tmiweekly\.com\/episode\/.*|www\.tmiweekly\.com\/episode\/.*|99dollarmusicvideos\.com\/.*\/episode\/.*|www\.99dollarmusicvideos\.com\/.*\/episode\/.*|99dollarmusicvideos\.com\/episode\/.*|www\.99dollarmusicvideos\.com\/episode\/.*|ultrakawaii\.com\/.*\/episode\/.*|www\.ultrakawaii\.com\/.*\/episode\/.*|ultrakawaii\.com\/episode\/.*|www\.ultrakawaii\.com\/episode\/.*|barelypolitical\.com\/.*\/episode\/.*|www\.barelypolitical\.com\/.*\/episode\/.*|barelypolitical\.com\/episode\/.*|www\.barelypolitical\.com\/episode\/.*|barelydigital\.com\/.*\/episode\/.*|www\.barelydigital\.com\/.*\/episode\/.*|barelydigital\.com\/episode\/.*|www\.barelydigital\.com\/episode\/.*|threadbanger\.com\/.*\/episode\/.*|www\.threadbanger\.com\/.*\/episode\/.*|threadbanger\.com\/episode\/.*|www\.threadbanger\.com\/episode\/.*|vodcars\.com\/.*\/episode\/.*|www\.vodcars\.com\/.*\/episode\/.*|vodcars\.com\/episode\/.*|www\.vodcars\.com\/episode\/.*|confreaks\.net\/videos\/.*|www\.confreaks\.net\/videos\/.*|video\.allthingsd\.com\/video\/.*|videos\.nymag\.com\/.*|aniboom\.com\/animation-video\/.*|www\.aniboom\.com\/animation-video\/.*|clipshack\.com\/Clip\.aspx\?.*|www\.clipshack\.com\/Clip\.aspx\?.*|grindtv\.com\/.*\/video\/.*|www\.grindtv\.com\/.*\/video\/.*|ifood\.tv\/recipe\/.*|ifood\.tv\/video\/.*|ifood\.tv\/channel\/user\/.*|www\.ifood\.tv\/recipe\/.*|www\.ifood\.tv\/video\/.*|www\.ifood\.tv\/channel\/user\/.*|logotv\.com\/video\/.*|www\.logotv\.com\/video\/.*|lonelyplanet\.com\/Clip\.aspx\?.*|www\.lonelyplanet\.com\/Clip\.aspx\?.*|streetfire\.net\/video\/.*\.htm.*|www\.streetfire\.net\/video\/.*\.htm.*|trooptube\.tv\/videos\/.*|www\.trooptube\.tv\/videos\/.*|sciencestage\.com\/v\/.*\.html|sciencestage\.com\/a\/.*\.html|www\.sciencestage\.com\/v\/.*\.html|www\.sciencestage\.com\/a\/.*\.html|www\.godtube\.com\/featured\/video\/.*|godtube\.com\/featured\/video\/.*|www\.godtube\.com\/watch\/.*|godtube\.com\/watch\/.*|www\.tangle\.com\/view_video.*|mediamatters\.org\/mmtv\/.*|www\.clikthrough\.com\/theater\/video\/.*|espn\.go\.com\/video\/clip.*|espn\.go\.com\/.*\/story.*|abcnews\.com\/.*\/video\/.*|abcnews\.com\/video\/playerIndex.*|abcnews\.go\.com\/.*\/video\/.*|abcnews\.go\.com\/video\/playerIndex.*|washingtonpost\.com\/wp-dyn\/.*\/video\/.*\/.*\/.*\/.*|www\.washingtonpost\.com\/wp-dyn\/.*\/video\/.*\/.*\/.*\/.*|www\.boston\.com\/video.*|boston\.com\/video.*|www\.facebook\.com\/photo\.php.*|www\.facebook\.com\/video\/video\.php.*|www\.facebook\.com\/v\/.*|www\.facebook\.com\/.*\/videos\/.*|cnbc\.com\/id\/.*\?.*video.*|www\.cnbc\.com\/id\/.*\?.*video.*|cnbc\.com\/id\/.*\/play\/1\/video\/.*|www\.cnbc\.com\/id\/.*\/play\/1\/video\/.*|cbsnews\.com\/video\/watch\/.*|www\.google\.com\/buzz\/.*\/.*\/.*|www\.google\.com\/buzz\/.*|www\.google\.com\/profiles\/.*|google\.com\/buzz\/.*\/.*\/.*|google\.com\/buzz\/.*|google\.com\/profiles\/.*|www\.cnn\.com\/video\/.*|edition\.cnn\.com\/video\/.*|money\.cnn\.com\/video\/.*|today\.msnbc\.msn\.com\/id\/.*\/vp\/.*|www\.msnbc\.msn\.com\/id\/.*\/vp\/.*|www\.msnbc\.msn\.com\/id\/.*\/ns\/.*|today\.msnbc\.msn\.com\/id\/.*\/ns\/.*|multimedia\.foxsports\.com\/m\/video\/.*\/.*|msn\.foxsports\.com\/video.*|www\.globalpost\.com\/video\/.*|www\.globalpost\.com\/dispatch\/.*|guardian\.co\.uk\/.*\/video\/.*\/.*\/.*\/.*|www\.guardian\.co\.uk\/.*\/video\/.*\/.*\/.*\/.*|bravotv\.com\/.*\/.*\/videos\/.*|www\.bravotv\.com\/.*\/.*\/videos\/.*|video\.nationalgeographic\.com\/.*\/.*\/.*\.html|dsc\.discovery\.com\/videos\/.*|animal\.discovery\.com\/videos\/.*|health\.discovery\.com\/videos\/.*|investigation\.discovery\.com\/videos\/.*|military\.discovery\.com\/videos\/.*|planetgreen\.discovery\.com\/videos\/.*|science\.discovery\.com\/videos\/.*|tlc\.discovery\.com\/videos\/.*|video\.forbes\.com\/fvn\/.*|vine\.co\/v\/.*|www\.vine\.co\/v\/.*|video\.foxnews\.com\/v\/.*|thinglink\.com\/.*|www\.thinglink\.com\/.*|nbcnews\.com\/.*|www\.nbcnews\.com\/.*|itunes\.apple\.com\/.*)))|((http:\/\/(link\.brightcove\.com\/services\/player\/bcpid.*|bcove\.me\/.*|players\.brightcove\.net\/.*))|(https:\/\/(players\.brightcove\.net\/.*)))/i},function(t,e,n){"use strict";n(1237),$(function(){FastClick.attach(document.body)})},function(t,e,n){"use strict";window.JSONStore={get_object:function(t){try{return JSON.parse(localStorage.getItem(t))}catch(t){return null}},set_object:function(t,e){var n=JSON.stringify(e);try{localStorage.setItem(t,n)}catch(t){}},delete:function(t){try{localStorage.removeItem(t)}catch(t){}},modify_store:function(t,e){this.set_object(t,e(this.get_object(t)))}}},function(t,e,n){"use strict";n(1239),_.mixin({eachCons:function(t,e,n){return _.zipWith.apply(null,_.times(e,function(n){return _.slice(t,n,t.length-e+n+1)}).concat(n))},flattenObject:function(t){return _.reduce(t,function(t,e,n){return _.isPlainObject(e)?_.each(_.flattenObject(e),function(e,i){t[n+"."+i]=e}):t[n]=e,t},{})}})},function(t,e,n){"use strict";window.performance&&performance.mark&&window.performance.mark("bundle_load_start")},function(t,e,n){"use strict";n(1203);var i=function(){this.enabled=!1,this.reset_counters()};i.arrange_arguments=function(t){return function(e,n,i){return"function"==typeof n&&(i=n,n={}),t.call(this,e,n,i)}},i.if_enabled=function(t){return function(){var e=arguments[arguments.length-1];return this.enabled?t.apply(this,arguments):("function"==typeof e&&setTimeout(e),!1)}},i.prototype={start_tracking:function(){if("undefined"==typeof mixpanel||void 0===mixpanel.register)return!1;this.enabled=!0,this.tracking_data=window.TRACKING_DATA;var t;if("undefined"!=typeof CURRENT_TAG&&CURRENT_TAG&&(t=CURRENT_TAG.tag.slug),mixpanel.register({"Logged In":!!CURRENT_USER,"Is Editor":CURRENT_USER&&CURRENT_USER.is_editor,"Is Moderator":CURRENT_USER&&CURRENT_USER.is_moderator,"Mobile Site":MOBILE_DEVICE,AMP:!1,Tag:t,genius_platform:"web"}),CURRENT_USER&&mixpanel.identify(CURRENT_USER.id),app.is_on_song_page&&app.is_on_song_page()&&this.track("Song Page Load"),$("body.act-new.cont-users").length>0){var e=$.deparam(location.search.substring(1)).from_question_email;e&&this.track("Question email signup clicked",{question_id:e})}var n={"from url":document.location.href};mixpanel.track_links(".android_interstitial-download","clicked_download_from_android_interstitial",n)},set_tacking_data:function(t){this.tracking_data=t},reset_counters:function(){this.annotations_opened=0,this.line_item_opens={},this.song_page_loaded_from_direct_link_to_un_annotated_line=!1,this.annotation_id_opened_from_permalink=null},registered_properties:{},register:function(t){_.extend(this.registered_properties,t)},build_event_data:function(t,e){e=e||{};var n;return n=e.properties?e.properties:this.is_old_preprocessed_event(t)?this.preprocess_options(t,e):e,$.extend({},this.registered_properties,this.tracking_data,_.flattenObject(n),{dfp_enabled:"googletag"in window})},is_old_preprocessed_event:function(t){return _.includes(["Song Page Load","Wrapped Web Page Load","Annotated Web Page Load","Open Annotation","Engaged Annotation View","Offsite Filter Selection","Inbox Open","Line Item Open"],t)},preprocess_options:function(t,e){if("Song Page Load"===t)return _.merge(e,{"Un-annotated direct link":!!this.song_page_loaded_from_direct_link_to_un_annotated_line,"Un-annotated line":this.song_page_loaded_from_direct_link_to_un_annotated_line});if("Wrapped Web Page Load"===t||"Annotated Web Page Load"===t)return{"Source location":e.source_location,script_source:e.script_source,script_source_version:e.script_source_version,"Host Page Referrer":e.referrer};if("Open Annotation"===t||"Engaged Annotation View"===t){this.annotations_opened++;var n={"Annotation ID":e.annotation_id,"Annotator Login":e.annotator_login,"Annotatable Type":e.annotatable_type,script_source:e.script_source,script_source_version:e.script_source_version};return e.skip_counters||$.extend(n,{"Cumulative Annos Opened":this.annotations_opened,"Anno Opened from Permalink":e.annotation_id===this.annotation_id_opened_from_permalink,"First Anno was Permalink":!!this.annotation_id_opened_from_permalink}),n}return"Offsite Filter Selection"===t?{"Filter Type":e.filter_type,"Filter Arguments":e.filter_args,"Filter Reason":e.reason,script_source:e.script_source,script_source_version:e.script_source_version}:"Inbox Open"===t?{"Inbox Name":e.inbox_name,"Unread Count When Opened":e.unread_count}:"Line Item Open"===t?(void 0===this.line_item_opens[e.inbox_name]&&(this.line_item_opens[e.inbox_name]=0),{"Inbox Name":e.inbox_name,"Line Item Index":e.index,"Action Name":e.action_name,"Target Type":e.target_type,"Viewing Context":e.viewing_context,"Cumulative Line Items Opened":this.line_item_opens[e.inbox_name]++,"Line Item Strategy":e.strategy_name,Bagon:!!e.bagon,iframe:!!e.iframe}):void 0},track:i.arrange_arguments(i.if_enabled(function(t,e,n){mixpanel.track(t,this.build_event_data(t,e),n)})),track_with_delayed_handling:i.arrange_arguments(i.if_enabled(function(t,e,n){bowser.mobile||bowser.tablet?JSONStore.modify_store("session_end_tracking_events",function(n){return n=n||[],n.concat({event_name:t,event_options:this.build_event_data(t,e),event_occurred_at:Date.now()})}.bind(this)):this.track(t,e,n)})),track_with_timeout:i.arrange_arguments(i.if_enabled(function(t,e,n){var i=this.fetch_mixpanel_config("track_links_timeout",0);n=_.once(n),setTimeout(n,i),this.track(t,e,n)})),track_link_click:function(t){var e=$(t.target).closest("a"),n=e.attr("href"),i=2===t.which||t.metaKey||t.ctrlKey||"_blank"===e.attr("target"),r=Array.prototype.slice.call(arguments,1);if(i)return this.track.apply(this,r);t.preventDefault();var o=r[r.length-1],a="function"==typeof o?r.pop():null;return this.track_with_timeout.apply(this,r.concat(function(){a&&a(),window.location.href=n}))},set_annotation_opened_from_permalink:function(t){this.annotation_id_opened_from_permalink=t},set_song_page_loaded_from_direct_link_to_un_annotated_line:function(t){this.song_page_loaded_from_direct_link_to_un_annotated_line=t},fetch_mixpanel_config:function(t,e){return this.enabled&&"function"==typeof mixpanel.get_config?mixpanel.get_config(t):e}},$.extend(window.app,{tracking:new i}),$(function(){$(document.body).on("annotation:open","a[data-id]",function(){app.tracking.track("Open Annotation",{annotation_id:$(this).attr("data-id")})}),$(document).on("click",".show_help:not(.pressed)",function(){app.tracking.track("opened_what_is_genius_dropdown",{standalone_annotation:$(this).closest(".stand_alone_annotation_container").length>0})}),JSONStore.modify_store("session_end_tracking_events",function(t){return _.each(t,function(t){Date.now()-t.event_occurred_at<1e3*APP_CONFIG.mixpanel_delayed_events_timeout&&mixpanel.track(t.event_name,t.event_options)}),[]})})},function(t,e,n){"use strict";window["com.genius.Genius"]||(window["com.genius.Genius"]={},window.require=function(){return window["com.genius.Genius"].require.apply(this,arguments)})},,function(t,e,n){"use strict";window.StopWatch=function(t){t&&t.auto_start&&this.start()},StopWatch.prototype={_time_elapsed:0,start_time:null,get time_elapsed(){var t=this._time_elapsed;return this.start_time&&(t+=performance.now()-this.start_time),t},start:function(){this.start_time||(this.start_time=performance.now())},stop:function(){this.start_time&&(this._time_elapsed+=performance.now()-this.start_time,this.start_time=null)}}},function(t,e,n){"use strict";(function(t){n(23),n(1209),function(){var e=new t.Subject,n=window.SessionTracking={on_page:t.Observable.always(!0),page_visible:t.Observable.fromEvent(document,"visibilitychange").map(function(){return"visible"===document.visibilityState}).startWith("visible"===document.visibilityState),page_focused:t.Observable.merge(t.Observable.fromEvent(window,"blur").mapTo(!1),t.Observable.fromEvent(window,"focus").mapTo(!0)).startWith(document.hasFocus()),with_stopwatch:function(t){var e=new StopWatch;return t.scan(function(t,e){return e?t.start():t.stop(),t},e).publishBehavior(e).persist()},track:function(t,n){var i=this.with_stopwatch(n).map(function(e){return{metric:t,get duration(){return e.time_elapsed/1e3}}});e.next(i)}};t.Observable.fromEvent(window,"pagehide").withLatestFrom(e.accumulateLatest(),function(t,e){return e}).first().subscribe(function(t){var e=_.chain(t).groupBy("metric").mapValues(function(t){return _.sum(_.map(t,"duration"))}).value();app.tracking.track_with_delayed_handling("Page Session End",e)}),n.track("Time On Page",n.on_page),n.track("Time On Page When Visible",n.page_visible),n.track("Time On Page When Focused",n.page_focused)}()}).call(e,n(23))},function(t,e,n){"use strict";window.app=window.app||{},$.extend(window.app,{load_vidyard_players:function(t,e,n){var i,r;"function"==typeof t?(r=t,i=$("body")):(i=$(t||"body"),r=n||$.noop);var o=i.find(".vidyard_container[data-vidyard-id]");e||(o=o.filter(":visible")),o.each(function(){var t=$(this),e=t.attr("data-vidyard-id"),n=$("#vidyard_"+e+":first");if(n.length)t.replaceWith(n.remove()),r();else{t.attr("id","vidyard_"+e).removeAttr("data-vidyard-id");var i=MOBILE_DEVICE||window.RG_EMBEDDED_PAGE?"?width="+t.parent().width():"";$.getScript("//embed.vidyard.com/embed/"+e+"/iframe/"+i,function(){t.removeClass("loading_with_indicator"),r()})}})}})},function(t,e,n){"use strict";var i=n(306),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o={en:{datetime:{distance_in_words:{about_x_hours:{one:"an hour",other:"%{count} hours"},about_x_months:{one:"a month",other:"%{count} months"},about_x_years:{one:"a year",other:"%{count} years"},over_x_years:{one:"a year",other:"%{count} years"},almost_x_years:{one:"a year",other:"%{count} years"}}},annotation:{present_tense:"annotate",past_tense:"annotated",singular_present:"annotates",present_participle:"annotating",singular_noun:"annotation",singular_noun_capitalized:"Annotation",one:"annotation",plural_noun:"annotations",other:"annotations",zero:"annotations",community_brand_name:"Genius Annotation",prompt:"Write an Annotation",placeholder:"Don’t just put the lyric in your own words—drop some knowledge!",description_placeholder:"Say something interesting",offsite_placeholder:"Add your annotation",new_community_prompt:"Start the Genius Annotation",new_verified_prompt:"Add your Verified Annotation",propose_edit_prompt:"Edit",sign_up_to_annotate:"Sign Up to Start Annotating",empty_validation:"Can't save an empty annotation",cannot_annotate_on_locked_song:"You need 600 IQ to add annotations to locked songs.",currently_annotating:{header:"Annotation In Progress",default_body:"%{name} is currently annotating this line.",taking_awhile_body:"%{name} is currently annotating this line but it might be taking awhile or something could have gone wrong. It might be best to delete this and start over."},prompts:{default:"Add knowledge to earn IQ",description:"Start the %{annotation_name}"},unreviewed_notice:{notice_fragment:"This annotation is",notice_description_fragment:"This %{annotation_name} is",notice_adjective:"unreviewed",tooltip:"Genius is a crowdsourced website—this annotation has not yet been edited, reviewed, or fact checked by the Genius Editorial Board.",tooltip_link:"Learn more about editorial review"}},annotation_edit:{one:"Proposed Edit",other:"Proposed Edits",show_message:"Show",resolve_message:"Resolve",hide_message:"Hide Proposed Edits"},article:{zero:"articles",one:"article",other:"articles",sponsor:{phrase:"Presented by:"}},video:{zero:"videos",one:"video",other:"videos"},album:{zero:"albums",one:"album",other:"albums",metadata:{name:"Name",release_date:"Release Date",custom_cover_art_url:"Cover Art URL",custom_header_image_url:"Header Image URL",artist:"Artist",album_performances:"Credits"},actions:{destroy:"Delete",lock:"Lock",super_lock:"Super Lock",unlock:"Unlock",sort_songs:"Sort Songs By Unreviewed Annotations"},action_confirmations:{destroy:"Are you sure you want to delete this album?",lock:"Are you sure you want to lock this album?",super_lock:"Are you sure you want to super lock this album?",unlock:"Are you sure you want to unlock this album?",admin_default:"Are you sure you want to perform this admin action?"},lock_state:{locked:"locked",super_locked:"super locked"}},comment:{signup_prompt_header:"Sign up for Genius",signup_prompt_preamble:"Tired of entering your email address? Create a Genius account and you'll never have to worry about it (or anything else) ever again:",state:{rejected:"rejected",marked_spam:"marked spam",archived:"archived",accepted:"accepted",integrated:"integrated"}},voting:{upvote:{annotation:"This is a good %{name}",comment:"This is a good suggestion",forumpost:""},downvote:{annotation:"This needs improvement",comment:"This is a bad suggestion — it should be deleted",forumpost:""}},annotator:{already_annotated_referent:"An annotation cannot contain another annotation",unable_to_anchor:"Whoops, couldn't find that line!",referent_mismatch:"Whoops, couldn't find that line!"},embed:{unable_to_anchor:"Sorry, we couldn't find where this annotation belongs on the page. But you can read it here:",click_underlying_link:"Go to the original link:"},asset_remover:{invalid_uri:"That url doesn't seem to be valid.",not_found:"Whoops, couldn't find that url!"},follow_message:{user:"Follow %{name} to see their annotations and pyongs in your newsfeed",discussion:"Follow this discussion to get notified when there are new posts",group:"Following “%{name}” is the same as following all of its discussions",artist:"Follow %{name} to see their new songs, texts, and annotations in your newsfeed",song:"Follow %{name} to get notified of new annotations and comments",webpage:"Follow %{name} to get notified of new annotations"},pyong_tooltip_text:"PYONG this %{text_type} to promote it to your Genius followers!",pressed_pyong_tooltip_text:"You pyonged this %{text_type} recently! You'll be able to pyong it again in a bit",manage_tags:{just_delete_warning:"AHHH! Do you really want to just delete that tag (instead of choosing a replacement to transfer associated songs to)?",delete_and_transfer_warning:"BEWARE! Do you really want to delete that tag, and transfer everything associated with it to this one??",tag_transfer_finished:"Successfully transferred everything associated with <b>%{from_tag}</b> to <b>%{to_tag}</b> and deleted <b>%{from_tag}</b>."},body_content_conflict_message:"This text has been changed by someone else. Copy your work to your clipboard and <a href='%{url}'>click here to reload</a>",media_player_error_message:"There was a problem loading the player media. <a href='#' id='fix_audio'>Fix it!</a>",recaptcha_explanation:"Sorry, but this %{model_name} looks like it might be spam! Prove to us you're a human with the form below.",cloud_flare_always_on_message:'Genius is experiencing a service disruption. Some features or pages may not work.<br>Check <a href="https://twitter.com/genius" target="_blank">@genius</a> for updates. We\'ll have things fixed soon.',cloud_flare_always_on_short_message:"Genius is experiencing a service disruption. Some features or pages may not work.",iq:"IQ",sle:{edit_instruction:"Edit the song bio to add:",name:"%{type_name} Bio",prependable_to_name:"About"},editing:{dirty_unload:"You have unsaved edits!",dirty_unload_confirm_box:"You have unsaved edits! Do you want to discard changes?"},mark_spam:{confirm:"Are you sure you want to mark user as spam?"},mark_ham:{confirm:"Are you sure you want to mark user as ham?"},mass_delete_unreviewed_activity:{confirm:"Are you sure you want to delete all unreviewed annotations, all unreviewed comments, and all forum posts?"},mass_delete_votes:{votes:{confirm:"Are you sure you want to delete all votes?"},upvotes:{confirm:"Are you sure you want to delete all upvotes?"},downvotes:{confirm:"Are you sure you want to delete all downvotes?"}},forum_post:{deleted_body:"This post has been deleted."},question:{placeholder:"Ask a question",question:{one:"%{name} asked a question",other:"%{name} asked %{count} questions"},answer:{one:"%{name} answered a question",other:"%{name} answered %{count} questions"}},answer:{placeholder:"Answer this question"},example_featured_artists:"e.g. JAY Z, Karen O, Mariah Carey",example_producer_artists:"e.g. J Dilla, Kanye West, Avicii",example_writer_artists:"e.g. Pharrell Williams, Sean Garrett, John Lennon",name_for_body_content:{music:"lyrics",nonmusic:"text"},text_type:{music:"song",nonmusic:"text"},name_for_artist:{music:"artist",nonmusic:"author"},manage_accomplishments:{all:"All",hidden:"Hidden",visible:"Visible"},description_annotation:{song:"bio",artist:"bio",album:"bio",cover_art:"annotation"},charts:{songs:{title:"Top Songs"},artists:{title:"Top Artists"},referents:{title:"Top Lyrics"},albums:{title:"Top Albums"},actions:{allow_in_charts:"Allow in charts",exclude_from_charts:"Exclude from charts"}},contribution_type:{all_activity:{name:"All Contributions"},annotations:{name:"Annotations",sort:{chronologically:"Recent",popularity:"Popular"}},unreviewed_annotations:{name:"Unreviewed",sort:{chronologically:"Recent",popularity:"Popular"}},pyongs:{name:"Pyongs",sort:{chronologically:"Recent"}},transcriptions:{name:"Transcriptions",sort:{chronologically:"Recent",popularity:"Popular"}},articles:{name:"Articles",sort:{chronologically:"Recent",popularity:"Popular"}},comments:{name:"Suggestions",sort:{chronologically:"Recent"}},questions_and_answers:{name:"Q+A"}},can_can:{access_denied:"Sorry, you're not allowed to do that"},activemodel:{activity_stream_line_item_message:{message:{default:"%{actors} %{verb} %{target} %{context}",user:{hit_pageview_threshold:{song:"%{target} %{message} (%{threshold} pageviews)"},make_editor:{user:{one:"%{actors} made %{target} an editor",other:"%{actors} made %{target} editors"}},make_mediator:{user:{one:"%{actors} made %{target} a mediator",other:"%{actors} made %{target} mediators"}},make_moderator:{user:{one:"%{actors} made %{target} a moderator",other:"%{actors} made %{target} moderators"}},make_educator:{user:{one:"%{actors} made %{target} an educator",other:"%{actors} made %{target} educators"}},make_staff:{user:{one:"%{actors} made %{target} staff",other:"%{actors} made %{target} staff"}},create:{identity:"Your %{provider} friend %{name} is on %{service_name}!",question:"%{actors} asked %{target} on <em>%{context}</em>",answer:"%{actors} %{verb} %{target} on <em>%{context}</em>",cover_art:"%{actors} added %{target} to <em>%{context}</em>"},delete:{answer:"%{actors} %{verb} %{target} on <em>%{context}</em>",cover_art:"%{actors} removed %{target} from <em>%{context}</em>"},Follow:{artist:"%{actors} followed %{target}",web_page:"%{actors} followed <em>%{title}</em>"},Pyong:{song:"%{actors} %{verb} %{target} %{note_preview}",annotation:"%{actors} %{verb} %{target} %{context} %{note_preview}",article:"%{actors} %{verb} %{target} %{note_preview}",video:"%{actors} %{verb} %{target} %{note_preview}",album:"%{actors} %{verb} %{target} %{note_preview}"},Mention:{user:{ForumPost:"%{actors} %{verb} %{target} in <em>%{context}</em>",Comment:"%{actors} %{verb} %{target} in a %{comment_noun} on <em>%{context}</em>"},group:{ForumPost:"%{actors} %{verb} %{target} in <em>%{context}</em>",Comment:"%{actors} %{verb} %{target} in a %{comment_noun} on <em>%{context}</em>"}},GroupInvitation:{user:"%{actors} just gave %{target} access to the %{group_human_name} <em>%{context}</em>"},incorporate:{annotation:"%{actors} incorporated %{target} into a Genius Annotation"},move:{discussion:"%{actors} %{verb} %{target} to <em>%{context}</em>"},accept_offsite_beta_invitation:{user:"%{actors} accepted your beta invitation"},pin:{discussion:"%{actors} %{verb} %{target} to <em>%{group_name}</em>",question:"%{actors} %{verb} %{target} on <em>%{context}</em>"},unpin:{discussion:"%{actors} %{verb} %{target} from <em>%{group_name}</em>",question:"%{actors} %{verb} %{target} on <em>%{context}</em>"},merge:{artist:"%{actors} %{verb} %{artist_name_at_time_of_merge}'s discography into %{target_artist_name}'s"},edit:{question:"%{actors} edited %{target} on <em>%{context}</em>",answer:"%{actors} %{verb} %{target} on <em>%{context}</em>",cover_art:"%{actors} edited %{target} on <em>%{context}</em>"},archive:{question:"%{actors} archived %{target} on <em>%{context}</em>"},Vote:{question:"%{actors} %{verb} %{target} on <em>%{context}</em>",answer:"%{actors} %{verb} %{target} on <em>%{context}</em>",video:"%{actors} %{verb} %{target}"},recognized:{song:{transcriber:"Thanks! We've been looking for the lyrics to %{target}",other:"%{actors} marked %{target} as a real song"}}}}}},activerecord:{models:{album_appearance:"Album",album:"Album",annotation_edit:"Annotation Edit",annotation:"Annotation",article:"Article",artist:"Artist",cover_art:"Cover Art",forum_post:"Post",group:"Forum",facebook_identity:"Facebook",twitter_identity:"Twitter",edx_identity:"edX",google_identity:"Google",spotify_identity:"Spotify",performance:"Artist",song_derivation:"Song Derivation",song:"Song",tagging:"Tag"},group:{access_policy:{human_description:{public:"Public Forum",role_based:"Private Forum accessible by certain roles (e.g. 'All Editors')",invite_only:"Private invitation only Forum"}}}},api_scopes:{me:"access your profile",create_annotation:"create annotations",manage_annotation:"update and delete annotations",vote:"vote on annotations",ifttt:"access your profile, be alerted of your activity, and follow new pages and songs"},artist:{merge_request_complete_message:"Submitted! The merge might take a minute to complete."},contribution_opportunity:{message:{answer_question:"Unanswered question on",review_annotation:"Unreviewed annotation on",missing_writer_artists_song:"Missing writer(s) on",missing_producer_artists_song:"Missing producer(s) on",missing_albums_song:"Missing album(s) on",missing_release_date_song:"Missing release date on",missing_media_song:"Missing media on"}},mentions:{trello_card_title:{annotation:"Mention of “%{mention_string}” in an annotation comment on “%{title}”",song:"Mention of “%{mention_string}” in a song-level comment on “%{title}”",discussion:"Mention of “%{mention_string}” in a post in “%{title}”",article:"Mention of “%{mention_string}” in an article comment on “%{title}”"}},preference:{mention_notifications:"Mention Notifications",creation_comment_notifications:"Create Comment Notifications",mentioned_forum_notifications:"Mentioned Forum Notifications",forum_post_creation_notifications:"Forum Post Creation Notifications",followed_thread_notifications:"Followed Thread Notifications",message_notifications:"Message Notifications",editorial_suggestion_notifications:"Editorial Suggestion Notifications",description:{mention_notifications:"Receive an email when someone @mentions you in a suggestion.",creation_comment_notifications:"Receive an email when someone comments on something you created.",mentioned_forum_notifications:"Receive an email when a forum you follow is mentioned.",forum_post_creation_notifications:"Receive an email whenever someone posts in a forum you follow.",followed_thread_notifications:"Receive an email whenever someone posts in an individual forum thread you follow.",message_notifications:"Receive an email whenever someone sends you an onsite message.",editorial_suggestion_notifications:"Receive an email whenever someone integrates or archives your suggestions."}},reason:{sentence_intro:"Marked this as",sentence:"Marked this as “%{inline_reason}”",inline:{"restates-the-line":"restating the line","its-a-stretch":"a stretch","missing-something":"missing something",other:"other",confusing:"confusing",boring:"boring",offensive:"offensive",obvious:"obvious",wordy:"wordy",needs_more_media:"lacking media",paraphrases_lyric:"paraphrasing lyric"}},role:{types:{contributor:{one:"Contributor",other:"Contributors"},moderator:{one:"Moderator",other:"Moderators"},postlet_editor:{one:"Postlet Editor",other:"Postlet Editors"},post_editor:{one:"Post Editor",other:"Post Editors"},comment_moderator:{one:"Comment Moderator",other:"Comment Moderators"},contrib:{one:"Contributor",other:"Contributors"},lyric_editor:{one:"Lyric Editor",other:"Lyric Editors"},boss:{one:"Boss",other:"Bosses"},mega_boss:{one:"Mega Boss",other:"Mega Bosses"},in_house_staff:{one:"In-house staff",other:"In-house staff"},community_artist:{one:"Community Artist",other:"Community Artists"},verified_artist:{one:"Verified Artist",other:"Verified Artists"},meme_artist:{one:"Meme Artist",other:"Meme Artists"},user_admin:{one:"User Administrator",other:"User Administrators"},message_admin:{one:"Message Administrator",other:"Message Administrators"},verifier:{one:"Verifier",other:"Verifiers"},weak_impersonator:{one:"Weak Impersonator",other:"Weak Impersonators"},engineer:{one:"Engineer",other:"Engineers"},editor:{one:"Editor",other:"Editors"},newb:{one:"Newb",other:"Newbs"},deactivated:{one:"Deactivated",other:"Deactivated"},message_receiver:{one:"Message Receiver",other:"Message Receivers"},educator:{one:"Educator",other:"Educators"},groups_admin:{one:"Groups Administrator",other:"Groups Administrators"},full_time_intern:{one:"Full-time Intern",other:"Full-time Interns"},founder:{one:"Founder",other:"Founders"},edx_student:{one:"Student",other:"Students"},edu_groups_admin:{one:"Class Group Admin",other:"Class Group Admins"},staff:{one:"Staff",other:"Staff"},bugkeeper:{one:"Bugkeeper",other:"Bugkeepers"},whitehat:{one:"Whitehat",other:"Whitehats"},tech_liaison:{one:"Tech Liason",other:"Tech Liasons"},offsite_tester:{one:"Offsite Tester",other:"Offsite Testers"},mediator:{one:"Mediator",other:"Mediators"},outside_song_ids_validator:{one:"Outside Song ID Validator",other:"Outside Song ID Validators"},design_contractor:{one:"Design Contractor",other:"Design Contractors"},spotify_annotation_nominator:{one:"Spotify Annotation Nominator",other:"Spotify Annotation Nominators"},spotify_annotation_editor:{one:"Spotify Annotation Editor",other:"Spotify Annotation Editors"},spotify_annotation_finalizer:{one:"Spotify Annotation Finalizer",other:"Spotify Annotation Finalizers"},custom_app_notification_author:{one:"Custom App Notification Author",other:"Custom App Notification Authors"},bagon_tester:{one:"Bagon Tester",other:"Bagon Testers"}}},song_derivation:{verb:{sample:"samples",interpolation:"interpolates",cover:"cover of",remix:"remix of",live:"live version of"}},song_relationship:{title:{samples:"Samples",sampled_in:"Sampled In",interpolates:"Interpolates",interpolated_by:"Interpolated By",cover_of:"Cover Of",covered_by:"Cover By",remix_of:"Remix Of",remixed_by:"Remixed By",live_version_of:"Live Version Of",performed_live_as:"Performed Live As"}},song:{actions:{destroy:"Delete",publish:"Lock",unpublish:"Unlock",disable_media:"Disable media",enable_media:"Enable media",hide:"Hide",unhide:"Unhide",reindex:"Reindex in search",view_annotation_engagement_data:"Toggle annotation opens",edit_spotify_annotations_for:"Spotify Annotations",view_lyrics_synchronization:"Synchronize Lyrics",verify_lyrics:"Verify Lyrics",unverify_lyrics:"Unverify Lyrics",award_transcription_iq:"Award transcription IQ",remove_transcription_iq:"Remove transcription IQ"},action_confirmations:{publish:"Are you sure? Locking a song prevents lyrics changes and new annotations.",unpublish:"Do you really want to unlock this song?",dismiss_dirty:"Are you sure? You'll lose your unsaved changes.",unhide:"Are you sure?",destroy:"⚠️ Are you absolutely sure you want to delete this song? This cannot be undone.",admin_default:"Are you sure you want to perform this admin action?"},verified:{desktop:{commentary:"Verified commentary",lyrics:"Verified lyrics",commentary_and_lyrics:"Verified commentary & lyrics"},mobile:{commentary:"Verified commentary by",lyrics:"Verified lyrics by",commentary_and_lyrics:"Verified commentary & lyrics by"}},fact_tracks:{app_link_text:"Behind the Lyrics in Spotify",app_help_link_text:"What's a Fact Track?"},one:"song",other:"%{count} songs",metadata:{title_and_artists:"Title and Artists",title:"Title",primary_artist:"Artist",writer_artists:"Written By",featured_artists:"Featuring",producer_artists:"Produced By",album_date_and_tags:"Albums, Date, Location & Tags",albums:"Album(s)",release_date:"Release Date",release_date_components:"Release Date",recording_location:"Recorded At",primary_tag:"Primary Tag",tags:"Tags",song_relationships:"Song Relationships",audio_video_and_images:"Audio, Video & Images",spotify_uuid:"Spotify UUID",soundcloud_url:"SoundCloud URL",youtube_url:"YouTube URL",youtube_start:"Start",custom_song_art_image_url:"Song Art URL",featured_video:"Feature Video?",custom_header_image_url:"Header Background URL"},lyrics_state:{unreleased:{indicator:"(Unreleased)",message:"Lyrics for this song have yet to be released. Please check back once the song has been released.",confirm:"This box should only be checked if this song is a highly anticipated song that has not been released. If the song has been released, you should transcribe the lyrics. Are you sure you want to mark this song as unreleased?"},incomplete:{indicator:"(Missing Lyrics)",message:"The lyrics for this song have yet to be transcribed."}}},search:{sections:{top_hit:{title:"Top Result"},song:{title:"Songs"},lyric:{title:"Lyric Matches"},artist:{title:"Artists"},album:{title:"Albums"},tag:{title:"Tags"},user:{title:"Users"},article:{title:"Articles"},video:{title:"Videos"}}},site:{default_title:"%{service_name} | Song Lyrics & Knowledge",default_meta_description:"Genius is the world’s biggest collection of song lyrics and musical knowledge."},sort:{popularity:"Pageviews",title:"A-Z",release_date:"Release Date",unreviewed_annotations:"Unreviewed Annotations",probably_spam:"Probably Spam",probably_ham:"Probably Ham",definitely_spam:"Definitely Spam",definitely_ham:"Definitely Ham",unclassified_spam_state:"Unclassified"},terms:{contributor:{one:"contributor",other:"contributors"},scholar:{one:"1 Scholar",other:"%{count} Scholars"},album:{one:"Album",other:"Albums"}},artists:{page_title:"%{artist_name} Lyrics, Songs, and Albums"},comments:{feedback_noun:"improvement",placeholder:{annotation:"Add a comment",genius_annotation:"Suggest an improvement to earn IQ",song:"Suggest an improvement or correction to earn IQ",verified_annotation:"Add a comment"},noun:{annotation:"reply",genius_annotation:"suggestion",song:"reply",verified_annotation:"reply"},past_tense_verb:{annotation:"replied",genius_annotation:"added a suggestion",song:"added a suggestion",verified_annotation:"replied"},empty_validation:"Please enter a comment"},commentables:{noun:{annotation:"annotation",genius_annotation:"annotation",song:"song",verified_annotation:"annotation",description:"bio"}},comment_notifications:{comment_type:{annotation:"comment",genius_annotation:"suggestion",song:"reply",verified_annotation:"reply",description:"suggestion",article:"comment",video:"comment",album:"comment"},commentable_type:{annotation:"annotation",genius_annotation:"annotation",song:"song",verified_annotation:"annotation",description:"bio",article:"article",video:"video",album:"album"},action:{annotation:"added a comment to",genius_annotation:"added a suggestion for",song:"added a suggestion for",verified_annotation:"replied to",description:"added a suggestion for"}},contributor_strategies:{newest:"The newest users with activity",losing:"These users are about to lose their active contributor streak",gaining:"These users are about to become active contributors",coachees:"These are your coachees, try to help them grow as contributors"},contributor_classifications:{losing:"Becoming Inactive",gaining:"Almost Active",active:"Active Contributor",inactive:"Inactive"},header:{groups_inbox:"Forums",newsfeed_inbox:"Feed",main_activity_inbox:"Me",messages_inbox:"Messages",iq_inbox:"Earn IQ"},leaderboards:{periods:{day:"Daily",week:"Weekly",month:"Monthly",all_time:"All-time"}},lyrics:{save_error:"Sorry, we couldn't save your changes",reload_instructions:"Copy your changes and reload the page.",editing_stale:"The lyrics have changed since you started editing. Copy your work and then press Cancel to see the updated lyrics.",unmatched_parens_error:"Oops! It looks like you might have an uneven number of parentheses or square brackets. Check the lyrics to make sure that they match up."},profile_page:{songs:{all:"All Songs",search:{one:"%{count} search result",other:"%{count} search results"}},top_scholar:{one:"Top Scholar",other:"Top Scholars"},top_accomplishment:{one:"Top Accomplishment",other:"Top Accomplishments"},about_me:{default:"%{user_login} is keeping quiet for now",placeholder:"Do you like long walks on the beach?"}},songs:{hidden_album_count:"Appears on %{count} more",editing_stale:"The song has been modified since you started editing. Copy your work and then press Cancel to see the updated info."},users:{page_title:"%{user_name}",identity:{unlink:"Unlink",unlinking:"Unlinking..."},authentication:{invalid_credentials:"Invalid username or password"}},videos:{read_more:"read more &raquo;"}}};window.I18n=Object.assign(r.default,{defaultLocale:"en",translations:o})},function(t,e,n){var i,r;!function(o,a){void 0!==t&&t.exports?t.exports=a():(i=a,void 0!==(r="function"==typeof i?i.call(e,n,e,t):i)&&(t.exports=r))}(0,function(){function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}var i,r=n(/(ipod|iphone|ipad)/i).toLowerCase(),o=/like android/i.test(t),a=!o&&/android/i.test(t),s=/CrOS/.test(t),c=/silk/i.test(t),l=/sailfish/i.test(t),u=/tizen/i.test(t),d=/(web|hpw)os/i.test(t),p=/windows phone/i.test(t),f=!p&&/windows/i.test(t),h=!r&&!c&&/macintosh/i.test(t),_=!a&&!l&&!u&&!d&&/linux/i.test(t),m=n(/edge\/(\d+(\.\d+)?)/i),g=n(/version\/(\d+(\.\d+)?)/i),v=/tablet/i.test(t),b=!v&&/[^-]mobi/i.test(t);/opera|opr/i.test(t)?i={name:"Opera",opera:e,version:g||n(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:g||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:p?(i={name:"Windows Phone",windowsphone:e},m?(i.msedge=e,i.version=m):(i.msie=e,i.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:s?i={name:"Chrome",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:m}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:r?(i={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},g&&(i.version=g)):l?i={name:"Sailfish",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(t)?(i={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e)):c?i={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:a?i={name:"Android",version:g}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",blackberry:e,version:g||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(i={name:"WebOS",webos:e,version:g||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):i=/bada/i.test(t)?{name:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:u?{name:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||g}:/safari/i.test(t)?{name:"Safari",safari:e,version:g}:{name:n(/^(.*)\/(.*) /),version:function(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(i.name=i.name||"Webkit",i.webkit=e,!i.version&&g&&(i.version=g)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),i.msedge||!a&&!i.silk?r?(i[r]=e,i.ios=e):f?i.windows=e:h?i.mac=e:_&&(i.linux=e):i.android=e;var y="";i.windowsphone?y=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r?(y=n(/os (\d+([_\s]\d+)*) like mac os x/i),y=y.replace(/[_\s]/g,".")):a?y=n(/android[ \/-](\d+(\.\d+)*)/i):i.webos?y=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?y=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?y=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(y=n(/tizen[\/\s](\d+(\.\d+)*)/i)),y&&(i.osversion=y);var w=y.split(".")[0];return v||"ipad"==r||a&&(3==w||4==w&&!b)||i.silk?i.tablet=e:(b||"iphone"==r||"ipod"==r||a||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.chrome&&i.version>=20||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6?i.c=e:i.x=e,i}var e=!0,n=t("undefined"!=typeof navigator?navigator.userAgent:"");return n.test=function(t){for(var e=0;e<t.length;++e){var i=t[e];if("string"==typeof i&&i in n)return!0}return!1},n._detect=t,n})},function(t,e,n){var i,i;/*!
 * clipboard.js v1.7.1
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT © Zeno Rocha
 */
!function(e){t.exports=e()}(function(){var t;return function t(e,n,r){function o(s,c){if(!n[s]){if(!e[s]){var l="function"==typeof i&&i;if(!c&&l)return i(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return o(n||t)},d,d.exports,t,e,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){function i(t,e){for(;t&&t.nodeType!==r;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}e.exports=i},{}],2:[function(t,e,n){function i(t,e,n,i,o){var a=r.apply(this,arguments);return t.addEventListener(n,a,o),{destroy:function(){t.removeEventListener(n,a,o)}}}function r(t,e,n,i){return function(n){n.delegateTarget=o(n.target,e),n.delegateTarget&&i.call(t,n)}}var o=t("./closest");e.exports=i},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!s.string(e))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(t))return r(t,e,n);if(s.nodeList(t))return o(t,e,n);if(s.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return c(document.body,t,e,n)}var s=t("./is"),c=t("delegate");e.exports=i},{"./is":3,delegate:2}],5:[function(t,e,n){function i(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(t),i.removeAllRanges(),i.addRange(r),e=i.toString()}return e}e.exports=i},{}],6:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,a=i.length;o<a;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},e.exports=i},{}],7:[function(e,n,i){!function(r,o){if("function"==typeof t&&t.amd)t(["module","select"],o);else if(void 0!==i)o(n,e("select"));else{var a={exports:{}};o(a,r.select),r.clipboardAction=a.exports}}(this,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(t){return t&&t.__esModule?t:{default:t}}(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},{select:5}],8:[function(e,n,i){!function(r,o){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],o);else if(void 0!==i)o(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};o(a,r.clipboardAction,r.tinyEmitter,r.goodListener),r.clipboard=a.exports}}(this,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=r(e),u=r(n),d=r(i),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(t,n){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i}return s(e,t),f(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===p(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,d.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return c("action",t)}},{key:"defaultTarget",value:function(t){var e=c("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return c("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(u.default);t.exports=h})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)})},function(t,e){(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.el=t,this.dragleave=e(this.dragleave,this),this.dragenter=e(this.dragenter,this),this.supportsEventConstructors()&&(this.first=!1,this.second=!1,this.el.addEventListener("dragenter",this.dragenter,!1),this.el.addEventListener("dragleave",this.dragleave,!1))}return t.prototype.dragenter=function(t){return this.first?this.second=!0:(this.first=!0,this.el.dispatchEvent(new CustomEvent("dragster:enter",{bubbles:!0,cancelable:!0,detail:{dataTransfer:t.dataTransfer}})))},t.prototype.dragleave=function(t){if(this.second?this.second=!1:this.first&&(this.first=!1),!this.first&&!this.second)return this.el.dispatchEvent(new CustomEvent("dragster:leave",{bubbles:!0,cancelable:!0,detail:{dataTransfer:t.dataTransfer}}))},t.prototype.removeListeners=function(){return this.el.removeEventListener("dragenter",this.dragenter,!1),this.el.removeEventListener("dragleave",this.dragleave,!1)},t.prototype.supportsEventConstructors=function(){try{new CustomEvent("z")}catch(t){return!1}return!0},t.prototype.reset=function(){return this.first=!1,this.second=!1},t}(),window.Dragster=t}).call(this)},,,,,,,,,,,,,,,,function(t,e,n){(function(t){var e,e;!function t(n,i,r){function o(s,c){if(!i[s]){if(!n[s]){var l="function"==typeof e&&e;if(!c&&l)return e(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[s]={exports:{}};n[s][0].call(d.exports,function(t){var e=n[s][1][t];return o(e||t)},d,d.exports,t,n,i,r)}return i[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){"use strict";var i=t("./Array.prototype");e.exports={prototype:i,shim:function(){i.shim()}}},{"./Array.prototype":3}],2:[function(t,e,n){"use strict";e.exports=t("array-includes")},{"array-includes":14}],3:[function(t,e,n){"use strict";var i=t("./Array.prototype.includes");e.exports={includes:i,shim:function(){i.shim()}}},{"./Array.prototype.includes":2}],4:[function(t,e,n){"use strict";var i=t("object.getownpropertydescriptors"),r=t("object.entries"),o=t("object.values");e.exports={entries:r,getOwnPropertyDescriptors:i,shim:function(){i.shim(),r.shim(),o.shim()},values:o}},{"object.entries":38,"object.getownpropertydescriptors":64,"object.values":89}],5:[function(t,e,n){"use strict";var i=t("./String.prototype");e.exports={prototype:i,shim:function(){i.shim()}}},{"./String.prototype":7}],6:[function(t,e,n){"use strict";e.exports=t("string-at")},{"string-at":114}],7:[function(t,e,n){"use strict";var i=t("./String.prototype.at"),r=t("./String.prototype.padStart"),o=t("./String.prototype.padEnd"),a=t("./String.prototype.trimLeft"),s=t("./String.prototype.trimRight");e.exports={at:i,padStart:r,padEnd:o,trimLeft:a,trimRight:s,shim:function(){i.shim(),r.shim(),o.shim(),a.shim(),s.shim()}}},{"./String.prototype.at":6,"./String.prototype.padEnd":8,"./String.prototype.padStart":9,"./String.prototype.trimLeft":10,"./String.prototype.trimRight":11}],8:[function(t,e,n){"use strict";e.exports=t("string.prototype.padend")},{"string.prototype.padend":137}],9:[function(t,e,n){"use strict";e.exports=t("string.prototype.padstart")},{"string.prototype.padstart":162}],10:[function(t,e,n){"use strict";e.exports=t("string.prototype.trimleft")},{"string.prototype.trimleft":187}],11:[function(t,e,n){"use strict";e.exports=t("string.prototype.trimright")},{"string.prototype.trimright":197}],12:[function(t,e,n){/*!
 * https://github.com/es-shims/es7-shim
 * @license es7-shim Copyright 2014 by contributors, MIT License
 * see https://github.com/es-shims/es7-shim/blob/master/LICENSE
 */
"use strict";var i=t("./Array"),r=t("./Object"),o=t("./String");e.exports={Array:i,Object:r,String:o,shim:function(){i.shim(),r.shim(),o.shim()}}},{"./Array":1,"./Object":4,"./String":5}],13:[function(e,n,i){(function(t){"use strict";var i=e("es-abstract/es6"),r=Number.isNaN||function(t){return t!==t},o=Number.isFinite||function(e){return"number"==typeof e&&t.isFinite(e)},a=Array.prototype.indexOf;n.exports=function(t){var e=arguments.length>1?i.ToInteger(arguments[1]):0;if(a&&!r(t)&&o(e)&&void 0!==t)return a.apply(this,arguments)>-1;var n=i.ToObject(this),s=i.ToLength(n.length);if(0===s)return!1;for(var c=e>=0?e:Math.max(0,s+e);c<s;){if(i.SameValueZero(t,n[c]))return!0;c+=1}return!1}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"es-abstract/es6":17}],14:[function(t,e,n){"use strict";var i=t("define-properties"),r=t("es-abstract/es6"),o=t("./implementation"),a=t("./polyfill"),s=a(),c=t("./shim"),l=Array.prototype.slice,u=function(t,e){return r.RequireObjectCoercible(t),s.apply(t,l.call(arguments,1))};i(u,{implementation:o,getPolyfill:a,shim:c}),e.exports=u},{"./implementation":13,"./polyfill":35,"./shim":36,"define-properties":15,"es-abstract/es6":17}],15:[function(t,e,n){"use strict";var i=t("object-keys"),r=t("foreach"),o="function"==typeof Symbol&&"symbol"==typeof Symbol(),a=Object.prototype.toString,s=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)},c=Object.defineProperty&&function(){var t={};try{Object.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(t){return!1}}(),l=function(t,e,n,i){(!(e in t)||s(i)&&i())&&(c?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},u=function(t,e){var n=arguments.length>2?arguments[2]:{},a=i(e);o&&(a=a.concat(Object.getOwnPropertySymbols(e))),r(a,function(i){l(t,i,e[i],n[i])})};u.supportsDescriptors=!!c,e.exports=u},{foreach:26,"object-keys":33}],16:[function(t,e,n){"use strict";var i=Number.isNaN||function(t){return t!==t},r=t("./helpers/isFinite"),o=t("./helpers/sign"),a=t("./helpers/mod"),s=t("is-callable"),c=t("es-to-primitive/es5"),l={ToPrimitive:c,ToBoolean:function(t){return Boolean(t)},ToNumber:function(t){return Number(t)},ToInteger:function(t){var e=this.ToNumber(t);return i(e)?0:0!==e&&r(e)?o(e)*Math.floor(Math.abs(e)):e},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var e=this.ToNumber(t);if(i(e)||0===e||!r(e))return 0;var n=o(e)*Math.floor(Math.abs(e));return a(n,65536)},ToString:function(t){return String(t)},ToObject:function(t){return this.CheckObjectCoercible(t),Object(t)},CheckObjectCoercible:function(t,e){if(null==t)throw new TypeError(e||"Cannot call method on "+t);return t},IsCallable:s,SameValue:function(t,e){return t===e?0!==t||1/t==1/e:i(t)&&i(e)}};e.exports=l},{"./helpers/isFinite":19,"./helpers/mod":21,"./helpers/sign":22,"es-to-primitive/es5":23,"is-callable":29}],17:[function(t,e,n){"use strict";var i=Object.prototype.toString,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=r?Symbol.prototype.toString:i,a=Number.isNaN||function(t){return t!==t},s=t("./helpers/isFinite"),c=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,l=t("./helpers/assign"),u=t("./helpers/sign"),d=t("./helpers/mod"),p=t("./helpers/isPrimitive"),f=t("es-to-primitive/es6"),h=parseInt,_=t("function-bind"),m=_.call(Function.call,String.prototype.slice),g=_.call(Function.call,RegExp.prototype.test,/^0b[01]+$/i),v=_.call(Function.call,RegExp.prototype.test,/^0o[0-7]+$/i),b=["","​","￾"].join(""),y=new RegExp("["+b+"]","g"),w=_.call(Function.call,RegExp.prototype.test,y),$=_.call(Function.call,RegExp.prototype.test,/^[\-\+]0x[0-9a-f]+$/i),x=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),k=new RegExp("(^["+x+"]+)|(["+x+"]+$)","g"),C=_.call(Function.call,String.prototype.replace),S=function(t){return C(t,k,"")},A=t("./es5"),E=t("is-regex"),T=l(l({},A),{Call:function(t,e){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(t))throw new TypeError(t+" is not a function");return t.apply(e,n)},ToPrimitive:f,ToNumber:function(t){var e=p(t)?t:f(t,"number");if("symbol"==typeof e)throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof e){if(g(e))return this.ToNumber(h(m(e,2),2));if(v(e))return this.ToNumber(h(m(e,2),8));if(w(e)||$(e))return NaN;var n=S(e);if(n!==e)return this.ToNumber(n)}return Number(e)},ToInt16:function(t){var e=this.ToUint16(t);return e>=32768?e-65536:e},ToInt8:function(t){var e=this.ToUint8(t);return e>=128?e-256:e},ToUint8:function(t){var e=this.ToNumber(t);if(a(e)||0===e||!s(e))return 0;var n=u(e)*Math.floor(Math.abs(e));return d(n,256)},ToUint8Clamp:function(t){var e=this.ToNumber(t);if(a(e)||e<=0)return 0;if(e>=255)return 255;var n=Math.floor(t);return n+.5<e?n+1:e<n+.5?n:n%2!=0?n+1:n},ToString:function(t){if("symbol"==typeof t)throw new TypeError("Cannot convert a Symbol value to a string");return String(t)},ToObject:function(t){return this.RequireObjectCoercible(t),Object(t)},ToPropertyKey:function(t){var e=this.ToPrimitive(t,String);return"symbol"==typeof e?o.call(e):this.ToString(e)},ToLength:function(t){var e=this.ToInteger(t);return e<=0?0:e>c?c:e},CanonicalNumericIndexString:function(t){if("[object String]"!==i.call(t))throw new TypeError("must be a string");if("-0"===t)return-0;var e=this.ToNumber(t);return this.SameValue(this.ToString(e),t)?e:void 0},RequireObjectCoercible:A.CheckObjectCoercible,IsArray:Array.isArray||function(t){return"[object Array]"===i.call(t)},IsConstructor:function(t){return this.IsCallable(t)},IsExtensible:function(t){return!Object.preventExtensions||!p(t)&&Object.isExtensible(t)},IsInteger:function(t){if("number"!=typeof t||a(t)||!s(t))return!1;var e=Math.abs(t);return Math.floor(e)===e},IsPropertyKey:function(t){return"string"==typeof t||"symbol"==typeof t},IsRegExp:function(t){if(!t||"object"!=typeof t)return!1;if(r){var e=RegExp[Symbol.match];if(void 0!==e)return A.ToBoolean(e)}return E(t)},SameValueZero:function(t,e){return t===e||a(t)&&a(e)}});delete T.CheckObjectCoercible,e.exports=T},{"./es5":16,"./helpers/assign":18,"./helpers/isFinite":19,"./helpers/isPrimitive":20,"./helpers/mod":21,"./helpers/sign":22,"es-to-primitive/es6":24,"function-bind":28,"is-regex":31}],18:[function(t,e,n){var i=Object.prototype.hasOwnProperty;e.exports=Object.assign||function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);return t}},{}],19:[function(t,e,n){var i=Number.isNaN||function(t){return t!==t};e.exports=Number.isFinite||function(t){return"number"==typeof t&&!i(t)&&t!==1/0&&t!==-1/0}},{}],20:[function(t,e,n){e.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},{}],21:[function(t,e,n){e.exports=function(t,e){var n=t%e;return Math.floor(n>=0?n:n+e)}},{}],22:[function(t,e,n){e.exports=function(t){return t>=0?1:-1}},{}],23:[function(t,e,n){"use strict";var i=Object.prototype.toString,r=t("./helpers/isPrimitive"),o=t("is-callable"),a={"[[DefaultValue]]":function(t,e){var n=e||("[object Date]"===i.call(t)?String:Number);if(n===String||n===Number){var a,s,c=n===String?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<c.length;++s)if(o(t[c[s]])&&(a=t[c[s]](),r(a)))return a;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};e.exports=function(t,e){return r(t)?t:a["[[DefaultValue]]"](t,e)}},{"./helpers/isPrimitive":25,"is-callable":29}],24:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,r=t("./helpers/isPrimitive"),o=t("is-callable"),a=t("is-date-object"),s=t("is-symbol"),c=function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot call method on "+t);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var n,i,a,s="string"===e?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(n=t[s[a]],o(n)&&(i=n.call(t),r(i)))return i;throw new TypeError("No default value")},l=function(t,e){var n=t[e];if(null!==n&&void 0!==n){if(!o(n))throw new TypeError(n+" returned for property "+e+" of object "+t+" is not a function");return n}};e.exports=function(t,e){if(r(t))return t;var n="default";arguments.length>1&&(e===String?n="string":e===Number&&(n="number"));var o;if(i&&(Symbol.toPrimitive?o=l(t,Symbol.toPrimitive):s(t)&&(o=Symbol.prototype.valueOf)),void 0!==o){var u=o.call(t,n);if(r(u))return u;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(a(t)||s(t))&&(n="string"),c(t,"default"===n?"number":n)}},{"./helpers/isPrimitive":25,"is-callable":29,"is-date-object":30,"is-symbol":32}],25:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],26:[function(t,e,n){var i=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(t,e,n){if("[object Function]"!==r.call(e))throw new TypeError("iterator must be a function");var o=t.length;if(o===+o)for(var a=0;a<o;a++)e.call(n,t[a],a,t);else for(var s in t)i.call(t,s)&&e.call(n,t[s],s,t)}},{}],27:[function(t,e,n){var i=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==r.call(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n,o=i.call(arguments,1),a=function(){if(this instanceof n){var r=e.apply(this,o.concat(i.call(arguments)));return Object(r)===r?r:this}return e.apply(t,o.concat(i.call(arguments)))},s=Math.max(0,e.length-o.length),c=[],l=0;l<s;l++)c.push("$"+l);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(a),e.prototype){var u=function(){};u.prototype=e.prototype,n.prototype=new u,u.prototype=null}return n}},{}],28:[function(t,e,n){var i=t("./implementation");e.exports=Function.prototype.bind||i},{"./implementation":27}],29:[function(t,e,n){"use strict";var i=Function.prototype.toString,r=/^\s*class /,o=function(t){try{var e=i.call(t),n=e.replace(/\/\/.*\n/g,""),o=n.replace(/\/\*[.\s\S]*\*\//g,""),a=o.replace(/\n/gm," ").replace(/ {2}/g," ");return r.test(a)}catch(t){return!1}},a=function(t){try{return!o(t)&&(i.call(t),!0)}catch(t){return!1}},s=Object.prototype.toString,c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(c)return a(t);if(o(t))return!1;var e=s.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},{}],30:[function(t,e,n){"use strict";var i=Date.prototype.getDay,r=function(t){try{return i.call(t),!0}catch(t){return!1}},o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(t){return"object"==typeof t&&null!==t&&(a?r(t):"[object Date]"===o.call(t))}},{}],31:[function(t,e,n){"use strict";var i=RegExp.prototype.exec,r=function(t){try{return i.call(t),!0}catch(t){return!1}},o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(t){return"object"==typeof t&&(a?r(t):"[object RegExp]"===o.call(t))}},{}],32:[function(t,e,n){"use strict";var i=Object.prototype.toString;if("function"==typeof Symbol&&"symbol"==typeof Symbol()){var r=Symbol.prototype.toString,o=/^Symbol\(.*\)$/,a=function(t){return"symbol"==typeof t.valueOf()&&o.test(r.call(t))};e.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==i.call(t))return!1;try{return a(t)}catch(t){return!1}}}else e.exports=function(t){return!1}},{}],33:[function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Array.prototype.slice,a=t("./isArguments"),s=!{toString:null}.propertyIsEnumerable("toString"),c=function(){}.propertyIsEnumerable("prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(t){var e=t.constructor;return e&&e.prototype===t},d={$console:!0,$frame:!0,$frameElement:!0,$frames:!0,$parent:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!d["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{u(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),f=function(t){if("undefined"==typeof window||!p)return u(t);try{return u(t)}catch(t){return!1}},h=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===r.call(t),o=a(t),u=e&&"[object String]"===r.call(t),d=[];if(!e&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var p=c&&n;if(u&&t.length>0&&!i.call(t,0))for(var h=0;h<t.length;++h)d.push(String(h));if(o&&t.length>0)for(var _=0;_<t.length;++_)d.push(String(_));else for(var m in t)p&&"prototype"===m||!i.call(t,m)||d.push(String(m));if(s)for(var g=f(t),v=0;v<l.length;++v)g&&"constructor"===l[v]||!i.call(t,l[v])||d.push(l[v]);return d};h.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var t=Object.keys;Object.keys=function(e){return t(a(e)?o.call(e):e)}}}else Object.keys=h;return Object.keys||h},e.exports=h},{"./isArguments":34}],34:[function(t,e,n){"use strict";var i=Object.prototype.toString;e.exports=function(t){var e=i.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===i.call(t.callee)),n}},{}],35:[function(t,e,n){"use strict";var i=t("./implementation");e.exports=function(){return Array.prototype.includes||i}},{"./implementation":13}],36:[function(t,e,n){"use strict";var i=t("define-properties"),r=t("./polyfill");e.exports=function(){var t=r();return Array.prototype.includes!==t&&i(Array.prototype,{includes:t}),t}},{"./polyfill":35,"define-properties":15}],37:[function(t,e,n){"use strict";var i=t("es-abstract/es7"),r=t("has"),o=t("function-bind"),a=o.call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function(t){var e=i.RequireObjectCoercible(t),n=[];for(var o in e)r(e,o)&&a(e,o)&&n.push([o,e[o]]);return n}},{"es-abstract/es7":42,"function-bind":53,has:54}],38:[function(t,e,n){"use strict";var i=t("define-properties"),r=t("./implementation");i(r,{getPolyfill:t("./polyfill"),implementation:r,shim:t("./shim")}),e.exports=r},{"./implementation":37,"./polyfill":61,"./shim":62,"define-properties":39}],39:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15,foreach:51,"object-keys":59}],40:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{"./helpers/isFinite":44,"./helpers/mod":46,"./helpers/sign":47,dup:16,"es-to-primitive/es5":48,"is-callable":55}],41:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{"./es5":40,"./helpers/assign":43,"./helpers/isFinite":44,"./helpers/isPrimitive":45,"./helpers/mod":46,"./helpers/sign":47,dup:17,"es-to-primitive/es6":49,"function-bind":53,"is-regex":57}],42:[function(t,e,n){"use strict";var i=t("./es6"),r=t("./helpers/assign"),o=r(i,{SameValueNonNumber:function(t,e){if("number"==typeof t||typeof t!=typeof e)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(t,e)}});e.exports=o},{"./es6":41,"./helpers/assign":43}],43:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],44:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],45:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],46:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{dup:21}],47:[function(t,e,n){arguments[4][22][0].apply(n,arguments)},{dup:22}],48:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{"./helpers/isPrimitive":50,dup:23,"is-callable":55}],49:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{"./helpers/isPrimitive":50,dup:24,"is-callable":55,"is-date-object":56,"is-symbol":58}],50:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],51:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],52:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],53:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"./implementation":52,dup:28}],54:[function(t,e,n){var i=t("function-bind");e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":53}],55:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],56:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],57:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],58:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],59:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{"./isArguments":60,dup:33}],60:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],61:[function(t,e,n){"use strict";var i=t("./implementation");e.exports=function(){return"function"==typeof Object.entries?Object.entries:i}},{"./implementation":37}],62:[function(t,e,n){"use strict";var i=t("./polyfill"),r=t("define-properties");e.exports=function(){var t=i();return r(Object,{entries:t},{entries:function(){return Object.entries!==t}}),t}},{"./polyfill":61,"define-properties":39}],63:[function(t,e,n){"use strict";var i=t("es-abstract/es7"),r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Function.call.bind(Array.prototype.concat),l=Function.call.bind(Array.prototype.reduce),u=s?function(t){return c(a(t),s(t))}:a,d=i.IsCallable(o)&&i.IsCallable(a),p=function(t,e,n){r&&e in t?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};e.exports=function(t){if(i.RequireObjectCoercible(t),!d)throw new TypeError("getOwnPropertyDescriptors requires Object.getOwnPropertyDescriptor");var e=i.ToObject(t);return l(u(e),function(t,n){return p(t,n,o(e,n)),t},{})}},{"es-abstract/es7":68}],64:[function(t,e,n){arguments[4][38][0].apply(n,arguments)},{"./implementation":63,"./polyfill":86,"./shim":87,"define-properties":65,dup:38}],65:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15,foreach:77,"object-keys":84}],66:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{"./helpers/isFinite":70,"./helpers/mod":72,"./helpers/sign":73,dup:16,"es-to-primitive/es5":74,"is-callable":80}],67:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{"./es5":66,"./helpers/assign":69,"./helpers/isFinite":70,"./helpers/isPrimitive":71,"./helpers/mod":72,"./helpers/sign":73,dup:17,"es-to-primitive/es6":75,"function-bind":79,"is-regex":82}],68:[function(t,e,n){arguments[4][42][0].apply(n,arguments)},{"./es6":67,"./helpers/assign":69,dup:42}],69:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],70:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],71:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],72:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{dup:21}],73:[function(t,e,n){arguments[4][22][0].apply(n,arguments)},{dup:22}],74:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{"./helpers/isPrimitive":76,dup:23,"is-callable":80}],75:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{"./helpers/isPrimitive":76,dup:24,"is-callable":80,"is-date-object":81,"is-symbol":83}],76:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],77:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],78:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],79:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"./implementation":78,dup:28}],80:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],81:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],82:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],83:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],84:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{"./isArguments":85,dup:33}],85:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],86:[function(t,e,n){"use strict";var i=t("./implementation");e.exports=function(){return"function"==typeof Object.getOwnPropertyDescriptors?Object.getOwnPropertyDescriptors:i}},{"./implementation":63}],87:[function(t,e,n){"use strict";var i=t("./polyfill"),r=t("define-properties");e.exports=function(){var t=i();return r(Object,{getOwnPropertyDescriptors:t},{getOwnPropertyDescriptors:function(){return Object.getOwnPropertyDescriptors!==t}}),t}},{"./polyfill":86,"define-properties":65}],88:[function(t,e,n){"use strict";var i=t("es-abstract/es7"),r=t("has"),o=t("function-bind"),a=o.call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function(t){var e=i.RequireObjectCoercible(t),n=[];for(var o in e)r(e,o)&&a(e,o)&&n.push(e[o]);return n}},{"es-abstract/es7":93,"function-bind":104,has:105}],89:[function(t,e,n){arguments[4][38][0].apply(n,arguments)},{"./implementation":88,"./polyfill":112,"./shim":113,"define-properties":90,dup:38}],90:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15,foreach:102,"object-keys":110}],91:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{"./helpers/isFinite":95,"./helpers/mod":97,"./helpers/sign":98,dup:16,"es-to-primitive/es5":99,"is-callable":106}],92:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{"./es5":91,"./helpers/assign":94,"./helpers/isFinite":95,"./helpers/isPrimitive":96,"./helpers/mod":97,"./helpers/sign":98,dup:17,"es-to-primitive/es6":100,"function-bind":104,"is-regex":108}],93:[function(t,e,n){arguments[4][42][0].apply(n,arguments)},{"./es6":92,"./helpers/assign":94,dup:42}],94:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],95:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],96:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],97:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{dup:21}],98:[function(t,e,n){arguments[4][22][0].apply(n,arguments)},{dup:22}],99:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{"./helpers/isPrimitive":101,dup:23,"is-callable":106}],100:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{"./helpers/isPrimitive":101,dup:24,"is-callable":106,"is-date-object":107,"is-symbol":109}],101:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],102:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],103:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],104:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"./implementation":103,dup:28}],105:[function(t,e,n){arguments[4][54][0].apply(n,arguments)},{dup:54,"function-bind":104}],106:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],107:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],108:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],109:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],110:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{"./isArguments":111,dup:33}],111:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],112:[function(t,e,n){"use strict";var i=t("./implementation");e.exports=function(){return"function"==typeof Object.values?Object.values:i}},{"./implementation":88}],113:[function(t,e,n){"use strict";var i=t("./polyfill"),r=t("define-properties");e.exports=function(){var t=i();return r(Object,{values:t},{values:function(){return Object.values!==t}}),t}},{"./polyfill":112,"define-properties":90}],114:[function(t,e,n){"use strict";var i=t("define-properties"),r=t("es-abstract/es7"),o=t("function-bind"),a=function(t){r.RequireObjectCoercible(this);var e=r.ToObject(this),n=r.ToString(e),i=r.ToInteger(t),o=n.length;if(i<0||i>=o)return"";var a,s=n.charCodeAt(i),c=i+1,l=1;return s>=55296&&s<=56319&&o>c&&(a=n.charCodeAt(c))>=56320&&a<=57343&&(l=2),n.slice(i,i+l)},s=o.call(Function.call,a);i(s,{method:a,shim:function(){return i(String.prototype,{at:a}),String.prototype.at}}),e.exports=s},{"define-properties":115,"es-abstract/es7":118,"function-bind":129}],115:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15,foreach:127,"object-keys":134}],116:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{"./helpers/isFinite":120,"./helpers/mod":122,"./helpers/sign":123,dup:16,"es-to-primitive/es5":124,"is-callable":130}],117:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{"./es5":116,"./helpers/assign":119,"./helpers/isFinite":120,"./helpers/isPrimitive":121,"./helpers/mod":122,"./helpers/sign":123,dup:17,"es-to-primitive/es6":125,"function-bind":129,"is-regex":132}],118:[function(t,e,n){arguments[4][42][0].apply(n,arguments)},{"./es6":117,"./helpers/assign":119,dup:42}],119:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],120:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],121:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],122:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{dup:21}],123:[function(t,e,n){arguments[4][22][0].apply(n,arguments)},{dup:22}],124:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{"./helpers/isPrimitive":126,dup:23,"is-callable":130}],125:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{"./helpers/isPrimitive":126,dup:24,"is-callable":130,"is-date-object":131,"is-symbol":133}],126:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],127:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],128:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],129:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"./implementation":128,dup:28}],130:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],131:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],132:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],133:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],134:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{"./isArguments":135,dup:33}],135:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],136:[function(t,e,n){"use strict";var i=t("function-bind"),r=t("es-abstract/es7"),o=i.call(Function.call,String.prototype.slice);e.exports=function(t){var e,n=r.RequireObjectCoercible(this),i=r.ToString(n),a=r.ToLength(i.length);arguments.length>1&&(e=arguments[1]);var s=void 0===e?"":r.ToString(e);""===s&&(s=" ");var c=r.ToLength(t);if(c<=a)return i;for(var l=c-a;s.length<l;){var u=s.length,d=l-u;s+=u>d?o(s,0,d):s}return i+(s.length>l?o(s,0,l):s)}},{"es-abstract/es7":141,"function-bind":152}],137:[function(t,e,n){"use strict";var i=t("function-bind"),r=t("define-properties"),o=t("es-abstract/es7"),a=t("./implementation"),s=t("./polyfill"),c=t("./shim"),l=i.call(Function.apply,a),u=function(t,e){o.RequireObjectCoercible(t);var n=[e];return arguments.length>2&&n.push(arguments[2]),l(t,n)};r(u,{getPolyfill:s,implementation:a,shim:c}),e.exports=u},{"./implementation":136,"./polyfill":159,"./shim":160,"define-properties":138,"es-abstract/es7":141,"function-bind":152}],138:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15,foreach:150,"object-keys":157}],139:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{"./helpers/isFinite":143,"./helpers/mod":145,"./helpers/sign":146,dup:16,"es-to-primitive/es5":147,"is-callable":153}],140:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{"./es5":139,"./helpers/assign":142,"./helpers/isFinite":143,"./helpers/isPrimitive":144,"./helpers/mod":145,"./helpers/sign":146,dup:17,"es-to-primitive/es6":148,"function-bind":152,"is-regex":155}],141:[function(t,e,n){arguments[4][42][0].apply(n,arguments)},{"./es6":140,"./helpers/assign":142,dup:42}],142:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],143:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],144:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],145:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{dup:21}],146:[function(t,e,n){arguments[4][22][0].apply(n,arguments)},{dup:22}],147:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{"./helpers/isPrimitive":149,dup:23,"is-callable":153}],148:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{"./helpers/isPrimitive":149,dup:24,"is-callable":153,"is-date-object":154,"is-symbol":156}],149:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],150:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],151:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],152:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"./implementation":151,dup:28}],153:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],154:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],155:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],156:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],157:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{"./isArguments":158,dup:33}],158:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],159:[function(t,e,n){"use strict";var i=t("./implementation");e.exports=function(){return"function"==typeof String.prototype.padEnd?String.prototype.padEnd:i}},{"./implementation":136}],160:[function(t,e,n){"use strict";var i=t("./polyfill"),r=t("define-properties");e.exports=function(){var t=i();return r(String.prototype,{padEnd:t},{padEnd:function(){return String.prototype.padEnd!==t}}),t}},{"./polyfill":159,"define-properties":138}],161:[function(t,e,n){"use strict";var i=t("function-bind"),r=t("es-abstract/es7"),o=i.call(Function.call,String.prototype.slice);e.exports=function(t){var e,n=r.RequireObjectCoercible(this),i=r.ToString(n),a=r.ToLength(i.length);arguments.length>1&&(e=arguments[1]);var s=void 0===e?"":r.ToString(e);""===s&&(s=" ");var c=r.ToLength(t);if(c<=a)return i;for(var l=c-a;s.length<l;){var u=s.length,d=l-u;s+=u>d?o(s,0,d):s}return(s.length>l?o(s,0,l):s)+i}},{"es-abstract/es7":166,"function-bind":177}],162:[function(t,e,n){"use strict";var i=t("function-bind"),r=t("define-properties"),o=t("es-abstract/es7"),a=t("./implementation"),s=t("./polyfill"),c=t("./shim"),l=i.call(Function.apply,a),u=function(t,e){o.RequireObjectCoercible(t);var n=[e];return arguments.length>2&&n.push(arguments[2]),l(t,n)};r(u,{getPolyfill:s,implementation:a,shim:c}),e.exports=u},{"./implementation":161,"./polyfill":184,"./shim":185,"define-properties":163,"es-abstract/es7":166,"function-bind":177}],163:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15,foreach:175,"object-keys":182}],164:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{"./helpers/isFinite":168,"./helpers/mod":170,"./helpers/sign":171,dup:16,"es-to-primitive/es5":172,"is-callable":178}],165:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{"./es5":164,"./helpers/assign":167,"./helpers/isFinite":168,"./helpers/isPrimitive":169,"./helpers/mod":170,"./helpers/sign":171,dup:17,"es-to-primitive/es6":173,"function-bind":177,"is-regex":180}],166:[function(t,e,n){arguments[4][42][0].apply(n,arguments)},{"./es6":165,"./helpers/assign":167,dup:42}],167:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],168:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],169:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],170:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{dup:21}],171:[function(t,e,n){arguments[4][22][0].apply(n,arguments)},{dup:22}],172:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{"./helpers/isPrimitive":174,dup:23,"is-callable":178}],173:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{"./helpers/isPrimitive":174,dup:24,"is-callable":178,"is-date-object":179,"is-symbol":181}],174:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],175:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],176:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],177:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"./implementation":176,dup:28}],178:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],179:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],180:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],181:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],182:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{"./isArguments":183,dup:33}],183:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],184:[function(t,e,n){"use strict";var i=t("./implementation");e.exports=function(){return"function"==typeof String.prototype.padStart?String.prototype.padStart:i}},{"./implementation":161}],185:[function(t,e,n){"use strict";var i=t("./polyfill"),r=t("define-properties");e.exports=function(){var t=i();return r(String.prototype,{padStart:t},{padStart:function(){return String.prototype.padStart!==t}}),t}},{"./polyfill":184,"define-properties":163}],186:[function(t,e,n){"use strict";var i=t("function-bind"),r=i.call(Function.call,String.prototype.replace);e.exports=function(){return r(this,/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/,"")}},{"function-bind":191}],187:[function(t,e,n){"use strict";var i=t("function-bind"),r=t("define-properties"),o=t("./implementation"),a=t("./polyfill"),s=t("./shim"),c=i.call(Function.call,a());r(c,{getPolyfill:a,implementation:o,shim:s}),e.exports=c},{"./implementation":186,"./polyfill":194,"./shim":195,"define-properties":188,"function-bind":191}],188:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15,foreach:189,"object-keys":192}],189:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],190:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],191:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"./implementation":190,dup:28}],192:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{"./isArguments":193,dup:33}],193:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],194:[function(t,e,n){"use strict";var i=t("./implementation");e.exports=function(){if(!String.prototype.trimLeft)return i;var t="​";return t.trimLeft()!==t?i:String.prototype.trimLeft}},{"./implementation":186}],195:[function(t,e,n){"use strict";var i=t("define-properties"),r=t("./polyfill");e.exports=function(){var t=r();return i(String.prototype,{trimLeft:t},{trimLeft:function(){return String.prototype.trimLeft!==t}}),t}},{"./polyfill":194,"define-properties":188}],196:[function(t,e,n){"use strict";var i=t("function-bind"),r=i.call(Function.call,String.prototype.replace);e.exports=function(){return r(this,/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/,"")}},{"function-bind":201}],197:[function(t,e,n){arguments[4][187][0].apply(n,arguments)},{"./implementation":196,"./polyfill":204,"./shim":205,"define-properties":198,dup:187,"function-bind":201}],198:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15,foreach:199,"object-keys":202}],199:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],200:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],201:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"./implementation":200,dup:28}],202:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{"./isArguments":203,dup:33}],203:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],204:[function(t,e,n){"use strict";var i=t("./implementation");e.exports=function(){if(!String.prototype.trimRight)return i;var t="​";return t.trimRight()!==t?i:String.prototype.trimRight}},{"./implementation":196}],205:[function(t,e,n){"use strict";var i=t("define-properties"),r=t("./polyfill");e.exports=function(){var t=r();return i(String.prototype,{trimRight:t},{trimRight:function(){return String.prototype.trimRight!==t}}),t}},{"./polyfill":204,"define-properties":198}],206:[function(t,e,n){"use strict";e.exports=t("./es7-shim").shim()},{"./es7-shim":12}]},{},[206])}).call(e,n(4))},,function(t,e){var n=n||{};n.showdown=n.showdown||{},n.showdown.converter=function(){var t,e,n,i=0;this.makeHtml=function(i){if(null!==i)return t=new Array,e=new Array,n=new Array,i=i.replace(/~/g,"~T"),i=i.replace(/\$/g,"~D"),i=i.replace(/\r\n/g,"\n"),i=i.replace(/\r/g,"\n"),i="\n\n"+i+"\n\n",i=j(i),i=i.replace(/^[ \t]+$/gm,""),i=a(i),i=o(i),i=c(i),i=E(i),i=i.replace(/~D/g,"$$"),i=i.replace(/~T/g,"~"),i=i.replace(/https?\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!]/g,function(t,e){var n=i.slice(0,e),r=i.slice(e);return n.match(/<[^>]+$/)&&r.match(/^[^>]*>/)?t:"<a href='"+t+"'>"+t+"</a>"}),i=i.replace(/[a-z0-9_\-+=.]+@[a-z0-9\-]+(\.[a-z0-9-]+)+/gi,function(t){return"<a href='mailto:"+t+"'>"+t+"</a>"})};var r,o=function(n){var n=n.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(n,i,r,o,a){return i=i.toLowerCase(),t[i]=k(r),o?o+a:(a&&(e[i]=a.replace(/"/g,"&quot;")),"")});return n},a=function(t){t=t.replace(/\n/g,"\n\n");return t=t.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,s),t=t.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,s),t=t.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,s),t=t.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,s),t=t.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,s),t=t.replace(/\n\n/g,"\n")},s=function(t,e){var i=e;return i=i.replace(/\n\n/g,"\n"),i=i.replace(/^\n/,""),i=i.replace(/\n+$/g,""),i="\n\n~K"+(n.push(i)-1)+"K\n\n"},c=function(t){t=_(t);var e=v("<hr />");return t=t.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,e),t=t.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,e),t=t.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,e),t=m(t),t=g(t),t=$(t),t=a(t),t=x(t)},l=function(t){return t=b(t),t=u(t),t=C(t),t=f(t),t=d(t),t=S(t),t=k(t),t=w(t),t=t.replace(/  +\n/g," <br />\n")},u=function(t){return t=t.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi,function(t){var e=t.replace(/(.)<\/?code>(?=.)/g,"$1`");return e=O(e,"\\`*_")})},d=function(t){return t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p),t=t.replace(/(\[((?:\[[^\]]*\]|\[\[[^\]]*\]\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p),t=t.replace(/(\[([^\[\]]+)\])()()()()()/g,p)},p=function(n,i,r,o,a,s,c,l){void 0==l&&(l="");var u=i,d=r,p=o.toLowerCase(),f=a,h=l;if(""==f)if(""==p&&(p=d.toLowerCase().replace(/ ?\n/g," ")),f="#"+p,void 0!=t[p])f=t[p],void 0!=e[p]&&(h=e[p]);else{if(!(u.search(/\(\s*\)$/m)>-1))return u;f=""}f=O(f,"*_");var _='<a href="'+f+'"';return""!=h&&(h=h.replace(/"/g,"&quot;"),h=O(h,"*_"),_+=' title="'+h+'"'),_+=">"+d+"</a>"},f=function(t){return t=t.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,h),t=t.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,h)},h=function(n,i,r,o,a,s,c,l){var u=i,d=r,p=o.toLowerCase(),f=a,h=l;if(h||(h=""),""==f){if(""==p&&(p=d.toLowerCase().replace(/ ?\n/g," ")),f="#"+p,void 0==t[p])return u;f=t[p],void 0!=e[p]&&(h=e[p])}d=d.replace(/"/g,"&quot;"),f=O(f,"*_");var _='<img src="'+f+'" alt="'+d+'"';return h=h.replace(/"/g,"&quot;"),h=O(h,"*_"),_+=' title="'+h+'"',_+=" />"},_=function(t){return t=t.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(t,e){return v("<h1>"+l(e)+"</h1>")}),t=t.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(t,e){return v("<h2>"+l(e)+"</h2>")}),t=t.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(t,e,n){var i=e.length;return v("<h"+i+">"+l(n)+"</h"+i+">")})},m=function(t){t+="~0";var e=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return i?t=t.replace(e,function(t,e,n){var i=e,o=n.search(/[*+-]/g)>-1?"ul":"ol";i=i.replace(/\n{2,}/g,"\n\n\n");var a=r(i);return a=a.replace(/\s+$/,""),a="<"+o+">"+a+"</"+o+">\n"}):(e=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,t=t.replace(e,function(t,e,n,i){var o=e,a=n,s=i.search(/[*+-]/g)>-1?"ul":"ol",a=a.replace(/\n{2,}/g,"\n\n\n"),c=r(a);return c=o+"<"+s+">\n"+c+"</"+s+">\n"})),t=t.replace(/~0/,"")};r=function(t){return i++,t=t.replace(/\n{2,}$/,"\n"),t+="~0",t=t.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(t,e,n,i,r){var o=r,a=e;return a||o.search(/\n{2,}/)>-1?o=c(T(o)):(o=m(T(o)),o=o.replace(/\n$/,""),o=l(o)),"<li>"+o+"</li>\n"}),t=t.replace(/~0/g,""),i--,t};var g=function(t){return t+="~0",t=t.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(t,e,n){var i=e,r=n;return i=y(T(i)),i=j(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code>"+i+"\n</code></pre>",v(i)+r}),t=t.replace(/~0/,"")},v=function(t){return t=t.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(n.push(t)-1)+"K\n\n"},b=function(t){return t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(t,e,n,i,r){var o=i;return o=o.replace(/^([ \t]*)/g,""),o=o.replace(/[ \t]*$/g,""),o=y(o),e+"<code>"+o+"</code>"})},y=function(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=O(t,"*_{}[]\\",!1)},w=function(t){return t=t.replace(/(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\1/g,"<strong>$2</strong>"),t=t.replace(/(\w)_(\w)/g,"$1~E95E$2"),t=t.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},$=function(t){return t=t.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(t,e){var n=e;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=c(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(t,e){var n=e;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),v("<blockquote>\n"+n+"\n</blockquote>")})},x=function(t){t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,"");for(var e=t.split(/\n{2,}/g),i=new Array,r=e.length,o=0;o<r;o++){var a=e[o];a.search(/~K(\d+)K/g)>=0?i.push(a):a.search(/\S/)>=0&&(a=l(a),a=a.replace(/\n/g,"<br />"),a=a.replace(/^([ \t]*)/g,"<p>"),a+="</p>",i.push(a))}r=i.length;for(var o=0;o<r;o++)for(;i[o].search(/~K(\d+)K/)>=0;){var s=n[RegExp.$1];s=s.replace(/\$/g,"$$$$"),i[o]=i[o].replace(/~K\d+K/,s)}return i.join("\n\n")},k=function(t){return t=t.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),t=t.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},C=function(t){return t=t.replace(/\\(\\)/g,q),t=t.replace(/\\([`*_{}\[\]()>#+-.!])/g,q)},S=function(t){return t=t.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),t=t.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(t,e){return A(E(e))})},A=function(t){function e(t){var e="0123456789ABCDEF",n=t.charCodeAt(0);return e.charAt(n>>4)+e.charAt(15&n)}var n=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+e(t)+";"},function(t){return t}];return t="mailto:"+t,t=t.replace(/./g,function(t){if("@"==t)t=n[Math.floor(2*Math.random())](t);else if(":"!=t){var e=Math.random();t=e>.9?n[2](t):e>.45?n[1](t):n[0](t)}return t}),t='<a href="'+t+'">'+t+"</a>",t=t.replace(/">.+:/g,'">')},E=function(t){return t=t.replace(/~E(\d+)E/g,function(t,e){var n=parseInt(e);return String.fromCharCode(n)})},T=function(t){return t=t.replace(/^(\t|[ ]{1,4})/gm,"~0"),t=t.replace(/~0/g,"")},j=function(t){return t=t.replace(/\t(?=\t)/g,"    "),t=t.replace(/\t/g,"~A~B"),t=t.replace(/~B(.+?)~A/g,function(t,e,n){for(var i=e,r=4-i.length%4,o=0;o<r;o++)i+=" ";return i}),t=t.replace(/~A/g,"    "),t=t.replace(/~B/g,"")},O=function(t,e,n){var i="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var r=new RegExp(i,"g");return t=t.replace(r,q)},q=function(t,e){return"~E"+e.charCodeAt(0)+"E"}};n.showdown;n.fileLoaded&&n.fileLoaded("showdown.js"),t.exports=n},function(t,e,n){(function(e){t.exports=e.Attacklab=n(1233)}).call(e,n(4))},function(t,e,n){(function(e){t.exports=e.Clipboard=n(1214)}).call(e,n(4))},function(t,e,n){(function(e){t.exports=e.Drop=n(1369)}).call(e,n(4))},function(t,e,n){(function(e){t.exports=e.FastClick=n(1378)}).call(e,n(4))},function(t,e,n){(function(e){t.exports=e.Odometer=n(1294)}).call(e,n(4))},function(t,e,n){(function(e){t.exports=e._=n(1278)}).call(e,n(4))},function(t,e,n){(function(e){t.exports=e.autosize=n(1376)}).call(e,n(4))},function(t,e,n){(function(e){t.exports=e.diff_match_patch=n(1250)}).call(e,n(4))},function(t,e,n){(function(e){t.exports=e.jQuery=n(1257)}).call(e,n(4))},function(module,exports,__webpack_require__){"use strict";!function(){var t=function(){var t={},e=function(e,n,i){for(var r=e.split("."),o=0;o<r.length-1;o++)i[r[o]]||(i[r[o]]={}),i=i[r[o]];"function"==typeof n?n.isClass?i[r[o]]=n:i[r[o]]=function(){return n.apply(t,arguments)}:i[r[o]]=n},n=function(n,i,r){e(n,i,t),r&&e(n,i,window.filepicker)};return{extend:function(e,i,r){"function"==typeof e&&(r=i,i=e,e=""),e&&(e+=".");var o=i.call(t);for(var a in o)n(e+a,o[a],r)},internal:function(e){e.apply(t,arguments)}}}();if(window.filepicker)for(var e in t)window.filepicker[e]=t[e];else window.filepicker=t}(),filepicker.extend("comm",function(){var t=this,e=function(){if(void 0===window.frames.filepicker_comm_iframe){r();var e;e=document.createElement("iframe"),e.id=e.name="filepicker_comm_iframe",e.src=t.urls.COMM,e.style.display="none",document.body.appendChild(e)}if(void 0===window.frames.fpapi_comm_iframe){r();var n;n=document.createElement("iframe"),n.id=n.name="fpapi_comm_iframe",n.src=t.urls.API_COMM,n.style.display="none",document.body.appendChild(n)}},n=function(e){if(e.origin===t.urls.BASE||e.origin===t.urls.DIALOG_BASE){var n=t.json.parse(e.data);t.handlers.run(n)}},i=!1,r=function(){if(!i)if(i=!0,window.addEventListener)window.addEventListener("message",n,!1);else{if(!window.attachEvent)throw new t.FilepickerException("Unsupported browser");window.attachEvent("onmessage",n)}};return{openChannel:e,closeChannel:function(){if(window.removeEventListener)window.removeEventListener("message",n,!1);else{if(!window.attachEvent)throw new t.FilepickerException("Unsupported browser");window.detachEvent("onmessage",n)}if(i){i=!1;for(var e=document.getElementsByName("filepicker_comm_iframe"),r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);try{delete window.frames.filepicker_comm_iframe}catch(t){}for(var o=document.getElementsByName("fpapi_comm_iframe"),a=0;a<o.length;a++)o[a].parentNode.removeChild(o[a]);try{delete window.frames.fpapi_comm_iframe}catch(t){}}}}}),filepicker.extend("comm_fallback",function(){var t,e,n=this,i="",r=function(){o()},o=function(){if(void 0===window.frames.host_comm_iframe){var t;t=document.createElement("iframe"),t.id=t.name="host_comm_iframe",i=t.src=n.urls.constructHostCommFallback(),t.style.display="none";var e=function(){i=t.contentWindow.location.href,a()};t.attachEvent?t.attachEvent("onload",e):t.onload=e,document.body.appendChild(t)}},a=function(){if(void 0===window.frames.filepicker_comm_iframe){var t;t=document.createElement("iframe"),t.id=t.name="filepicker_comm_iframe",t.src=n.urls.FP_COMM_FALLBACK+"?host_url="+encodeURIComponent(i),t.style.display="none",document.body.appendChild(t)}u()},s=!1,c="",l=function(){var t=window.frames.filepicker_comm_iframe;if(t){var e=t.frames.host_comm_iframe;if(e){var i=e.location.hash;if(i&&"#"===i.charAt(0)&&(i=i.substr(1)),i!==c&&(c=i)){var r;try{r=n.json.parse(i)}catch(t){}r&&n.handlers.run(r)}}}},u=function(){s||(s=!0,t=window.setInterval(l,200))},d=function(){if(window.clearInterval(t),s){s=!1;for(var e=document.getElementsByName("filepicker_comm_iframe"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);try{delete window.frames.filepicker_comm_iframe}catch(t){}for(e=document.getElementsByName("host_comm_iframe"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);try{delete window.frames.host_comm_iframe}catch(t){}}},p=!("postMessage"in window),f=function(){e=n.comm,n.comm={openChannel:r,closeChannel:d}};return p&&f(),{openChannel:r,closeChannel:d,isEnabled:p}}),filepicker.extend("cookies",function(){var t=this,e=function(e){return function(n){"ThirdPartyCookies"===n.type&&(t.cookies.THIRD_PARTY_COOKIES=!!n.payload,e&&"function"==typeof e&&e(!!n.payload))}};return{checkThirdParty:function(n){var i=e(n);t.handlers.attach("cookies",i),t.comm.openChannel()}}}),filepicker.extend("handlers",function(){var t={};return{attach:function(e,n){return t.hasOwnProperty(e)?t[e].push(n):t[e]=[n],n},detach:function(e,n){var i=t[e];if(i)if(n){for(var r=0;r<i.length;r++)if(i[r]===n){i.splice(r,1);break}0===i.length&&delete t[e]}else delete t[e]},run:function(e){var n=e.id;if(t.hasOwnProperty(n)){for(var i=t[n],r=0;r<i.length;r++)i[r](e);return!0}return!1}}}),filepicker.extend("exporter",function(){var t=this,e=function(e){if(e.mimetype&&e.extension)throw t.FilepickerException("Error: Cannot pass in both mimetype and extension parameters to the export function");if(function(n,i,r){e[i]&&!t.util.isArray(e[i])?e[i]=[e[i]]:e[n]?e[i]=[e[n]]:r&&(e[i]=r)}("service","services"),e.services)for(var n=0;n<e.services.length;n++){var i=(""+e.services[n]).replace(" ",""),r=t.services[i];e.services[n]=void 0===r?i:r}e.openTo&&(e.openTo=t.services[e.openTo]||e.openTo),t.util.setDefault(e,"container",t.browser.openInModal()?"modal":"window")},n=function(e,n){return function(i){if("filepickerUrl"===i.type){if(i.error)t.util.console.error(i.error),n(t.errors.FPError(132));else{var r={};r.url=i.payload.url,r.filename=i.payload.data.filename,r.mimetype=i.payload.data.type,r.size=i.payload.data.size,r.client=i.payload.data.client,r.isWriteable=!0,e(r)}t.modal.close()}}},i=function(r,o,a,s){e(o);var c={close:function(){t.modal.close()}};if(o.debug)return setTimeout(function(){a({id:1,url:"https://www.filepicker.io/api/file/-nBq2onTSemLBxlcBWn1",filename:"test.png",mimetype:"image/png",size:58979,client:"computer"})},1),c;if(void 0===t.cookies.THIRD_PARTY_COOKIES){var l=!1;return t.cookies.checkThirdParty(function(){l||(i(r,o,a,s),l=!0)}),c}var u=t.util.getId(),d=!1,p=function(t){d=!0,a(t)},f=function(t){d=!0,s(t)},h=function(){d||(d=!0,s(t.errors.FPError(131)))};return t.window.open(o.container,t.urls.constructExportUrl(r,o,u),h),t.handlers.attach(u,n(p,f)),c};return{createExporter:i}}),filepicker.extend("modal",function(){function t(){var t=document.getElementById(o);t&&(t.hidden=!0);var n=document.getElementById(a);n&&(n.hidden=!0),e()}function e(){var t=i();t&&(t.style.overflow=c)}function n(){var t=".fp__overlay {top: 0;right: 0;bottom: 0;left: 0;z-index: 1000;background: rgba(0, 0, 0, 0.8);}.fp__close {top: 104px; right: 108px; width: 35px; height: 35px; z-index: 20; cursor: pointer}@media screen and (max-width: 768px), screen and (max-height: 500px) {.fp__close {top: 15px; right: 12px;}}.fp__close a {text-indent: -9999px; overflow: hidden; display: block; width: 100%; height: 100%; background: url(https://d1zyh3sbxittvg.cloudfront.net/close.png) 50% 50% no-repeat;}.fp__close a:hover {background-color: rgba(0,0,0, .02); opacity: .8;}@media screen and (max-width: 768px), screen and (max-height: 500px) {top: 14px; right: 14px;}.fp__copy {display: none;}.fp__container {-webkit-overflow-scrolling: touch; overflow: hidden; min-height: 300px; top: 100px;right: 100px;bottom: 100px;left: 100px;background: #eee; box-sizing:content-box; -webkit-box-sizing:content-box; -moz-box-sizing:content-box;}@media screen and (max-width: 768px), screen and (max-height: 500px) {.fp__copy {bottom: 0; left: 0; right: 0; height: 20px; background: #333;}}@media screen and (max-width: 768px), screen and (max-height: 500px) {.fp__copy a {margin-left: 5px;}}@media screen and (max-width: 768px), screen and (max-height: 500px) {.fp__container {top: 0;right: 0;bottom: 0;left: 0;}}.fp__overlay, .fp__close, .fp__copy, .fp__container {position: fixed;}",e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)}function i(){try{return document.getElementsByTagName("html")[0]}catch(t){return null}}var r=this,o="filepicker_shade",a="filepicker_dialog_container",s=i();if(s)var c=s.style.overflow;var l=function(t,e){n();var o=u(e),a=d(),s=p(e),c=document.createElement("iframe");c.name=r.window.WINDOW_NAME,c.id=r.window.WINDOW_NAME,c.style.width="100%",c.style.height="100%",c.style.border="none",c.style.position="relative",c.setAttribute("border",0),c.setAttribute("frameborder",0),c.setAttribute("frameBorder",0),c.setAttribute("marginwidth",0),c.setAttribute("marginheight",0),c.src=t,a.appendChild(c),o.appendChild(s),o.appendChild(a),document.body.appendChild(o);var l=i();return l&&(l.style.overflow="hidden"),c},u=function(t){var e=document.createElement("div");return e.id=o,e.className="fp__overlay",e.onclick=f(t),e},d=function(){var t=document.createElement("div");return t.id=a,t.className="fp__container",t},p=function(t){var e=document.createElement("div");e.className="fp__close";var n=document.createElement("a");return n.appendChild(document.createTextNode("X")),e.appendChild(n),n.onclick=f(t),document.onkeydown=function(e){e=e||window.event,27===e.keyCode&&f(t)()},e},f=function(t,n){return n=!!n,function(){if(!r.uploading||n||window.confirm('You are currently uploading. If you choose "OK", the window will close and your upload will not finish. Do you want to stop uploading and close the window?')){r.uploading=!1,document.onkeydown=null,e();var i=document.getElementById(o);i&&document.body.removeChild(i);var s=document.getElementById(a);s&&document.body.removeChild(s);try{delete window.frames[r.window.WINDOW_NAME]}catch(t){}t&&t()}}};return{generate:l,close:f(function(){}),hide:t}}),filepicker.extend("picker",function(){function t(t,n){if("filepickerProgress"===t.type)e.uploading=!0,n&&n(t.payload.data);else if("notUploading"===t.type)e.uploading=!1;else if("closeModal"===t.type)e.modal.close();else if("hideModal"===t.type)e.modal.hide();else if("filepickerUrl"===t.type||"serverHttpError"===t.type)return!1;return!0}var e=this,n=function(t){var n=function(n,i,r){t[i]?e.util.isArray(t[i])||(t[i]=[t[i]]):t[n]?t[i]=[t[n]]:r&&(t[i]=r)};if(n("service","services"),n("mimetype","mimetypes"),n("extension","extensions"),t.services)for(var i=0;i<t.services.length;i++){var r=(""+t.services[i]).replace(" ","");void 0!==e.services[r]&&(r=e.services[r]),t.services[i]=r}if(t.mimetypes&&t.extensions)throw e.FilepickerException("Error: Cannot pass in both mimetype and extension parameters to the pick function");t.mimetypes||t.extensions||(t.mimetypes=["*/*"]),t.openTo&&(t.openTo=e.services[t.openTo]||t.openTo),e.util.setDefault(t,"container",e.browser.openInModal()?"modal":"window")},i=function(n,i,r){return function(o){if(!t(o,r))if(e.uploading=!1,o.error)e.util.console.error(o.error),o.error.code?i(e.errors.FPError(o.error.code)):(i(e.errors.FPError(102)),e.modal.close());else{var a=s(o.payload);n(a),e.modal.close()}}},r=function(n,i,r){return function(o){t(o,r)||(e.uploading=!1,o.error?(e.util.console.error(o.error),i(e.errors.FPError(102))):(o.payload.data.url=o.payload.url,n(o.payload.data)),e.modal.close())}},o=function(t){return t=t||function(){},function(n){"uploading"===n.type&&(e.uploading=!!n.payload,t(e.uploading))}},a=function(t,e,n){t[n]&&(e[n]=t[n])},s=function(t){var e={},n=t.url;n&&n.url&&(n=n.url),e.url=n;var i=t.url.data||t.data;return e.filename=i.filename,e.mimetype=i.type,e.size=i.size,void 0!==i.cropped&&(e.cropped=i.cropped),void 0!==i.rotated&&(e.rotated=i.rotated),void 0!==i.converted&&(e.converted=i.converted),a(i,e,"id"),a(i,e,"key"),a(i,e,"container"),a(i,e,"path"),a(i,e,"client"),e.isWriteable=!0,e},c=function(n,i,r){return function(o){if(!t(o,r)){if(e.uploading=!1,o.error)e.util.console.error(o.error),i(e.errors.FPError(102));else{var a=[];e.util.isArray(o.payload)||(o.payload=[o.payload]);for(var c=0;c<o.payload.length;c++){var l=s(o.payload[c]);a.push(l)}n(a)}e.modal.close()}}},l=function(t,a,s,u,d,p,f){n(t);var h={close:function(){e.modal.close()}};if(t.debug){var _,m={id:1,url:"https://www.filepicker.io/api/file/-nBq2onTSemLBxlcBWn1",filename:"test.png",mimetype:"image/png",size:58979,client:"computer"};return _=u||t.storeLocation?[m,m,m]:m,setTimeout(function(){a(_)},1),h}if(void 0===e.cookies.THIRD_PARTY_COOKIES){var g=!1;return e.cookies.checkThirdParty(function(){g||(l(t,a,s,!!u,d,p),g=!0)}),h}var v,b,y=e.util.getId(),w=!1,$=function(e){"window"===t.container&&(window.onbeforeunload=null),w=!0,a(e)},x=function(t){w=!0,s(t)},k=function(){w||(w=!0,s(e.errors.FPError(101)))};f?(v=e.urls.constructConvertUrl(t,y),b=i($,x,p)):u?(v=e.urls.constructPickUrl(t,y,!0),b=c($,x,p)):d?(v=e.urls.constructPickFolderUrl(t,y),b=r($,x,p)):(v=e.urls.constructPickUrl(t,y,!1),b=i($,x,p)),e.window.open(t.container,v,k),e.handlers.attach(y,b);var C=y+"-upload";return e.handlers.attach(C,o(function(){e.handlers.detach(C)})),h};return{createPicker:l}}),filepicker.extend("window",function(){var t=this;return{open:function(e,n,i){if(i=i||function(){},!e&&t.browser.openInModal()?e="modal":e||(e="window"),"window"===e){var r="filepicker_dialog"+t.util.getId();window.onbeforeunload=function(){return"Filepicker upload does not complete."};var o=window.open(n,r,"left=100,top=100,height=600,width=800,menubar=no,toolbar=no,location=no,personalbar=no,status=no,resizable=yes,scrollbars=yes,dependent=yes,dialog=yes");o||(window.onbeforeunload=null,window.alert("Please disable your popup blocker to upload files."));var a=window.setInterval(function(){o&&!o.closed||(window.onbeforeunload=null,window.clearInterval(a),i())},100)}else if("modal"===e)t.modal.generate(n,i);else{var s=document.getElementById(e);if(!s)throw new t.FilepickerException('Container "'+e+'" not found. This should either be set to "window","modal", or the ID of an iframe that is currently in the document.');s.src=n}},WINDOW_NAME:"filepicker_dialog"}}),filepicker.extend("conversions",function(){var t=this,e={align:"string",blurAmount:"number",crop:"string or array",crop_first:"boolean",compress:"boolean",exif:"string or boolean",filter:"string",fit:"string",format:"string",height:"number",policy:"string",quality:"number",page:"number",rotate:"string or number",secure:"boolean",sharpenAmount:"number",signature:"string",storeAccess:"string",storeContainer:"string",storeRegion:"string",storeLocation:"string",storePath:"string",text:"string",text_align:"string",text_color:"string",text_font:"string",text_padding:"number",text_size:"number",watermark:"string",watermark_position:"string",watermark_size:"number",width:"number"},n={w:"width",h:"height"},i=function(t){var i={};for(var r in t)i[n[r]||r]=t[r],"number"===e[n[r]||r]&&(i[n[r]||r]=Number(t[r]));return i},r=function(n){var i;for(var r in n){i=!1;for(var o in e)if(r===o&&(i=!0,-1===e[o].indexOf(t.util.typeOf(n[r]))))throw new t.FilepickerException("Conversion parameter "+r+" is not the right type: "+n[r]+". Should be a "+e[o]);if(!i)throw new t.FilepickerException("Conversion parameter "+r+" is not a valid parameter.")}};return{convert:function(e,n,i,o,a){r(n),n.crop&&t.util.isArray(n.crop)&&(n.crop=n.crop.join(",")),t.ajax.post(e+"/convert",{data:n,json:!0,success:function(e){i(t.util.standardizeFPFile(e))},error:function(e,n,i){o("not_found"===e?new t.errors.FPError(141):"bad_params"===e?new t.errors.FPError(142):"not_authorized"===e?new t.errors.FPError(403):new t.errors.FPError(143))},progress:a})},mapRestParams:i}}),filepicker.extend("errors",function(){var t=this,e=function(t){if(this===window)return new e(t);if(this.code=t,filepicker.debug){var n=filepicker.error_map[this.code];this.message=n.message,this.moreInfo=n.moreInfo,this.toString=function(){return"FPError "+this.code+": "+this.message+". For help, see "+this.moreInfo}}else this.toString=function(){return"FPError "+this.code+". Include filepicker_debug.js for more info"};return this};return e.isClass=!0,{FPError:e,handleError:function(e){filepicker.debug&&t.util.console.error(e.toString())}}},!0),filepicker.extend(function(){var t=this;t.API_VERSION="v2";var e=function(e){t.apikey=e},n=function(t){return this.text=t,this.toString=function(){return"FilepickerException: "+this.text},this};n.isClass=!0;var i=function(e,n,i,r){return t.util.checkApiKey(),"function"==typeof e&&(i=n,n=e,e={}),e=e||{},n=n||function(){},i=i||t.errors.handleError,t.picker.createPicker(e,n,i,!1,!1,r)},r=function(e,n,i,r){return t.util.checkApiKey(),"function"==typeof e&&(r=i,i=n,n=e,e={}),e=e||{},n=n||function(){},i=i||t.errors.handleError,t.picker.createPicker(e,n,i,!0,!1,r)},o=function(e,n,i,r,o){if(t.util.checkApiKey(),!e||!n||"function"==typeof e||"function"==typeof e)throw new t.FilepickerException("Not all required parameters given, missing picker or store options");r=r||t.errors.handleError;var a=!!e.multiple,s=e?t.util.clone(e):{};if(s.storeLocation=n.location||"S3",s.storePath=n.path,s.storeContainer=n.storeContainer||n.container,s.storeRegion=n.storeRegion,s.storeAccess=n.access||"private",a&&s.storePath&&"/"!==s.storePath.charAt(s.storePath.length-1))throw new t.FilepickerException(NaN);var c=i;return a||(c=function(t){i([t])}),t.picker.createPicker(s,c,r,a,!1,o)},a=function(e,n,i,r){return t.util.checkApiKey(),"function"==typeof e&&(i=n,n=e,e={}),e=e||{},n=n||function(){},i=i||t.errors.handleError,t.picker.createPicker(e,n,i,!1,!0,r)},s=function(e,n,i,r,o){if(t.util.checkApiKey(),!e)throw new t.FilepickerException("No input given - nothing to read!");if("function"==typeof n&&(o=r,r=i,i=n,n={}),n=n||{},i=i||function(){},r=r||t.errors.handleError,o=o||function(){},"string"==typeof e)t.util.isFPUrl(e)?t.files.readFromFPUrl(e,n,i,r,o):t.files.readFromUrl(e,n,i,r,o);else if(t.util.isFileInputElement(e))e.files?0===e.files.length?r(new t.errors.FPError(115)):t.files.readFromFile(e.files[0],n,i,r,o):c(e,n,i,r,o);else if(t.util.isFile(e))t.files.readFromFile(e,n,i,r,o);else{if(!e.url)throw new t.FilepickerException("Cannot read given input: "+e+". Not a url, file input, DOM File, or FPFile object.");t.files.readFromFPUrl(e.url,n,i,r,o)}},c=function(e,n,i,r,o){o(10),t.store(e,function(e){o(50),t.read(e,n,i,r,function(t){o(50+t/2)})},r)},l=function(e,n,i,r,o,a){if(t.util.checkApiKey(),!e)throw new t.FilepickerException("No fpfile given - nothing to write to!");if(void 0===n||null===n)throw new t.FilepickerException("No input given - nothing to write!");"function"==typeof i&&(a=o,o=r,r=i,i={}),i=i||{},r=r||function(){},o=o||t.errors.handleError,a=a||function(){};var s;if(t.util.isFPUrl(t.util.getFPUrl(e)))s=e;else{if(!e.url)throw new t.FilepickerException("Invalid file to write to: "+e+". Not a filepicker url or FPFile object.");s=e.url}if(s=t.util.trimConvert(t.util.getFPUrl(s)),"string"==typeof n)t.files.writeDataToFPUrl(s,n,i,r,o,a);else if(t.util.isFileInputElement(n))n.files?0===n.files.length?o(new t.errors.FPError(115)):t.files.writeFileToFPUrl(s,n.files[0],i,r,o,a):t.files.writeFileInputToFPUrl(s,n,i,r,o,a);else if(t.util.isFile(n))t.files.writeFileToFPUrl(s,n,i,r,o,a);else{if(!n.url)throw new t.FilepickerException("Cannot read from given input: "+n+". Not a string, file input, DOM File, or FPFile object.");t.files.writeUrlToFPUrl(s,n.url,i,r,o,a)}},u=function(e,n,i,r,o,a){if(t.util.checkApiKey(),!e)throw new t.FilepickerException("No fpfile given - nothing to write to!");if(void 0===n||null===n)throw new t.FilepickerException("No input given - nothing to write!");"function"==typeof i&&(a=o,o=r,r=i,i={}),i=i||{},r=r||function(){},o=o||t.errors.handleError,a=a||function(){};var s;if(t.util.isFPUrl(t.util.getFPUrl(e)))s=e;else{if(!e.url)throw new t.FilepickerException("Invalid file to write to: "+e+". Not a filepicker url or FPFile object.");s=e.url}s=t.util.getFPUrl(s),t.files.writeUrlToFPUrl(t.util.trimConvert(s),n,i,r,o,a)},d=function(e,n,i,r){t.util.checkApiKey(),"function"==typeof n&&(r=i,i=n,n={}),n=n?t.util.clone(n):{},i=i||function(){},r=r||t.errors.handleError;var o;if("string"==typeof e&&t.util.isUrl(e))o=e;else{if(!e.url)throw new t.FilepickerException("Invalid file to export: "+e+". Not a valid url or FPFile object. You may want to use filepicker.store() to get an FPFile to export");o=e.url,n.mimetype||n.extension||(n.mimetype=e.mimetype),n.suggestedFilename||(n.suggestedFilename=e.filename)}return n.suggestedFilename&&(n.suggestedFilename=encodeURI(n.suggestedFilename)),t.exporter.createExporter(o,n,i,r)},p=function(e,n,i,r,o){var a;if(t.util.checkApiKey(),"function"==typeof n&&(r=i,i=n,n={}),n=n||{},i=i||function(){},r=r||t.errors.handleError,"string"==typeof e)a=e;else{if(!e.url)throw new t.FilepickerException("Invalid file to convert: "+e+". Not a valid url or FPFile object or not filepicker url. You can convert only filepicker url images.");a=e.url,n.filename||(n.filename=e.filename)}return n.convertUrl=a,n.multiple=!1,n.services=["CONVERT","COMPUTER"],n.backgroundUpload=!0,n.hide=!1,t.picker.createPicker(n,i,r,!1,!1,o,!0)},f=function(e,n,i,r,o){if(t.util.checkApiKey(),"function"==typeof n&&(o=r,r=i,i=n,n={}),n=n?t.util.clone(n):{},i=i||function(){},r=r||t.errors.handleError,o=o||function(){},"string"==typeof e)t.files.storeData(e,n,i,r,o);else if(t.util.isFileInputElement(e))e.files?0===e.files.length?r(new t.errors.FPError(115)):t.files.storeFile(e.files[0],n,i,r,o):t.files.storeFileInput(e,n,i,r,o);else if(t.util.isFile(e))t.files.storeFile(e,n,i,r,o);else{if(!e.url)throw new t.FilepickerException("Cannot store given input: "+e+". Not a string, file input, DOM File, or FPFile object.");n.filename||(n.filename=e.filename),t.files.storeUrl(e.url,n,i,r,o)}},h=function(e,n,i,r,o){t.util.checkApiKey(),"function"==typeof n&&(o=r,r=i,i=n,n={}),n=n||{},i=i||function(){},r=r||t.errors.handleError,o=o||function(){},t.files.storeUrl(e,n,i,r,o)},_=function(e,n,i,r){t.util.checkApiKey(),"function"==typeof n&&(r=i,i=n,n={}),n=n||{},i=i||function(){},r=r||t.errors.handleError;var o;if(t.util.isFPUrl(t.util.getFPUrl(e)))o=e;else{if(!e.url)throw new t.FilepickerException("Invalid file to get metadata for: "+e+". Not a filepicker url or FPFile object.");o=e.url}o=t.util.getFPUrl(o),t.files.stat(t.util.trimConvert(o),n,i,r)},m=function(e,n,i,r){t.util.checkApiKey(),"function"==typeof n&&(r=i,i=n,n={}),n=n||{},i=i||function(){},r=r||t.errors.handleError;var o;if(t.util.isFPUrl(t.util.getFPUrl(e)))o=e;else{if(!e.url)throw new t.FilepickerException("Invalid file to remove: "+e+". Not a filepicker url or FPFile object.");o=e.url}o=t.util.getFPUrl(o),t.files.remove(t.util.trimConvert(o),n,i,r)},g=function(e,n,i,r,o,a){if(t.util.checkApiKey(),!e)throw new t.FilepickerException("No fpfile given - nothing to convert!");"function"==typeof i&&(a=o,o=r,r=i,i={});var s=n?t.util.clone(n):{};i=i||{},r=r||function(){},o=o||t.errors.handleError,a=a||function(){},i.location&&(s.storeLocation=i.location),i.path&&(s.storePath=i.path),i.container&&(s.storeContainer=i.container),s.storeAccess=i.access||"private";var c;if(t.util.isFPUrl(t.util.getFPUrl(e)))c=e;else{if(!e.url)throw new t.FilepickerException("Invalid file to convert: "+e+". Not a filepicker url or FPFile object.");if(c=e.url,!t.mimetypes.matchesMimetype(e.mimetype,"image/*")&&!t.mimetypes.matchesMimetype(e.mimetype,"application/pdf"))return void o(new t.errors.FPError(142))}if(c=t.util.getFPUrl(c),c.indexOf("/convert")>-1){var l=t.util.parseUrl(c).params;l=t.conversions.mapRestParams(l),l.crop&&t.util.setDefault(l,"crop_first",!0);for(var u in l)t.util.setDefault(s,u,l[u])}t.conversions.convert(t.util.trimConvert(c),s,r,o,a)},v=function(e){return t.widgets.constructWidget(e)},b=function(e,n){return t.dragdrop.makeDropPane(e,n)};return{setKey:e,setResponsiveOptions:function(e){return t.responsiveImages.setResponsiveOptions(e)},pick:i,pickFolder:a,pickMultiple:r,pickAndStore:o,read:s,write:l,writeUrl:u,export:d,exportFile:d,processImage:p,store:f,storeUrl:h,stat:_,metadata:_,remove:m,convert:g,constructWidget:v,makeDropPane:b,FilepickerException:n,responsive:function(){t.responsiveImages.update.apply(null,arguments)},version:"2.4.11"}},!0),filepicker.extend("mimetypes",function(){var t=this,e={".stl":"application/sla",".hbs":"text/html",".pdf":"application/pdf",".jpg":"image/jpeg",".jpeg":"image/jpeg",".jpe":"image/jpeg",".imp":"application/x-impressionist",".vob":"video/dvd"},n=["application/octet-stream","application/download","application/force-download","octet/stream","application/unknown","application/x-download","application/x-msdownload","application/x-secure-download"];return{getMimetype:function(t){if(t.type){var i=t.type;i=i.toLowerCase();for(var r=!1,o=0;o<n.length;o++)r=r||i===n[o];if(!r)return t.type}var a=t.name||t.fileName,s=a.match(/\.\w*$/);return s?e[s[0].toLowerCase()]||"":t.type?t.type:""},matchesMimetype:function(e,i){if(!e)return"*/*"===i;e=t.util.trim(e).toLowerCase(),i=t.util.trim(i).toLowerCase();for(var r=0;r<n.length;r++)if(e===n[r])return!0;var o=e.split("/"),a=i.split("/");return"*"===a[0]||a[0]===o[0]&&("*"===a[1]||a[1]===o[1])}}}),filepicker.extend("services",function(){return{COMPUTER:1,DROPBOX:2,FACEBOOK:3,GITHUB:4,GMAIL:5,IMAGE_SEARCH:6,URL:7,WEBCAM:8,GOOGLE_DRIVE:9,SEND_EMAIL:10,INSTAGRAM:11,FLICKR:12,VIDEO:13,EVERNOTE:14,PICASA:15,WEBDAV:16,FTP:17,ALFRESCO:18,BOX:19,SKYDRIVE:20,GDRIVE:21,CUSTOMSOURCE:22,CLOUDDRIVE:23,GENERIC:24,CONVERT:25,AUDIO:26}},!0),filepicker.extend("urls",function(){function t(t,i){return"?key="+r.apikey+"&id="+i+"&referrer="+window.location.hostname+"&iframe="+("window"!==t.container)+"&version="+r.API_VERSION+(t.services?"&s="+t.services.join(","):"")+(void 0!==t.container?"&container="+t.container:"modal")+(t.openTo?"&loc="+t.openTo:"")+"&language="+(t.language||r.browser.getLanguage())+(void 0!==t.mobile?"&mobile="+t.mobile:"")+(void 0!==t.backgroundUpload?"&bu="+t.backgroundUpload:"")+(t.cropRatio?"&cratio="+t.cropRatio:"")+(t.cropDim?"&cdim="+t.cropDim.join(","):"")+(t.cropMax?"&cmax="+t.cropMax.join(","):"")+(t.cropMin?"&cmin="+t.cropMin.join(","):"")+(void 0!==t.cropForce?"&cforce="+t.cropForce:"")+(void 0!==t.hide?"&hide="+t.hide:"")+(t.customCss?"&css="+encodeURIComponent(t.customCss):"")+(t.customText?"&text="+encodeURIComponent(t.customText):"")+(t.imageMin?"&imin="+t.imageMin.join(","):"")+(t.imageMax?"&imax="+t.imageMax.join(","):"")+(t.imageDim?"&idim="+t.imageDim.join(","):"")+(t.imageQuality?"&iq="+t.imageQuality:"")+(t.noFileReader?"&nfl="+t.noFileReader:"")+(r.util.isCanvasSupported()?"":"&canvas=false")+(t.redirectUrl?"&redirect_url="+t.redirectUrl:"")+(t.showClose&&"modal"!==t.container?"&showClose="+t.showClose:"")+e(t)+"&plugin="+n()}function e(t){return(t.signature?"&signature="+t.signature:"")+(t.policy?"&policy="+t.policy:"")}function n(){return filepicker.plugin||"js_lib"}function i(t){t=t||[];var e,n,i=[];for(e in t)for(n in p)t[e]===p[n]&&t.hasOwnProperty(e)&&i.push(t[e]);return i.length||i.push("crop"),"&co="+i.join(",")}var r=this,o="https://www.filepicker.io";window.filepicker.hostname&&(o=window.filepicker.hostname);var a=o.replace("www","dialog"),s=a+"/dialog/open/",c=a+"/dialog/save/",l=a+"/dialog/process/",u=a+"/dialog/folder/",d=o+"/api/store/",p=["crop","rotate","filter"],f=function(e,n,r){return s+t(e,n)+(r?"&multi="+!!r:"")+(void 0!==e.mimetypes?"&m="+e.mimetypes.join(","):"")+(void 0!==e.extensions?"&ext="+e.extensions.join(","):"")+(e.maxSize?"&maxSize="+e.maxSize:"")+(e.customSourceContainer?"&customSourceContainer="+e.customSourceContainer:"")+(e.customSourcePath?"&customSourcePath="+e.customSourcePath:"")+(e.maxFiles?"&maxFiles="+e.maxFiles:"")+(void 0!==e.folders?"&folders="+e.folders:"")+(e.storeLocation?"&storeLocation="+e.storeLocation:"")+(e.storePath?"&storePath="+e.storePath:"")+(e.storeContainer?"&storeContainer="+e.storeContainer:"")+(e.storeRegion?"&storeRegion="+e.storeRegion:"")+(e.storeAccess?"&storeAccess="+e.storeAccess:"")+(e.webcam&&e.webcam.webcamDim?"&wdim="+e.webcam.webcamDim.join(","):"")+(e.webcamDim?"&wdim="+e.webcamDim.join(","):"")+(e.webcam&&e.webcam.videoRes?"&videoRes="+e.webcam.videoRes:"")+(e.webcam&&e.webcam.videoLen?"&videoLen="+e.webcam.videoLen:"")+(e.webcam&&e.webcam.audioLen?"&audioLen="+e.webcam.audioLen:"")+i(e.conversions)},h=function(e,n){var r=e.convertUrl;return(r.indexOf("&")>=0||r.indexOf("?")>=0)&&(r=encodeURIComponent(r)),l+t(e,n)+"&curl="+r+i(e.conversions)},_=function(e,n){return u+t(e,n)},m=function(e,n,i){return(e.indexOf("&")>=0||e.indexOf("?")>=0)&&(e=encodeURIComponent(e)),c+t(n,i)+"&url="+e+(void 0!==n.mimetype?"&m="+n.mimetype:"")+(void 0!==n.extension?"&ext="+n.extension:"")+(n.suggestedFilename?"&defaultSaveasName="+n.suggestedFilename:"")},g=function(t){return d+t.location+"?key="+r.apikey+(t.base64decode?"&base64decode=true":"")+(t.mimetype?"&mimetype="+t.mimetype:"")+(t.filename?"&filename="+encodeURIComponent(t.filename):"")+(t.path?"&path="+t.path:"")+(t.container?"&container="+t.container:"")+(t.access?"&access="+t.access:"")+e(t)+"&plugin="+n()};return{BASE:o,DIALOG_BASE:a,API_COMM:o+"/dialog/comm_iframe/",COMM:a+"/dialog/comm_iframe/",FP_COMM_FALLBACK:a+"/dialog/comm_hash_iframe/",STORE:d,PICK:s,EXPORT:c,constructPickUrl:f,constructConvertUrl:h,constructPickFolderUrl:_,constructExportUrl:m,constructWriteUrl:function(t,i){return t+"?nonce=fp"+(i.base64decode?"&base64decode=true":"")+(i.mimetype?"&mimetype="+i.mimetype:"")+e(i)+"&plugin="+n()},constructStoreUrl:g,constructHostCommFallback:function(){return r.util.parseUrl(window.location.href).origin+"/404"},getPlugin:n}}),filepicker.extend("ajax",function(){var t=this,e=function(t,e){e.method="GET",o(t,e)},n=function(e,n){n.method="POST",e+=(e.indexOf("?")>=0?"&":"?")+"_cacheBust="+t.util.getId(),o(e,n)},i=function(e,n){var r=[];for(var o in e){var a=e[o];n&&(o=n+". + key + ");var s;switch(t.util.typeOf(a)){case"object":s=i(a,o);break;case"array":for(var c={},l=0;l<a.length;l++)c[l]=a[l];s=i(c,o);break;default:s=o+"="+encodeURIComponent(a)}null!==a&&r.push(s)}return r.join("&")},r=function(){try{return new window.XMLHttpRequest}catch(t){try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){return null}}}},o=function(e,n){e=e||"";var o=n.method?n.method.toUpperCase():"POST",s=n.success||function(){},c=n.error||function(){},l=void 0===n.async||n.async,u=n.data||null,d=void 0===n.processData||n.processData,p=n.headers||{},f=t.util.parseUrl(e),h=window.location.protocol+"//"+window.location.host,_=h!==f.origin,m=!1;e+=(e.indexOf("?")>=0?"&":"?")+"plugin="+t.urls.getPlugin(),u&&d&&(u=i(n.data));var g;if(n.xhr)g=n.xhr;else if(!(g=r()))return n.error("Ajax not allowed"),g;if(_&&window.XDomainRequest&&!("withCredentials"in g))return new a(e,n);n.progress&&g.upload&&g.upload.addEventListener("progress",function(t){t.lengthComputable&&n.progress(Math.round(95*t.loaded/t.total))},!1);var v=function(){if(4==g.readyState&&!m)if(n.progress&&n.progress(100),g.status>=200&&g.status<300){var e=g.responseText;if(n.json)try{e=t.json.decode(e)}catch(t){return void b.call(g,"Invalid json: "+e)}s(e,g.status,g),m=!0}else b.call(g,g.responseText),m=!0};g.onreadystatechange=v;var b=function(t){if(!m)return n.progress&&n.progress(100),m=!0,400==this.status?void c("bad_params",this.status,this):403==this.status?void c("not_authorized",this.status,this):404==this.status?void c("not_found",this.status,this):_?4==this.readyState&&0===this.status?void c("CORS_not_allowed",this.status,this):void c("CORS_error",this.status,this):void c(t,this.status,this)};g.onerror=b,u&&"GET"==o&&(e+=(-1!==e.indexOf("?")?"&":"?")+u,u=null),g.open(o,e,l),n.json?g.setRequestHeader("Accept","application/json, text/javascript"):g.setRequestHeader("Accept","text/javascript, text/html, application/xml, text/xml, */*");var y=p["Content-Type"]||p["content-type"];if(u&&d&&("POST"==o||"PUT"==o)&&void 0===y&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8"),p)for(var w in p)g.setRequestHeader(w,p[w]);return g.send(u),g},a=function(e,n){if(!window.XDomainRequest)return null;var r=n.method?n.method.toUpperCase():"POST",o=n.success||function(){},a=n.error||function(){},s=n.data||{};if("http:"==window.location.protocol?e=e.replace("https:","http:"):"https:"==window.location.protocol&&(e=e.replace("http:","https:")),n.async)throw new t.FilepickerException("Asyncronous Cross-domain requests are not supported");"GET"!==r&&"POST"!==r&&(s._method=r,r="POST"),!1!==n.processData&&(s=s?i(s):null),s&&"GET"==r&&(e+=(e.indexOf("?")>=0?"&":"?")+s,s=null),e+=(e.indexOf("?")>=0?"&":"?")+"_xdr=true&_cacheBust="+t.util.getId();var c=new window.XDomainRequest;return c.onload=function(){var e=c.responseText;if(n.progress&&n.progress(100),n.json)try{e=t.json.decode(e)}catch(t){return void a("Invalid json: "+e,200,c)}o(e,200,c)},c.onerror=function(){n.progress&&n.progress(100),a(c.responseText||"CORS_error",this.status||500,this)},c.onprogress=function(){},c.ontimeout=function(){},c.timeout=3e4,c.open(r,e,!0),c.send(s),c};return{get:e,post:n,request:o}}),filepicker.extend("files",function(){var t=this,e=function(e,i,r,o,a){var s=void 0===i.base64encode;s&&(i.base64encode=!0),i.base64encode=!1!==i.base64encode;var c=function(e){s&&(e=t.base64.decode(e,!!i.asText)),r(e)};n.call(this,e,i,c,o,a)},n=function(e,n,i,r,o){!0!==n.cache&&(n._cacheBust=t.util.getId()),t.ajax.get(e,{data:n,headers:{"X-NO-STREAM":!0},success:i,error:function(e,n,i){r("CORS_not_allowed"===e?new t.errors.FPError(113):"CORS_error"===e?new t.errors.FPError(114):"not_found"===e?new t.errors.FPError(115):"bad_params"===e?new t.errors.FPError(400):"not_authorized"===e?new t.errors.FPError(403):new t.errors.FPError(118))},progress:o})},i=function(e,n,i,r,o){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return o(10),void t.files.storeFile(e,{},function(e){o(50),t.files.readFromFPUrl(e.url,n,i,r,function(t){o(50+t/2)})},r,function(t){o(t/2)});var a=!!n.base64encode,s=!!n.asText,c=new FileReader;c.onprogress=function(t){t.lengthComputable&&o(Math.round(t.loaded/t.total*100))},c.onload=function(e){o(100),i(a?t.base64.encode(e.target.result,s):e.target.result)},c.onerror=function(e){switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:r(new t.errors.FPError(115));break;case e.target.error.NOT_READABLE_ERR:r(new t.errors.FPError(116));break;case e.target.error.ABORT_ERR:r(new t.errors.FPError(117));break;default:r(new t.errors.FPError(118))}},s||!c.readAsBinaryString?c.readAsText(e):c.readAsBinaryString(e)},r=function(e,n,i,r,o,a){var s=i.mimetype||"text/plain";t.ajax.post(t.urls.constructWriteUrl(e,i),{headers:{"Content-Type":s},data:n,processData:!1,json:!0,success:function(e){r(t.util.standardizeFPFile(e))},error:function(e,n,i){o("not_found"===e?new t.errors.FPError(121):"bad_params"===e?new t.errors.FPError(122):"not_authorized"===e?new t.errors.FPError(403):new t.errors.FPError(123))},progress:a})},o=function(e,n,i,r,o,a){var s=function(e,n,i){o("not_found"===e?new t.errors.FPError(121):"bad_params"===e?new t.errors.FPError(122):"not_authorized"===e?new t.errors.FPError(403):new t.errors.FPError(123))},c=function(e){r(t.util.standardizeFPFile(e))};u(n,t.urls.constructWriteUrl(e,i),c,s,a)},a=function(e,n,i,r,o,a){var s=function(e,n,i){o("not_found"===e?new t.errors.FPError(121):"bad_params"===e?new t.errors.FPError(122):"not_authorized"===e?new t.errors.FPError(403):new t.errors.FPError(123))},c=function(e){r(t.util.standardizeFPFile(e))};i.mimetype=n.type,u(n,t.urls.constructWriteUrl(e,i),c,s,a)},s=function(e,n,i,r,o,a){t.ajax.post(t.urls.constructWriteUrl(e,i),{data:{url:n},json:!0,success:function(e){r(t.util.standardizeFPFile(e))},error:function(e,n,i){o("not_found"===e?new t.errors.FPError(121):"bad_params"===e?new t.errors.FPError(122):"not_authorized"===e?new t.errors.FPError(403):new t.errors.FPError(123))},progress:a})},c=function(e,n,i,r,o){if(e.files)return void(0===e.files.length?r(new t.errors.FPError(115)):l(e.files[0],n,i,r,o));t.util.setDefault(n,"location","S3"),n.filename||(n.filename=e.value.replace("C:\\fakepath\\","")||e.name);var a=e.name;e.name="fileUpload",t.iframeAjax.post(t.urls.constructStoreUrl(n),{data:e,processData:!1,json:!0,success:function(n){e.name=a,i(t.util.standardizeFPFile(n))},error:function(e,n,i){r("not_found"===e?new t.errors.FPError(121):"bad_params"===e?new t.errors.FPError(122):"not_authorized"===e?new t.errors.FPError(403):new t.errors.FPError(123))}})},l=function(e,n,i,r,o){t.util.setDefault(n,"location","S3");var a=function(e,n,i){"not_found"===e?r(new t.errors.FPError(121)):"bad_params"===e?r(new t.errors.FPError(122)):"not_authorized"===e?r(new t.errors.FPError(403)):(t.util.console.error(e),r(new t.errors.FPError(123)))},s=function(e){i(t.util.standardizeFPFile(e))};n.filename||(n.filename=e.name||e.fileName),u(e,t.urls.constructStoreUrl(n),s,a,o)},u=function(e,n,i,r,o){if(e.files&&(e=e.files[0]),!window.FormData||!window.XMLHttpRequest)t.iframeAjax.post(n,{data:e,json:!0,success:i,error:r});else{var a=new window.FormData;a.append("fileUpload",e),t.ajax.post(n,{json:!0,processData:!1,data:a,success:i,error:r,progress:o})}},d=function(e,n,i,r,o){t.util.setDefault(n,"location","S3"),t.util.setDefault(n,"mimetype","text/plain"),t.ajax.post(t.urls.constructStoreUrl(n),{headers:{"Content-Type":n.mimetype},data:e,processData:!1,json:!0,success:function(e){i(t.util.standardizeFPFile(e))},error:function(e,n,i){r("not_found"===e?new t.errors.FPError(121):"bad_params"===e?new t.errors.FPError(122):"not_authorized"===e?new t.errors.FPError(403):new t.errors.FPError(123))},progress:o})};return{readFromUrl:n,readFromFile:i,readFromFPUrl:e,writeDataToFPUrl:r,writeFileToFPUrl:a,writeFileInputToFPUrl:o,writeUrlToFPUrl:s,storeFileInput:c,storeFile:l,storeUrl:function(e,n,i,r,o){t.util.setDefault(n,"location","S3"),t.ajax.post(t.urls.constructStoreUrl(n),{data:{url:t.util.getFPUrl(e)},json:!0,success:function(e){i(t.util.standardizeFPFile(e))},error:function(e,n,i){r("not_found"===e?new t.errors.FPError(151):"bad_params"===e?new t.errors.FPError(152):"not_authorized"===e?new t.errors.FPError(403):new t.errors.FPError(153))},progress:o})},storeData:d,stat:function(e,n,i,r){var o=["uploaded","modified","created"];!0!==n.cache&&(n._cacheBust=t.util.getId()),t.ajax.get(e+"/metadata",{json:!0,data:n,success:function(t){for(var e=0;e<o.length;e++)t[o[e]]&&(t[o[e]]=new Date(t[o[e]]));i(t)},error:function(e,n,i){r("not_found"===e?new t.errors.FPError(161):"bad_params"===e?new t.errors.FPError(400):"not_authorized"===e?new t.errors.FPError(403):new t.errors.FPError(162))}})},remove:function(e,n,i,r){n.key=t.apikey,t.ajax.post(e+"/remove",{data:n,success:function(t){i()},error:function(e,n,i){r("not_found"===e?new t.errors.FPError(171):"bad_params"===e?new t.errors.FPError(400):"not_authorized"===e?new t.errors.FPError(403):new t.errors.FPError(172))}})}}}),filepicker.extend("iframeAjax",function(){var t=this,e=[],n=!1,i=function(t,e){e.method="GET",a(t,e)},r=function(e,n){n.method="POST",e+=(e.indexOf("?")>=0?"&":"?")+"_cacheBust="+t.util.getId(),a(e,n)},o=function(){if(e.length>0){var t=e.shift();a(t.url,t.options)}},a=function(i,r){if(n)return void e.push({url:i,options:r});i+=(i.indexOf("?")>=0?"&":"?")+"plugin="+t.urls.getPlugin()+"&_cacheBust="+t.util.getId(),i+="&Content-Type=text%2Fhtml",t.comm.openChannel();var o;try{o=document.createElement('<iframe name="ajax_iframe">')}catch(t){o=document.createElement("iframe")}o.id=o.name="ajax_iframe",o.style.display="none";var a=function(){n=!1};o.attachEvent?(o.attachEvent("onload",a),o.attachEvent("onerror",a)):o.onerror=o.onload=a,o.id="ajax_iframe",o.name="ajax_iframe",o.style.display="none",o.onerror=o.onload=function(){n=!1},document.body.appendChild(o),t.handlers.attach("upload",s(r));var l=document.createElement("form");l.method=r.method||"GET",l.action=i,l.target="ajax_iframe";var u=r.data;(t.util.isFileInputElement(u)||t.util.isFile(u))&&(l.encoding=l.enctype="multipart/form-data"),document.body.appendChild(l);var d;if(t.util.isFile(u)){var p=c(u);if(!p)throw t.FilepickerException("Couldn't find corresponding file input.");u={fileUpload:p}}else t.util.isFileInputElement(u)?(d=u,u={},u.fileUpload=d):u&&t.util.isElement(u)&&"INPUT"===u.tagName?(d=u,u={},u[d.name]=d):!1!==r.processData&&(u={data:u});u.format="iframe";var f={};for(var h in u){var _=u[h];if(t.util.isElement(_)&&"INPUT"===_.tagName)f[h]={par:_.parentNode,sib:_.nextSibling,name:_.name,input:_,focused:_===document.activeElement},_.name=h,l.appendChild(_);else{var m=document.createElement("input");m.name=h,m.value=_,l.appendChild(m)}}n=!0,window.setTimeout(function(){l.submit();for(var t in f){var e=f[t];e.par.insertBefore(e.input,e.sib),e.input.name=e.name,e.focused&&e.input.focus()}l.parentNode.removeChild(l)},1)},s=function(e){var i=e.success||function(){},r=e.error||function(){};return function(e){if("Upload"===e.type){n=!1;var a=e.payload;a.error?r(a.error):i(a),t.handlers.detach("upload"),o()}}},c=function(t){for(var e=document.getElementsByTagName("input"),n=0;n<e.length;n++){var i=e[0];if("file"===i.type&&i.files&&i.files.length)for(var r=0;r<i.files.length;r++)if(i.files[r]===t)return i}return null};return{get:i,post:r,request:a}}),filepicker.extend("base64",function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},n=function(t){for(var e="",n=0,i=0,r=0;n<t.length;)i=t.charCodeAt(n),i<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(r=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&r),n+=2):(r=t.charCodeAt(n+1),c3=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&c3),n+=3);return e};return{encode:function(n,i){i=i||void 0===i;var r,o,a,s,c,l,u,d="",p=0;for(i&&(n=e(n));p<n.length;)r=n.charCodeAt(p),o=n.charCodeAt(p+1),a=n.charCodeAt(p+2),p+=3,s=r>>2,c=(3&r)<<4|o>>4,l=(15&o)<<2|a>>6,u=63&a,isNaN(o)?l=u=64:isNaN(a)&&(u=64),d=d+t.charAt(s)+t.charAt(c)+t.charAt(l)+t.charAt(u);return d},decode:function(e,i){i=i||void 0===i;var r,o,a,s,c,l,u,d="",p=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");p<e.length;)s=t.indexOf(e.charAt(p)),c=t.indexOf(e.charAt(p+1)),l=t.indexOf(e.charAt(p+2)),u=t.indexOf(e.charAt(p+3)),p+=4,r=s<<2|c>>4,o=(15&c)<<4|l>>2,a=(3&l)<<6|u,d+=String.fromCharCode(r),64!=l&&(d+=String.fromCharCode(o)),64!=u&&(d+=String.fromCharCode(a));return i&&(d=n(d)),d}}},!0),filepicker.extend("browser",function(){var t=function(){return!!(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))},e=function(){return!!navigator.userAgent.match(/Android/i)};return{getLanguage:function(){var t=window.navigator.userLanguage||window.navigator.language;return void 0===t&&(t="en"),t=t.replace("-","_").toLowerCase()},openInModal:function(){return!(t()||e())||!!window.navigator.standalone},isMobile:function(){return t()||e()}}}),filepicker.extend("conversionsUtil",function(){var t=this,e=t.urls.BASE.replace("www","process")+"/";return{CONVERSION_DOMAIN:e,parseUrl:function(t){if(!t)return{url:null,optionsDict:{}};t=t.replace(e,"");var n=t.substring(t.indexOf("/http")+1);t=t.replace("/"+n,"");var i=t.substring(0,t.indexOf("/"));t=t.replace(i+"/","");var r,o,a,s,c,l=t.split("/"),u={};for(s in l)if(r=l[s].split("="),r.length>1){u[r[0]]={},o=r[1].split(",");for(c in o)a=o[c].split(":"),a.length>1&&(u[r[0]][a[0]]=a[1])}else l[s]&&(u[l[s]]=null);return{url:n,apikey:i,optionsDict:u}},buildUrl:function(n,i,r){var o,a,s,c=e+r;i=i||{};for(o in i){c+="/"+o,(s=t.util.objectKeys(i[o]||{}).length)&&(c+="=");for(a in i[o])c+=a+":"+i[o][a],0!=--s&&(c+=",")}return c+="/"+n}}}),filepicker.extend("json",function(){var fp=this,special={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},escape=function(t){return special[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},validate=function(t){return t=t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(t)},encode=function(t){if(window.JSON&&window.JSON.stringify)return window.JSON.stringify(t);t&&t.toJSON&&(t=t.toJSON());var e=[];switch(fp.util.typeOf(t)){case"string":return'"'+t.replace(/[\x00-\x1f\\"]/g,escape)+'"';case"array":for(var n=0;n<t.length;n++)e.push(encode(t[n]));return"["+e+"]";case"object":case"hash":var i,r;for(r in t)i=encode(t[r]),i&&e.push(encode(r)+":"+i),i=null;return"{"+e+"}";case"number":case"boolean":return""+t;case"null":default:return"null"}return null},decode=function(string,secure){if(!string||"string"!==fp.util.typeOf(string))return null;if(window.JSON&&window.JSON.parse)return window.JSON.parse(string);if(secure&&!validate(string))throw new Error("JSON could not decode the input; security is enabled and the value is not secure.");return eval("("+string+")")};return{validate:validate,encode:encode,stringify:encode,decode:decode,parse:decode}}),filepicker.extend("util",function(){var t=function(t){return t.replace(/^\s+|\s+$/g,"")},e=function(t){return t.replace(/\/convert\b.*/,"")},n=function(t){return!!t.match(/^(http|https)\:.*\/\//i)};return{trim:t,trimConvert:e,parseUrl:function(t){t&&"/"!==t.charAt(0)||(t=window.location.protocol+"//"+window.location.host+t);var e=document.createElement("a");e.href=t;var n=-1===e.hostname.indexOf(":")?e.hostname:e.host,i={source:t,protocol:e.protocol.replace(":",""),host:n,port:e.port,query:e.search,params:function(){for(var t,n={},i=e.search.replace(/^\?/,"").split("&"),r=i.length,o=0;o<r;o++)i[o]&&(t=i[o].split("="),n[t[0]]=t[1]);return n}(),file:(e.pathname.match(/\/([^\/?#]+)$/i)||[void 0,""])[1],hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),relative:(e.href.match(/tps?:\/\/[^\/]+(.+)/)||[void 0,""])[1],segments:e.pathname.replace(/^\//,"").split("/")};return i.origin=i.protocol+"://"+i.host+(i.port?":"+i.port:""),i.rawUrl=(i.origin+i.path).replace("/convert",""),i},isUrl:n,endsWith:function(t,e){return-1!==t.indexOf(e,t.length-e.length)},appendQueryToUrl:function(t,e,n){return t+(t.indexOf("?")>=0?"&":"?")+e+"="+n}}}),filepicker.extend("util",function(){var t=this,e=function(t){return t&&"[object Array]"===Object.prototype.toString.call(t)},n=function(t){return t&&"[object File]"===Object.prototype.toString.call(t)},i=function(t){return"object"==typeof window.HTMLElement?t instanceof window.HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},r=function(t){return i(t)&&"INPUT"===t.tagName&&"file"===t.type},o=function(t){return null===t?"null":e(t)?"array":n(t)?"file":typeof t},a=function(){return(new Date).getTime().toString()},s=function(t,e,n){void 0===t[e]&&(t[e]=n)},c=function(t){if(window.jQuery)window.jQuery(function(){t()});else{if(window.addEventListener)window.addEventListener("load",t,!1);else if(window.attachEvent)window.attachEvent("onload",t);else if(window.onload){var e=window.onload;window.onload=function(){e(),t()}}else window.onload=t}},l=function(e){return"string"==typeof e&&e.match(t.urls.BASE+"/api/file/")},u=function(t){return"string"==typeof t&&t.match("/api/file/")},d=function(e){if("string"==typeof e){var n=e.match(/(?:cdn.filestackcontent.com|cdn.filepicker.io)[\S]*\/([\S]{20,})/);if(n&&n.length>1)return t.urls.BASE+"/api/file/"+n[1]}return e},p=function(t){return function(){if(window.console&&"function"==typeof window.console[t])try{window.console[t].apply(window.console,arguments)}catch(t){window.alert(Array.prototype.join.call(arguments,","))}}},f={};return f.log=p("log"),f.error=p("error"),{isArray:e,isFile:n,isElement:i,isFileInputElement:r,getId:a,setDefault:s,typeOf:o,addOnLoad:c,isFPUrl:l,getFPUrl:d,isFPUrlCdn:u,console:f,clone:function(t){var e={};for(var n in t)e[n]=t[n];return e},standardizeFPFile:function(t){var e={};return e.url=t.url,e.filename=t.filename||t.name,e.mimetype=t.mimetype||t.type,e.size=t.size,e.key=t.key||t.s3_key,e.isWriteable=!(!t.isWriteable&&!t.writeable),e},isCanvasSupported:function(){try{var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}catch(t){return!1}},extend:function(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},checkApiKey:function(){if(!t.apikey)throw new t.FilepickerException("API Key not found")},objectKeys:function(t){return"function"!=typeof Object.keys?function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}:Object.keys(t)}}}),filepicker.extend("windowUtils",function(){function t(){return document.documentElement.clientWidth||document.body&&document.body.clientWidth||1024}function e(){return document.documentElement.clientHeight||document.body&&document.body.clientHeight||768}return{getWidth:t,getHeight:e}}),filepicker.extend("dragdrop",function(){var t=this,e=function(){return(!!window.FileReader||navigator.userAgent.indexOf("Safari")>=0)&&"draggable"in document.createElement("span")};return{enabled:e,makeDropPane:function(n,i){function r(e){var n=x(0,1),i=t.util.clone(e);i.name=i.filename,A([i])?n(e):t.files.remove(e.url,v,function(){},function(){})}function o(e){var i,r=e.length;if(A(e))for(d(e),n.setAttribute("disabled","disabled"),i=0;i<e.length;i++)t.store(e[i],v,x(i,r),k,C(i,r))}function a(e){var n=C(0,1);t.storeUrl(e,r,k,n)}function s(t){var e,n,i;if(t.dataTransfer.items)for(n=t.dataTransfer.items,i=0;i<n.length;i++)if((e=n[i]&&n[i].webkitGetAsEntry?n[i].webkitGetAsEntry():void 0)&&e.isDirectory)return f("WrongType","Uploading a folder is not allowed"),!0;return!1}var c="No DOM element found to create drop pane";if(!n)throw new t.FilepickerException(c);if(n.jquery){if(0===n.length)throw new t.FilepickerException(c);n=n[0]}if(!e())return t.util.console.error("Your browser doesn't support drag-drop functionality"),!1;i=i||{};var l=i.dragEnter||function(){},u=i.dragLeave||function(){},d=i.onStart||function(){},p=i.onSuccess||function(){},f=i.onError||function(){},h=i.onProgress||function(){},_=i.mimetypes;_||(_=i.mimetype?[i.mimetype]:["*/*"]),"string"===t.util.typeOf(_)&&(_=_.split(","));var m=i.extensions;if(m||i.extension&&(m=[i.extension]),"string"===t.util.typeOf(m)&&(m=m.replace(/ /g,"").split(",")),m)for(var g=0;g<m.length;g++)m[g]=m[g].toLowerCase();var v={location:i.location,path:i.path,container:i.container,access:i.access,policy:i.policy,signature:i.signature},b=function(){return n&&"disabled"!==(n.getAttribute("disabled")||"enabled")};n.addEventListener("dragenter",function(t){return b()&&l(),t.stopPropagation(),t.preventDefault(),!1},!1),n.addEventListener("dragleave",function(t){return b()&&u(),t.stopPropagation(),t.preventDefault(),!1},!1),n.addEventListener("dragover",function(t){return t.dataTransfer.dropEffect="copy",t.preventDefault(),!1},!1),n.addEventListener("drop",function(t){if(t.stopPropagation(),t.preventDefault(),!b())return!1;if(s(t))return!1;var e=t.dataTransfer.files,n=E(t.dataTransfer);return e.length?o(e):n?a(n):f("NoFilesFound","No files uploaded"),!1});var y=function(){n.setAttribute("disabled","enabled"),window.$&&window.$(n).prop("disabled",!1)},w={},$=[],x=function(t,e){return function(n){i.multiple?($.push(n),$.length===e?(p($),$=[],w={}):(w[t]=100,S(e))):p([n]),y()}},k=function(t){f("UploadError",t.toString()),y()},C=function(t,e){return function(n){w[t]=n,S(e)}},S=function(t){var e=0;for(var n in w)e+=w[n];h(e/t)},A=function(e){if(e.length>0){if(e.length>1&&!i.multiple)return f("TooManyFiles","Only one file at a time"),!1;if(i.maxFiles>0&&e.length>i.maxFiles)return f("TooManyFiles","Only "+i.maxFiles+" files at a time"),!1;for(var n,r,o,a=0;a<e.length;a++){n=!1,r=e[a],o=r.name||r.fileName||"Unknown file";for(var s=0;s<_.length;s++){var c=t.mimetypes.getMimetype(r);n=n||t.mimetypes.matchesMimetype(c,_[s])}if(!n)return f("WrongType",o+" isn't the right type of file"),!1;if(m){for(n=!1,s=0;s<m.length;s++)n=n||t.util.endsWith(o,m[s]);if(!n)return f("WrongType",o+" isn't the right type of file"),!1}if(r.size&&i.maxSize&&r.size>i.maxSize)return f("WrongSize",o+" is too large ("+r.size+" Bytes)"),!1}return!0}return f("NoFilesFound","No files uploaded"),!1},E=function(e){var n,i;if(e&&"function"==typeof e.getData){n=e.getData("text");try{n=n||e.getData("text/html")}catch(e){t.util.console.error(e)}n&&!t.util.isUrl(n)&&(i=n.match(/<img.*?src="(.*?)"/i),n=i&&i.length>1?i[1]:null)}return n};return!0}}}),filepicker.extend("responsiveImages",function(){function t(){i(),g(x)}function e(){v(x)}function n(t){if(void 0!==t){if("IMG"!==t.nodeName)throw new $.FilepickerException("Passed object is not an image");_(t)}else i(!0)}function i(t){var e,n,i=document.querySelectorAll("img[data-fp-src]");for(n=0;n<i.length;n++)e=i[n],(r(e)||!0===t)&&_(e)}function r(t){var e=l(t),n=s(t)||b().onResize||"all";if(!e||"all"===n)return!0;if("none"===n)return!1;var i=h(e).width<o(t).width;return!!(i&&"up"===n||!i&&"down"===n)}function o(t){var e={};return null===t.parentNode?(e.width=$.windowUtils.getWidth(),e.height=$.windowUtils.getWidth(),e):t.alt&&!t.fpAltCheck?(t.parentNode.fpAltCheck=!0,o(t.parentNode)):(e.width=t.offsetWidth,e.height=t.offsetHeight,e.width?e:o(t.parentNode))}function a(t,e){var n=l(t)||u(t);n!==e&&(t.src=e,n&&(t.onerror=function(){t.src=n,t.onerror=null}))}function s(t){return t.getAttribute("data-fp-on-resize")}function c(t){return t.getAttribute("data-fp-pixel-round")}function l(t){return t.getAttribute("src")}function u(t){return t.getAttribute("data-fp-src")}function d(t){return t.getAttribute("data-fp-apikey")}function p(t){return t.getAttribute("data-fp-signature")}function f(t){return t.getAttribute("data-fp-policy")}function h(t){return $.conversionsUtil.parseUrl(t).optionsDict.resize||{}}function _(t){var e=u(t)||l(t),n=d(t)||$.apikey,i=b();$.apikey||($.setKey(n),$.util.checkApiKey()),a(t,$.conversionsUtil.buildUrl(e,m(t,i),n))}function m(t,e){e=e||{};var n=o(t),i=c(t)||e.pixelRound||10,r={resize:{width:w(n.width,i)}},a=e.signature||p(t);return a&&(r.security={signature:a,policy:e.policy||f(t)}),r}function g(t){window.addEventListener?window.addEventListener("resize",t,!1):window.attachEvent&&window.attachEvent("onresize",t)}function v(t){window.removeEventListener?window.removeEventListener("resize",t,!1):window.detachEvent&&window.detachEvent("onresize",t)}function b(){return $.responsiveOptions||{}}function y(t){if("object"!=typeof(t=t||{}))throw new $.FilepickerException("Responsive options must be an object.");$.responsiveOptions=t}function w(t,e){var n=0===e?1:e;return Math.ceil(t/n)*n}var $=this,x=function(t,e){var n;return function(){var i=this,r=arguments,o=function(){n=null,t.apply(i,r)};clearTimeout(n),n=setTimeout(o,e)}}(function(){i()},200);return{activate:t,deactivate:e,update:n,setResponsiveOptions:y,getResponsiveOptions:b,getElementDims:o,replaceSrc:a,getCurrentResizeParams:h,construct:_,constructParams:m,shouldConstruct:r,roundWithStep:w,addWindowResizeEvent:g,removeWindowResizeEvent:v}}),filepicker.extend("widgets",function(){function t(){try{var t='.fp__btn{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:inline-block;height:34px;padding:4px 30px 5px 40px;position:relative;margin-bottom:0;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Open Sans", sans-serif;font-size:12px;font-weight:600;line-height:1.42857143;color:#fff;text-align:center;white-space:nowrap;background:#ef4925;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAVCAYAAABLy77vAAAABGdBTUEAALGPC/xhBQAAAJRJREFUOBHNUcEWgCAIy14fbl9egK5MRarHQS7ocANmOCgWh1gdNERig1CgwPlLxkZuE80ndHlU+4Lda1zz0m01dSKtcz0h7qpQb7WR+HyrqRPxahzwwMqqkEVs6qnv+86NQAbcJlK/X+vMeMe7XcBOYaRzcbItUR7/8QgcykmElQrQPErnmxNxl2yyiwcgEvQUocIJaE6yERwqXDIAAAAASUVORK5CYII=");background-repeat:no-repeat;background-position:15px 6px;border:1px solid transparent;border-radius:17px}.fp__btn:hover{background-color:#d64533}.fp__btn::after{position:absolute;content:"";top:15px;right:14px;width:7px;height:4px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAYAAAA1BOUGAAAABGdBTUEAALGPC/xhBQAAAGlJREFUCB1j/P//vw4DA4MiEKOD+0xAkatA/AJNBsS/ysTIyPgfyDgHxO+hCkD0Oag4RAhoPDsQm4NoqCIGBiBnAhBjAxNAkkxAvBZNFsQHuQesmxPIOQZVAKI54UZDFYgABbcBsQhMAgDIVGYSqZsn6wAAAABJRU5ErkJggg==");}.fp__btn:hover::after{background-position:0 -4px;}.fp__btn:active,.fp__btn:focus{outline:none}@media only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2 / 1), only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2){.fp__btn{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAqCAYAAADbCvnoAAAABGdBTUEAALGPC/xhBQAAAQFJREFUWAntWEESwjAIbBwfHl+upNoRNjKUJhk5kIvZQGG7bHOwPGltgdYtEJedShKyJnLHhEILz1Zi9HCOzFI7FUqFLAWseDgPdfeQ9QZ4b1j53nstnEJJyBqx20NeT1gEMB5uZG6Fzn5lV5UMp1ASQhMjdnvoqjewsYbDjcytEH5lsxULp1AS0sx8nJfVnjganf3NkVlKhVPIfQ9Zb6jF0atK3mNriXwpicPHvIeyr3sTDA53VgpgH8BvMu1ZCCz7ew/7MPwlE4CQJPNnQj2ZX4SYlEPbVpsvKFZ5TOwhcRoUTQiwwhVjArPEqVvRhMCneMXzDk9lwYphIwrZZOihF32oehMAa1qSAAAAAElFTkSuQmCC");background-size:18px 21px}.fp__btn::after{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAYAAAAmlE46AAAABGdBTUEAALGPC/xhBQAAANpJREFUKBWVkU8KglAYxJ/u3HuBwmUX8BqepKN4ka4RguDOVYu2QVCrhIJ6/caekqLiGxi+PzPD58PAWrszxmygD84h7hpePFLy1mEQBJamgvcVYXkqZXTR0LwpJWw0z0Ba6bymDcrI4kkp4EvzCNoVztNKfVATwoOiyx/NDup1SVqPQVBbDDeK3txBb9JuHfhNW3HWjZhDX+SGRAgPHkl5f0+kieBxRVieaPD5LGJ4WghLiwehbkBI4HUirF3S+SYrhhQ2f2H16aR5vMSYwbdjNtYXZ0J7cc70BXnFMHIGznzEAAAAAElFTkSuQmCC");background-size:7px 8px;}}',e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)}catch(t){}}var e=this,n=function(t,e,n,i){var r=i.getAttribute(n);r&&(e[t]=r)},i=function(t,e){var n;document.createEvent?(n=document.createEvent("Event"),n.initEvent("change",!0,!1),n.fpfile=e?e[0]:void 0,n.fpfiles=e,t.dispatchEvent(n)):document.createEventObject?(n=document.createEventObject("Event"),n.eventPhase=2,n.currentTarget=n.srcElement=n.target=t,n.fpfile=e?e[0]:void 0,n.fpfiles=e,t.fireEvent("onchange",n)):t.onchange&&t.onchange(e)},r=function(t,e){e[t]&&(e[t]=e[t].split(","))},o=function(t,e,i){for(var r in i)n(i[r],t,r,e)},a=function(t,i){i=i||"pick";var a={},s={"data-fp-container":"container","data-fp-mimetype":"mimetype","data-fp-extension":"extension","data-fp-openTo":"openTo","data-fp-debug":"debug","data-fp-signature":"signature","data-fp-policy":"policy","data-fp-language":"language","data-fp-background-upload":"backgroundUpload","data-fp-hide":"hide","data-fp-custom-css":"customCss","data-fp-crop-force":"cropForce","data-fp-crop-ratio":"cropRatio","data-fp-crop-dim":"cropDim","data-fp-crop-max":"cropMax","data-fp-crop-min":"cropMin","data-fp-show-close":"showClose","data-fp-conversions":"conversions","data-fp-custom-text":"customText","data-fp-custom-source-container":"customSourceContainer","data-fp-custom-source-path":"customSourcePath"},c={"data-fp-mimetypes":"mimetypes","data-fp-extensions":"extensions","data-fp-maxSize":"maxSize","data-fp-maxFiles":"maxFiles","data-fp-store-location":"storeLocation","data-fp-store-path":"storePath","data-fp-store-container":"storeContainer","data-fp-store-region":"storeRegion","data-fp-store-access":"storeAccess","data-fp-image-quality":"imageQuality","data-fp-image-dim":"imageDim","data-fp-image-max":"imageMax","data-fp-image-min":"imageMin"},l={"data-fp-video-recording-resolution":"videoRes","data-fp-webcam-dim":"webcamDim","data-fp-video-length":"videoLen","data-fp-audio-length":"audioLen"};o(a,t,s),"export"===i?n("suggestedFilename",a,"data-fp-suggestedFilename",t):"pick"===i&&(o(a,t,c),a.webcam={},o(a.webcam,t,l));var u=t.getAttribute("data-fp-services");if(u){u=u.split(",");for(var d=0;d<u.length;d++)u[d]=e.services[u[d].replace(" ","")]||u[d];a.services=u}var p=t.getAttribute("data-fp-service");p&&(a.service=e.services[p.replace(" ","")]||p);var f=["extensions","mimetypes","imageDim","imageMin","imageMax","cropDim","cropMax","cropMin","webcamDim","conversions"];for(var h in f)r(f[h],a);var _=t.getAttribute("data-fp-apikey");return _&&e.setKey(_),a.folders="true"===t.getAttribute("data-fp-folders"),a},s=function(t){return"true"===t.getAttribute("data-fp-multiple")},c=function(t){var n=document.createElement("button");n.setAttribute("type","button"),n.innerHTML=t.getAttribute("data-fp-button-text")||"Pick File",n.className=t.getAttribute("data-fp-button-class")||t.className||"fp__btn",t.style.display="none";var r=a(t);s(t)?n.onclick=function(){return n.blur(),e.pickMultiple(r,function(e){for(var n=[],r=0;r<e.length;r++)n.push(e[r].url);t.value=n.join(),i(t,e)}),!1}:n.onclick=function(){return n.blur(),e.pick(r,function(e){t.value=e.url,i(t,[e])}),!1},t.parentNode.insertBefore(n,t.nextSibling)},l=function(t){var n=t.getAttribute("data-fp-url");if(!n)return!0;var r=document.createElement("button");r.setAttribute("type","button"),r.innerHTML=t.getAttribute("data-fp-button-text")||"Convert File",r.className=t.getAttribute("data-fp-button-class")||t.className||"fp__btn",t.style.display="none";var o=a(t,"convert");r.onclick=function(){return r.blur(),e.processImage(n,o,function(e){t.value=e.url,i(t,[e])}),!1},t.parentNode.insertBefore(r,t.nextSibling)},u=function(t){var n=document.createElement("div");n.className=t.getAttribute("data-fp-class")||t.className,n.style.padding="1px",t.style.display="none",t.parentNode.insertBefore(n,t.nextSibling);var r=document.createElement("button");r.setAttribute("type","button"),r.innerHTML=t.getAttribute("data-fp-button-text")||"Pick File",r.className=t.getAttribute("data-fp-button-class")||"fp__btn",n.appendChild(r);var o=document.createElement("div");p(o),o.innerHTML=t.getAttribute("data-fp-drag-text")||"Or drop files here",o.className=t.getAttribute("data-fp-drag-class")||"",n.appendChild(o);var c=a(t),l=s(t);e.dragdrop.enabled()?f(o,l,c,t):o.innerHTML="&nbsp;",o.onclick=r.onclick=l?function(){return r.blur(),e.pickMultiple(c,function(e){for(var n=[],r=[],a=0;a<e.length;a++)n.push(e[a].url),r.push(e[a].filename);t.value=n.join(),d(t,o,r.join(", ")),i(t,e)}),!1}:function(){return r.blur(),e.pick(c,function(e){t.value=e.url,d(t,o,e.filename),i(t,[e])}),!1}},d=function(t,n,r){n.innerHTML=r,n.style.padding="2px 4px",n.style.cursor="default",n.style.width="";var o=document.createElement("span");o.innerHTML="X",o.style.borderRadius="8px",o.style.fontSize="14px",o.style.cssFloat="right",o.style.padding="0 3px",o.style.color="#600",o.style.cursor="pointer";var a=function(r){return r||(r=window.event),r.cancelBubble=!0,r.stopPropagation&&r.stopPropagation(),p(n),e.dragdrop.enabled?n.innerHTML=t.getAttribute("data-fp-drag-text")||"Or drop files here":n.innerHTML="&nbsp;",t.value="",i(t),!1};o.addEventListener?o.addEventListener("click",a,!1):o.attachEvent&&o.attachEvent("onclick",a),n.appendChild(o)},p=function(t){t.style.border="1px dashed #AAA",t.style.display="inline-block",t.style.margin="0 0 0 4px",t.style.borderRadius="3px",t.style.backgroundColor="#F3F3F3",t.style.color="#333",t.style.fontSize="14px",t.style.lineHeight="22px",t.style.padding="2px 4px",t.style.verticalAlign="middle",t.style.cursor="pointer",t.style.overflow="hidden"},f=function(t,n,r,o){var a,s=t.innerHTML;e.dragdrop.makeDropPane(t,{multiple:n,maxSize:r.maxSize,mimetypes:r.mimetypes,mimetype:r.mimetype,extensions:r.extensions,extension:r.extension,location:r.storeLocation,path:r.storePath,container:r.storeContainer,region:r.storeRegion,access:r.storeAccess,policy:r.policy,signature:r.signature,dragEnter:function(){t.innerHTML="Drop to upload",t.style.backgroundColor="#E0E0E0",t.style.border="1px solid #000"},dragLeave:function(){t.innerHTML=s,t.style.backgroundColor="#F3F3F3",t.style.border="1px dashed #AAA"},onError:function(e,n){"TooManyFiles"===e?t.innerHTML=n:"WrongType"===e?t.innerHTML=n:"NoFilesFound"===e?t.innerHTML=n:"UploadError"===e&&(t.innerHTML="Oops! Had trouble uploading.")},onStart:function(e){a=h(t)},onProgress:function(t){a&&(a.style.width=t+"%")},onSuccess:function(e){for(var n=[],r=[],a=0;a<e.length;a++)n.push(e[a].url),r.push(e[a].filename);o.value=n.join(),d(o,t,r.join(", ")),i(o,e)}})},h=function(t){var e=document.createElement("div"),n=t.offsetHeight-2;return e.style.height=n+"px",e.style.backgroundColor="#0E90D2",e.style.width="2%",e.style.borderRadius="3px",t.style.width=t.offsetWidth+"px",t.style.padding="0",t.style.border="1px solid #AAA",t.style.backgroundColor="#F3F3F3",t.style.boxShadow="inset 0 1px 2px rgba(0, 0, 0, 0.1)",t.innerHTML="",t.appendChild(e),e},_=function(t){t.onclick=function(){var n=t.getAttribute("data-fp-url");if(!n)return!0;var i=a(t,"export");return e.exportFile(n,i),!1}},m=function(){if(document.querySelectorAll){var e,n=document.querySelectorAll('input[type="filepicker"]');for(e=0;e<n.length;e++)c(n[e]);var i=document.querySelectorAll('input[type="filepicker-dragdrop"]');for(e=0;e<i.length;e++)u(i[e]);var r=document.querySelectorAll('input[type="filepicker-convert"]');for(e=0;e<r.length;e++)l(r[e]);var o=[],a=document.querySelectorAll("button[data-fp-url]");for(e=0;e<a.length;e++)o.push(a[e]);for(a=document.querySelectorAll("a[data-fp-url]"),e=0;e<a.length;e++)o.push(a[e]);for(a=document.querySelectorAll('input[type="button"][data-fp-url]'),e=0;e<a.length;e++)o.push(a[e]);for(e=0;e<o.length;e++)_(o[e]);var s=document.querySelectorAll('[type="filepicker-preview"][data-fp-url]');for(e=0;e<s.length;e++)v(s[e]);t()}},g=function(t){t.jquery&&(t=t[0]);var n=t.getAttribute("type");"filepicker"===n?c(t):"filepicker-dragdrop"===n?u(t):"filepicker-preview"===n?v(t):t.getAttribute("data-fp-src")?e.responsiveImages.construct(t):_(t)},v=function(t){var n=t.getAttribute("data-fp-url"),i=t.getAttribute("data-fp-custom-css"),n=e.util.getFPUrl(n);if(!n||!e.util.isFPUrl(n))return!0;n=n.replace("api/file/","api/preview/");var r=document.createElement("iframe");i&&(n=e.util.appendQueryToUrl(n,"css",i)),r.src=n,r.width="100%",r.height="100%",t.appendChild(r)};return{constructPickWidget:c,constructDragWidget:u,constructExportWidget:_,buildWidgets:m,constructWidget:g}}),function(){filepicker.internal(function(){var t=this;t.util.addOnLoad(t.cookies.checkThirdParty),t.util.addOnLoad(t.widgets.buildWidgets),t.util.addOnLoad(t.responsiveImages.activate)}),delete filepicker.internal,delete filepicker.extend;var t,e=filepicker._queue||[],n=e.length;if(n)for(var i=0;i<n;i++)t=e[i],filepicker[t[0]].apply(filepicker,t[1]);filepicker._queue&&delete filepicker._queue}()},,,,,,function(t,e){(function(){!function(t){function e(e){if("string"==typeof e.data&&(e.data={keys:e.data}),e.data&&e.data.keys&&"string"==typeof e.data.keys){var n=e.handler,i=e.data.keys.toLowerCase().split(" "),r=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"];e.handler=function(o){if(e.data.allowInTextInputField||this===o.target||!(/textarea|select/i.test(o.target.nodeName)||t.inArray(o.target.type,r)>-1||t(o.target).prop("isContentEditable"))){var a=t.hotkeys.specialKeys[o.keyCode],s=o.which>0&&String.fromCharCode(o.which).toLowerCase(),c="",l={};o.altKey&&"alt"!==a&&(c+="alt+"),o.ctrlKey&&"ctrl"!==a&&(c+="ctrl+"),o.metaKey&&!o.ctrlKey&&"meta"!==a&&(c+="meta+"),o.shiftKey&&"shift"!==a&&(c+="shift+"),a&&(l[c+a]=!0),s&&(l[c+s]=!0,l[c+t.hotkeys.shiftNums[s]]=!0,"shift+"===c&&(l[t.hotkeys.shiftNums[s]]=!0));for(var u=0,d=i.length;u<d;u++)if(l[i[u]])return n.apply(this,arguments)}}}}t.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",191:"/",220:"\\",222:"'",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(this.jQuery)}).call(window)},function(t,e){(function(){"use strict";function e(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}e.Diff,e.prototype.diff_main=function(t,e,n,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var r=i;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[0,t]]:[];void 0===n&&(n=!0);var o=n,a=this.diff_commonPrefix(t,e),s=t.substring(0,a);t=t.substring(a),e=e.substring(a),a=this.diff_commonSuffix(t,e);var c=t.substring(t.length-a);t=t.substring(0,t.length-a),e=e.substring(0,e.length-a);var l=this.diff_compute_(t,e,o,r);return s&&l.unshift([0,s]),c&&l.push([0,c]),this.diff_cleanupMerge(l),l},e.prototype.diff_compute_=function(t,e,n,i){var r;if(!t)return[[1,e]];if(!e)return[[-1,t]];var o=t.length>e.length?t:e,a=t.length>e.length?e:t,s=o.indexOf(a);if(-1!=s)return r=[[1,o.substring(0,s)],[0,a],[1,o.substring(s+a.length)]],t.length>e.length&&(r[0][0]=r[2][0]=-1),r;if(1==a.length)return[[-1,t],[1,e]];var c=this.diff_halfMatch_(t,e);if(c){var l=c[0],u=c[1],d=c[2],p=c[3],f=c[4],h=this.diff_main(l,d,n,i),_=this.diff_main(u,p,n,i);return h.concat([[0,f]],_)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,i):this.diff_bisect_(t,e,i)},e.prototype.diff_lineMode_=function(t,e,n){var i=this.diff_linesToChars_(t,e);t=i.chars1,e=i.chars2;var r=i.lineArray,o=this.diff_main(t,e,!1,n);this.diff_charsToLines_(o,r),this.diff_cleanupSemantic(o),o.push([0,""]);for(var a=0,s=0,c=0,l="",u="";a<o.length;){switch(o[a][0]){case 1:c++,u+=o[a][1];break;case-1:s++,l+=o[a][1];break;case 0:if(s>=1&&c>=1){o.splice(a-s-c,s+c),a=a-s-c;for(var i=this.diff_main(l,u,!1,n),d=i.length-1;d>=0;d--)o.splice(a,0,i[d]);a+=i.length}c=0,s=0,l="",u=""}a++}return o.pop(),o},e.prototype.diff_bisect_=function(t,e,n){for(var i=t.length,r=e.length,o=Math.ceil((i+r)/2),a=o,s=2*o,c=new Array(s),l=new Array(s),u=0;u<s;u++)c[u]=-1,l[u]=-1;c[a+1]=0,l[a+1]=0;for(var d=i-r,p=d%2!=0,f=0,h=0,_=0,m=0,g=0;g<o&&!((new Date).getTime()>n);g++){for(var v=-g+f;v<=g-h;v+=2){var b,y=a+v;b=v==-g||v!=g&&c[y-1]<c[y+1]?c[y+1]:c[y-1]+1;for(var w=b-v;b<i&&w<r&&t.charAt(b)==e.charAt(w);)b++,w++;if(c[y]=b,b>i)h+=2;else if(w>r)f+=2;else if(p){var $=a+d-v;if($>=0&&$<s&&-1!=l[$]){var x=i-l[$];if(b>=x)return this.diff_bisectSplit_(t,e,b,w,n)}}}for(var k=-g+_;k<=g-m;k+=2){var x,$=a+k;x=k==-g||k!=g&&l[$-1]<l[$+1]?l[$+1]:l[$-1]+1;for(var C=x-k;x<i&&C<r&&t.charAt(i-x-1)==e.charAt(r-C-1);)x++,C++;if(l[$]=x,x>i)m+=2;else if(C>r)_+=2;else if(!p){var y=a+d-k;if(y>=0&&y<s&&-1!=c[y]){var b=c[y],w=a+b-y;if(x=i-x,b>=x)return this.diff_bisectSplit_(t,e,b,w,n)}}}}return[[-1,t],[1,e]]},e.prototype.diff_bisectSplit_=function(t,e,n,i,r){var o=t.substring(0,n),a=e.substring(0,i),s=t.substring(n),c=e.substring(i),l=this.diff_main(o,a,!1,r),u=this.diff_main(s,c,!1,r);return l.concat(u)},e.prototype.diff_linesToChars_=function(t,e){function n(t){for(var e="",n=0,o=-1,a=i.length;o<t.length-1;){o=t.indexOf("\n",n),-1==o&&(o=t.length-1);var s=t.substring(n,o+1);n=o+1,(r.hasOwnProperty?r.hasOwnProperty(s):void 0!==r[s])?e+=String.fromCharCode(r[s]):(e+=String.fromCharCode(a),r[s]=a,i[a++]=s)}return e}var i=[],r={};return i[0]="",{chars1:n(t),chars2:n(e),lineArray:i}},e.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var i=t[n][1],r=[],o=0;o<i.length;o++)r[o]=e[i.charCodeAt(o)];t[n][1]=r.join("")}},e.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,o=0;n<r;)t.substring(o,r)==e.substring(o,r)?(n=r,o=n):i=r,r=Math.floor((i-n)/2+n);return r},e.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,o=0;n<r;)t.substring(t.length-r,t.length-o)==e.substring(e.length-r,e.length-o)?(n=r,o=n):i=r,r=Math.floor((i-n)/2+n);return r},e.prototype.diff_commonOverlap_=function(t,e){var n=t.length,i=e.length;if(0==n||0==i)return 0;n>i?t=t.substring(n-i):n<i&&(e=e.substring(0,n));var r=Math.min(n,i);if(t==e)return r;for(var o=0,a=1;;){var s=t.substring(r-a),c=e.indexOf(s);if(-1==c)return o;a+=c,0!=c&&t.substring(r-a)!=e.substring(0,a)||(o=a,a++)}},e.prototype.diff_halfMatch_=function(t,e){function n(t,e,n){for(var i,r,o,s,c=t.substring(n,n+Math.floor(t.length/4)),l=-1,u="";-1!=(l=e.indexOf(c,l+1));){var d=a.diff_commonPrefix(t.substring(n),e.substring(l)),p=a.diff_commonSuffix(t.substring(0,n),e.substring(0,l));u.length<p+d&&(u=e.substring(l-p,l)+e.substring(l,l+d),i=t.substring(0,n-p),r=t.substring(n+d),o=e.substring(0,l-p),s=e.substring(l+d))}return 2*u.length>=t.length?[i,r,o,s,u]:null}if(this.Diff_Timeout<=0)return null;var i=t.length>e.length?t:e,r=t.length>e.length?e:t;if(i.length<4||2*r.length<i.length)return null;var o,a=this,s=n(i,r,Math.ceil(i.length/4)),c=n(i,r,Math.ceil(i.length/2));if(!s&&!c)return null;o=c?s&&s[4].length>c[4].length?s:c:s;var l,u,d,p;return t.length>e.length?(l=o[0],u=o[1],d=o[2],p=o[3]):(d=o[0],p=o[1],l=o[2],u=o[3]),[l,u,d,p,o[4]]},e.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],i=0,r=null,o=0,a=0,s=0,c=0,l=0;o<t.length;)0==t[o][0]?(n[i++]=o,a=c,s=l,c=0,l=0,r=t[o][1]):(1==t[o][0]?c+=t[o][1].length:l+=t[o][1].length,r&&r.length<=Math.max(a,s)&&r.length<=Math.max(c,l)&&(t.splice(n[i-1],0,[-1,r]),t[n[i-1]+1][0]=1,i--,i--,o=i>0?n[i-1]:-1,a=0,s=0,c=0,l=0,r=null,e=!0)),o++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),o=1;o<t.length;){if(-1==t[o-1][0]&&1==t[o][0]){var u=t[o-1][1],d=t[o][1],p=this.diff_commonOverlap_(u,d),f=this.diff_commonOverlap_(d,u);p>=f?(p>=u.length/2||p>=d.length/2)&&(t.splice(o,0,[0,d.substring(0,p)]),t[o-1][1]=u.substring(0,u.length-p),t[o+1][1]=d.substring(p),o++):(f>=u.length/2||f>=d.length/2)&&(t.splice(o,0,[0,u.substring(0,f)]),t[o-1][0]=1,t[o-1][1]=d.substring(0,d.length-f),t[o+1][0]=-1,t[o+1][1]=u.substring(f),o++),o++}o++}},e.prototype.diff_cleanupSemanticLossless=function(t){function n(t,n){if(!t||!n)return 6;var i=t.charAt(t.length-1),r=n.charAt(0),o=i.match(e.nonAlphaNumericRegex_),a=r.match(e.nonAlphaNumericRegex_),s=o&&i.match(e.whitespaceRegex_),c=a&&r.match(e.whitespaceRegex_),l=s&&i.match(e.linebreakRegex_),u=c&&r.match(e.linebreakRegex_),d=l&&t.match(e.blanklineEndRegex_),p=u&&n.match(e.blanklineStartRegex_);return d||p?5:l||u?4:o&&!s&&c?3:s||c?2:o||a?1:0}for(var i=1;i<t.length-1;){if(0==t[i-1][0]&&0==t[i+1][0]){var r=t[i-1][1],o=t[i][1],a=t[i+1][1],s=this.diff_commonSuffix(r,o);if(s){var c=o.substring(o.length-s);r=r.substring(0,r.length-s),o=c+o.substring(0,o.length-s),a=c+a}for(var l=r,u=o,d=a,p=n(r,o)+n(o,a);o.charAt(0)===a.charAt(0);){r+=o.charAt(0),o=o.substring(1)+a.charAt(0),a=a.substring(1);var f=n(r,o)+n(o,a);f>=p&&(p=f,l=r,u=o,d=a)}t[i-1][1]!=l&&(l?t[i-1][1]=l:(t.splice(i-1,1),i--),t[i][1]=u,d?t[i+1][1]=d:(t.splice(i+1,1),i--))}i++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],i=0,r=null,o=0,a=!1,s=!1,c=!1,l=!1;o<t.length;)0==t[o][0]?(t[o][1].length<this.Diff_EditCost&&(c||l)?(n[i++]=o,a=c,s=l,r=t[o][1]):(i=0,r=null),c=l=!1):(-1==t[o][0]?l=!0:c=!0,r&&(a&&s&&c&&l||r.length<this.Diff_EditCost/2&&a+s+c+l==3)&&(t.splice(n[i-1],0,[-1,r]),t[n[i-1]+1][0]=1,i--,r=null,a&&s?(c=l=!0,i=0):(i--,o=i>0?n[i-1]:-1,c=l=!1),e=!0)),o++;e&&this.diff_cleanupMerge(t)},e.prototype.diff_cleanupMerge=function(t){t.push([0,""]);for(var e,n=0,i=0,r=0,o="",a="";n<t.length;)switch(t[n][0]){case 1:r++,a+=t[n][1],n++;break;case-1:i++,o+=t[n][1],n++;break;case 0:i+r>1?(0!==i&&0!==r&&(e=this.diff_commonPrefix(a,o),0!==e&&(n-i-r>0&&0==t[n-i-r-1][0]?t[n-i-r-1][1]+=a.substring(0,e):(t.splice(0,0,[0,a.substring(0,e)]),n++),a=a.substring(e),o=o.substring(e)),0!==(e=this.diff_commonSuffix(a,o))&&(t[n][1]=a.substring(a.length-e)+t[n][1],a=a.substring(0,a.length-e),o=o.substring(0,o.length-e))),0===i?t.splice(n-r,i+r,[1,a]):0===r?t.splice(n-i,i+r,[-1,o]):t.splice(n-i-r,i+r,[-1,o],[1,a]),n=n-i-r+(i?1:0)+(r?1:0)+1):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,r=0,i=0,o="",a=""}""===t[t.length-1][1]&&t.pop();var s=!1;for(n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),s=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),s=!0)),n++;s&&this.diff_cleanupMerge(t)},e.prototype.diff_xIndex=function(t,e){var n,i=0,r=0,o=0,a=0;for(n=0;n<t.length&&(1!==t[n][0]&&(i+=t[n][1].length),-1!==t[n][0]&&(r+=t[n][1].length),!(i>e));n++)o=i,a=r;return t.length!=n&&-1===t[n][0]?a:a+(e-o)},e.prototype.diff_prettyHtml=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n][0],r=t[n][1],o=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"&para;<br>");switch(i){case 1:e[n]='<ins style="background:#e6ffe6;">'+o+"</ins>";break;case-1:e[n]='<del style="background:#ffe6e6;">'+o+"</del>";break;case 0:e[n]="<span>"+o+"</span>"}}return e.join("")},e.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},e.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},e.prototype.diff_levenshtein=function(t){for(var e=0,n=0,i=0,r=0;r<t.length;r++){var o=t[r][0],a=t[r][1];switch(o){case 1:n+=a.length;break;case-1:i+=a.length;break;case 0:e+=Math.max(n,i),n=0,i=0}}return e+=Math.max(n,i)},e.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(t,e){for(var n=[],i=0,r=0,o=e.split(/\t/g),a=0;a<o.length;a++){var s=o[a].substring(1);switch(o[a].charAt(0)){case"+":try{n[i++]=[1,decodeURI(s)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+s)}break;case"-":case"=":var c=parseInt(s,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+s);var l=t.substring(r,r+=c);"="==o[a].charAt(0)?n[i++]=[0,l]:n[i++]=[-1,l];break;default:if(o[a])throw new Error("Invalid diff operation in diff_fromDelta: "+o[a])}}if(r!=t.length)throw new Error("Delta length ("+r+") does not equal source text length ("+t.length+").");return n},e.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},e.prototype.match_bitap_=function(t,e,n){function i(t,i){var r=t/e.length,a=Math.abs(n-i);return o.Match_Distance?r+a/o.Match_Distance:a?1:r}if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),o=this,a=this.Match_Threshold,s=t.indexOf(e,n);-1!=s&&(a=Math.min(i(0,s),a),-1!=(s=t.lastIndexOf(e,n+e.length))&&(a=Math.min(i(0,s),a)));var c=1<<e.length-1;s=-1;for(var l,u,d,p=e.length+t.length,f=0;f<e.length;f++){for(l=0,u=p;l<u;)i(f,n+u)<=a?l=u:p=u,u=Math.floor((p-l)/2+l);p=u;var h=Math.max(1,n-u+1),_=Math.min(n+u,t.length)+e.length,m=Array(_+2);m[_+1]=(1<<f)-1;for(var g=_;g>=h;g--){var v=r[t.charAt(g-1)];if(m[g]=0===f?(m[g+1]<<1|1)&v:(m[g+1]<<1|1)&v|(d[g+1]|d[g])<<1|1|d[g+1],m[g]&c){var b=i(f,g-1);if(b<=a){if(a=b,!((s=g-1)>n))break;h=Math.max(1,2*n-s)}}}if(i(f+1,n)>a)break;d=m}return s},e.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(var n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},e.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),i=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=e.substring(t.start2-i,t.start2+t.length1+i);i+=this.Patch_Margin;var r=e.substring(t.start2-i,t.start2);r&&t.diffs.unshift([0,r]);var o=e.substring(t.start2+t.length1,t.start2+t.length1+i);o&&t.diffs.push([0,o]),t.start1-=r.length,t.start2-=r.length,t.length1+=r.length+o.length,t.length2+=r.length+o.length}},e.prototype.patch_make=function(t,n,i){var r,o;if("string"==typeof t&&"string"==typeof n&&void 0===i)r=t,o=this.diff_main(r,n,!0),o.length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(t&&"object"==typeof t&&void 0===n&&void 0===i)o=t,r=this.diff_text1(o);else if("string"==typeof t&&n&&"object"==typeof n&&void 0===i)r=t,o=n;else{if("string"!=typeof t||"string"!=typeof n||!i||"object"!=typeof i)throw new Error("Unknown call format to patch_make.");r=t,o=i}if(0===o.length)return[];for(var a=[],s=new e.patch_obj,c=0,l=0,u=0,d=r,p=r,f=0;f<o.length;f++){var h=o[f][0],_=o[f][1];switch(c||0===h||(s.start1=l,s.start2=u),h){case 1:s.diffs[c++]=o[f],s.length2+=_.length,p=p.substring(0,u)+_+p.substring(u);break;case-1:s.length1+=_.length,s.diffs[c++]=o[f],p=p.substring(0,u)+p.substring(u+_.length);break;case 0:_.length<=2*this.Patch_Margin&&c&&o.length!=f+1?(s.diffs[c++]=o[f],s.length1+=_.length,s.length2+=_.length):_.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(s,d),a.push(s),s=new e.patch_obj,c=0,d=p,l=u)}1!==h&&(l+=_.length),-1!==h&&(u+=_.length)}return c&&(this.patch_addContext_(s,d),a.push(s)),a},e.prototype.patch_deepCopy=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],o=new e.patch_obj;o.diffs=[];for(var a=0;a<r.diffs.length;a++)o.diffs[a]=r.diffs[a].slice();o.start1=r.start1,o.start2=r.start2,o.length1=r.length1,o.length2=r.length2,n[i]=o}return n},e.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var i=0,r=[],o=0;o<t.length;o++){var a,s=t[o].start2+i,c=this.diff_text1(t[o].diffs),l=-1;if(c.length>this.Match_MaxBits?-1!=(a=this.match_main(e,c.substring(0,this.Match_MaxBits),s))&&(-1==(l=this.match_main(e,c.substring(c.length-this.Match_MaxBits),s+c.length-this.Match_MaxBits))||a>=l)&&(a=-1):a=this.match_main(e,c,s),-1==a)r[o]=!1,i-=t[o].length2-t[o].length1;else{r[o]=!0,i=a-s;var u;if(u=-1==l?e.substring(a,a+c.length):e.substring(a,l+this.Match_MaxBits),c==u)e=e.substring(0,a)+this.diff_text2(t[o].diffs)+e.substring(a+c.length);else{var d=this.diff_main(c,u,!1);if(c.length>this.Match_MaxBits&&this.diff_levenshtein(d)/c.length>this.Patch_DeleteThreshold)r[o]=!1;else{this.diff_cleanupSemanticLossless(d);for(var p,f=0,h=0;h<t[o].diffs.length;h++){var _=t[o].diffs[h];0!==_[0]&&(p=this.diff_xIndex(d,f)),1===_[0]?e=e.substring(0,a+p)+_[1]+e.substring(a+p):-1===_[0]&&(e=e.substring(0,a+p)+e.substring(a+this.diff_xIndex(d,f+_[1].length))),-1!==_[0]&&(f+=_[1].length)}}}}}return e=e.substring(n.length,e.length-n.length),[e,r]},e.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",i=1;i<=e;i++)n+=String.fromCharCode(i);for(var i=0;i<t.length;i++)t[i].start1+=e,t[i].start2+=e;var r=t[0],o=r.diffs;if(0==o.length||0!=o[0][0])o.unshift([0,n]),r.start1-=e,r.start2-=e,r.length1+=e,r.length2+=e;else if(e>o[0][1].length){var a=e-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],r.start1-=a,r.start2-=a,r.length1+=a,r.length2+=a}if(r=t[t.length-1],o=r.diffs,0==o.length||0!=o[o.length-1][0])o.push([0,n]),r.length1+=e,r.length2+=e;else if(e>o[o.length-1][1].length){var a=e-o[o.length-1][1].length;o[o.length-1][1]+=n.substring(0,a),r.length1+=a,r.length2+=a}return n},e.prototype.patch_splitMax=function(t){for(var n=this.Match_MaxBits,i=0;i<t.length;i++)if(!(t[i].length1<=n)){var r=t[i];t.splice(i--,1);for(var o=r.start1,a=r.start2,s="";0!==r.diffs.length;){var c=new e.patch_obj,l=!0;for(c.start1=o-s.length,c.start2=a-s.length,""!==s&&(c.length1=c.length2=s.length,c.diffs.push([0,s]));0!==r.diffs.length&&c.length1<n-this.Patch_Margin;){var u=r.diffs[0][0],d=r.diffs[0][1];1===u?(c.length2+=d.length,a+=d.length,c.diffs.push(r.diffs.shift()),l=!1):-1===u&&1==c.diffs.length&&0==c.diffs[0][0]&&d.length>2*n?(c.length1+=d.length,o+=d.length,l=!1,c.diffs.push([u,d]),r.diffs.shift()):(d=d.substring(0,n-c.length1-this.Patch_Margin),c.length1+=d.length,o+=d.length,0===u?(c.length2+=d.length,a+=d.length):l=!1,c.diffs.push([u,d]),d==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(d.length))}s=this.diff_text2(c.diffs),s=s.substring(s.length-this.Patch_Margin);var p=this.diff_text1(r.diffs).substring(0,this.Patch_Margin);""!==p&&(c.length1+=p.length,c.length2+=p.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=p:c.diffs.push([0,p])),l||t.splice(++i,0,c)}}},e.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},e.prototype.patch_fromText=function(t){var n=[];if(!t)return n;for(var i=t.split("\n"),r=0;r<i.length;){var o=i[r].match(/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/);if(!o)throw new Error("Invalid patch string: "+i[r]);var a=new e.patch_obj;for(n.push(a),a.start1=parseInt(o[1],10),""===o[2]?(a.start1--,a.length1=1):"0"==o[2]?a.length1=0:(a.start1--,a.length1=parseInt(o[2],10)),a.start2=parseInt(o[3],10),""===o[4]?(a.start2--,a.length2=1):"0"==o[4]?a.length2=0:(a.start2--,a.length2=parseInt(o[4],10)),r++;r<i.length;){var s=i[r].charAt(0);try{var c=decodeURI(i[r].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+c)}if("-"==s)a.diffs.push([-1,c]);else if("+"==s)a.diffs.push([1,c]);else if(" "==s)a.diffs.push([0,c]);else{if("@"==s)break;if(""!==s)throw new Error('Invalid patch mode "'+s+'" in: '+c)}r++}}return n},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var t,e;t=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,e=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var n,i=["@@ -"+t+" +"+e+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:n="+";break;case-1:n="-";break;case 0:n=" "}i[r+1]=n+encodeURI(this.diffs[r][1])+"\n"}return i.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=-1,t.exports.DIFF_INSERT=1,t.exports.DIFF_EQUAL=0}).call({})},,,,function(t,e,n){!function(e){try{var i=n(38)}catch(t){}t.exports=e(i)}(function(t){var e=function(t,e){var n={},i={true:!0,false:!1,null:null};return t.replace(/\+/g," ").split("&").forEach(function(t){var r,o=t.split("="),a=decodeURIComponent(o[0]),s=n,c=0,l=a.split("]["),u=l.length-1;if(/\[/.test(l[0])&&/\]$/.test(l[u])?(l[u]=l[u].replace(/\]$/,""),l=l.shift().split("[").concat(l),u=l.length-1):u=0,2===o.length)if(r=decodeURIComponent(o[1]),e&&(r=r&&!isNaN(r)&&+r+""===r?+r:"undefined"===r?void 0:void 0!==i[r]?i[r]:r),u)for(;c<=u;c++)a=""===l[c]?s.length:l[c],s=s[a]=c<u?s[a]||(l[c+1]&&isNaN(l[c+1])?{}:[]):r;else"[object Array]"===Object.prototype.toString.call(n[a])?n[a].push(r):!{}.hasOwnProperty.call(n,a)?n[a]=r:n[a]=[n[a],r];else a&&(n[a]=e?void 0:"")}),n};return t&&(t.prototype.deparam=t.deparam=e),e})},function(t,e,n){var i,r,o;/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
!function(a){r=[n(38)],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(function(t){function e(e){var a=e||window.event,s=c.call(arguments,1),l=0,d=0,p=0,f=0,h=0,_=0;if(e=t.event.fix(a),e.type="mousewheel","detail"in a&&(p=-1*a.detail),"wheelDelta"in a&&(p=a.wheelDelta),"wheelDeltaY"in a&&(p=a.wheelDeltaY),"wheelDeltaX"in a&&(d=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(d=-1*p,p=0),l=0===p?d:p,"deltaY"in a&&(p=-1*a.deltaY,l=p),"deltaX"in a&&(d=a.deltaX,0===p&&(l=-1*d)),0!==p||0!==d){if(1===a.deltaMode){var m=t.data(this,"mousewheel-line-height");l*=m,p*=m,d*=m}else if(2===a.deltaMode){var g=t.data(this,"mousewheel-page-height");l*=g,p*=g,d*=g}if(f=Math.max(Math.abs(p),Math.abs(d)),(!o||f<o)&&(o=f,i(a,f)&&(o/=40)),i(a,f)&&(l/=40,d/=40,p/=40),l=Math[l>=1?"floor":"ceil"](l/o),d=Math[d>=1?"floor":"ceil"](d/o),p=Math[p>=1?"floor":"ceil"](p/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();h=e.clientX-v.left,_=e.clientY-v.top}return e.deltaX=d,e.deltaY=p,e.deltaFactor=o,e.offsetX=h,e.offsetY=_,e.deltaMode=0,s.unshift(e,l,d,p),r&&clearTimeout(r),r=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function n(){o=null}function i(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(t.event.fixHooks)for(var l=a.length;l;)t.event.fixHooks[a[--l]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})},function(t,e,n){var i,r;!function(o,a){i=[n(38)],void 0!==(r=function(t){return o.returnExportsGlobal=a(t)}.apply(e,i))&&(t.exports=r)}(this,function(t){"use strict";var e,n,i,r,o,a,s,c,l;e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.setPos=function(t){return this.domInputor},e.prototype.getIEPosition=function(){return this.getPosition()},e.prototype.getPosition=function(){var t,e;return e=this.getOffset(),t=this.$inputor.offset(),e.left-=t.left,e.top-=t.top,e},e.prototype.getOldIEPos=function(){var t,e;return e=a.selection.createRange(),t=a.body.createTextRange(),t.moveToElementText(this.domInputor),t.setEndPoint("EndToEnd",e),t.text.length},e.prototype.getPos=function(){var t,e,n;return(n=this.range())?(t=n.cloneRange(),t.selectNodeContents(this.domInputor),t.setEnd(n.endContainer,n.endOffset),e=t.toString().length,t.detach(),e):a.selection?this.getOldIEPos():void 0},e.prototype.getOldIEOffset=function(){var t,e;return t=a.selection.createRange().duplicate(),t.moveStart("character",-1),e=t.getBoundingClientRect(),{height:e.bottom-e.top,left:e.left,top:e.top}},e.prototype.getOffset=function(e){var n,i,r,o,s;return c.getSelection&&(r=this.range())?(r.endOffset-1>0&&r.endContainer===!this.domInputor&&(n=r.cloneRange(),n.setStart(r.endContainer,r.endOffset-1),n.setEnd(r.endContainer,r.endOffset),o=n.getBoundingClientRect(),i={height:o.height,left:o.left+o.width,top:o.top},n.detach()),i&&0!==(null!=i?i.height:void 0)||(n=r.cloneRange(),s=t(a.createTextNode("|")),n.insertNode(s[0]),n.selectNode(s[0]),o=n.getBoundingClientRect(),i={height:o.height,left:o.left,top:o.top},s.remove(),n.detach())):a.selection&&(i=this.getOldIEOffset()),i&&(i.top+=t(c).scrollTop(),i.left+=t(c).scrollLeft()),i},e.prototype.range=function(){var t;if(c.getSelection)return t=c.getSelection(),t.rangeCount>0?t.getRangeAt(0):null},e}(),n=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getIEPos=function(){var t,e,n,i,r,o,s;return e=this.domInputor,o=a.selection.createRange(),r=0,o&&o.parentElement()===e&&(i=e.value.replace(/\r\n/g,"\n"),n=i.length,s=e.createTextRange(),s.moveToBookmark(o.getBookmark()),t=e.createTextRange(),t.collapse(!1),r=s.compareEndPoints("StartToEnd",t)>-1?n:-s.moveStart("character",-n)),r},e.prototype.getPos=function(){return a.selection?this.getIEPos():this.domInputor.selectionStart},e.prototype.setPos=function(t){var e,n;return e=this.domInputor,a.selection?(n=e.createTextRange(),n.move("character",t),n.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},e.prototype.getIEOffset=function(t){var e,n,i,r;return n=this.domInputor.createTextRange(),t||(t=this.getPos()),n.move("character",t),i=n.boundingLeft,r=n.boundingTop,e=n.boundingHeight,{left:i,top:r,height:e}},e.prototype.getOffset=function(e){var n,i,r;return n=this.$inputor,a.selection?(i=this.getIEOffset(e),i.top+=t(c).scrollTop()+n.scrollTop(),i.left+=t(c).scrollLeft()+n.scrollLeft(),i):(i=n.offset(),r=this.getPosition(e),i={left:i.left+r.left-n.scrollLeft(),top:i.top+r.top-n.scrollTop(),height:r.height})},e.prototype.getPosition=function(t){var e,n,r,o,a,s;return e=this.$inputor,r=function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},void 0===t&&(t=this.getPos()),s=e.val().slice(0,t),n=e.val().slice(t),o="<span style='position: relative; display: inline;'>"+r(s)+"</span>",o+="<span id='caret' style='position: relative; display: inline;'>|</span>",o+="<span style='position: relative; display: inline;'>"+r(n)+"</span>",a=new i(e),a.create(o).rect()},e.prototype.getIEPosition=function(t){var e,n,i,r,o;return i=this.getIEOffset(t),n=this.$inputor.offset(),r=i.left-n.left,o=i.top-n.top,e=i.height,{left:r,top:o,height:e}},e}(),i=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],e.prototype.mirrorCss=function(){var e,n=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),t.each(this.css_attr,function(t,i){return e[i]=n.$inputor.css(i)}),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,n;return t=this.$mirror.find("#caret"),e=t.position(),n={left:e.left,top:e.top,height:t.height()},this.$mirror.remove(),n},e}(),r={contentEditable:function(t){return!(!t[0].contentEditable||"true"!==t[0].contentEditable)}},o={pos:function(t){return t||0===t?this.setPos(t):this.getPos()},position:function(t){return a.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){return this.getOffset(t)}},a=null,c=null,s=null,l=function(t){var e;return(e=null!=t?t.iframe:void 0)?(s=e,c=e.contentWindow,a=e.contentDocument||c.document):(s=void 0,c=window,a=document)},t.fn.caret=function(i,a,s){var c;return o[i]?(t.isPlainObject(a)?(l(a),a=void 0):l(s),c=r.contentEditable(this)?new e(this):new n(this),o[i].apply(c,[a])):t.error("Method "+i+" does not exist on jQuery.caret")},t.fn.caret.EditableCaret=e,t.fn.caret.InputCaret=n,t.fn.caret.Utils=r,t.fn.caret.apis=o})},function(t,e,n){var i,r;/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){function a(t){var e="length"in t&&t.length,n=nt.type(t);return"function"!==n&&!nt.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function s(t,e,n){if(nt.isFunction(e))return nt.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return nt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(st.test(e))return nt.filter(e,t,n);e=nt.filter(e,t)}return nt.grep(t,function(t){return J.call(e,t)>=0!==n})}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e=ft[t]={};return nt.each(t.match(pt)||[],function(t,n){e[n]=!0}),e}function u(){et.removeEventListener("DOMContentLoaded",u,!1),n.removeEventListener("load",u,!1),nt.ready()}function d(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=nt.expando+d.uid++}function p(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(bt,"-$1").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:vt.test(n)?nt.parseJSON(n):n)}catch(t){}gt.set(t,e,n)}else n=void 0;return n}function f(){return!0}function h(){return!1}function _(){try{return et.activeElement}catch(t){}}function m(t,e){return nt.nodeName(t,"table")&&nt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function g(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function v(t){var e=Mt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function b(t,e){for(var n=0,i=t.length;n<i;n++)mt.set(t[n],"globalEval",!e||mt.get(e[n],"globalEval"))}function y(t,e){var n,i,r,o,a,s,c,l;if(1===e.nodeType){if(mt.hasData(t)&&(o=mt.access(t),a=mt.set(e,o),l=o.events)){delete a.handle,a.events={};for(r in l)for(n=0,i=l[r].length;n<i;n++)nt.event.add(e,r,l[r][n])}gt.hasData(t)&&(s=gt.access(t),c=nt.extend({},s),gt.set(e,c))}}function w(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&nt.nodeName(t,e)?nt.merge([t],n):n}function $(t,e){var n=e.nodeName.toLowerCase();"input"===n&&xt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function x(t,e){var i,r=nt(e.createElement(t)).appendTo(e.body),o=n.getDefaultComputedStyle&&(i=n.getDefaultComputedStyle(r[0]))?i.display:nt.css(r[0],"display");return r.detach(),o}function k(t){var e=et,n=Dt[t];return n||(n=x(t,e),"none"!==n&&n||(Rt=(Rt||nt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Rt[0].contentDocument,e.write(),e.close(),n=x(t,e),Rt.detach()),Dt[t]=n),n}function C(t,e,n){var i,r,o,a,s=t.style;return n=n||zt(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||nt.contains(t.ownerDocument,t)||(a=nt.style(t,e)),Lt.test(a)&&Nt.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function S(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=Wt.length;r--;)if((e=Wt[r]+n)in t)return e;return i}function E(t,e,n){var i=Ut.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function T(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=nt.css(t,n+wt[o],!0,r)),i?("content"===n&&(a-=nt.css(t,"padding"+wt[o],!0,r)),"margin"!==n&&(a-=nt.css(t,"border"+wt[o]+"Width",!0,r))):(a+=nt.css(t,"padding"+wt[o],!0,r),"padding"!==n&&(a+=nt.css(t,"border"+wt[o]+"Width",!0,r)));return a}function j(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=zt(t),a="border-box"===nt.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(r=C(t,e,o),(r<0||null==r)&&(r=t.style[e]),Lt.test(r))return r;i=a&&(tt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+T(t,e,n||(a?"border":"content"),i,o)+"px"}function O(t,e){for(var n,i,r,o=[],a=0,s=t.length;a<s;a++)i=t[a],i.style&&(o[a]=mt.get(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&$t(i)&&(o[a]=mt.access(i,"olddisplay",k(i.nodeName)))):(r=$t(i),"none"===n&&r||mt.set(i,"olddisplay",r?n:nt.css(i,"display"))));for(a=0;a<s;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function q(t,e,n,i,r){return new q.prototype.init(t,e,n,i,r)}function P(){return setTimeout(function(){Gt=void 0}),Gt=nt.now()}function M(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=wt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function I(t,e,n){for(var i,r=(Zt[e]||[]).concat(Zt["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function R(t,e,n){var i,r,o,a,s,c,l,u=this,d={},p=t.style,f=t.nodeType&&$t(t),h=mt.get(t,"fxshow");n.queue||(s=nt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,nt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=nt.css(t,"display"),"inline"===("none"===l?mt.get(t,"olddisplay")||k(t.nodeName):l)&&"none"===nt.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],Kt.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!h||void 0===h[i])continue;f=!0}d[i]=h&&h[i]||nt.style(t,i)}else l=void 0;if(nt.isEmptyObject(d))"inline"===("none"===l?k(t.nodeName):l)&&(p.display=l);else{h?"hidden"in h&&(f=h.hidden):h=mt.access(t,"fxshow",{}),o&&(h.hidden=!f),f?nt(t).show():u.done(function(){nt(t).hide()}),u.done(function(){var e;mt.remove(t,"fxshow");for(e in d)nt.style(t,e,d[e])});for(i in d)a=I(f?h[i]:0,i,u),i in h||(h[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function D(t,e){var n,i,r,o,a;for(n in t)if(i=nt.camelCase(n),r=e[i],o=t[n],nt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=nt.cssHooks[i])&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function N(t,e,n){var i,r,o=0,a=Xt.length,s=nt.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=Gt||P(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,a=0,c=l.tweens.length;a<c;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),o<1&&c?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:nt.extend({},e),opts:nt.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Gt||P(),duration:n.duration,tweens:[],createTween:function(e,n){var i=nt.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),u=l.props;for(D(u,l.opts.specialEasing);o<a;o++)if(i=Xt[o].call(l,t,u,l.opts))return i;return nt.map(u,I,l),nt.isFunction(l.opts.start)&&l.opts.start.call(t,l),nt.fx.timer(nt.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function L(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(pt)||[];if(nt.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function z(t,e,n,i){function r(s){var c;return o[s]=!0,nt.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||a||o[l]?a?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),c}var o={},a=t===de;return r(e.dataTypes[0])||!o["*"]&&r("*")}function F(t,e){var n,i,r=nt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&nt.extend(!0,t,i),t}function U(t,e,n){for(var i,r,o,a,s=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}function V(t,e,n,i){var r,o,a,s,c,l={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=l[c+" "+o]||l["* "+o]))for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}function B(t,e,n,i){var r;if(nt.isArray(e))nt.each(e,function(e,r){n||_e.test(t)?i(t,r):B(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==nt.type(e))i(t,e);else for(r in e)B(t+"["+r+"]",e[r],n,i)}function H(t){return nt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var W=[],G=W.slice,Y=W.concat,K=W.push,J=W.indexOf,Q={},X=Q.toString,Z=Q.hasOwnProperty,tt={},et=n.document,nt=function(t,e){return new nt.fn.init(t,e)},it=function(t,e){return e.toUpperCase()};nt.fn=nt.prototype={jquery:"2.1.4",constructor:nt,selector:"",length:0,toArray:function(){return G.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:G.call(this)},pushStack:function(t){var e=nt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return nt.each(this,t,e)},map:function(t){return this.pushStack(nt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:W.sort,splice:W.splice},nt.extend=nt.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||nt.isFunction(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(l&&i&&(nt.isPlainObject(i)||(r=nt.isArray(i)))?(r?(r=!1,o=n&&nt.isArray(n)?n:[]):o=n&&nt.isPlainObject(n)?n:{},a[e]=nt.extend(l,o,i)):void 0!==i&&(a[e]=i));return a},nt.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===nt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!nt.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===nt.type(t)&&!t.nodeType&&!nt.isWindow(t)&&!(t.constructor&&!Z.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Q[X.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=nt.trim(t))&&(1===t.indexOf("use strict")?(e=et.createElement("script"),e.text=t,et.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,it)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i=0,r=t.length,o=a(t);if(n){if(o)for(;i<r&&!1!==e.apply(t[i],n);i++);else for(i in t)if(!1===e.apply(t[i],n))break}else if(o)for(;i<r&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?nt.merge(n,"string"==typeof t?[t]:t):K.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:J.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r=0,o=t.length,s=a(t),c=[];if(s)for(;r<o;r++)null!=(i=e(t[r],r,n))&&c.push(i);else for(r in t)null!=(i=e(t[r],r,n))&&c.push(i);return Y.apply([],c)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),nt.isFunction(t))return i=G.call(arguments,2),r=function(){return t.apply(e||this,i.concat(G.call(arguments)))},r.guid=t.guid=t.guid||nt.guid++,r},now:Date.now,support:tt}),nt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Q["[object "+e+"]"]=e.toLowerCase()});var rt=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,n,i){var r,o,a,s,l,d,p,f,h,_;if((e?e.ownerDocument||e:N)!==j&&T(e),e=e||j,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!i&&q){if(11!==s&&(r=mt.exec(t)))if(a=r[1]){if(9===s){if(!(o=e.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&R(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return J.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&b.getElementsByClassName)return J.apply(n,e.getElementsByClassName(a)),n}if(b.qsa&&(!P||!P.test(t))){if(f=p=D,h=e,_=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(d=x(t),(p=e.getAttribute("id"))?f=p.replace(vt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=d.length;l--;)d[l]=f+u(d[l]);h=gt.test(t)&&c(e.parentNode)||e,_=d.join(",")}if(_)try{return J.apply(n,h.querySelectorAll(_)),n}catch(t){}finally{p||e.removeAttribute("id")}}}return C(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>y.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[D]=!0,t}function r(t){var e=j.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)y.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||H)-(~t.sourceIndex||H);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&void 0!==t.getElementsByTagName&&t}function l(){}function u(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=z++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,c,l=[L,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(c=e[D]||(e[D]={}),(s=c[i])&&s[0]===L&&s[1]===o)return l[2]=s[2];if(c[i]=l,l[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function f(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function h(t,e,n,i,r){for(var o,a=[],s=0,c=t.length,l=null!=e;s<c;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),l&&e.push(s)));return a}function _(t,e,n,r,o,a){return r&&!r[D]&&(r=_(r)),o&&!o[D]&&(o=_(o,a)),i(function(i,a,s,c){var l,u,d,p=[],_=[],m=a.length,g=i||f(e||"*",s.nodeType?[s]:s,[]),v=!t||!i&&e?g:h(g,p,t,s,c),b=n?o||(i?t:m||r)?[]:a:v;if(n&&n(v,b,s,c),r)for(l=h(b,_),r(l,[],s,c),u=l.length;u--;)(d=l[u])&&(b[_[u]]=!(v[_[u]]=d));if(i){if(o||t){if(o){for(l=[],u=b.length;u--;)(d=b[u])&&l.push(v[u]=d);o(null,b=[],l,c)}for(u=b.length;u--;)(d=b[u])&&(l=o?X(i,d):p[u])>-1&&(i[l]=!(a[l]=d))}}else b=h(b===a?b.splice(m,b.length):b),o?o(null,a,b,c):J.apply(a,b)})}function m(t){for(var e,n,i,r=t.length,o=y.relative[t[0].type],a=o||y.relative[" "],s=o?1:0,c=d(function(t){return t===e},a,!0),l=d(function(t){return X(e,t)>-1},a,!0),f=[function(t,n,i){var r=!o&&(i||n!==S)||((e=n).nodeType?c(t,n,i):l(t,n,i));return e=null,r}];s<r;s++)if(n=y.relative[t[s].type])f=[d(p(f),n)];else{if(n=y.filter[t[s].type].apply(null,t[s].matches),n[D]){for(i=++s;i<r&&!y.relative[t[i].type];i++);return _(s>1&&p(f),s>1&&u(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(at,"$1"),n,s<i&&m(t.slice(s,i)),i<r&&m(t=t.slice(i)),i<r&&u(t))}f.push(n)}return p(f)}function g(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,c,l){var u,d,p,f=0,_="0",m=i&&[],g=[],v=S,b=i||o&&y.find.TAG("*",l),w=L+=null==v?1:Math.random()||.1,$=b.length;for(l&&(S=a!==j&&a);_!==$&&null!=(u=b[_]);_++){if(o&&u){for(d=0;p=t[d++];)if(p(u,a,s)){c.push(u);break}l&&(L=w)}r&&((u=!p&&u)&&f--,i&&m.push(u))}if(f+=_,r&&_!==f){for(d=0;p=n[d++];)p(m,g,a,s);if(i){if(f>0)for(;_--;)m[_]||g[_]||(g[_]=Y.call(c));g=h(g)}J.apply(c,g),l&&!i&&g.length>0&&f+n.length>1&&e.uniqueSort(c)}return l&&(L=w,S=v),m};return r?i(a):a}var v,b,y,w,$,x,k,C,S,A,E,T,j,O,q,P,M,I,R,D="sizzle"+1*new Date,N=t.document,L=0,z=0,F=n(),U=n(),V=n(),B=function(t,e){return t===e&&(E=!0),0},H=1<<31,W={}.hasOwnProperty,G=[],Y=G.pop,K=G.push,J=G.push,Q=G.slice,X=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=et.replace("w","w#"),it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+tt+"*\\]",rt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",ot=new RegExp(tt+"+","g"),at=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),st=new RegExp("^"+tt+"*,"+tt+"*"),ct=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ut=new RegExp(rt),dt=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et.replace("w","w*")+")"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,ht=/^h\d$/i,_t=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,vt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),yt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},wt=function(){T()};try{J.apply(G=Q.call(N.childNodes),N.childNodes),G[N.childNodes.length].nodeType}catch(t){J={apply:G.length?function(t,e){K.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}b=e.support={},$=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},T=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:N;return i!==j&&9===i.nodeType&&i.documentElement?(j=i,O=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),q=!$(i),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=_t.test(i.getElementsByClassName),b.getById=r(function(t){return O.appendChild(t).id=D,!i.getElementsByName||!i.getElementsByName(D).length}),b.getById?(y.find.ID=function(t,e){if(void 0!==e.getElementById&&q){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},y.filter.ID=function(t){var e=t.replace(bt,yt);return function(t){return t.getAttribute("id")===e}}):(delete y.find.ID,y.filter.ID=function(t){var e=t.replace(bt,yt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),y.find.TAG=b.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},y.find.CLASS=b.getElementsByClassName&&function(t,e){if(q)return e.getElementsByClassName(t)},M=[],P=[],(b.qsa=_t.test(i.querySelectorAll))&&(r(function(t){O.appendChild(t).innerHTML="<a id='"+D+"'></a><select id='"+D+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+tt+"*(?:value|"+Z+")"),t.querySelectorAll("[id~="+D+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+D+"+*").length||P.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(b.matchesSelector=_t.test(I=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){b.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),M.push("!=",rt)}),P=P.length&&new RegExp(P.join("|")),M=M.length&&new RegExp(M.join("|")),e=_t.test(O.compareDocumentPosition),R=e||_t.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},B=e?function(t,e){if(t===e)return E=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===N&&R(N,t)?-1:e===i||e.ownerDocument===N&&R(N,e)?1:A?X(A,t)-X(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return E=!0,0;var n,r=0,o=t.parentNode,s=e.parentNode,c=[t],l=[e];if(!o||!s)return t===i?-1:e===i?1:o?-1:s?1:A?X(A,t)-X(A,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)c.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;c[r]===l[r];)r++;return r?a(c[r],l[r]):c[r]===N?-1:l[r]===N?1:0},i):j},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==j&&T(t),n=n.replace(lt,"='$1']"),b.matchesSelector&&q&&(!M||!M.test(n))&&(!P||!P.test(n)))try{var i=I.call(t,n);if(i||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,j,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==j&&T(t),R(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==j&&T(t);var n=y.attrHandle[e.toLowerCase()],i=n&&W.call(y.attrHandle,e.toLowerCase())?n(t,e,!q):void 0;return void 0!==i?i:b.attributes||!q?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(E=!b.detectDuplicates,A=!b.sortStable&&t.slice(0),t.sort(B),E){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},w=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=w(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=w(e);return n},y=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ut.test(n)&&(e=x(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=F[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&F(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ot," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var l,u,d,p,f,h,_=o!==a?"nextSibling":"previousSibling",m=e.parentNode,g=s&&e.nodeName.toLowerCase(),v=!c&&!s;if(m){if(o){for(;_;){for(d=e;d=d[_];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;h=_="only"===t&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){for(u=m[D]||(m[D]={}),l=u[t]||[],f=l[0]===L&&l[1],p=l[0]===L&&l[2],d=f&&m.childNodes[f];d=++f&&d&&d[_]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===e){u[t]=[L,f,p];break}}else if(v&&(l=(e[D]||(e[D]={}))[t])&&l[0]===L)p=l[1];else for(;(d=++f&&d&&d[_]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++p||(v&&((d[D]||(d[D]={}))[t]=[L,p]),d!==e)););return(p-=r)===i||p%i==0&&p/i>=0}}},PSEUDO:function(t,n){var r,o=y.pseudos[t]||y.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[D]?o(n):o.length>1?(r=[t,t,"",n],y.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=X(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=k(t.replace(at,"$1"));return r[D]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(bt,yt),function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,yt).toLowerCase(),function(e){var n;do{if(n=q?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!y.pseudos.empty(t)},header:function(t){return ht.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,n){return[n<0?n+e:n]}),even:s(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:s(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:s(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:s(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},y.pseudos.nth=y.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[v]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(v);for(v in{submit:!0,reset:!0})y.pseudos[v]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(v);return l.prototype=y.filters=y.pseudos,y.setFilters=new l,x=e.tokenize=function(t,n){var i,r,o,a,s,c,l,u=U[t+" "];if(u)return n?0:u.slice(0);for(s=t,c=[],l=y.preFilter;s;){i&&!(r=st.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(o=[])),i=!1,(r=ct.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),s=s.slice(i.length));for(a in y.filter)!(r=pt[a].exec(s))||l[a]&&!(r=l[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):U(t,c).slice(0)},k=e.compile=function(t,e){var n,i=[],r=[],o=V[t+" "];if(!o){for(e||(e=x(t)),n=e.length;n--;)o=m(e[n]),o[D]?i.push(o):r.push(o);o=V(t,g(r,i)),o.selector=t}return o},C=e.select=function(t,e,n,i){var r,o,a,s,l,d="function"==typeof t&&t,p=!i&&x(t=d.selector||t);if(n=n||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===e.nodeType&&q&&y.relative[o[1].type]){if(!(e=(y.find.ID(a.matches[0].replace(bt,yt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!y.relative[s=a.type]);)if((l=y.find[s])&&(i=l(a.matches[0].replace(bt,yt),gt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&u(o)))return J.apply(n,i),n;break}}return(d||k(t,p))(i,e,!q,n,gt.test(t)&&c(e.parentNode)||e),n},b.sortStable=D.split("").sort(B).join("")===D,b.detectDuplicates=!!E,T(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(j.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(Z,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(n);nt.find=rt,nt.expr=rt.selectors,nt.expr[":"]=nt.expr.pseudos,nt.unique=rt.uniqueSort,nt.text=rt.getText,nt.isXMLDoc=rt.isXML,nt.contains=rt.contains;var ot=nt.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;nt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?nt.find.matchesSelector(i,t)?[i]:[]:nt.find.matches(t,nt.grep(e,function(t){return 1===t.nodeType}))},nt.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(nt(t).filter(function(){for(e=0;e<n;e++)if(nt.contains(r[e],this))return!0}));for(e=0;e<n;e++)nt.find(t,r[e],i);return i=this.pushStack(n>1?nt.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(s(this,t||[],!1))},not:function(t){return this.pushStack(s(this,t||[],!0))},is:function(t){return!!s(this,"string"==typeof t&&ot.test(t)?nt(t):t||[],!1).length}});var ct,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(nt.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:lt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||ct).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof nt?e[0]:e,nt.merge(this,nt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:et,!0)),at.test(n[1])&&nt.isPlainObject(e))for(n in e)nt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=et.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=et,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):nt.isFunction(t)?void 0!==ct.ready?ct.ready(t):t(nt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),nt.makeArray(t,this))}).prototype=nt.fn,ct=nt(et);var ut=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};nt.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&nt(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),nt.fn.extend({has:function(t){var e=nt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(nt.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=ot.test(t)||"string"!=typeof t?nt(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&nt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?nt.unique(o):o)},index:function(t){return t?"string"==typeof t?J.call(nt(t),this[0]):J.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(nt.unique(nt.merge(this.get(),nt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),nt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return nt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return nt.dir(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return nt.dir(t,"nextSibling")},prevAll:function(t){return nt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return nt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return nt.dir(t,"previousSibling",n)},siblings:function(t){return nt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return nt.sibling(t.firstChild)},contents:function(t){return t.contentDocument||nt.merge([],t.childNodes)}},function(t,e){nt.fn[t]=function(n,i){var r=nt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=nt.filter(i,r)),this.length>1&&(dt[t]||nt.unique(r),ut.test(t)&&r.reverse()),this.pushStack(r)}});var pt=/\S+/g,ft={};nt.Callbacks=function(t){t="string"==typeof t?ft[t]||l(t):nt.extend({},t);var e,n,i,r,o,a,s=[],c=!t.once&&[],u=function(l){for(e=t.memory&&l,n=!0,a=r||0,r=0,o=s.length,i=!0;s&&a<o;a++)if(!1===s[a].apply(l[0],l[1])&&t.stopOnFalse){e=!1;break}i=!1,s&&(c?c.length&&u(c.shift()):e?s=[]:d.disable())},d={add:function(){if(s){var n=s.length;!function e(n){nt.each(n,function(n,i){var r=nt.type(i);"function"===r?t.unique&&d.has(i)||s.push(i):i&&i.length&&"string"!==r&&e(i)})}(arguments),i?o=s.length:e&&(r=n,u(e))}return this},remove:function(){return s&&nt.each(arguments,function(t,e){for(var n;(n=nt.inArray(e,s,n))>-1;)s.splice(n,1),i&&(n<=o&&o--,n<=a&&a--)}),this},has:function(t){return t?nt.inArray(t,s)>-1:!(!s||!s.length)},empty:function(){return s=[],o=0,this},disable:function(){return s=c=e=void 0,this},disabled:function(){return!s},lock:function(){return c=void 0,e||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!s||n&&!c||(e=e||[],e=[t,e.slice?e.slice():e],i?c.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},nt.extend({Deferred:function(t){var e=[["resolve","done",nt.Callbacks("once memory"),"resolved"],["reject","fail",nt.Callbacks("once memory"),"rejected"],["notify","progress",nt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return nt.Deferred(function(n){nt.each(e,function(e,o){var a=nt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&nt.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?nt.extend(t,i):i}},r={};return i.pipe=i.then,nt.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=G.call(arguments),a=o.length,s=1!==a||t&&nt.isFunction(t.promise)?a:0,c=1===s?t:nt.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?G.call(arguments):r,i===e?c.notifyWith(n,i):--s||c.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);r<a;r++)o[r]&&nt.isFunction(o[r].promise)?o[r].promise().done(l(r,i,o)).fail(c.reject).progress(l(r,n,e)):--s;return s||c.resolveWith(i,o),c.promise()}});var ht;nt.fn.ready=function(t){return nt.ready.promise().done(t),this},nt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?nt.readyWait++:nt.ready(!0)},ready:function(t){(!0===t?--nt.readyWait:nt.isReady)||(nt.isReady=!0,!0!==t&&--nt.readyWait>0||(ht.resolveWith(et,[nt]),nt.fn.triggerHandler&&(nt(et).triggerHandler("ready"),nt(et).off("ready"))))}}),nt.ready.promise=function(t){return ht||(ht=nt.Deferred(),"complete"===et.readyState?setTimeout(nt.ready):(et.addEventListener("DOMContentLoaded",u,!1),n.addEventListener("load",u,!1))),ht.promise(t)},nt.ready.promise();var _t=nt.access=function(t,e,n,i,r,o,a){var s=0,c=t.length,l=null==n;if("object"===nt.type(n)){r=!0;for(s in n)nt.access(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,nt.isFunction(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(nt(t),n)})),e))for(;s<c;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):c?e(t[0],n):o};nt.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},d.uid=1,d.accepts=nt.acceptData,d.prototype={key:function(t){if(!d.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=d.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,nt.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=n;else if(nt.isEmptyObject(o))nt.extend(this.cache[r],e);else for(i in e)o[i]=e[i];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,nt.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{nt.isArray(e)?i=e.concat(e.map(nt.camelCase)):(r=nt.camelCase(e),e in a?i=[e,r]:(i=r,i=i in a?[i]:i.match(pt)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(t){return!nt.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var mt=new d,gt=new d,vt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;nt.extend({hasData:function(t){return gt.hasData(t)||mt.hasData(t)},data:function(t,e,n){return gt.access(t,e,n)},removeData:function(t,e){gt.remove(t,e)},_data:function(t,e,n){return mt.access(t,e,n)},_removeData:function(t,e){mt.remove(t,e)}}),nt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=gt.get(o),1===o.nodeType&&!mt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=nt.camelCase(i.slice(5)),p(o,i,r[i])));mt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){gt.set(this,t)}):_t(this,function(e){var n,i=nt.camelCase(t);if(o&&void 0===e){if(void 0!==(n=gt.get(o,t)))return n;if(void 0!==(n=gt.get(o,i)))return n;if(void 0!==(n=p(o,i,void 0)))return n}else this.each(function(){var n=gt.get(this,i);gt.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&gt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){gt.remove(this,t)})}}),nt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=mt.get(t,e),n&&(!i||nt.isArray(n)?i=mt.access(t,e,nt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=nt.queue(t,e),i=n.length,r=n.shift(),o=nt._queueHooks(t,e),a=function(){nt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return mt.get(t,n)||mt.access(t,n,{empty:nt.Callbacks("once memory").add(function(){mt.remove(t,[e+"queue",n])})})}}),nt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?nt.queue(this[0],t):void 0===e?this:this.each(function(){var n=nt.queue(this,t,e);nt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&nt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){nt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=nt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=mt.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var yt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wt=["Top","Right","Bottom","Left"],$t=function(t,e){return t=e||t,"none"===nt.css(t,"display")||!nt.contains(t.ownerDocument,t)},xt=/^(?:checkbox|radio)$/i;!function(){var t=et.createDocumentFragment(),e=t.appendChild(et.createElement("div")),n=et.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),tt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",tt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();tt.focusinBubbles="onfocusin"in n;var kt=/^key/,Ct=/^(?:mouse|pointer|contextmenu)|click/,St=/^(?:focusinfocus|focusoutblur)$/,At=/^([^.]*)(?:\.(.+)|)$/;nt.event={global:{},add:function(t,e,n,i,r){var o,a,s,c,l,u,d,p,f,h,_,m=mt.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=nt.guid++),(c=m.events)||(c=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==nt&&nt.event.triggered!==e.type?nt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pt)||[""],l=e.length;l--;)s=At.exec(e[l])||[],f=_=s[1],h=(s[2]||"").split(".").sort(),f&&(d=nt.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=nt.event.special[f]||{},u=nt.extend({type:f,origType:_,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&nt.expr.match.needsContext.test(r),namespace:h.join(".")},o),(p=c[f])||(p=c[f]=[],p.delegateCount=0,d.setup&&!1!==d.setup.call(t,i,h,a)||t.addEventListener&&t.addEventListener(f,a,!1)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),nt.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,a,s,c,l,u,d,p,f,h,_,m=mt.hasData(t)&&mt.get(t);if(m&&(c=m.events)){for(e=(e||"").match(pt)||[""],l=e.length;l--;)if(s=At.exec(e[l])||[],f=_=s[1],h=(s[2]||"").split(".").sort(),f){for(d=nt.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,p=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)u=p[o],!r&&_!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(t,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(t,h,m.handle)||nt.removeEvent(t,f,m.handle),delete c[f])}else for(f in c)nt.event.remove(t,f+e[l],n,i,!0);nt.isEmptyObject(c)&&(delete m.handle,mt.remove(t,"events"))}},trigger:function(t,e,i,r){var o,a,s,c,l,u,d,p=[i||et],f=Z.call(t,"type")?t.type:t,h=Z.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||et,3!==i.nodeType&&8!==i.nodeType&&!St.test(f+nt.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),l=f.indexOf(":")<0&&"on"+f,t=t[nt.expando]?t:new nt.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:nt.makeArray(e,[t]),d=nt.event.special[f]||{},r||!d.trigger||!1!==d.trigger.apply(i,e))){if(!r&&!d.noBubble&&!nt.isWindow(i)){for(c=d.delegateType||f,St.test(c+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(i.ownerDocument||et)&&p.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?c:d.bindType||f,u=(mt.get(a,"events")||{})[t.type]&&mt.get(a,"handle"),u&&u.apply(a,e),(u=l&&a[l])&&u.apply&&nt.acceptData(a)&&(t.result=u.apply(a,e),!1===t.result&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),e)||!nt.acceptData(i)||l&&nt.isFunction(i[f])&&!nt.isWindow(i)&&(s=i[l],s&&(i[l]=null),nt.event.triggered=f,i[f](),nt.event.triggered=void 0,s&&(i[l]=s)),t.result}},dispatch:function(t){t=nt.event.fix(t);var e,n,i,r,o,a=[],s=G.call(arguments),c=(mt.get(this,"events")||{})[t.type]||[],l=nt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(a=nt.event.handlers.call(this,t,c),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(i=((nt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,c=t.target;if(s&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!==this;c=c.parentNode||this)if(!0!==c.disabled||"click"!==t.type){for(i=[],n=0;n<s;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?nt(r,this).index(c)>=0:nt.find(r,this,null,[c]).length),i[r]&&i.push(o);i.length&&a.push({elem:c,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||et,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[nt.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ct.test(r)?this.mouseHooks:kt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new nt.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=et),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===_()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&nt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return nt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=nt.extend(new nt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?nt.event.trigger(r,null,e):nt.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},nt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},nt.Event=function(t,e){if(!(this instanceof nt.Event))return new nt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?f:h):this.type=t,e&&nt.extend(this,e),this.timeStamp=t&&t.timeStamp||nt.now(),this[nt.expando]=!0},nt.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},nt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){nt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||nt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),tt.focusinBubbles||nt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){nt.event.simulate(e,t.target,nt.event.fix(t),!0)};nt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=mt.access(i,e);r||i.addEventListener(t,n,!0),mt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=mt.access(i,e)-1;r?mt.access(i,e,r):(i.removeEventListener(t,n,!0),mt.remove(i,e))}}}),nt.fn.extend({on:function(t,e,n,i,r){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=h;else if(!i)return this;return 1===r&&(o=i,i=function(t){return nt().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=nt.guid++)),this.each(function(){nt.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,nt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=h),this.each(function(){nt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){nt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return nt.event.trigger(t,e,n,!0)}});var Et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Tt=/<([\w:]+)/,jt=/<|&#?\w+;/,Ot=/<(?:script|style|link)/i,qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^$|\/(?:java|ecma)script/i,Mt=/^true\/(.*)/,It={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};It.optgroup=It.option,It.tbody=It.tfoot=It.colgroup=It.caption=It.thead,It.th=It.td,nt.extend({clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),c=nt.contains(t.ownerDocument,t);if(!(tt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||nt.isXMLDoc(t)))for(a=w(s),o=w(t),i=0,r=o.length;i<r;i++)$(o[i],a[i]);if(e)if(n)for(o=o||w(t),a=a||w(s),i=0,r=o.length;i<r;i++)y(o[i],a[i]);else y(t,s);return a=w(s,"script"),a.length>0&&b(a,!c&&w(t,"script")),s},buildFragment:function(t,e,n,i){for(var r,o,a,s,c,l,u=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((r=t[p])||0===r)if("object"===nt.type(r))nt.merge(d,r.nodeType?[r]:r);else if(jt.test(r)){for(o=o||u.appendChild(e.createElement("div")),a=(Tt.exec(r)||["",""])[1].toLowerCase(),s=It[a]||It._default,o.innerHTML=s[1]+r.replace(Et,"<$1></$2>")+s[2],l=s[0];l--;)o=o.lastChild;nt.merge(d,o.childNodes),o=u.firstChild,o.textContent=""}else d.push(e.createTextNode(r));for(u.textContent="",p=0;r=d[p++];)if((!i||-1===nt.inArray(r,i))&&(c=nt.contains(r.ownerDocument,r),o=w(u.appendChild(r),"script"),c&&b(o),n))for(l=0;r=o[l++];)Pt.test(r.type||"")&&n.push(r);return u},cleanData:function(t){for(var e,n,i,r,o=nt.event.special,a=0;void 0!==(n=t[a]);a++){if(nt.acceptData(n)&&(r=n[mt.expando])&&(e=mt.cache[r])){if(e.events)for(i in e.events)o[i]?nt.event.remove(n,i):nt.removeEvent(n,i,e.handle);mt.cache[r]&&delete mt.cache[r]}delete gt.cache[n[gt.expando]]}}}),nt.fn.extend({text:function(t){return _t(this,function(t){return void 0===t?nt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){m(this,t).appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?nt.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||nt.cleanData(w(n)),n.parentNode&&(e&&nt.contains(n.ownerDocument,n)&&b(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(nt.cleanData(w(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return nt.clone(this,t,e)})},html:function(t){return _t(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ot.test(t)&&!It[(Tt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Et,"<$1></$2>");try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(nt.cleanData(w(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,nt.cleanData(w(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Y.apply([],t);var n,i,r,o,a,s,c=0,l=this.length,u=this,d=l-1,p=t[0],f=nt.isFunction(p);if(f||l>1&&"string"==typeof p&&!tt.checkClone&&qt.test(p))return this.each(function(n){var i=u.eq(n);f&&(t[0]=p.call(this,n,i.html())),i.domManip(t,e)});if(l&&(n=nt.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=nt.map(w(n,"script"),g),o=r.length;c<l;c++)a=n,c!==d&&(a=nt.clone(a,!0,!0),o&&nt.merge(r,w(a,"script"))),e.call(this[c],a,c);if(o)for(s=r[r.length-1].ownerDocument,nt.map(r,v),c=0;c<o;c++)a=r[c],Pt.test(a.type||"")&&!mt.access(a,"globalEval")&&nt.contains(s,a)&&(a.src?nt._evalUrl&&nt._evalUrl(a.src):nt.globalEval(a.textContent.replace(/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,"")))}return this}}),nt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){nt.fn[t]=function(t){for(var n,i=[],r=nt(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),nt(r[a])[e](n),K.apply(i,n.get());return this.pushStack(i)}});var Rt,Dt={},Nt=/^margin/,Lt=new RegExp("^("+yt+")(?!px)[a-z%]+$","i"),zt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):n.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(o);var t=n.getComputedStyle(a,null);e="1%"!==t.top,i="4px"===t.width,r.removeChild(o)}var e,i,r=et.documentElement,o=et.createElement("div"),a=et.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",tt.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),n.getComputedStyle&&nt.extend(tt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,e=a.appendChild(et.createElement("div"));return e.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",a.style.width="1px",r.appendChild(o),t=!parseFloat(n.getComputedStyle(e,null).marginRight),r.removeChild(o),a.removeChild(e),t}}))}(),nt.swap=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r};var Ft=/^(none|table(?!-c[ea]).+)/,Ut=new RegExp("^("+yt+")(.*)$","i"),Vt=new RegExp("^([+-])=("+yt+")","i"),Bt={position:"absolute",visibility:"hidden",display:"block"},Ht={letterSpacing:"0",fontWeight:"400"},Wt=["Webkit","O","Moz","ms"];nt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=C(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=nt.camelCase(e),c=t.style;if(e=nt.cssProps[s]||(nt.cssProps[s]=A(c,s)),a=nt.cssHooks[e]||nt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:c[e];o=typeof n,"string"===o&&(r=Vt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(nt.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||nt.cssNumber[s]||(n+="px"),tt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(c[e]=n))}},css:function(t,e,n,i){var r,o,a,s=nt.camelCase(e);return e=nt.cssProps[s]||(nt.cssProps[s]=A(t.style,s)),a=nt.cssHooks[e]||nt.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=C(t,e,i)),"normal"===r&&e in Ht&&(r=Ht[e]),""===n||n?(o=parseFloat(r),!0===n||nt.isNumeric(o)?o||0:r):r}}),nt.each(["height","width"],function(t,e){nt.cssHooks[e]={get:function(t,n,i){if(n)return Ft.test(nt.css(t,"display"))&&0===t.offsetWidth?nt.swap(t,Bt,function(){return j(t,e,i)}):j(t,e,i)},set:function(t,n,i){var r=i&&zt(t);return E(t,n,i?T(t,e,i,"border-box"===nt.css(t,"boxSizing",!1,r),r):0)}}}),nt.cssHooks.marginRight=S(tt.reliableMarginRight,function(t,e){if(e)return nt.swap(t,{display:"inline-block"},C,[t,"marginRight"])}),nt.each({margin:"",padding:"",border:"Width"},function(t,e){nt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+wt[i]+e]=o[i]||o[i-2]||o[0];return r}},Nt.test(t)||(nt.cssHooks[t+e].set=E)}),nt.fn.extend({css:function(t,e){return _t(this,function(t,e,n){var i,r,o={},a=0;if(nt.isArray(e)){for(i=zt(t),r=e.length;a<r;a++)o[e[a]]=nt.css(t,e[a],!1,i);return o}return void 0!==n?nt.style(t,e,n):nt.css(t,e)},t,e,arguments.length>1)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$t(this)?nt(this).show():nt(this).hide()})}}),nt.Tween=q,q.prototype={constructor:q,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(nt.cssNumber[n]?"":"px")},cur:function(){var t=q.propHooks[this.prop];return t&&t.get?t.get(this):q.propHooks._default.get(this)},run:function(t){var e,n=q.propHooks[this.prop];return this.options.duration?this.pos=e=nt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=nt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){nt.fx.step[t.prop]?nt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[nt.cssProps[t.prop]]||nt.cssHooks[t.prop])?nt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},nt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},nt.fx=q.prototype.init,nt.fx.step={};var Gt,Yt,Kt=/^(?:toggle|show|hide)$/,Jt=new RegExp("^(?:([+-])=|)("+yt+")([a-z%]*)$","i"),Qt=/queueHooks$/,Xt=[R],Zt={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=Jt.exec(e),o=r&&r[3]||(nt.cssNumber[t]?"":"px"),a=(nt.cssNumber[t]||"px"!==o&&+i)&&Jt.exec(nt.css(n.elem,t)),s=1,c=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do{s=s||".5",a/=s,nt.style(n.elem,t,a+o)}while(s!==(s=n.cur()/i)&&1!==s&&--c)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};nt.Animation=nt.extend(N,{tweener:function(t,e){nt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;i<r;i++)n=t[i],Zt[n]=Zt[n]||[],Zt[n].unshift(e)},prefilter:function(t,e){e?Xt.unshift(t):Xt.push(t)}}),nt.speed=function(t,e,n){var i=t&&"object"==typeof t?nt.extend({},t):{complete:n||!n&&e||nt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!nt.isFunction(e)&&e};return i.duration=nt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in nt.fx.speeds?nt.fx.speeds[i.duration]:nt.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){nt.isFunction(i.old)&&i.old.call(this),i.queue&&nt.dequeue(this,i.queue)},i},nt.fn.extend({fadeTo:function(t,e,n,i){return this.filter($t).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=nt.isEmptyObject(t),o=nt.speed(e,n,i),a=function(){var e=N(this,nt.extend({},t),o);(r||mt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=nt.timers,a=mt.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&Qt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||nt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=mt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=nt.timers,a=i?i.length:0;for(n.finish=!0,nt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),nt.each(["toggle","show","hide"],function(t,e){var n=nt.fn[e];nt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(M(e,!0),t,i,r)}}),nt.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){nt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),nt.timers=[],nt.fx.tick=function(){var t,e=0,n=nt.timers;for(Gt=nt.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||nt.fx.stop(),Gt=void 0},nt.fx.timer=function(t){nt.timers.push(t),t()?nt.fx.start():nt.timers.pop()},nt.fx.interval=13,nt.fx.start=function(){Yt||(Yt=setInterval(nt.fx.tick,nt.fx.interval))},nt.fx.stop=function(){clearInterval(Yt),Yt=null},nt.fx.speeds={slow:600,fast:200,_default:400},nt.fn.delay=function(t,e){return t=nt.fx?nt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=et.createElement("input"),e=et.createElement("select"),n=e.appendChild(et.createElement("option"));t.type="checkbox",tt.checkOn=""!==t.value,tt.optSelected=n.selected,e.disabled=!0,tt.optDisabled=!n.disabled,t=et.createElement("input"),t.value="t",t.type="radio",tt.radioValue="t"===t.value}();var te,ee=nt.expr.attrHandle;nt.fn.extend({attr:function(t,e){return _t(this,nt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){nt.removeAttr(this,t)})}}),nt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?nt.prop(t,e,n):(1===o&&nt.isXMLDoc(t)||(e=e.toLowerCase(),i=nt.attrHooks[e]||(nt.expr.match.bool.test(e)?te:void 0)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=nt.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void nt.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(pt);if(o&&1===t.nodeType)for(;n=o[r++];)i=nt.propFix[n]||n,nt.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!tt.radioValue&&"radio"===e&&nt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),te={set:function(t,e,n){return!1===e?nt.removeAttr(t,n):t.setAttribute(n,n),n}},nt.each(nt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ee[e]||nt.find.attr;ee[e]=function(t,e,i){var r,o;return i||(o=ee[e],ee[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,ee[e]=o),r}});var ne=/^(?:input|select|textarea|button)$/i;nt.fn.extend({prop:function(t,e){return _t(this,nt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[nt.propFix[t]||t]})}}),nt.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var i,r,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!nt.isXMLDoc(t),o&&(e=nt.propFix[e]||e,r=nt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ne.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),tt.optSelected||(nt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),nt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){nt.propFix[this.toLowerCase()]=this});nt.fn.extend({addClass:function(t){var e,n,i,r,o,a,s="string"==typeof t&&t,c=0,l=this.length;if(nt.isFunction(t))return this.each(function(e){nt(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pt)||[];c<l;c++)if(n=this[c],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(/[\t\r\n\f]/g," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=nt.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0===arguments.length||"string"==typeof t&&t,c=0,l=this.length;if(nt.isFunction(t))return this.each(function(e){nt(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pt)||[];c<l;c++)if(n=this[c],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(/[\t\r\n\f]/g," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=t?nt.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):nt.isFunction(t)?this.each(function(n){nt(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=nt(this),o=t.match(pt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else"undefined"!==n&&"boolean"!==n||(this.className&&mt.set(this,"__className__",this.className),this.className=this.className||!1===t?"":mt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(/[\t\r\n\f]/g," ").indexOf(e)>=0)return!0;return!1}});nt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=nt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,nt(this).val()):t,null==r?r="":"number"==typeof r?r+="":nt.isArray(r)&&(r=nt.map(r,function(t){return null==t?"":t+""})),(e=nt.valHooks[this.type]||nt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=nt.valHooks[r.type]||nt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(/\r/g,""):null==n?"":n)}}}),nt.extend({valHooks:{option:{get:function(t){var e=nt.find.attr(t,"value");return null!=e?e:nt.trim(nt.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,a=o?null:[],s=o?r+1:i.length,c=r<0?s:o?r:0;c<s;c++)if(n=i[c],(n.selected||c===r)&&(tt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!nt.nodeName(n.parentNode,"optgroup"))){if(e=nt(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=nt.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=nt.inArray(i.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),nt.each(["radio","checkbox"],function(){nt.valHooks[this]={set:function(t,e){if(nt.isArray(e))return t.checked=nt.inArray(nt(t).val(),e)>=0}},tt.checkOn||(nt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),nt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){nt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),nt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ie=nt.now(),re=/\?/;nt.parseJSON=function(t){return JSON.parse(t+"")},nt.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||nt.error("Invalid XML: "+t),e};var oe=/([?&])_=[^&]*/,ae=/^(.*?):[ \t]*([^\r\n]*)$/gm,se=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ce=/^(?:GET|HEAD)$/,le=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ue={},de={},pe="*/".concat("*"),fe=n.location.href,he=le.exec(fe.toLowerCase())||[];nt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fe,type:"GET",isLocal:se.test(he[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":nt.parseJSON,"text xml":nt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?F(F(t,nt.ajaxSettings),e):F(nt.ajaxSettings,t)},ajaxPrefilter:L(ue),ajaxTransport:L(de),ajax:function(t,e){function n(t,e,n,a){var c,u,g,v,y,$=e;2!==b&&(b=2,s&&clearTimeout(s),i=void 0,o=a||"",w.readyState=t>0?4:0,c=t>=200&&t<300||304===t,n&&(v=U(d,w,n)),v=V(d,v,w,c),c?(d.ifModified&&(y=w.getResponseHeader("Last-Modified"),y&&(nt.lastModified[r]=y),(y=w.getResponseHeader("etag"))&&(nt.etag[r]=y)),204===t||"HEAD"===d.type?$="nocontent":304===t?$="notmodified":($=v.state,u=v.data,g=v.error,c=!g)):(g=$,!t&&$||($="error",t<0&&(t=0))),w.status=t,w.statusText=(e||$)+"",c?h.resolveWith(p,[u,$,w]):h.rejectWith(p,[w,$,g]),w.statusCode(m),m=void 0,l&&f.trigger(c?"ajaxSuccess":"ajaxError",[w,d,c?u:g]),_.fireWith(p,[w,$]),l&&(f.trigger("ajaxComplete",[w,d]),--nt.active||nt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,s,c,l,u,d=nt.ajaxSetup({},e),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?nt(p):nt.event,h=nt.Deferred(),_=nt.Callbacks("once memory"),m=d.statusCode||{},g={},v={},b=0,y="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!a)for(a={};e=ae.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=v[n]=v[n]||t,g[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)m[e]=[m[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||y;return i&&i.abort(e),n(0,e),this}};if(h.promise(w).complete=_.add,w.success=w.done,w.error=w.fail,d.url=((t||d.url||fe)+"").replace(/#.*$/,"").replace(/^\/\//,he[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=nt.trim(d.dataType||"*").toLowerCase().match(pt)||[""],null==d.crossDomain&&(c=le.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]===he[1]&&c[2]===he[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(he[3]||("http:"===he[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=nt.param(d.data,d.traditional)),z(ue,d,e,w),2===b)return w;l=nt.event&&d.global,l&&0==nt.active++&&nt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!ce.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(re.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=oe.test(r)?r.replace(oe,"$1_="+ie++):r+(re.test(r)?"&":"?")+"_="+ie++)),d.ifModified&&(nt.lastModified[r]&&w.setRequestHeader("If-Modified-Since",nt.lastModified[r]),nt.etag[r]&&w.setRequestHeader("If-None-Match",nt.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+pe+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)w.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(!1===d.beforeSend.call(p,w,d)||2===b))return w.abort();y="abort";for(u in{success:1,error:1,complete:1})w[u](d[u]);if(i=z(de,d,e,w)){w.readyState=1,l&&f.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,i.send(g,n)}catch(t){if(!(b<2))throw t;n(-1,t)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return nt.get(t,e,n,"json")},getScript:function(t,e){return nt.get(t,void 0,e,"script")}}),nt.each(["get","post"],function(t,e){nt[e]=function(t,n,i,r){return nt.isFunction(n)&&(r=r||i,i=n,n=void 0),nt.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),nt._evalUrl=function(t){return nt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},nt.fn.extend({wrapAll:function(t){var e;return nt.isFunction(t)?this.each(function(e){nt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=nt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return nt.isFunction(t)?this.each(function(e){nt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=nt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=nt.isFunction(t);return this.each(function(n){nt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){nt.nodeName(this,"body")||nt(this).replaceWith(this.childNodes)}).end()}}),nt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},nt.expr.filters.visible=function(t){return!nt.expr.filters.hidden(t)};var _e=/\[\]$/,me=/^(?:submit|button|image|reset|file)$/i,ge=/^(?:input|select|textarea|keygen)/i;nt.param=function(t,e){var n,i=[],r=function(t,e){e=nt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=nt.ajaxSettings&&nt.ajaxSettings.traditional),nt.isArray(t)||t.jquery&&!nt.isPlainObject(t))nt.each(t,function(){r(this.name,this.value)});else for(n in t)B(n,t[n],e,r);return i.join("&").replace(/%20/g,"+")},nt.fn.extend({serialize:function(){return nt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=nt.prop(this,"elements");return t?nt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!nt(this).is(":disabled")&&ge.test(this.nodeName)&&!me.test(t)&&(this.checked||!xt.test(t))}).map(function(t,e){var n=nt(this).val();return null==n?null:nt.isArray(n)?nt.map(n,function(t){return{name:e.name,value:t.replace(/\r?\n/g,"\r\n")}}):{name:e.name,value:n.replace(/\r?\n/g,"\r\n")}}).get()}}),nt.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var ve=0,be={},ye={0:200,1223:204},we=nt.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",function(){for(var t in be)be[t]()}),tt.cors=!!we&&"withCredentials"in we,tt.ajax=we=!!we,nt.ajaxTransport(function(t){var e;if(tt.cors||we&&!t.crossDomain)return{send:function(n,i){var r,o=t.xhr(),a=++ve;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);e=function(t){return function(){e&&(delete be[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?i(o.status,o.statusText):i(ye[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=be[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),nt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return nt.globalEval(t),t}}}),nt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),nt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=nt("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),et.head.appendChild(e[0])},abort:function(){n&&n()}}}});var $e=[],xe=/(=)\?(?=&|$)|\?\?/;nt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||nt.expando+"_"+ie++;return this[t]=!0,t}}),nt.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,a,s=!1!==t.jsonp&&(xe.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&xe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=nt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(xe,"$1"+r):!1!==t.jsonp&&(t.url+=(re.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||nt.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,$e.push(r)),a&&nt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),nt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||et;var i=at.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=nt.buildFragment([t],e,r),r&&r.length&&nt(r).remove(),nt.merge([],i.childNodes))};var ke=nt.fn.load;nt.fn.load=function(t,e,n){if("string"!=typeof t&&ke)return ke.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return s>=0&&(i=nt.trim(t.slice(s)),t=t.slice(0,s)),nt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&nt.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?nt("<div>").append(nt.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},nt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){nt.fn[e]=function(t){return this.on(e,t)}}),nt.expr.filters.animated=function(t){return nt.grep(nt.timers,function(e){return t===e.elem}).length};var Ce=n.document.documentElement;nt.offset={setOffset:function(t,e,n){var i,r,o,a,s,c,l,u=nt.css(t,"position"),d=nt(t),p={};"static"===u&&(t.style.position="relative"),s=d.offset(),o=nt.css(t,"top"),c=nt.css(t,"left"),l=("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1,l?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(c)||0),nt.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(p.top=e.top-s.top+a),null!=e.left&&(p.left=e.left-s.left+r),"using"in e?e.using.call(t,p):d.css(p)}},nt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){nt.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,nt.contains(e,i)?(void 0!==i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=H(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===nt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),nt.nodeName(t[0],"html")||(i=t.offset()),i.top+=nt.css(t[0],"borderTopWidth",!0),i.left+=nt.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-nt.css(n,"marginTop",!0),left:e.left-i.left-nt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Ce;t&&!nt.nodeName(t,"html")&&"static"===nt.css(t,"position");)t=t.offsetParent;return t||Ce})}}),nt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;nt.fn[t]=function(r){return _t(this,function(t,r,o){var a=H(t);if(void 0===o)return a?a[e]:t[r];a?a.scrollTo(i?n.pageXOffset:o,i?o:n.pageYOffset):t[r]=o},t,r,arguments.length,null)}}),nt.each(["top","left"],function(t,e){nt.cssHooks[e]=S(tt.pixelPosition,function(t,n){if(n)return n=C(t,e),Lt.test(n)?nt(t).position()[e]+"px":n})}),nt.each({Height:"height",Width:"width"},function(t,e){nt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){nt.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===r?"margin":"border");return _t(this,function(e,n,i){var r;return nt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?nt.css(e,n,a):nt.style(e,n,i,a)},e,o?i:void 0,o,null)}})}),nt.fn.size=function(){return this.length},nt.fn.andSelf=nt.fn.addBack,i=[],void 0!==(r=function(){return nt}.apply(e,i))&&(t.exports=r);var Se=n.jQuery,Ae=n.$;return nt.noConflict=function(t){return n.$===nt&&(n.$=Ae),t&&n.jQuery===nt&&(n.jQuery=Se),nt},void 0===o&&(n.jQuery=n.$=nt),nt})},,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(t,i){var r;(function(){function o(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function c(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function l(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function u(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function d(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function p(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function f(t,e){return!!(null==t?0:t.length)&&k(t,e,0)>-1}function h(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function _(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function m(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function g(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function v(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function b(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function y(t){return t.split("")}function w(t){return t.match(De)||[]}function $(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function x(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function k(t,e,n){return e===e?Q(t,e,n):x(t,S,n)}function C(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function S(t){return t!==t}function A(t,e){var n=null==t?0:t.length;return n?q(t,e)/n:It}function E(t){return function(e){return null==e?rt:e[t]}}function T(t){return function(e){return null==t?rt:t[e]}}function j(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function O(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function q(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==rt&&(n=n===rt?o:n+o)}return n}function P(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function M(t,e){return _(e,function(e){return[e,t[e]]})}function I(t){return function(e){return t(e)}}function R(t,e){return _(e,function(e){return t[e]})}function D(t,e){return t.has(e)}function N(t,e){for(var n=-1,i=t.length;++n<i&&k(e,t[n],0)>-1;);return n}function L(t,e){for(var n=t.length;n--&&k(e,t[n],0)>-1;);return n}function z(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function F(t){return"\\"+$n[t]}function U(t,e){return null==t?rt:t[e]}function V(t){return fn.test(t)}function B(t){return hn.test(t)}function H(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function G(t,e){return function(n){return t(e(n))}}function Y(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==ut||(t[n]=ut,o[r++]=n)}return o}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function J(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Q(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function X(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function Z(t){return V(t)?et(t):Ln(t)}function tt(t){return V(t)?nt(t):y(t)}function et(t){for(var e=dn.lastIndex=0;dn.test(t);)++e;return e}function nt(t){return t.match(dn)||[]}function it(t){return t.match(pn)||[]}var rt,ot=200,at="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",st="Expected a function",ct="__lodash_hash_undefined__",lt=500,ut="__lodash_placeholder__",dt=1,pt=2,ft=4,ht=1,_t=2,mt=1,gt=2,vt=4,bt=8,yt=16,wt=32,$t=64,xt=128,kt=256,Ct=512,St=30,At="...",Et=800,Tt=16,jt=1,Ot=2,qt=1/0,Pt=9007199254740991,Mt=1.7976931348623157e308,It=NaN,Rt=4294967295,Dt=Rt-1,Nt=Rt>>>1,Lt=[["ary",xt],["bind",mt],["bindKey",gt],["curry",bt],["curryRight",yt],["flip",Ct],["partial",wt],["partialRight",$t],["rearg",kt]],zt="[object Arguments]",Ft="[object Array]",Ut="[object AsyncFunction]",Vt="[object Boolean]",Bt="[object Date]",Ht="[object DOMException]",Wt="[object Error]",Gt="[object Function]",Yt="[object GeneratorFunction]",Kt="[object Map]",Jt="[object Number]",Qt="[object Null]",Xt="[object Object]",Zt="[object Proxy]",te="[object RegExp]",ee="[object Set]",ne="[object String]",ie="[object Symbol]",re="[object Undefined]",oe="[object WeakMap]",ae="[object WeakSet]",se="[object ArrayBuffer]",ce="[object DataView]",le="[object Float32Array]",ue="[object Float64Array]",de="[object Int8Array]",pe="[object Int16Array]",fe="[object Int32Array]",he="[object Uint8Array]",_e="[object Uint8ClampedArray]",me="[object Uint16Array]",ge="[object Uint32Array]",ve=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,we=/&(?:amp|lt|gt|quot|#39);/g,$e=/[&<>"']/g,xe=RegExp(we.source),ke=RegExp($e.source),Ce=/<%=([\s\S]+?)%>/g,Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ae=/^\w*$/,Ee=/^\./,Te=/[\\^$.*+?()[\]{}|]/g,je=RegExp(Te.source),Oe=/^\s+|\s+$/g,qe=/^\s+/,Pe=/\s+$/,Me=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ie=/\{\n\/\* \[wrapped with (.+)\] \*/,Re=/,? & /,De=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Le=/\w*$/,ze=/^[-+]0x[0-9a-f]+$/i,Fe=/^0b[01]+$/i,Ue=/^\[object .+?Constructor\]$/,Ve=/^0o[0-7]+$/i,Be=/^(?:0|[1-9]\d*)$/,He=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,We=/($^)/,Ge=/['\n\r\u2028\u2029\\]/g,Ye="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Je="["+Ye+"]",Qe="[a-z\\xdf-\\xf6\\xf8-\\xff]",Xe="[^\\ud800-\\udfff"+Ke+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ze="\\ud83c[\\udffb-\\udfff]",tn="(?:\\ud83c[\\udde6-\\uddff]){2}",en="[\\ud800-\\udbff][\\udc00-\\udfff]",nn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rn="(?:"+Je+"|"+Ze+")?",on="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",tn,en].join("|")+")[\\ufe0e\\ufe0f]?"+rn+")*",an="[\\ufe0e\\ufe0f]?"+rn+on,sn="(?:"+["[\\u2700-\\u27bf]",tn,en].join("|")+")"+an,cn="(?:"+["[^\\ud800-\\udfff]"+Je+"?",Je,tn,en,"[\\ud800-\\udfff]"].join("|")+")",ln=RegExp("['’]","g"),un=RegExp(Je,"g"),dn=RegExp(Ze+"(?="+Ze+")|"+cn+an,"g"),pn=RegExp([nn+"?"+Qe+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+["["+Ke+"]",nn,"$"].join("|")+")","(?:"+nn+"|"+Xe+")+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+["["+Ke+"]",nn+"(?:"+Qe+"|"+Xe+")","$"].join("|")+")",nn+"?(?:"+Qe+"|"+Xe+")+(?:['’](?:d|ll|m|re|s|t|ve))?",nn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",sn].join("|"),"g"),fn=RegExp("[\\u200d\\ud800-\\udfff"+Ye+"\\ufe0e\\ufe0f]"),hn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_n=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mn=-1,gn={};gn[le]=gn[ue]=gn[de]=gn[pe]=gn[fe]=gn[he]=gn[_e]=gn[me]=gn[ge]=!0,gn[zt]=gn[Ft]=gn[se]=gn[Vt]=gn[ce]=gn[Bt]=gn[Wt]=gn[Gt]=gn[Kt]=gn[Jt]=gn[Xt]=gn[te]=gn[ee]=gn[ne]=gn[oe]=!1;var vn={};vn[zt]=vn[Ft]=vn[se]=vn[ce]=vn[Vt]=vn[Bt]=vn[le]=vn[ue]=vn[de]=vn[pe]=vn[fe]=vn[Kt]=vn[Jt]=vn[Xt]=vn[te]=vn[ee]=vn[ne]=vn[ie]=vn[he]=vn[_e]=vn[me]=vn[ge]=!0,vn[Wt]=vn[Gt]=vn[oe]=!1;var bn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},yn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$n={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xn=parseFloat,kn=parseInt,Cn="object"==typeof t&&t&&t.Object===Object&&t,Sn="object"==typeof self&&self&&self.Object===Object&&self,An=Cn||Sn||Function("return this")(),En="object"==typeof e&&e&&!e.nodeType&&e,Tn=En&&"object"==typeof i&&i&&!i.nodeType&&i,jn=Tn&&Tn.exports===En,On=jn&&Cn.process,qn=function(){try{return On&&On.binding&&On.binding("util")}catch(t){}}(),Pn=qn&&qn.isArrayBuffer,Mn=qn&&qn.isDate,In=qn&&qn.isMap,Rn=qn&&qn.isRegExp,Dn=qn&&qn.isSet,Nn=qn&&qn.isTypedArray,Ln=E("length"),zn=T(bn),Fn=T(yn),Un=T(wn),Vn=function t(e){function n(t){if(tc(t)&&!dp(t)&&!(t instanceof y)){if(t instanceof r)return t;if(du.call(t,"__wrapped__"))return Qo(t)}return new r(t)}function i(){}function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=rt}function y(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Rt,this.__views__=[]}function T(){var t=new y(this.__wrapped__);return t.__actions__=Mr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Mr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Mr(this.__views__),t}function Q(){if(this.__filtered__){var t=new y(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,n=dp(t),i=e<0,r=n?t.length:0,o=wo(0,r,this.__views__),a=o.start,s=o.end,c=s-a,l=i?s:a-1,u=this.__iteratees__,d=u.length,p=0,f=Fu(c,this.__takeCount__);if(!n||r<ot||r==c&&f==c)return _r(t,this.__actions__);var h=[];t:for(;c--&&p<f;){l+=e;for(var _=-1,m=t[l];++_<d;){var g=u[_],v=g.iteratee,b=g.type,y=v(m);if(b==Ot)m=y;else if(!y){if(b==jt)continue t;break t}}h[p++]=m}return h}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function De(){this.__data__=Qu?Qu(null):{},this.size=0}function Ye(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ke(t){var e=this.__data__;if(Qu){var n=e[t];return n===ct?rt:n}return du.call(e,t)?e[t]:rt}function Je(t){var e=this.__data__;return Qu?e[t]!==rt:du.call(e,t)}function Qe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qu&&e===rt?ct:e,this}function Xe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ze(){this.__data__=[],this.size=0}function tn(t){var e=this.__data__,n=Gn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Cu.call(e,n,1),--this.size,!0)}function en(t){var e=this.__data__,n=Gn(e,t);return n<0?rt:e[n][1]}function nn(t){return Gn(this.__data__,t)>-1}function rn(t,e){var n=this.__data__,i=Gn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function on(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function an(){this.size=0,this.__data__={hash:new nt,map:new(Gu||Xe),string:new nt}}function sn(t){var e=go(this,t).delete(t);return this.size-=e?1:0,e}function cn(t){return go(this,t).get(t)}function dn(t){return go(this,t).has(t)}function pn(t,e){var n=go(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function fn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new on;++e<n;)this.add(t[e])}function hn(t){return this.__data__.set(t,ct),this}function bn(t){return this.__data__.has(t)}function yn(t){var e=this.__data__=new Xe(t);this.size=e.size}function wn(){this.__data__=new Xe,this.size=0}function $n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Cn(t){return this.__data__.get(t)}function Sn(t){return this.__data__.has(t)}function En(t,e){var n=this.__data__;if(n instanceof Xe){var i=n.__data__;if(!Gu||i.length<ot-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new on(i)}return n.set(t,e),this.size=n.size,this}function Tn(t,e){var n=dp(t),i=!n&&up(t),r=!n&&!i&&fp(t),o=!n&&!i&&!r&&vp(t),a=n||i||r||o,s=a?P(t.length,ru):[],c=s.length;for(var l in t)!e&&!du.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||To(l,c))||s.push(l);return s}function On(t){var e=t.length;return e?t[Ji(0,e-1)]:rt}function qn(t,e){return Go(Mr(t),Zn(e,0,t.length))}function Ln(t){return Go(Mr(t))}function Bn(t,e,n,i){return t===rt||zs(t,cu[n])&&!du.call(i,n)?e:t}function Hn(t,e,n){(n===rt||zs(t[e],n))&&(n!==rt||e in t)||Qn(t,e,n)}function Wn(t,e,n){var i=t[e];du.call(t,e)&&zs(i,n)&&(n!==rt||e in t)||Qn(t,e,n)}function Gn(t,e){for(var n=t.length;n--;)if(zs(t[n][0],e))return n;return-1}function Yn(t,e,n,i){return ld(t,function(t,r,o){e(i,t,n(t),o)}),i}function Kn(t,e){return t&&Ir(e,Ic(e),t)}function Jn(t,e){return t&&Ir(e,Rc(e),t)}function Qn(t,e,n){"__proto__"==e&&Tu?Tu(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Xn(t,e){for(var n=-1,i=e.length,r=Ql(i),o=null==t;++n<i;)r[n]=o?rt:qc(t,e[n]);return r}function Zn(t,e,n){return t===t&&(n!==rt&&(t=t<=n?t:n),e!==rt&&(t=t>=e?t:e)),t}function ti(t,e,n,i,r,o){var a,s=e&dt,c=e&pt,u=e&ft;if(n&&(a=r?n(t,i,r,o):n(t)),a!==rt)return a;if(!Zs(t))return t;var d=dp(t);if(d){if(a=ko(t),!s)return Mr(t,a)}else{var p=wd(t),f=p==Gt||p==Yt;if(fp(t))return $r(t,s);if(p==Xt||p==zt||f&&!r){if(a=c||f?{}:Co(t),!s)return c?Dr(t,Jn(a,t)):Rr(t,Kn(a,t))}else{if(!vn[p])return r?t:{};a=So(t,p,ti,s)}}o||(o=new yn);var h=o.get(t);if(h)return h;o.set(t,a);var _=u?c?fo:po:c?Rc:Ic,m=d?rt:_(t);return l(m||t,function(i,r){m&&(r=i,i=t[r]),Wn(a,r,ti(i,e,n,r,t,o))}),a}function ei(t){var e=Ic(t);return function(n){return ni(n,t,e)}}function ni(t,e,n){var i=n.length;if(null==t)return!i;for(t=nu(t);i--;){var r=n[i],o=e[r],a=t[r];if(a===rt&&!(r in t)||!o(a))return!1}return!0}function ii(t,e,n){if("function"!=typeof t)throw new ou(st);return kd(function(){t.apply(rt,n)},e)}function ri(t,e,n,i){var r=-1,o=f,a=!0,s=t.length,c=[],l=e.length;if(!s)return c;n&&(e=_(e,I(n))),i?(o=h,a=!1):e.length>=ot&&(o=D,a=!1,e=new fn(e));t:for(;++r<s;){var u=t[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,a&&d===d){for(var p=l;p--;)if(e[p]===d)continue t;c.push(u)}else o(e,d,i)||c.push(u)}return c}function oi(t,e){var n=!0;return ld(t,function(t,i,r){return n=!!e(t,i,r)}),n}function ai(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(s===rt?a===a&&!dc(a):n(a,s)))var s=a,c=o}return c}function si(t,e,n,i){var r=t.length;for(n=gc(n),n<0&&(n=-n>r?0:r+n),i=i===rt||i>r?r:gc(i),i<0&&(i+=r),i=n>i?0:vc(i);n<i;)t[n++]=e;return t}function ci(t,e){var n=[];return ld(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function li(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=Eo),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?li(s,e-1,n,i,r):m(r,s):i||(r[r.length]=s)}return r}function ui(t,e){return t&&dd(t,e,Ic)}function di(t,e){return t&&pd(t,e,Ic)}function pi(t,e){return p(e,function(e){return Js(t[e])})}function fi(t,e){e=yr(e,t);for(var n=0,i=e.length;null!=t&&n<i;)t=t[Yo(e[n++])];return n&&n==i?t:rt}function hi(t,e,n){var i=e(t);return dp(t)?i:m(i,n(t))}function _i(t){return null==t?t===rt?re:Qt:(t=nu(t),Eu&&Eu in t?yo(t):Fo(t))}function mi(t,e){return t>e}function gi(t,e){return null!=t&&du.call(t,e)}function vi(t,e){return null!=t&&e in nu(t)}function bi(t,e,n){return t>=Fu(e,n)&&t<zu(e,n)}function yi(t,e,n){for(var i=n?h:f,r=t[0].length,o=t.length,a=o,s=Ql(o),c=1/0,l=[];a--;){var u=t[a];a&&e&&(u=_(u,I(e))),c=Fu(u.length,c),s[a]=!n&&(e||r>=120&&u.length>=120)?new fn(a&&u):rt}u=t[0];var d=-1,p=s[0];t:for(;++d<r&&l.length<c;){var m=u[d],g=e?e(m):m;if(m=n||0!==m?m:0,!(p?D(p,g):i(l,g,n))){for(a=o;--a;){var v=s[a];if(!(v?D(v,g):i(t[a],g,n)))continue t}p&&p.push(g),l.push(m)}}return l}function wi(t,e,n,i){return ui(t,function(t,r,o){e(i,n(t),r,o)}),i}function $i(t,e,n){e=yr(e,t),t=Vo(t,e);var i=null==t?t:t[Yo(ma(e))];return null==i?rt:s(i,t,n)}function xi(t){return tc(t)&&_i(t)==zt}function ki(t){return tc(t)&&_i(t)==se}function Ci(t){return tc(t)&&_i(t)==Bt}function Si(t,e,n,i,r){return t===e||(null==t||null==e||!Zs(t)&&!tc(e)?t!==t&&e!==e:Ai(t,e,n,i,Si,r))}function Ai(t,e,n,i,r,o){var a=dp(t),s=dp(e),c=Ft,l=Ft;a||(c=wd(t),c=c==zt?Xt:c),s||(l=wd(e),l=l==zt?Xt:l);var u=c==Xt,d=l==Xt,p=c==l;if(p&&fp(t)){if(!fp(e))return!1;a=!0,u=!1}if(p&&!u)return o||(o=new yn),a||vp(t)?so(t,e,n,i,r,o):co(t,e,c,n,i,r,o);if(!(n&ht)){var f=u&&du.call(t,"__wrapped__"),h=d&&du.call(e,"__wrapped__");if(f||h){var _=f?t.value():t,m=h?e.value():e;return o||(o=new yn),r(_,m,n,i,o)}}return!!p&&(o||(o=new yn),lo(t,e,n,i,r,o))}function Ei(t){return tc(t)&&wd(t)==Kt}function Ti(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=nu(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=n[r];var c=s[0],l=t[c],u=s[1];if(a&&s[2]){if(l===rt&&!(c in t))return!1}else{var d=new yn;if(i)var p=i(l,u,c,t,e,d);if(!(p===rt?Si(u,l,ht|_t,i,d):p))return!1}}return!0}function ji(t){return!(!Zs(t)||Mo(t))&&(Js(t)?gu:Ue).test(Ko(t))}function Oi(t){return tc(t)&&_i(t)==te}function qi(t){return tc(t)&&wd(t)==ee}function Pi(t){return tc(t)&&Xs(t.length)&&!!gn[_i(t)]}function Mi(t){return"function"==typeof t?t:null==t?Cl:"object"==typeof t?dp(t)?zi(t[0],t[1]):Li(t):Pl(t)}function Ii(t){if(!Io(t))return Lu(t);var e=[];for(var n in nu(t))du.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ri(t){if(!Zs(t))return zo(t);var e=Io(t),n=[];for(var i in t)("constructor"!=i||!e&&du.call(t,i))&&n.push(i);return n}function Di(t,e){return t<e}function Ni(t,e){var n=-1,i=Fs(t)?Ql(t.length):[];return ld(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Li(t){var e=vo(t);return 1==e.length&&e[0][2]?Do(e[0][0],e[0][1]):function(n){return n===t||Ti(n,t,e)}}function zi(t,e){return Oo(t)&&Ro(e)?Do(Yo(t),e):function(n){var i=qc(n,t);return i===rt&&i===e?Mc(n,t):Si(e,i,ht|_t)}}function Fi(t,e,n,i,r){t!==e&&dd(e,function(o,a){if(Zs(o))r||(r=new yn),Ui(t,e,a,n,Fi,i,r);else{var s=i?i(t[a],o,a+"",t,e,r):rt;s===rt&&(s=o),Hn(t,a,s)}},Rc)}function Ui(t,e,n,i,r,o,a){var s=t[n],c=e[n],l=a.get(c);if(l)return void Hn(t,n,l);var u=o?o(s,c,n+"",t,e,a):rt,d=u===rt;if(d){var p=dp(c),f=!p&&fp(c),h=!p&&!f&&vp(c);u=c,p||f||h?dp(s)?u=s:Us(s)?u=Mr(s):f?(d=!1,u=$r(c,!0)):h?(d=!1,u=Tr(c,!0)):u=[]:cc(c)||up(c)?(u=s,up(s)?u=yc(s):(!Zs(s)||i&&Js(s))&&(u=Co(c))):d=!1}d&&(a.set(c,u),r(u,c,i,o,a),a.delete(c)),Hn(t,n,u)}function Vi(t,e){var n=t.length;if(n)return e+=e<0?n:0,To(e,n)?t[e]:rt}function Bi(t,e,n){var i=-1;return e=_(e.length?e:[Cl],I(mo())),O(Ni(t,function(t,n,r){return{criteria:_(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return Or(t,e,n)})}function Hi(t,e){return t=nu(t),Wi(t,e,function(e,n){return Mc(t,n)})}function Wi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=fi(t,a);n(s,a)&&nr(o,yr(a,t),s)}return o}function Gi(t){return function(e){return fi(e,t)}}function Yi(t,e,n,i){var r=i?C:k,o=-1,a=e.length,s=t;for(t===e&&(e=Mr(e)),n&&(s=_(t,I(n)));++o<a;)for(var c=0,l=e[o],u=n?n(l):l;(c=r(s,u,c,i))>-1;)s!==t&&Cu.call(s,c,1),Cu.call(t,c,1);return t}function Ki(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;To(r)?Cu.call(t,r,1):pr(t,r)}}return t}function Ji(t,e){return t+Mu(Bu()*(e-t+1))}function Qi(t,e,n,i){for(var r=-1,o=zu(Pu((e-t)/(n||1)),0),a=Ql(o);o--;)a[i?o:++r]=t,t+=n;return a}function Xi(t,e){var n="";if(!t||e<1||e>Pt)return n;do{e%2&&(n+=t),(e=Mu(e/2))&&(t+=t)}while(e);return n}function Zi(t,e){return Cd(Uo(t,e,Cl),t+"")}function tr(t){return On(Yc(t))}function er(t,e){var n=Yc(t);return Go(n,Zn(e,0,n.length))}function nr(t,e,n,i){if(!Zs(t))return t;e=yr(e,t);for(var r=-1,o=e.length,a=o-1,s=t;null!=s&&++r<o;){var c=Yo(e[r]),l=n;if(r!=a){var u=s[c];l=i?i(u,c,s):rt,l===rt&&(l=Zs(u)?u:To(e[r+1])?[]:{})}Wn(s,c,l),s=s[c]}return t}function ir(t){return Go(Yc(t))}function rr(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Ql(r);++i<r;)o[i]=t[i+e];return o}function or(t,e){var n;return ld(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function ar(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=Nt){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!dc(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return sr(t,e,Cl,n)}function sr(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,a=e!==e,s=null===e,c=dc(e),l=e===rt;r<o;){var u=Mu((r+o)/2),d=n(t[u]),p=d!==rt,f=null===d,h=d===d,_=dc(d);if(a)var m=i||h;else m=l?h&&(i||p):s?h&&p&&(i||!f):c?h&&p&&!f&&(i||!_):!f&&!_&&(i?d<=e:d<e);m?r=u+1:o=u}return Fu(o,Dt)}function cr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!zs(s,c)){var c=s;o[r++]=0===a?0:a}}return o}function lr(t){return"number"==typeof t?t:dc(t)?It:+t}function ur(t){if("string"==typeof t)return t;if(dp(t))return _(t,ur)+"";if(dc(t))return sd?sd.call(t):"";var e=t+"";return"0"==e&&1/t==-qt?"-0":e}function dr(t,e,n){var i=-1,r=f,o=t.length,a=!0,s=[],c=s;if(n)a=!1,r=h;else if(o>=ot){var l=e?null:gd(t);if(l)return K(l);a=!1,r=D,c=new fn}else c=e?[]:s;t:for(;++i<o;){var u=t[i],d=e?e(u):u;if(u=n||0!==u?u:0,a&&d===d){for(var p=c.length;p--;)if(c[p]===d)continue t;e&&c.push(d),s.push(u)}else r(c,d,n)||(c!==s&&c.push(d),s.push(u))}return s}function pr(t,e){return e=yr(e,t),null==(t=Vo(t,e))||delete t[Yo(ma(e))]}function fr(t,e,n,i){return nr(t,e,n(fi(t,e)),i)}function hr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?rr(t,i?0:o,i?o+1:r):rr(t,i?o+1:0,i?r:o)}function _r(t,e){var n=t;return n instanceof y&&(n=n.value()),g(e,function(t,e){return e.func.apply(e.thisArg,m([t],e.args))},n)}function mr(t,e,n){var i=t.length;if(i<2)return i?dr(t[0]):[];for(var r=-1,o=Ql(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=ri(o[r]||a,t[s],e,n));return dr(li(o,1),e,n)}function gr(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:rt;n(a,t[i],s)}return a}function vr(t){return Us(t)?t:[]}function br(t){return"function"==typeof t?t:Cl}function yr(t,e){return dp(t)?t:Oo(t,e)?[t]:Sd($c(t))}function wr(t,e,n){var i=t.length;return n=n===rt?i:n,!e&&n>=i?t:rr(t,e,n)}function $r(t,e){if(e)return t.slice();var n=t.length,i=wu?wu(n):new t.constructor(n);return t.copy(i),i}function xr(t){var e=new t.constructor(t.byteLength);return new yu(e).set(new yu(t)),e}function kr(t,e){var n=e?xr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Cr(t,e,n){return g(e?n(W(t),dt):W(t),o,new t.constructor)}function Sr(t){var e=new t.constructor(t.source,Le.exec(t));return e.lastIndex=t.lastIndex,e}function Ar(t,e,n){return g(e?n(K(t),dt):K(t),a,new t.constructor)}function Er(t){return ad?nu(ad.call(t)):{}}function Tr(t,e){var n=e?xr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function jr(t,e){if(t!==e){var n=t!==rt,i=null===t,r=t===t,o=dc(t),a=e!==rt,s=null===e,c=e===e,l=dc(e);if(!s&&!l&&!o&&t>e||o&&a&&c&&!s&&!l||i&&a&&c||!n&&c||!r)return 1;if(!i&&!o&&!l&&t<e||l&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!c)return-1}return 0}function Or(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var c=jr(r[i],o[i]);if(c){if(i>=s)return c;return c*("desc"==n[i]?-1:1)}}return t.index-e.index}function qr(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,c=e.length,l=zu(o-a,0),u=Ql(c+l),d=!i;++s<c;)u[s]=e[s];for(;++r<a;)(d||r<o)&&(u[n[r]]=t[r]);for(;l--;)u[s++]=t[r++];return u}function Pr(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,c=-1,l=e.length,u=zu(o-s,0),d=Ql(u+l),p=!i;++r<u;)d[r]=t[r];for(var f=r;++c<l;)d[f+c]=e[c];for(;++a<s;)(p||r<o)&&(d[f+n[a]]=t[r++]);return d}function Mr(t,e){var n=-1,i=t.length;for(e||(e=Ql(i));++n<i;)e[n]=t[n];return e}function Ir(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],c=i?i(n[s],t[s],s,n,t):rt;c===rt&&(c=t[s]),r?Qn(n,s,c):Wn(n,s,c)}return n}function Rr(t,e){return Ir(t,bd(t),e)}function Dr(t,e){return Ir(t,yd(t),e)}function Nr(t,e){return function(n,i){var r=dp(n)?c:Yn,o=e?e():{};return r(n,t,mo(i,2),o)}}function Lr(t){return Zi(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:rt,a=r>2?n[2]:rt;for(o=t.length>3&&"function"==typeof o?(r--,o):rt,a&&jo(n[0],n[1],a)&&(o=r<3?rt:o,r=1),e=nu(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e})}function zr(t,e){return function(n,i){if(null==n)return n;if(!Fs(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=nu(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Fr(t){return function(e,n,i){for(var r=-1,o=nu(e),a=i(e),s=a.length;s--;){var c=a[t?s:++r];if(!1===n(o[c],c,o))break}return e}}function Ur(t,e,n){function i(){return(this&&this!==An&&this instanceof i?o:t).apply(r?n:this,arguments)}var r=e&mt,o=Hr(t);return i}function Vr(t){return function(e){e=$c(e);var n=V(e)?tt(e):rt,i=n?n[0]:e.charAt(0),r=n?wr(n,1).join(""):e.slice(1);return i[t]()+r}}function Br(t){return function(e){return g(yl(tl(e).replace(ln,"")),t,"")}}function Hr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=cd(t.prototype),i=t.apply(n,e);return Zs(i)?i:n}}function Wr(t,e,n){function i(){for(var o=arguments.length,a=Ql(o),c=o,l=_o(i);c--;)a[c]=arguments[c];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:Y(a,l);return(o-=u.length)<n?io(t,e,Kr,i.placeholder,rt,a,u,rt,rt,n-o):s(this&&this!==An&&this instanceof i?r:t,this,a)}var r=Hr(t);return i}function Gr(t){return function(e,n,i){var r=nu(e);if(!Fs(e)){var o=mo(n,3);e=Ic(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:rt}}function Yr(t){return uo(function(e){var n=e.length,i=n,o=r.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new ou(st);if(o&&!s&&"wrapper"==ho(a))var s=new r([],!0)}for(i=s?i:n;++i<n;){a=e[i];var c=ho(a),l="wrapper"==c?vd(a):rt;s=l&&Po(l[0])&&l[1]==(xt|bt|wt|kt)&&!l[4].length&&1==l[9]?s[ho(l[0])].apply(s,l[3]):1==a.length&&Po(a)?s[c]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&dp(i)&&i.length>=ot)return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function Kr(t,e,n,i,r,o,a,s,c,l){function u(){for(var g=arguments.length,v=Ql(g),b=g;b--;)v[b]=arguments[b];if(h)var y=_o(u),w=z(v,y);if(i&&(v=qr(v,i,r,h)),o&&(v=Pr(v,o,a,h)),g-=w,h&&g<l){var $=Y(v,y);return io(t,e,Kr,u.placeholder,n,v,$,s,c,l-g)}var x=p?n:this,k=f?x[t]:t;return g=v.length,s?v=Bo(v,s):_&&g>1&&v.reverse(),d&&c<g&&(v.length=c),this&&this!==An&&this instanceof u&&(k=m||Hr(k)),k.apply(x,v)}var d=e&xt,p=e&mt,f=e&gt,h=e&(bt|yt),_=e&Ct,m=f?rt:Hr(t);return u}function Jr(t,e){return function(n,i){return wi(n,t,e(i),{})}}function Qr(t,e){return function(n,i){var r;if(n===rt&&i===rt)return e;if(n!==rt&&(r=n),i!==rt){if(r===rt)return i;"string"==typeof n||"string"==typeof i?(n=ur(n),i=ur(i)):(n=lr(n),i=lr(i)),r=t(n,i)}return r}}function Xr(t){return uo(function(e){return e=_(e,I(mo())),Zi(function(n){var i=this;return t(e,function(t){return s(t,i,n)})})})}function Zr(t,e){e=e===rt?" ":ur(e);var n=e.length;if(n<2)return n?Xi(e,t):e;var i=Xi(e,Pu(t/Z(e)));return V(e)?wr(tt(i),0,t).join(""):i.slice(0,t)}function to(t,e,n,i){function r(){for(var e=-1,c=arguments.length,l=-1,u=i.length,d=Ql(u+c),p=this&&this!==An&&this instanceof r?a:t;++l<u;)d[l]=i[l];for(;c--;)d[l++]=arguments[++e];return s(p,o?n:this,d)}var o=e&mt,a=Hr(t);return r}function eo(t){return function(e,n,i){return i&&"number"!=typeof i&&jo(e,n,i)&&(n=i=rt),e=mc(e),n===rt?(n=e,e=0):n=mc(n),i=i===rt?e<n?1:-1:mc(i),Qi(e,n,i,t)}}function no(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=bc(e),n=bc(n)),t(e,n)}}function io(t,e,n,i,r,o,a,s,c,l){var u=e&bt,d=u?a:rt,p=u?rt:a,f=u?o:rt,h=u?rt:o;e|=u?wt:$t,(e&=~(u?$t:wt))&vt||(e&=~(mt|gt));var _=[t,e,r,f,d,h,p,s,c,l],m=n.apply(rt,_);return Po(t)&&xd(m,_),m.placeholder=i,Ho(m,t,e)}function ro(t){var e=eu[t];return function(t,n){if(t=bc(t),n=Fu(gc(n),292)){var i=($c(t)+"e").split("e");return i=($c(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function oo(t){return function(e){var n=wd(e);return n==Kt?W(e):n==ee?J(e):M(e,t(e))}}function ao(t,e,n,i,r,o,a,s){var c=e&gt;if(!c&&"function"!=typeof t)throw new ou(st);var l=i?i.length:0;if(l||(e&=~(wt|$t),i=r=rt),a=a===rt?a:zu(gc(a),0),s=s===rt?s:gc(s),l-=r?r.length:0,e&$t){var u=i,d=r;i=r=rt}var p=c?rt:vd(t),f=[t,e,n,i,r,u,d,o,a,s];if(p&&No(f,p),t=f[0],e=f[1],n=f[2],i=f[3],r=f[4],s=f[9]=null==f[9]?c?0:t.length:zu(f[9]-l,0),!s&&e&(bt|yt)&&(e&=~(bt|yt)),e&&e!=mt)h=e==bt||e==yt?Wr(t,e,s):e!=wt&&e!=(mt|wt)||r.length?Kr.apply(rt,f):to(t,e,n,i);else var h=Ur(t,e,n);return Ho((p?fd:xd)(h,f),t,e)}function so(t,e,n,i,r,o){var a=n&ht,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var u=-1,d=!0,p=n&_t?new fn:rt;for(o.set(t,e),o.set(e,t);++u<s;){var f=t[u],h=e[u];if(i)var _=a?i(h,f,u,e,t,o):i(f,h,u,t,e,o);if(_!==rt){if(_)continue;d=!1;break}if(p){if(!b(e,function(t,e){if(!D(p,e)&&(f===t||r(f,t,n,i,o)))return p.push(e)})){d=!1;break}}else if(f!==h&&!r(f,h,n,i,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function co(t,e,n,i,r,o,a){switch(n){case ce:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case se:return!(t.byteLength!=e.byteLength||!o(new yu(t),new yu(e)));case Vt:case Bt:case Jt:return zs(+t,+e);case Wt:return t.name==e.name&&t.message==e.message;case te:case ne:return t==e+"";case Kt:var s=W;case ee:var c=i&ht;if(s||(s=K),t.size!=e.size&&!c)return!1;var l=a.get(t);if(l)return l==e;i|=_t,a.set(t,e);var u=so(s(t),s(e),i,r,o,a);return a.delete(t),u;case ie:if(ad)return ad.call(t)==ad.call(e)}return!1}function lo(t,e,n,i,r,o){var a=n&ht,s=Ic(t),c=s.length;if(c!=Ic(e).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in e:du.call(e,u)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var p=!0;o.set(t,e),o.set(e,t);for(var f=a;++l<c;){u=s[l];var h=t[u],_=e[u];if(i)var m=a?i(_,h,u,e,t,o):i(h,_,u,t,e,o);if(!(m===rt?h===_||r(h,_,n,i,o):m)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var g=t.constructor,v=e.constructor;g!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v)&&(p=!1)}return o.delete(t),o.delete(e),p}function uo(t){return Cd(Uo(t,rt,ca),t+"")}function po(t){return hi(t,Ic,bd)}function fo(t){return hi(t,Rc,yd)}function ho(t){for(var e=t.name+"",n=Zu[e],i=du.call(Zu,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function _o(t){return(du.call(n,"placeholder")?n:t).placeholder}function mo(){var t=n.iteratee||Sl;return t=t===Sl?Mi:t,arguments.length?t(arguments[0],arguments[1]):t}function go(t,e){var n=t.__data__;return qo(e)?n["string"==typeof e?"string":"hash"]:n.map}function vo(t){for(var e=Ic(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Ro(r)]}return e}function bo(t,e){var n=U(t,e);return ji(n)?n:rt}function yo(t){var e=du.call(t,Eu),n=t[Eu];try{t[Eu]=rt}catch(t){}var i=hu.call(t);return e?t[Eu]=n:delete t[Eu],i}function wo(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Fu(e,t+a);break;case"takeRight":t=zu(t,e-a)}}return{start:t,end:e}}function $o(t){var e=t.match(Ie);return e?e[1].split(Re):[]}function xo(t,e,n){e=yr(e,t);for(var i=-1,r=e.length,o=!1;++i<r;){var a=Yo(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Xs(r)&&To(a,r)&&(dp(t)||up(t))}function ko(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&du.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Co(t){return"function"!=typeof t.constructor||Io(t)?{}:cd($u(t))}function So(t,e,n,i){var r=t.constructor;switch(e){case se:return xr(t);case Vt:case Bt:return new r(+t);case ce:return kr(t,i);case le:case ue:case de:case pe:case fe:case he:case _e:case me:case ge:return Tr(t,i);case Kt:return Cr(t,i,n);case Jt:case ne:return new r(t);case te:return Sr(t);case ee:return Ar(t,i,n);case ie:return Er(t)}}function Ao(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Me,"{\n/* [wrapped with "+e+"] */\n")}function Eo(t){return dp(t)||up(t)||!!(Su&&t&&t[Su])}function To(t,e){return!!(e=null==e?Pt:e)&&("number"==typeof t||Be.test(t))&&t>-1&&t%1==0&&t<e}function jo(t,e,n){if(!Zs(n))return!1;var i=typeof e;return!!("number"==i?Fs(n)&&To(e,n.length):"string"==i&&e in n)&&zs(n[e],t)}function Oo(t,e){if(dp(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!dc(t))||(Ae.test(t)||!Se.test(t)||null!=e&&t in nu(e))}function qo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Po(t){var e=ho(t),i=n[e];if("function"!=typeof i||!(e in y.prototype))return!1;if(t===i)return!0;var r=vd(i);return!!r&&t===r[0]}function Mo(t){return!!fu&&fu in t}function Io(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||cu)}function Ro(t){return t===t&&!Zs(t)}function Do(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==rt||t in nu(n)))}}function No(t,e){var n=t[1],i=e[1],r=n|i,o=r<(mt|gt|xt),a=i==xt&&n==bt||i==xt&&n==kt&&t[7].length<=e[8]||i==(xt|kt)&&e[7].length<=e[8]&&n==bt;if(!o&&!a)return t;i&mt&&(t[2]=e[2],r|=n&mt?0:vt);var s=e[3];if(s){var c=t[3];t[3]=c?qr(c,s,e[4]):s,t[4]=c?Y(t[3],ut):e[4]}return s=e[5],s&&(c=t[5],t[5]=c?Pr(c,s,e[6]):s,t[6]=c?Y(t[5],ut):e[6]),s=e[7],s&&(t[7]=s),i&xt&&(t[8]=null==t[8]?e[8]:Fu(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Lo(t,e,n,i,r,o){return Zs(t)&&Zs(e)&&(o.set(e,t),Fi(t,e,rt,Lo,o),o.delete(e)),t}function zo(t){var e=[];if(null!=t)for(var n in nu(t))e.push(n);return e}function Fo(t){return hu.call(t)}function Uo(t,e,n){return e=zu(e===rt?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=zu(i.length-e,0),a=Ql(o);++r<o;)a[r]=i[e+r];r=-1;for(var c=Ql(e+1);++r<e;)c[r]=i[r];return c[e]=n(a),s(t,this,c)}}function Vo(t,e){return e.length<2?t:fi(t,rr(e,0,-1))}function Bo(t,e){for(var n=t.length,i=Fu(e.length,n),r=Mr(t);i--;){var o=e[i];t[i]=To(o,n)?r[o]:rt}return t}function Ho(t,e,n){var i=e+"";return Cd(t,Ao(i,Jo($o(i),n)))}function Wo(t){var e=0,n=0;return function(){var i=Uu(),r=Tt-(i-n);if(n=i,r>0){if(++e>=Et)return arguments[0]}else e=0;return t.apply(rt,arguments)}}function Go(t,e){var n=-1,i=t.length,r=i-1;for(e=e===rt?i:e;++n<e;){var o=Ji(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function Yo(t){if("string"==typeof t||dc(t))return t;var e=t+"";return"0"==e&&1/t==-qt?"-0":e}function Ko(t){if(null!=t){try{return uu.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Jo(t,e){return l(Lt,function(n){var i="_."+n[0];e&n[1]&&!f(t,i)&&t.push(i)}),t.sort()}function Qo(t){if(t instanceof y)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=Mr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Xo(t,e,n){e=(n?jo(t,e,n):e===rt)?1:zu(gc(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,a=Ql(Pu(i/e));r<i;)a[o++]=rr(t,r,r+=e);return a}function Zo(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function ta(){var t=arguments.length;if(!t)return[];for(var e=Ql(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return m(dp(n)?Mr(n):[n],li(e,1))}function ea(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===rt?1:gc(e),rr(t,e<0?0:e,i)):[]}function na(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===rt?1:gc(e),e=i-e,rr(t,0,e<0?0:e)):[]}function ia(t,e){return t&&t.length?hr(t,mo(e,3),!0,!0):[]}function ra(t,e){return t&&t.length?hr(t,mo(e,3),!0):[]}function oa(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&jo(t,e,n)&&(n=0,i=r),si(t,e,n,i)):[]}function aa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:gc(n);return r<0&&(r=zu(i+r,0)),x(t,mo(e,3),r)}function sa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==rt&&(r=gc(n),r=n<0?zu(i+r,0):Fu(r,i-1)),x(t,mo(e,3),r,!0)}function ca(t){return(null==t?0:t.length)?li(t,1):[]}function la(t){return(null==t?0:t.length)?li(t,qt):[]}function ua(t,e){return(null==t?0:t.length)?(e=e===rt?1:gc(e),li(t,e)):[]}function da(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function pa(t){return t&&t.length?t[0]:rt}function fa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:gc(n);return r<0&&(r=zu(i+r,0)),k(t,e,r)}function ha(t){return(null==t?0:t.length)?rr(t,0,-1):[]}function _a(t,e){return null==t?"":Nu.call(t,e)}function ma(t){var e=null==t?0:t.length;return e?t[e-1]:rt}function ga(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==rt&&(r=gc(n),r=r<0?zu(i+r,0):Fu(r,i-1)),e===e?X(t,e,r):x(t,S,r,!0)}function va(t,e){return t&&t.length?Vi(t,gc(e)):rt}function ba(t,e){return t&&t.length&&e&&e.length?Yi(t,e):t}function ya(t,e,n){return t&&t.length&&e&&e.length?Yi(t,e,mo(n,2)):t}function wa(t,e,n){return t&&t.length&&e&&e.length?Yi(t,e,rt,n):t}function $a(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=mo(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Ki(t,r),n}function xa(t){return null==t?t:Hu.call(t)}function ka(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&jo(t,e,n)?(e=0,n=i):(e=null==e?0:gc(e),n=n===rt?i:gc(n)),rr(t,e,n)):[]}function Ca(t,e){return ar(t,e)}function Sa(t,e,n){return sr(t,e,mo(n,2))}function Aa(t,e){var n=null==t?0:t.length;if(n){var i=ar(t,e);if(i<n&&zs(t[i],e))return i}return-1}function Ea(t,e){return ar(t,e,!0)}function Ta(t,e,n){return sr(t,e,mo(n,2),!0)}function ja(t,e){if(null==t?0:t.length){var n=ar(t,e,!0)-1;if(zs(t[n],e))return n}return-1}function Oa(t){return t&&t.length?cr(t):[]}function qa(t,e){return t&&t.length?cr(t,mo(e,2)):[]}function Pa(t){var e=null==t?0:t.length;return e?rr(t,1,e):[]}function Ma(t,e,n){return t&&t.length?(e=n||e===rt?1:gc(e),rr(t,0,e<0?0:e)):[]}function Ia(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===rt?1:gc(e),e=i-e,rr(t,e<0?0:e,i)):[]}function Ra(t,e){return t&&t.length?hr(t,mo(e,3),!1,!0):[]}function Da(t,e){return t&&t.length?hr(t,mo(e,3)):[]}function Na(t){return t&&t.length?dr(t):[]}function La(t,e){return t&&t.length?dr(t,mo(e,2)):[]}function za(t,e){return e="function"==typeof e?e:rt,t&&t.length?dr(t,rt,e):[]}function Fa(t){if(!t||!t.length)return[];var e=0;return t=p(t,function(t){if(Us(t))return e=zu(t.length,e),!0}),P(e,function(e){return _(t,E(e))})}function Ua(t,e){if(!t||!t.length)return[];var n=Fa(t);return null==e?n:_(n,function(t){return s(e,rt,t)})}function Va(t,e){return gr(t||[],e||[],Wn)}function Ba(t,e){return gr(t||[],e||[],nr)}function Ha(t){var e=n(t);return e.__chain__=!0,e}function Wa(t,e){return e(t),t}function Ga(t,e){return e(t)}function Ya(){return Ha(this)}function Ka(){return new r(this.value(),this.__chain__)}function Ja(){this.__values__===rt&&(this.__values__=_c(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?rt:this.__values__[this.__index__++]}}function Qa(){return this}function Xa(t){for(var e,n=this;n instanceof i;){var r=Qo(n);r.__index__=0,r.__values__=rt,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e}function Za(){var t=this.__wrapped__;if(t instanceof y){var e=t;return this.__actions__.length&&(e=new y(this)),e=e.reverse(),e.__actions__.push({func:Ga,args:[xa],thisArg:rt}),new r(e,this.__chain__)}return this.thru(xa)}function ts(){return _r(this.__wrapped__,this.__actions__)}function es(t,e,n){var i=dp(t)?d:oi;return n&&jo(t,e,n)&&(e=rt),i(t,mo(e,3))}function ns(t,e){return(dp(t)?p:ci)(t,mo(e,3))}function is(t,e){return li(ls(t,e),1)}function rs(t,e){return li(ls(t,e),qt)}function os(t,e,n){return n=n===rt?1:gc(n),li(ls(t,e),n)}function as(t,e){return(dp(t)?l:ld)(t,mo(e,3))}function ss(t,e){return(dp(t)?u:ud)(t,mo(e,3))}function cs(t,e,n,i){t=Fs(t)?t:Yc(t),n=n&&!i?gc(n):0;var r=t.length;return n<0&&(n=zu(r+n,0)),uc(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&k(t,e,n)>-1}function ls(t,e){return(dp(t)?_:Ni)(t,mo(e,3))}function us(t,e,n,i){return null==t?[]:(dp(e)||(e=null==e?[]:[e]),n=i?rt:n,dp(n)||(n=null==n?[]:[n]),Bi(t,e,n))}function ds(t,e,n){var i=dp(t)?g:j,r=arguments.length<3;return i(t,mo(e,4),n,r,ld)}function ps(t,e,n){var i=dp(t)?v:j,r=arguments.length<3;return i(t,mo(e,4),n,r,ud)}function fs(t,e){return(dp(t)?p:ci)(t,As(mo(e,3)))}function hs(t){return(dp(t)?On:tr)(t)}function _s(t,e,n){return e=(n?jo(t,e,n):e===rt)?1:gc(e),(dp(t)?qn:er)(t,e)}function ms(t){return(dp(t)?Ln:ir)(t)}function gs(t){if(null==t)return 0;if(Fs(t))return uc(t)?Z(t):t.length;var e=wd(t);return e==Kt||e==ee?t.size:Ii(t).length}function vs(t,e,n){var i=dp(t)?b:or;return n&&jo(t,e,n)&&(e=rt),i(t,mo(e,3))}function bs(t,e){if("function"!=typeof e)throw new ou(st);return t=gc(t),function(){if(--t<1)return e.apply(this,arguments)}}function ys(t,e,n){return e=n?rt:e,e=t&&null==e?t.length:e,ao(t,xt,rt,rt,rt,rt,e)}function ws(t,e){var n;if("function"!=typeof e)throw new ou(st);return t=gc(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=rt),n}}function $s(t,e,n){e=n?rt:e;var i=ao(t,bt,rt,rt,rt,rt,rt,e);return i.placeholder=$s.placeholder,i}function xs(t,e,n){e=n?rt:e;var i=ao(t,yt,rt,rt,rt,rt,rt,e);return i.placeholder=xs.placeholder,i}function ks(t,e,n){function i(e){var n=p,i=f;return p=f=rt,v=e,_=t.apply(i,n)}function r(t){return v=t,m=kd(s,e),b?i(t):_}function o(t){var n=t-g,i=t-v,r=e-n;return y?Fu(r,h-i):r}function a(t){var n=t-g,i=t-v;return g===rt||n>=e||n<0||y&&i>=h}function s(){var t=Zd();if(a(t))return c(t);m=kd(s,o(t))}function c(t){return m=rt,w&&p?i(t):(p=f=rt,_)}function l(){m!==rt&&md(m),v=0,p=g=f=m=rt}function u(){return m===rt?_:c(Zd())}function d(){var t=Zd(),n=a(t);if(p=arguments,f=this,g=t,n){if(m===rt)return r(g);if(y)return m=kd(s,e),i(g)}return m===rt&&(m=kd(s,e)),_}var p,f,h,_,m,g,v=0,b=!1,y=!1,w=!0;if("function"!=typeof t)throw new ou(st);return e=bc(e)||0,Zs(n)&&(b=!!n.leading,y="maxWait"in n,h=y?zu(bc(n.maxWait)||0,e):h,w="trailing"in n?!!n.trailing:w),d.cancel=l,d.flush=u,d}function Cs(t){return ao(t,Ct)}function Ss(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ou(st);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ss.Cache||on),n}function As(t){if("function"!=typeof t)throw new ou(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Es(t){return ws(2,t)}function Ts(t,e){if("function"!=typeof t)throw new ou(st);return e=e===rt?e:gc(e),Zi(t,e)}function js(t,e){if("function"!=typeof t)throw new ou(st);return e=e===rt?0:zu(gc(e),0),Zi(function(n){var i=n[e],r=wr(n,0,e);return i&&m(r,i),s(t,this,r)})}function Os(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new ou(st);return Zs(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ks(t,e,{leading:i,maxWait:e,trailing:r})}function qs(t){return ys(t,1)}function Ps(t,e){return op(br(e),t)}function Ms(){if(!arguments.length)return[];var t=arguments[0];return dp(t)?t:[t]}function Is(t){return ti(t,ft)}function Rs(t,e){return e="function"==typeof e?e:rt,ti(t,ft,e)}function Ds(t){return ti(t,dt|ft)}function Ns(t,e){return e="function"==typeof e?e:rt,ti(t,dt|ft,e)}function Ls(t,e){return null==e||ni(t,e,Ic(e))}function zs(t,e){return t===e||t!==t&&e!==e}function Fs(t){return null!=t&&Xs(t.length)&&!Js(t)}function Us(t){return tc(t)&&Fs(t)}function Vs(t){return!0===t||!1===t||tc(t)&&_i(t)==Vt}function Bs(t){return tc(t)&&1===t.nodeType&&!cc(t)}function Hs(t){if(null==t)return!0;if(Fs(t)&&(dp(t)||"string"==typeof t||"function"==typeof t.splice||fp(t)||vp(t)||up(t)))return!t.length;var e=wd(t);if(e==Kt||e==ee)return!t.size;if(Io(t))return!Ii(t).length;for(var n in t)if(du.call(t,n))return!1;return!0}function Ws(t,e){return Si(t,e)}function Gs(t,e,n){n="function"==typeof n?n:rt;var i=n?n(t,e):rt;return i===rt?Si(t,e,rt,n):!!i}function Ys(t){if(!tc(t))return!1;var e=_i(t);return e==Wt||e==Ht||"string"==typeof t.message&&"string"==typeof t.name&&!cc(t)}function Ks(t){return"number"==typeof t&&Du(t)}function Js(t){if(!Zs(t))return!1;var e=_i(t);return e==Gt||e==Yt||e==Ut||e==Zt}function Qs(t){return"number"==typeof t&&t==gc(t)}function Xs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Pt}function Zs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function tc(t){return null!=t&&"object"==typeof t}function ec(t,e){return t===e||Ti(t,e,vo(e))}function nc(t,e,n){return n="function"==typeof n?n:rt,Ti(t,e,vo(e),n)}function ic(t){return sc(t)&&t!=+t}function rc(t){if($d(t))throw new Zl(at);return ji(t)}function oc(t){return null===t}function ac(t){return null==t}function sc(t){return"number"==typeof t||tc(t)&&_i(t)==Jt}function cc(t){if(!tc(t)||_i(t)!=Xt)return!1;var e=$u(t);if(null===e)return!0;var n=du.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&uu.call(n)==_u}function lc(t){return Qs(t)&&t>=-Pt&&t<=Pt}function uc(t){return"string"==typeof t||!dp(t)&&tc(t)&&_i(t)==ne}function dc(t){return"symbol"==typeof t||tc(t)&&_i(t)==ie}function pc(t){return t===rt}function fc(t){return tc(t)&&wd(t)==oe}function hc(t){return tc(t)&&_i(t)==ae}function _c(t){if(!t)return[];if(Fs(t))return uc(t)?tt(t):Mr(t);if(Au&&t[Au])return H(t[Au]());var e=wd(t);return(e==Kt?W:e==ee?K:Yc)(t)}function mc(t){if(!t)return 0===t?t:0;if((t=bc(t))===qt||t===-qt){return(t<0?-1:1)*Mt}return t===t?t:0}function gc(t){var e=mc(t),n=e%1;return e===e?n?e-n:e:0}function vc(t){return t?Zn(gc(t),0,Rt):0}function bc(t){if("number"==typeof t)return t;if(dc(t))return It;if(Zs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Zs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Oe,"");var n=Fe.test(t);return n||Ve.test(t)?kn(t.slice(2),n?2:8):ze.test(t)?It:+t}function yc(t){return Ir(t,Rc(t))}function wc(t){return Zn(gc(t),-Pt,Pt)}function $c(t){return null==t?"":ur(t)}function xc(t,e){var n=cd(t);return null==e?n:Kn(n,e)}function kc(t,e){return $(t,mo(e,3),ui)}function Cc(t,e){return $(t,mo(e,3),di)}function Sc(t,e){return null==t?t:dd(t,mo(e,3),Rc)}function Ac(t,e){return null==t?t:pd(t,mo(e,3),Rc)}function Ec(t,e){return t&&ui(t,mo(e,3))}function Tc(t,e){return t&&di(t,mo(e,3))}function jc(t){return null==t?[]:pi(t,Ic(t))}function Oc(t){return null==t?[]:pi(t,Rc(t))}function qc(t,e,n){var i=null==t?rt:fi(t,e);return i===rt?n:i}function Pc(t,e){return null!=t&&xo(t,e,gi)}function Mc(t,e){return null!=t&&xo(t,e,vi)}function Ic(t){return Fs(t)?Tn(t):Ii(t)}function Rc(t){return Fs(t)?Tn(t,!0):Ri(t)}function Dc(t,e){var n={};return e=mo(e,3),ui(t,function(t,i,r){Qn(n,e(t,i,r),t)}),n}function Nc(t,e){var n={};return e=mo(e,3),ui(t,function(t,i,r){Qn(n,i,e(t,i,r))}),n}function Lc(t,e){return zc(t,As(mo(e)))}function zc(t,e){if(null==t)return{};var n=_(fo(t),function(t){return[t]});return e=mo(e),Wi(t,n,function(t,n){return e(t,n[0])})}function Fc(t,e,n){e=yr(e,t);var i=-1,r=e.length;for(r||(r=1,t=rt);++i<r;){var o=null==t?rt:t[Yo(e[i])];o===rt&&(i=r,o=n),t=Js(o)?o.call(t):o}return t}function Uc(t,e,n){return null==t?t:nr(t,e,n)}function Vc(t,e,n,i){return i="function"==typeof i?i:rt,null==t?t:nr(t,e,n,i)}function Bc(t,e,n){var i=dp(t),r=i||fp(t)||vp(t);if(e=mo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Zs(t)&&Js(o)?cd($u(t)):{}}return(r?l:ui)(t,function(t,i,r){return e(n,t,i,r)}),n}function Hc(t,e){return null==t||pr(t,e)}function Wc(t,e,n){return null==t?t:fr(t,e,br(n))}function Gc(t,e,n,i){return i="function"==typeof i?i:rt,null==t?t:fr(t,e,br(n),i)}function Yc(t){return null==t?[]:R(t,Ic(t))}function Kc(t){return null==t?[]:R(t,Rc(t))}function Jc(t,e,n){return n===rt&&(n=e,e=rt),n!==rt&&(n=bc(n),n=n===n?n:0),e!==rt&&(e=bc(e),e=e===e?e:0),Zn(bc(t),e,n)}function Qc(t,e,n){return e=mc(e),n===rt?(n=e,e=0):n=mc(n),t=bc(t),bi(t,e,n)}function Xc(t,e,n){if(n&&"boolean"!=typeof n&&jo(t,e,n)&&(e=n=rt),n===rt&&("boolean"==typeof e?(n=e,e=rt):"boolean"==typeof t&&(n=t,t=rt)),t===rt&&e===rt?(t=0,e=1):(t=mc(t),e===rt?(e=t,t=0):e=mc(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Bu();return Fu(t+r*(e-t+xn("1e-"+((r+"").length-1))),e)}return Ji(t,e)}function Zc(t){return Bp($c(t).toLowerCase())}function tl(t){return(t=$c(t))&&t.replace(He,zn).replace(un,"")}function el(t,e,n){t=$c(t),e=ur(e);var i=t.length;n=n===rt?i:Zn(gc(n),0,i);var r=n;return(n-=e.length)>=0&&t.slice(n,r)==e}function nl(t){return t=$c(t),t&&ke.test(t)?t.replace($e,Fn):t}function il(t){return t=$c(t),t&&je.test(t)?t.replace(Te,"\\$&"):t}function rl(t,e,n){t=$c(t),e=gc(e);var i=e?Z(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Zr(Mu(r),n)+t+Zr(Pu(r),n)}function ol(t,e,n){t=$c(t),e=gc(e);var i=e?Z(t):0;return e&&i<e?t+Zr(e-i,n):t}function al(t,e,n){t=$c(t),e=gc(e);var i=e?Z(t):0;return e&&i<e?Zr(e-i,n)+t:t}function sl(t,e,n){return n||null==e?e=0:e&&(e=+e),Vu($c(t).replace(qe,""),e||0)}function cl(t,e,n){return e=(n?jo(t,e,n):e===rt)?1:gc(e),Xi($c(t),e)}function ll(){var t=arguments,e=$c(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function ul(t,e,n){return n&&"number"!=typeof n&&jo(t,e,n)&&(e=n=rt),(n=n===rt?Rt:n>>>0)?(t=$c(t),t&&("string"==typeof e||null!=e&&!mp(e))&&!(e=ur(e))&&V(t)?wr(tt(t),0,n):t.split(e,n)):[]}function dl(t,e,n){return t=$c(t),n=Zn(gc(n),0,t.length),e=ur(e),t.slice(n,n+e.length)==e}function pl(t,e,i){var r=n.templateSettings;i&&jo(t,e,i)&&(e=rt),t=$c(t),e=xp({},e,r,Bn);var o,a,s=xp({},e.imports,r.imports,Bn),c=Ic(s),l=R(s,c),u=0,d=e.interpolate||We,p="__p += '",f=iu((e.escape||We).source+"|"+d.source+"|"+(d===Ce?Ne:We).source+"|"+(e.evaluate||We).source+"|$","g"),h="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++mn+"]")+"\n";t.replace(f,function(e,n,i,r,s,c){return i||(i=r),p+=t.slice(u,c).replace(Ge,F),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=c+e.length,e}),p+="';\n";var _=e.variable;_||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(ve,""):p).replace(be,"$1").replace(ye,"$1;"),p="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Hp(function(){return tu(c,h+"return "+p).apply(rt,l)});if(m.source=p,Ys(m))throw m;return m}function fl(t){return $c(t).toLowerCase()}function hl(t){return $c(t).toUpperCase()}function _l(t,e,n){if((t=$c(t))&&(n||e===rt))return t.replace(Oe,"");if(!t||!(e=ur(e)))return t;var i=tt(t),r=tt(e);return wr(i,N(i,r),L(i,r)+1).join("")}function ml(t,e,n){if((t=$c(t))&&(n||e===rt))return t.replace(Pe,"");if(!t||!(e=ur(e)))return t;var i=tt(t);return wr(i,0,L(i,tt(e))+1).join("")}function gl(t,e,n){if((t=$c(t))&&(n||e===rt))return t.replace(qe,"");if(!t||!(e=ur(e)))return t;var i=tt(t);return wr(i,N(i,tt(e))).join("")}function vl(t,e){var n=St,i=At;if(Zs(e)){var r="separator"in e?e.separator:r;n="length"in e?gc(e.length):n,i="omission"in e?ur(e.omission):i}t=$c(t);var o=t.length;if(V(t)){var a=tt(t);o=a.length}if(n>=o)return t;var s=n-Z(i);if(s<1)return i;var c=a?wr(a,0,s).join(""):t.slice(0,s);if(r===rt)return c+i;if(a&&(s+=c.length-s),mp(r)){if(t.slice(s).search(r)){var l,u=c;for(r.global||(r=iu(r.source,$c(Le.exec(r))+"g")),r.lastIndex=0;l=r.exec(u);)var d=l.index;c=c.slice(0,d===rt?s:d)}}else if(t.indexOf(ur(r),s)!=s){var p=c.lastIndexOf(r);p>-1&&(c=c.slice(0,p))}return c+i}function bl(t){return t=$c(t),t&&xe.test(t)?t.replace(we,Un):t}function yl(t,e,n){return t=$c(t),e=n?rt:e,e===rt?B(t)?it(t):w(t):t.match(e)||[]}function wl(t){var e=null==t?0:t.length,n=mo();return t=e?_(t,function(t){if("function"!=typeof t[1])throw new ou(st);return[n(t[0]),t[1]]}):[],Zi(function(n){for(var i=-1;++i<e;){var r=t[i];if(s(r[0],this,n))return s(r[1],this,n)}})}function $l(t){return ei(ti(t,dt))}function xl(t){return function(){return t}}function kl(t,e){return null==t||t!==t?e:t}function Cl(t){return t}function Sl(t){return Mi("function"==typeof t?t:ti(t,dt))}function Al(t){return Li(ti(t,dt))}function El(t,e){return zi(t,ti(e,dt))}function Tl(t,e,n){var i=Ic(e),r=pi(e,i);null!=n||Zs(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=pi(e,Ic(e)));var o=!(Zs(n)&&"chain"in n&&!n.chain),a=Js(t);return l(r,function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Mr(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,m([this.value()],arguments))})}),t}function jl(){return An._===this&&(An._=mu),this}function Ol(){}function ql(t){return t=gc(t),Zi(function(e){return Vi(e,t)})}function Pl(t){return Oo(t)?E(Yo(t)):Gi(t)}function Ml(t){return function(e){return null==t?rt:fi(t,e)}}function Il(){return[]}function Rl(){return!1}function Dl(){return{}}function Nl(){return""}function Ll(){return!0}function zl(t,e){if((t=gc(t))<1||t>Pt)return[];var n=Rt,i=Fu(t,Rt);e=mo(e),t-=Rt;for(var r=P(i,e);++n<t;)e(n);return r}function Fl(t){return dp(t)?_(t,Yo):dc(t)?[t]:Mr(Sd($c(t)))}function Ul(t){var e=++pu;return $c(t)+e}function Vl(t){return t&&t.length?ai(t,Cl,mi):rt}function Bl(t,e){return t&&t.length?ai(t,mo(e,2),mi):rt}function Hl(t){return A(t,Cl)}function Wl(t,e){return A(t,mo(e,2))}function Gl(t){return t&&t.length?ai(t,Cl,Di):rt}function Yl(t,e){return t&&t.length?ai(t,mo(e,2),Di):rt}function Kl(t){return t&&t.length?q(t,Cl):0}function Jl(t,e){return t&&t.length?q(t,mo(e,2)):0}e=null==e?An:Vn.defaults(An.Object(),e,Vn.pick(An,_n));var Ql=e.Array,Xl=e.Date,Zl=e.Error,tu=e.Function,eu=e.Math,nu=e.Object,iu=e.RegExp,ru=e.String,ou=e.TypeError,au=Ql.prototype,su=tu.prototype,cu=nu.prototype,lu=e["__core-js_shared__"],uu=su.toString,du=cu.hasOwnProperty,pu=0,fu=function(){var t=/[^.]+$/.exec(lu&&lu.keys&&lu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),hu=cu.toString,_u=uu.call(nu),mu=An._,gu=iu("^"+uu.call(du).replace(Te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vu=jn?e.Buffer:rt,bu=e.Symbol,yu=e.Uint8Array,wu=vu?vu.allocUnsafe:rt,$u=G(nu.getPrototypeOf,nu),xu=nu.create,ku=cu.propertyIsEnumerable,Cu=au.splice,Su=bu?bu.isConcatSpreadable:rt,Au=bu?bu.iterator:rt,Eu=bu?bu.toStringTag:rt,Tu=function(){try{var t=bo(nu,"defineProperty");return t({},"",{}),t}catch(t){}}(),ju=e.clearTimeout!==An.clearTimeout&&e.clearTimeout,Ou=Xl&&Xl.now!==An.Date.now&&Xl.now,qu=e.setTimeout!==An.setTimeout&&e.setTimeout,Pu=eu.ceil,Mu=eu.floor,Iu=nu.getOwnPropertySymbols,Ru=vu?vu.isBuffer:rt,Du=e.isFinite,Nu=au.join,Lu=G(nu.keys,nu),zu=eu.max,Fu=eu.min,Uu=Xl.now,Vu=e.parseInt,Bu=eu.random,Hu=au.reverse,Wu=bo(e,"DataView"),Gu=bo(e,"Map"),Yu=bo(e,"Promise"),Ku=bo(e,"Set"),Ju=bo(e,"WeakMap"),Qu=bo(nu,"create"),Xu=Ju&&new Ju,Zu={},td=Ko(Wu),ed=Ko(Gu),nd=Ko(Yu),id=Ko(Ku),rd=Ko(Ju),od=bu?bu.prototype:rt,ad=od?od.valueOf:rt,sd=od?od.toString:rt,cd=function(){function t(){}return function(e){if(!Zs(e))return{};if(xu)return xu(e);t.prototype=e;var n=new t;return t.prototype=rt,n}}();n.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Ce,variable:"",imports:{_:n}},n.prototype=i.prototype,n.prototype.constructor=n,r.prototype=cd(i.prototype),r.prototype.constructor=r,y.prototype=cd(i.prototype),y.prototype.constructor=y,nt.prototype.clear=De,nt.prototype.delete=Ye,nt.prototype.get=Ke,nt.prototype.has=Je,nt.prototype.set=Qe,Xe.prototype.clear=Ze,Xe.prototype.delete=tn,Xe.prototype.get=en,Xe.prototype.has=nn,Xe.prototype.set=rn,on.prototype.clear=an,on.prototype.delete=sn,on.prototype.get=cn,on.prototype.has=dn,on.prototype.set=pn,fn.prototype.add=fn.prototype.push=hn,fn.prototype.has=bn,yn.prototype.clear=wn,yn.prototype.delete=$n,yn.prototype.get=Cn,yn.prototype.has=Sn,yn.prototype.set=En;var ld=zr(ui),ud=zr(di,!0),dd=Fr(),pd=Fr(!0),fd=Xu?function(t,e){return Xu.set(t,e),t}:Cl,hd=Tu?function(t,e){return Tu(t,"toString",{configurable:!0,enumerable:!1,value:xl(e),writable:!0})}:Cl,_d=Zi,md=ju||function(t){return An.clearTimeout(t)},gd=Ku&&1/K(new Ku([,-0]))[1]==qt?function(t){return new Ku(t)}:Ol,vd=Xu?function(t){return Xu.get(t)}:Ol,bd=Iu?G(Iu,nu):Il,yd=Iu?function(t){for(var e=[];t;)m(e,bd(t)),t=$u(t);return e}:Il,wd=_i;(Wu&&wd(new Wu(new ArrayBuffer(1)))!=ce||Gu&&wd(new Gu)!=Kt||Yu&&"[object Promise]"!=wd(Yu.resolve())||Ku&&wd(new Ku)!=ee||Ju&&wd(new Ju)!=oe)&&(wd=function(t){var e=_i(t),n=e==Xt?t.constructor:rt,i=n?Ko(n):"";if(i)switch(i){case td:return ce;case ed:return Kt;case nd:return"[object Promise]";case id:return ee;case rd:return oe}return e});var $d=lu?Js:Rl,xd=Wo(fd),kd=qu||function(t,e){return An.setTimeout(t,e)},Cd=Wo(hd),Sd=function(t){var e=Ss(t,function(t){return n.size===lt&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return Ee.test(t)&&e.push(""),t.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(t,n,i,r){e.push(i?r.replace(/\\(\\)?/g,"$1"):n||t)}),e}),Ad=Zi(function(t,e){return Us(t)?ri(t,li(e,1,Us,!0)):[]}),Ed=Zi(function(t,e){var n=ma(e);return Us(n)&&(n=rt),Us(t)?ri(t,li(e,1,Us,!0),mo(n,2)):[]}),Td=Zi(function(t,e){var n=ma(e);return Us(n)&&(n=rt),Us(t)?ri(t,li(e,1,Us,!0),rt,n):[]}),jd=Zi(function(t){var e=_(t,vr);return e.length&&e[0]===t[0]?yi(e):[]}),Od=Zi(function(t){var e=ma(t),n=_(t,vr);return e===ma(n)?e=rt:n.pop(),n.length&&n[0]===t[0]?yi(n,mo(e,2)):[]}),qd=Zi(function(t){var e=ma(t),n=_(t,vr);return e="function"==typeof e?e:rt,e&&n.pop(),n.length&&n[0]===t[0]?yi(n,rt,e):[]}),Pd=Zi(ba),Md=uo(function(t,e){var n=null==t?0:t.length,i=Xn(t,e);return Ki(t,_(e,function(t){return To(t,n)?+t:t}).sort(jr)),i}),Id=Zi(function(t){return dr(li(t,1,Us,!0))}),Rd=Zi(function(t){var e=ma(t);return Us(e)&&(e=rt),dr(li(t,1,Us,!0),mo(e,2))}),Dd=Zi(function(t){var e=ma(t);return e="function"==typeof e?e:rt,dr(li(t,1,Us,!0),rt,e)}),Nd=Zi(function(t,e){return Us(t)?ri(t,e):[]}),Ld=Zi(function(t){return mr(p(t,Us))}),zd=Zi(function(t){var e=ma(t);return Us(e)&&(e=rt),mr(p(t,Us),mo(e,2))}),Fd=Zi(function(t){var e=ma(t);return e="function"==typeof e?e:rt,mr(p(t,Us),rt,e)}),Ud=Zi(Fa),Vd=Zi(function(t){var e=t.length,n=e>1?t[e-1]:rt;return n="function"==typeof n?(t.pop(),n):rt,Ua(t,n)}),Bd=uo(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return Xn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof y&&To(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:Ga,args:[o],thisArg:rt}),new r(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(rt),t})):this.thru(o)}),Hd=Nr(function(t,e,n){du.call(t,n)?++t[n]:Qn(t,n,1)}),Wd=Gr(aa),Gd=Gr(sa),Yd=Nr(function(t,e,n){du.call(t,n)?t[n].push(e):Qn(t,n,[e])}),Kd=Zi(function(t,e,n){var i=-1,r="function"==typeof e,o=Fs(t)?Ql(t.length):[];return ld(t,function(t){o[++i]=r?s(e,t,n):$i(t,e,n)}),o}),Jd=Nr(function(t,e,n){Qn(t,n,e)}),Qd=Nr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Xd=Zi(function(t,e){if(null==t)return[];var n=e.length;return n>1&&jo(t,e[0],e[1])?e=[]:n>2&&jo(e[0],e[1],e[2])&&(e=[e[0]]),Bi(t,li(e,1),[])}),Zd=Ou||function(){return An.Date.now()},tp=Zi(function(t,e,n){var i=mt;if(n.length){var r=Y(n,_o(tp));i|=wt}return ao(t,i,e,n,r)}),ep=Zi(function(t,e,n){var i=mt|gt;if(n.length){var r=Y(n,_o(ep));i|=wt}return ao(e,i,t,n,r)}),np=Zi(function(t,e){return ii(t,1,e)}),ip=Zi(function(t,e,n){return ii(t,bc(e)||0,n)});Ss.Cache=on;var rp=_d(function(t,e){e=1==e.length&&dp(e[0])?_(e[0],I(mo())):_(li(e,1),I(mo()));var n=e.length;return Zi(function(i){for(var r=-1,o=Fu(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return s(t,this,i)})}),op=Zi(function(t,e){var n=Y(e,_o(op));return ao(t,wt,rt,e,n)}),ap=Zi(function(t,e){var n=Y(e,_o(ap));return ao(t,$t,rt,e,n)}),sp=uo(function(t,e){return ao(t,kt,rt,rt,rt,e)}),cp=no(mi),lp=no(function(t,e){return t>=e}),up=xi(function(){return arguments}())?xi:function(t){return tc(t)&&du.call(t,"callee")&&!ku.call(t,"callee")},dp=Ql.isArray,pp=Pn?I(Pn):ki,fp=Ru||Rl,hp=Mn?I(Mn):Ci,_p=In?I(In):Ei,mp=Rn?I(Rn):Oi,gp=Dn?I(Dn):qi,vp=Nn?I(Nn):Pi,bp=no(Di),yp=no(function(t,e){return t<=e}),wp=Lr(function(t,e){if(Io(e)||Fs(e))return void Ir(e,Ic(e),t);for(var n in e)du.call(e,n)&&Wn(t,n,e[n])}),$p=Lr(function(t,e){Ir(e,Rc(e),t)}),xp=Lr(function(t,e,n,i){Ir(e,Rc(e),t,i)}),kp=Lr(function(t,e,n,i){Ir(e,Ic(e),t,i)}),Cp=uo(Xn),Sp=Zi(function(t){return t.push(rt,Bn),s(xp,rt,t)}),Ap=Zi(function(t){return t.push(rt,Lo),s(qp,rt,t)}),Ep=Jr(function(t,e,n){t[e]=n},xl(Cl)),Tp=Jr(function(t,e,n){du.call(t,e)?t[e].push(n):t[e]=[n]},mo),jp=Zi($i),Op=Lr(function(t,e,n){Fi(t,e,n)}),qp=Lr(function(t,e,n,i){Fi(t,e,n,i)}),Pp=uo(function(t,e){var n={};if(null==t)return n;var i=!1;e=_(e,function(e){return e=yr(e,t),i||(i=e.length>1),e}),Ir(t,fo(t),n),i&&(n=ti(n,dt|pt|ft));for(var r=e.length;r--;)pr(n,e[r]);return n}),Mp=uo(function(t,e){return null==t?{}:Hi(t,e)}),Ip=oo(Ic),Rp=oo(Rc),Dp=Br(function(t,e,n){return e=e.toLowerCase(),t+(n?Zc(e):e)}),Np=Br(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Lp=Br(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),zp=Vr("toLowerCase"),Fp=Br(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Up=Br(function(t,e,n){return t+(n?" ":"")+Bp(e)}),Vp=Br(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Bp=Vr("toUpperCase"),Hp=Zi(function(t,e){try{return s(t,rt,e)}catch(t){return Ys(t)?t:new Zl(t)}}),Wp=uo(function(t,e){return l(e,function(e){e=Yo(e),Qn(t,e,tp(t[e],t))}),t}),Gp=Yr(),Yp=Yr(!0),Kp=Zi(function(t,e){return function(n){return $i(n,t,e)}}),Jp=Zi(function(t,e){return function(n){return $i(t,n,e)}}),Qp=Xr(_),Xp=Xr(d),Zp=Xr(b),tf=eo(),ef=eo(!0),nf=Qr(function(t,e){return t+e},0),rf=ro("ceil"),of=Qr(function(t,e){return t/e},1),af=ro("floor"),sf=Qr(function(t,e){return t*e},1),cf=ro("round"),lf=Qr(function(t,e){return t-e},0);return n.after=bs,n.ary=ys,n.assign=wp,n.assignIn=$p,n.assignInWith=xp,n.assignWith=kp,n.at=Cp,n.before=ws,n.bind=tp,n.bindAll=Wp,n.bindKey=ep,n.castArray=Ms,n.chain=Ha,n.chunk=Xo,n.compact=Zo,n.concat=ta,n.cond=wl,n.conforms=$l,n.constant=xl,n.countBy=Hd,n.create=xc,n.curry=$s,n.curryRight=xs,n.debounce=ks,n.defaults=Sp,n.defaultsDeep=Ap,n.defer=np,n.delay=ip,n.difference=Ad,n.differenceBy=Ed,n.differenceWith=Td,n.drop=ea,n.dropRight=na,n.dropRightWhile=ia,n.dropWhile=ra,n.fill=oa,n.filter=ns,n.flatMap=is,n.flatMapDeep=rs,n.flatMapDepth=os,n.flatten=ca,n.flattenDeep=la,n.flattenDepth=ua,n.flip=Cs,n.flow=Gp,n.flowRight=Yp,n.fromPairs=da,n.functions=jc,n.functionsIn=Oc,n.groupBy=Yd,n.initial=ha,n.intersection=jd,n.intersectionBy=Od,n.intersectionWith=qd,n.invert=Ep,n.invertBy=Tp,n.invokeMap=Kd,n.iteratee=Sl,n.keyBy=Jd,n.keys=Ic,n.keysIn=Rc,n.map=ls,n.mapKeys=Dc,n.mapValues=Nc,n.matches=Al,n.matchesProperty=El,n.memoize=Ss,n.merge=Op,n.mergeWith=qp,n.method=Kp,n.methodOf=Jp,n.mixin=Tl,n.negate=As,n.nthArg=ql,n.omit=Pp,n.omitBy=Lc,n.once=Es,n.orderBy=us,n.over=Qp,n.overArgs=rp,n.overEvery=Xp,n.overSome=Zp,n.partial=op,n.partialRight=ap,n.partition=Qd,n.pick=Mp,n.pickBy=zc,n.property=Pl,n.propertyOf=Ml,n.pull=Pd,n.pullAll=ba,n.pullAllBy=ya,n.pullAllWith=wa,n.pullAt=Md,n.range=tf,n.rangeRight=ef,n.rearg=sp,n.reject=fs,n.remove=$a,n.rest=Ts,n.reverse=xa,n.sampleSize=_s,n.set=Uc,n.setWith=Vc,n.shuffle=ms,n.slice=ka,n.sortBy=Xd,n.sortedUniq=Oa,n.sortedUniqBy=qa,n.split=ul,n.spread=js,n.tail=Pa,n.take=Ma,n.takeRight=Ia,n.takeRightWhile=Ra,n.takeWhile=Da,n.tap=Wa,n.throttle=Os,n.thru=Ga,n.toArray=_c,n.toPairs=Ip,n.toPairsIn=Rp,n.toPath=Fl,n.toPlainObject=yc,n.transform=Bc,n.unary=qs,n.union=Id,n.unionBy=Rd,n.unionWith=Dd,n.uniq=Na,n.uniqBy=La,n.uniqWith=za,n.unset=Hc,n.unzip=Fa,n.unzipWith=Ua,n.update=Wc,n.updateWith=Gc,n.values=Yc,n.valuesIn=Kc,n.without=Nd,n.words=yl,n.wrap=Ps,n.xor=Ld,n.xorBy=zd,n.xorWith=Fd,n.zip=Ud,n.zipObject=Va,n.zipObjectDeep=Ba,n.zipWith=Vd,n.entries=Ip,n.entriesIn=Rp,n.extend=$p,n.extendWith=xp,Tl(n,n),n.add=nf,n.attempt=Hp,n.camelCase=Dp,n.capitalize=Zc,n.ceil=rf,n.clamp=Jc,n.clone=Is,n.cloneDeep=Ds,n.cloneDeepWith=Ns,n.cloneWith=Rs,n.conformsTo=Ls,n.deburr=tl,n.defaultTo=kl,n.divide=of,n.endsWith=el,n.eq=zs,n.escape=nl,n.escapeRegExp=il,n.every=es,n.find=Wd,n.findIndex=aa,n.findKey=kc,n.findLast=Gd,n.findLastIndex=sa,n.findLastKey=Cc,n.floor=af,n.forEach=as,n.forEachRight=ss,n.forIn=Sc,n.forInRight=Ac,n.forOwn=Ec,n.forOwnRight=Tc,n.get=qc,n.gt=cp,n.gte=lp,n.has=Pc,n.hasIn=Mc,n.head=pa,n.identity=Cl,n.includes=cs,n.indexOf=fa,n.inRange=Qc,n.invoke=jp,n.isArguments=up,n.isArray=dp,n.isArrayBuffer=pp,n.isArrayLike=Fs,n.isArrayLikeObject=Us,n.isBoolean=Vs,n.isBuffer=fp,n.isDate=hp,n.isElement=Bs,n.isEmpty=Hs,n.isEqual=Ws,n.isEqualWith=Gs,n.isError=Ys,n.isFinite=Ks,n.isFunction=Js,n.isInteger=Qs,n.isLength=Xs,n.isMap=_p,n.isMatch=ec,n.isMatchWith=nc,n.isNaN=ic,n.isNative=rc,n.isNil=ac,n.isNull=oc,n.isNumber=sc,n.isObject=Zs,n.isObjectLike=tc,n.isPlainObject=cc,n.isRegExp=mp,n.isSafeInteger=lc,n.isSet=gp,n.isString=uc,n.isSymbol=dc,n.isTypedArray=vp,n.isUndefined=pc,n.isWeakMap=fc,n.isWeakSet=hc,n.join=_a,n.kebabCase=Np,n.last=ma,n.lastIndexOf=ga,n.lowerCase=Lp,n.lowerFirst=zp,n.lt=bp,n.lte=yp,n.max=Vl,n.maxBy=Bl,n.mean=Hl,n.meanBy=Wl,n.min=Gl,n.minBy=Yl,n.stubArray=Il,n.stubFalse=Rl,n.stubObject=Dl,n.stubString=Nl,n.stubTrue=Ll,n.multiply=sf,n.nth=va,n.noConflict=jl,n.noop=Ol,n.now=Zd,n.pad=rl,n.padEnd=ol,n.padStart=al,n.parseInt=sl,n.random=Xc,n.reduce=ds,n.reduceRight=ps,n.repeat=cl,n.replace=ll,n.result=Fc,n.round=cf,n.runInContext=t,n.sample=hs,n.size=gs,n.snakeCase=Fp,n.some=vs,n.sortedIndex=Ca,n.sortedIndexBy=Sa,n.sortedIndexOf=Aa,n.sortedLastIndex=Ea,n.sortedLastIndexBy=Ta,n.sortedLastIndexOf=ja,n.startCase=Up,n.startsWith=dl,n.subtract=lf,n.sum=Kl,n.sumBy=Jl,n.template=pl,n.times=zl,n.toFinite=mc,n.toInteger=gc,n.toLength=vc,n.toLower=fl,n.toNumber=bc,n.toSafeInteger=wc,n.toString=$c,n.toUpper=hl,n.trim=_l,n.trimEnd=ml,n.trimStart=gl,n.truncate=vl,n.unescape=bl,n.uniqueId=Ul,n.upperCase=Vp,n.upperFirst=Bp,n.each=as,n.eachRight=ss,n.first=pa,Tl(n,function(){var t={};return ui(n,function(e,i){du.call(n.prototype,i)||(t[i]=e)}),t}(),{chain:!1}),n.VERSION="4.17.2",l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),l(["drop","take"],function(t,e){y.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new y(this);n=n===rt?1:zu(gc(n),0);var r=this.clone();return i?r.__takeCount__=Fu(n,r.__takeCount__):r.__views__.push({size:Fu(n,Rt),type:t+(r.__dir__<0?"Right":"")}),r},y.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),l(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==jt||3==n;y.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:mo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),l(["head","last"],function(t,e){var n="take"+(e?"Right":"");y.prototype[t]=function(){return this[n](1).value()[0]}}),l(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");y.prototype[t]=function(){return this.__filtered__?new y(this):this[n](1)}}),y.prototype.compact=function(){return this.filter(Cl)},y.prototype.find=function(t){return this.filter(t).head()},y.prototype.findLast=function(t){return this.reverse().find(t)},y.prototype.invokeMap=Zi(function(t,e){return"function"==typeof t?new y(this):this.map(function(n){return $i(n,t,e)})}),y.prototype.reject=function(t){return this.filter(As(mo(t)))},y.prototype.slice=function(t,e){t=gc(t);var n=this;return n.__filtered__&&(t>0||e<0)?new y(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==rt&&(e=gc(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},y.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},y.prototype.toArray=function(){return this.take(Rt)},ui(y.prototype,function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=n[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,c=o?[1]:arguments,l=e instanceof y,u=c[0],d=l||dp(e),p=function(t){var e=a.apply(n,m([t],c));return o&&f?e[0]:e};d&&i&&"function"==typeof u&&1!=u.length&&(l=d=!1);var f=this.__chain__,h=!!this.__actions__.length,_=s&&!f,g=l&&!h;if(!s&&d){e=g?e:new y(this);var v=t.apply(e,c);return v.__actions__.push({func:Ga,args:[p],thisArg:rt}),new r(v,f)}return _&&g?t.apply(this,c):(v=this.thru(p),_?o?v.value()[0]:v.value():v)})}),l(["pop","push","shift","sort","splice","unshift"],function(t){var e=au[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var n=this.value();return e.apply(dp(n)?n:[],t)}return this[i](function(n){return e.apply(dp(n)?n:[],t)})}}),ui(y.prototype,function(t,e){var i=n[e];if(i){var r=i.name+"";(Zu[r]||(Zu[r]=[])).push({name:e,func:i})}}),Zu[Kr(rt,gt).name]=[{name:"wrapper",func:rt}],y.prototype.clone=T,y.prototype.reverse=Q,y.prototype.value=et,n.prototype.at=Bd,n.prototype.chain=Ya,n.prototype.commit=Ka,n.prototype.next=Ja,n.prototype.plant=Xa,n.prototype.reverse=Za,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=ts,n.prototype.first=n.prototype.head,Au&&(n.prototype[Au]=Qa),n}();An._=Vn,(r=function(){return Vn}.call(e,n,e,i))!==rt&&(i.exports=r)}).call(this)}).call(e,n(4),n(36)(t))},,,,,function(t,e,n){var i;!function(r,o,a){function s(t,e,n){if(t.addEventListener)return void t.addEventListener(e,n,!1);t.attachEvent("on"+e,n)}function c(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return w[t.which]?w[t.which]:$[t.which]?$[t.which]:String.fromCharCode(t.which).toLowerCase()}function l(t,e){return t.sort().join(",")===e.sort().join(",")}function u(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function d(t){if(t.preventDefault)return void t.preventDefault();t.returnValue=!1}function p(t){if(t.stopPropagation)return void t.stopPropagation();t.cancelBubble=!0}function f(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function h(){if(!y){y={};for(var t in w)t>95&&t<112||w.hasOwnProperty(t)&&(y[w[t]]=t)}return y}function _(t,e,n){return n||(n=h()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function m(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function g(t,e){var n,i,r,o=[];for(n=m(t),r=0;r<n.length;++r)i=n[r],k[i]&&(i=k[i]),e&&"keypress"!=e&&x[i]&&(i=x[i],o.push("shift")),f(i)&&o.push(i);return e=_(i,o,e),{key:i,modifiers:o,action:e}}function v(t,e){return null!==t&&t!==o&&(t===e||v(t.parentNode,e))}function b(t){function e(t){t=t||{};var e,n=!1;for(e in y)t[e]?n=!0:y[e]=0;n||(x=!1)}function n(t,e,n,i,r,o){var a,s,c=[],u=n.type;if(!m._callbacks[t])return[];for("keyup"==u&&f(t)&&(e=[t]),a=0;a<m._callbacks[t].length;++a)if(s=m._callbacks[t][a],(i||!s.seq||y[s.seq]==s.level)&&u==s.action&&("keypress"==u&&!n.metaKey&&!n.ctrlKey||l(e,s.modifiers))){var d=!i&&s.combo==r,p=i&&s.seq==i&&s.level==o;(d||p)&&m._callbacks[t].splice(a,1),c.push(s)}return c}function i(t,e,n,i){m.stopCallback(e,e.target||e.srcElement,n,i)||!1===t(e,n)&&(d(e),p(e))}function r(t){"number"!=typeof t.which&&(t.which=t.keyCode);var e=c(t);if(e)return"keyup"==t.type&&w===e?void(w=!1):void m.handleKey(e,u(t),t)}function a(){clearTimeout(v),v=setTimeout(e,1e3)}function h(t,n,r,o){function s(n){i(r,n,t),"keyup"!==o&&(w=c(n)),setTimeout(e,10)}y[t]=0;for(var l=0;l<n.length;++l){var u=l+1===n.length,d=u?s:function(e){return function(){x=e,++y[t],a()}}(o||g(n[l+1]).action);_(n[l],d,o,t,l)}}function _(t,e,i,r,o){m._directMap[t+":"+i]=e,t=t.replace(/\s+/g," ");var a,s=t.split(" ");if(s.length>1)return void h(t,s,e,i);a=g(t,i),m._callbacks[a.key]=m._callbacks[a.key]||[],n(a.key,a.modifiers,{type:a.action},r,t,o),m._callbacks[a.key][r?"unshift":"push"]({callback:e,modifiers:a.modifiers,action:a.action,seq:r,level:o,combo:t})}var m=this;if(t=t||o,!(m instanceof b))return new b(t);m.target=t,m._callbacks={},m._directMap={};var v,y={},w=!1,$=!1,x=!1;m._handleKey=function(t,r,o){var a,s=n(t,r,o),c={},l=0,u=!1;for(a=0;a<s.length;++a)s[a].seq&&(l=Math.max(l,s[a].level));for(a=0;a<s.length;++a)if(s[a].seq){if(s[a].level!=l)continue;u=!0,c[s[a].seq]=1,i(s[a].callback,o,s[a].combo,s[a].seq)}else u||i(s[a].callback,o,s[a].combo);var d="keypress"==o.type&&$;o.type!=x||f(t)||d||e(c),$=u&&"keydown"==o.type},m._bindMultiple=function(t,e,n){for(var i=0;i<t.length;++i)_(t[i],e,n)},s(t,"keypress",r),s(t,"keydown",r),s(t,"keyup",r)}for(var y,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},$={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},x={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)w[111+C]="f"+C;for(C=0;C<=9;++C)w[C+96]=C;b.prototype.bind=function(t,e,n){var i=this;return t=t instanceof Array?t:[t],i._bindMultiple.call(i,t,e,n),i},b.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)},b.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},b.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},b.prototype.stopCallback=function(t,e){var n=this;return!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&(!v(e,n.target)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable))},b.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},b.init=function(){var t=b(o);for(var e in t)"_"!==e.charAt(0)&&(b[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},b.init(),r.Mousetrap=b,void 0!==t&&t.exports&&(t.exports=b),void 0!==(i=function(){return b}.call(e,n,e,t))&&(t.exports=i)}(window,document)},function(t,e){!function(t){var e={},n=t.prototype.stopCallback;t.prototype.stopCallback=function(t,i,r,o){var a=this;return!!a.paused||!e[r]&&!e[o]&&n.call(a,t,i,r)},t.prototype.bindGlobal=function(t,n,i){if(this.bind(t,n,i),t instanceof Array)for(var r=0;r<t.length;r++)e[t[r]]=!0;else e[t]=!0},t.init()}(Mousetrap)},function(t,e){/*!
 * ngTagsInput v3.0.0
 * http://mbenford.github.io/ngTagsInput
 *
 * Copyright (c) 2013-2015 Michael Benford
 * License: MIT
 *
 * Generated at 2015-07-13 02:08:11 -0300
 */
!function(){"use strict";var t={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,delete:46,comma:188},e=["text","email","url"],n=angular.module("ngTagsInput",[]);n.directive("tagsInput",["$timeout","$document","$window","tagsInputConfig","tiUtil",function(n,i,r,o,a){function s(t,e,n,i){var r,o,s,c={};return r=function(e){return a.safeToString(e[t.displayProperty])},o=function(e,n){e[t.displayProperty]=n},s=function(e){var i=r(e);return i&&i.length>=t.minLength&&i.length<=t.maxLength&&t.allowedTagsPattern.test(i)&&!a.findInObjectArray(c.items,e,t.keyProperty||t.displayProperty)&&n({$tag:e})},c.items=[],c.addText=function(t){var e={};return o(e,t),c.add(e)},c.add=function(n){var i=r(n);return t.replaceSpacesWithDashes&&(i=a.replaceSpacesWithDashes(i)),o(n,i),s(n)?(c.items.push(n),e.trigger("tag-added",{$tag:n})):i&&e.trigger("invalid-tag",{$tag:n}),n},c.remove=function(t){var n=c.items[t];if(i({$tag:n}))return c.items.splice(t,1),c.clearSelection(),e.trigger("tag-removed",{$tag:n}),n},c.select=function(t){t<0?t=c.items.length-1:t>=c.items.length&&(t=0),c.index=t,c.selected=c.items[t]},c.selectPrior=function(){c.select(--c.index)},c.selectNext=function(){c.select(++c.index)},c.removeSelected=function(){return c.remove(c.index)},c.clearSelection=function(){c.selected=null,c.index=-1},c.clearSelection(),c}function c(t){return-1!==e.indexOf(t)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(t,e,n){t.events=a.simplePubSub(),o.load("tagsInput",t,e,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",c],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,9007199254740991],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,9007199254740991],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),t.tagList=new s(t.options,t.events,a.handleUndefinedResult(t.onTagAdding,!0),a.handleUndefinedResult(t.onTagRemoving,!0)),this.registerAutocomplete=function(){var e=n.find("input");return{addTag:function(e){return t.tagList.add(e)},focusInput:function(){e[0].focus()},getTags:function(){return t.tagList.items},getCurrentTagText:function(){return t.newTag.text()},getOptions:function(){return t.options},on:function(e,n){return t.events.on(e,n),this}}},this.registerTagItem=function(){return{getOptions:function(){return t.options},removeTag:function(e){t.disabled||t.tagList.remove(e)}}}}],link:function(e,o,s,c){var l,u=[t.enter,t.comma,t.space,t.backspace,t.delete,t.left,t.right],d=e.tagList,p=e.events,f=e.options,h=o.find("input"),_=["minTags","maxTags","allowLeftoverText"];l=function(){c.$setValidity("maxTags",d.items.length<=f.maxTags),c.$setValidity("minTags",d.items.length>=f.minTags),c.$setValidity("leftoverText",!(!e.hasFocus&&!f.allowLeftoverText)||!e.newTag.text())},c.$isEmpty=function(t){return!t||!t.length},e.newTag={text:function(t){if(!angular.isDefined(t))return e.text||"";e.text=t,p.trigger("input-change",t)},invalid:null},e.track=function(t){return t[f.keyProperty||f.displayProperty]},e.$watch("tags",function(t){t?(d.items=a.makeObjectArray(t,f.displayProperty),e.tags=d.items):d.items=[]}),e.$watch("tags.length",function(){l(),c.$validate()}),s.$observe("disabled",function(t){e.disabled=t}),e.eventHandlers={input:{keydown:function(t){p.trigger("input-keydown",t)},focus:function(){e.hasFocus||(e.hasFocus=!0,p.trigger("input-focus"))},blur:function(){n(function(){var t=i.prop("activeElement"),n=t===h[0],r=o[0].contains(t);!n&&r||(e.hasFocus=!1,p.trigger("input-blur"))})},paste:function(t){t.getTextData=function(){var e=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;return e?e.getData("text/plain"):r.clipboardData.getData("Text")},p.trigger("input-paste",t)}},host:{click:function(){e.disabled||h[0].focus()}},tag:{click:function(t){p.trigger("tag-clicked",{$tag:t})}}},p.on("tag-added",e.onTagAdded).on("invalid-tag",e.onInvalidTag).on("tag-removed",e.onTagRemoved).on("tag-clicked",e.onTagClicked).on("tag-added",function(){e.newTag.text("")}).on("tag-added tag-removed",function(){e.tags=d.items,c.$setDirty()}).on("invalid-tag",function(){e.newTag.invalid=!0}).on("option-change",function(t){-1!==_.indexOf(t.name)&&l()}).on("input-change",function(){d.clearSelection(),e.newTag.invalid=null}).on("input-focus",function(){o.triggerHandler("focus"),c.$setValidity("leftoverText",!0)}).on("input-blur",function(){f.addOnBlur&&!f.addFromAutocompleteOnly&&d.addText(e.newTag.text()),o.triggerHandler("blur"),l()}).on("input-keydown",function(n){var i,r,o,s,c=n.keyCode,l={};if(!a.isModifierOn(n)&&-1!==u.indexOf(c)){if(l[t.enter]=f.addOnEnter,l[t.comma]=f.addOnComma,l[t.space]=f.addOnSpace,i=!f.addFromAutocompleteOnly&&l[c],r=(c===t.backspace||c===t.delete)&&d.selected,s=c===t.backspace&&0===e.newTag.text().length&&f.enableEditingLastTag,o=(c===t.backspace||c===t.left||c===t.right)&&0===e.newTag.text().length&&!f.enableEditingLastTag,i)d.addText(e.newTag.text());else if(s){var p;d.selectPrior(),p=d.removeSelected(),p&&e.newTag.text(p[f.displayProperty])}else r?d.removeSelected():o&&(c===t.left||c===t.backspace?d.selectPrior():c===t.right&&d.selectNext());(i||o||r||s)&&n.preventDefault()}}).on("input-paste",function(t){if(f.addOnPaste){var e=t.getTextData(),n=e.split(f.pasteSplitPattern);n.length>1&&(n.forEach(function(t){d.addText(t)}),t.preventDefault())}})}}}]),n.directive("tiTagItem",["tiUtil",function(t){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(e,n,i,r){var o=r.registerTagItem(),a=o.getOptions();e.$$template=a.template,e.$$removeTagSymbol=a.removeTagSymbol,e.$getDisplayText=function(){return t.safeToString(e.data[a.displayProperty])},e.$removeTag=function(){o.removeTag(e.$index)},e.$watch("$parent.$index",function(t){e.$index=t})}}}]),n.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(e,n,i,r,o,a){function s(t,e,n){var i,o,s,c={};return s=function(){return e.tagsInput.keyProperty||e.tagsInput.displayProperty},i=function(t,n){return t.filter(function(t){return!a.findInObjectArray(n,t,s(),function(t,n){return e.tagsInput.replaceSpacesWithDashes&&(t=a.replaceSpacesWithDashes(t),n=a.replaceSpacesWithDashes(n)),a.defaultComparer(t,n)})})},c.reset=function(){o=null,c.items=[],c.visible=!1,c.index=-1,c.selected=null,c.query=null},c.show=function(){e.selectFirstMatch?c.select(0):c.selected=null,c.visible=!0},c.load=a.debounce(function(n,l){c.query=n;var u=r.when(t({$query:n}));o=u,u.then(function(t){u===o&&(t=a.makeObjectArray(t.data||t,s()),t=i(t,l),c.items=t.slice(0,e.maxResultsToShow),c.items.length>0?c.show():c.reset())})},e.debounceDelay),c.selectNext=function(){c.select(++c.index)},c.selectPrior=function(){c.select(--c.index)},c.select=function(t){t<0?t=c.items.length-1:t>=c.items.length&&(t=0),c.index=t,c.selected=c.items[t],n.trigger("suggestion-selected",t)},c.reset(),c}function c(t,e){var n=t.find("li").eq(e),i=n.parent(),r=n.prop("offsetTop"),o=n.prop("offsetHeight"),a=i.prop("clientHeight"),s=i.prop("scrollTop");r<s?i.prop("scrollTop",r):r+o>a+s&&i.prop("scrollTop",r+o-a)}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(t,e,n){t.events=a.simplePubSub(),o.load("autoComplete",t,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),t.suggestionList=new s(t.source,t.options,t.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return t.options},getQuery:function(){return t.suggestionList.query}}}}],link:function(e,n,i,r){var o,s=[t.enter,t.tab,t.escape,t.up,t.down],l=e.suggestionList,u=r.registerAutocomplete(),d=e.options,p=e.events;d.tagsInput=u.getOptions(),o=function(t){return t&&t.length>=d.minLength||!t&&d.loadOnEmpty},e.addSuggestionByIndex=function(t){l.select(t),e.addSuggestion()},e.addSuggestion=function(){var t=!1;return l.selected&&(u.addTag(angular.copy(l.selected)),l.reset(),u.focusInput(),t=!0),t},e.track=function(t){return t[d.tagsInput.keyProperty||d.tagsInput.displayProperty]},u.on("tag-added tag-removed invalid-tag input-blur",function(){l.reset()}).on("input-change",function(t){o(t)?l.load(t,u.getTags()):l.reset()}).on("input-focus",function(){var t=u.getCurrentTagText();d.loadOnFocus&&o(t)&&l.load(t,u.getTags())}).on("input-keydown",function(n){var i=n.keyCode,r=!1;if(!a.isModifierOn(n)&&-1!==s.indexOf(i))return l.visible?i===t.down?(l.selectNext(),r=!0):i===t.up?(l.selectPrior(),r=!0):i===t.escape?(l.reset(),r=!0):i!==t.enter&&i!==t.tab||(r=e.addSuggestion()):i===t.down&&e.options.loadOnDownArrow&&(l.load(u.getCurrentTagText(),u.getTags()),r=!0),r?(n.preventDefault(),n.stopImmediatePropagation(),!1):void 0}),p.on("suggestion-selected",function(t){c(n,t)})}}}]),n.directive("tiAutocompleteMatch",["$sce","tiUtil",function(t,e){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(n,i,r,o){var a=o.registerAutocompleteMatch(),s=a.getOptions();n.$$template=s.template,n.$index=n.$parent.$index,n.$highlight=function(n){return s.highlightMatchedText&&(n=e.safeHighlight(n,a.getQuery())),t.trustAsHtml(n)},n.$getDisplayText=function(){return e.safeToString(n.data[s.displayProperty||s.tagsInput.displayProperty])}}}}]),n.directive("tiTranscludeAppend",function(){return function(t,e,n,i,r){r(function(t){e.append(t)})}}),n.directive("tiAutosize",["tagsInputConfig",function(t){return{restrict:"A",require:"ngModel",link:function(e,n,i,r){var o,a,s=t.getTextAutosizeThreshold();o=angular.element('<span class="input"></span>'),o.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(o),a=function(t){var e,r=t;return angular.isString(r)&&0===r.length&&(r=i.placeholder),r&&(o.text(r),o.css("display",""),e=o.prop("offsetWidth"),o.css("display","none")),n.css("width",e?e+s+"px":""),t},r.$parsers.unshift(a),r.$formatters.unshift(a),i.$observe("placeholder",function(t){r.$modelValue||a(t)})}}}]),n.directive("tiBindAttrs",function(){return function(t,e,n){t.$watch(n.tiBindAttrs,function(t){angular.forEach(t,function(t,e){n.$set(e,t)})},!0)}}),n.provider("tagsInputConfig",function(){var t={},e={},n=3;this.setDefaults=function(e,n){return t[e]=n,this},this.setActiveInterpolation=function(t,n){return e[t]=n,this},this.setTextAutosizeThreshold=function(t){return n=t,this},this.$get=["$interpolate",function(i){var r={};return r[String]=function(t){return t},r[Number]=function(t){return parseInt(t,10)},r[Boolean]=function(t){return"true"===t.toLowerCase()},r[RegExp]=function(t){return new RegExp(t)},{load:function(n,o,a,s){var c=function(){return!0};o.options={},angular.forEach(s,function(s,l){var u,d,p,f,h,_;u=s[0],d=s[1],p=s[2]||c,f=r[u],h=function(){var e=t[n]&&t[n][l];return angular.isDefined(e)?e:d},_=function(t){o.options[l]=t&&p(t)?f(t):h()},e[n]&&e[n][l]?a.$observe(l,function(t){_(t),o.events.trigger("option-change",{name:l,newValue:t})}):_(a[l]&&i(a[l])(o.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),n.factory("tiUtil",["$timeout",function(t){var e={};return e.debounce=function(e,n){var i;return function(){var r=arguments;t.cancel(i),i=t(function(){e.apply(null,r)},n)}},e.makeObjectArray=function(t,e){if(!angular.isArray(t)||0===t.length||angular.isObject(t[0]))return t;var n=[];return t.forEach(function(t){var i={};i[e]=t,n.push(i)}),n},e.findInObjectArray=function(t,n,i,r){var o=null;return r=r||e.defaultComparer,t.some(function(t){if(r(t[i],n[i]))return o=t,!0}),o},e.defaultComparer=function(t,n){return e.safeToString(t).toLowerCase()===e.safeToString(n).toLowerCase()},e.safeHighlight=function(t,n){if(!n)return t;t=e.encodeHTML(t),n=e.encodeHTML(n);var i=new RegExp("&[^;]+;|"+function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(n),"gi");return t.replace(i,function(t){return t.toLowerCase()===n.toLowerCase()?"<em>"+t+"</em>":t})},e.safeToString=function(t){return angular.isUndefined(t)||null==t?"":t.toString().trim()},e.encodeHTML=function(t){return e.safeToString(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.handleUndefinedResult=function(t,e){return function(){var n=t.apply(null,arguments);return angular.isUndefined(n)?e:n}},e.replaceSpacesWithDashes=function(t){return e.safeToString(t).replace(/\s/g,"-")},e.isModifierOn=function(t){return t.shiftKey||t.ctrlKey||t.altKey||t.metaKey},e.simplePubSub=function(){var t={};return{on:function(e,n){return e.split(" ").forEach(function(e){t[e]||(t[e]=[]),t[e].push(n)}),this},trigger:function(n,i){return(t[n]||[]).every(function(t){return e.handleUndefinedResult(t,!0)(i)}),this}}},e}]),n.run(["$templateCache",function(t){t.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="{ selected: tag == tagList.selected }" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),t.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),t.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="{selected: item == suggestionList.selected}" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match data="::item"></ti-autocomplete-match></li></ul></div>'),t.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}()},,,,,,,,,function(t,e,n){var i,r;(function(){var o,a,s,c,l,u,d,p,f,h,_,m,g,v,b,y,w,$,x,k,C,S,A,E,T,j,O,q,P,M,I,R,D=[].slice;w='<span class="odometer-value"></span>',v='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+w+"</span></span>",c='<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner">'+v+"</span></span>",d='<span class="odometer-formatting-mark"></span>',s="(,ddd).dd",p=/^\(?([^)]*)\)?(?:(.)(d+))?$/,f=30,u=2e3,o=20,h=2,l=.5,_=1e3/f,a=1e3/o,b="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",T=document.createElement("div").style,y=null!=T.transition||null!=T.webkitTransition||null!=T.mozTransition||null!=T.oTransition,A=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,m=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,x=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.children[0]},S=function(t,e){return t.className=t.className.replace(new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi")," ")},$=function(t,e){return S(t,e),t.className+=" "+e},j=function(t,e){var n;if(null!=document.createEvent)return n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0),t.dispatchEvent(n)},C=function(){var t,e;return null!=(t=null!=(e=window.performance)&&"function"==typeof e.now?e.now():void 0)?t:+new Date},E=function(t,e){return null==e&&(e=0),e?(t*=Math.pow(10,e),t+=.5,t=Math.floor(t),t/=Math.pow(10,e)):Math.round(t)},O=function(t){return t<0?Math.ceil(t):Math.floor(t)},k=function(t){return t-E(t)},P=!1,(q=function(){var t,e,n,i,r;if(!P&&null!=window.jQuery){for(P=!0,i=["html","text"],r=[],e=0,n=i.length;e<n;e++)t=i[e],r.push(function(t){var e;return e=window.jQuery.fn[t],window.jQuery.fn[t]=function(t){var n;return null==t||null==(null!=(n=this[0])?n.odometer:void 0)?e.apply(this,arguments):this[0].odometer.update(t)}}(t));return r}})(),setTimeout(q,0),g=function(){function t(e){var n,i,r,o,a,s,c,l,d,p=this;if(this.options=e,this.el=this.options.el,null!=this.el.odometer)return this.el.odometer;this.el.odometer=this,c=t.options;for(n in c)r=c[n],null==this.options[n]&&(this.options[n]=r);null==(o=this.options).duration&&(o.duration=u),this.MAX_VALUES=this.options.duration/_/h|0,this.resetFormat(),this.value=this.cleanValue(null!=(l=this.options.value)?l:""),this.renderInside(),this.render();try{for(d=["innerHTML","innerText","textContent"],a=0,s=d.length;a<s;a++)i=d[a],null!=this.el[i]&&function(t){Object.defineProperty(p.el,t,{get:function(){var e;return"innerHTML"===t?p.inside.outerHTML:null!=(e=p.inside.innerText)?e:p.inside.textContent},set:function(t){return p.update(t)}})}(i)}catch(t){t,this.watchForMutations()}}return t.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},t.prototype.watchForMutations=function(){var t=this;if(null!=m)try{return null==this.observer&&(this.observer=new m(function(e){var n;return n=t.el.innerText,t.renderInside(),t.render(t.value),t.update(n)})),this.watchMutations=!0,this.startWatchingMutations()}catch(t){t}},t.prototype.startWatchingMutations=function(){if(this.watchMutations)return this.observer.observe(this.el,{childList:!0})},t.prototype.stopWatchingMutations=function(){var t;return null!=(t=this.observer)?t.disconnect():void 0},t.prototype.cleanValue=function(t){var e;return"string"==typeof t&&(t=t.replace(null!=(e=this.format.radix)?e:".","<radix>"),t=t.replace(/[.,]/g,""),t=t.replace("<radix>","."),t=parseFloat(t,10)||0),E(t,this.format.precision)},t.prototype.bindTransitionEnd=function(){var t,e,n,i,r,o,a=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,e=!1,r=b.split(" "),o=[],n=0,i=r.length;n<i;n++)t=r[n],o.push(this.el.addEventListener(t,function(){return!!e||(e=!0,setTimeout(function(){return a.render(),e=!1,j(a.el,"odometerdone")},0),!0)},!1));return o}},t.prototype.resetFormat=function(){var t,e,n,i,r,o,a,c;if(t=null!=(a=this.options.format)?a:s,t||(t="d"),!(n=p.exec(t)))throw new Error("Odometer: Unparsable digit format");return c=n.slice(1,4),o=c[0],r=c[1],e=c[2],i=(null!=e?e.length:void 0)||0,this.format={repeating:o,radix:r,precision:i}},t.prototype.render=function(t){var e,n,i,r,o,a,s;for(null==t&&(t=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",o=this.options.theme,e=this.el.className.split(" "),r=[],a=0,s=e.length;a<s;a++)n=e[a],n.length&&((i=/^odometer-theme-(.+)$/.exec(n))?o=i[1]:/^odometer(-|$)/.test(n)||r.push(n));return r.push("odometer"),y||r.push("odometer-no-transitions"),o?r.push("odometer-theme-"+o):r.push("odometer-auto-theme"),this.el.className=r.join(" "),this.ribbons={},this.formatDigits(t),this.startWatchingMutations()},t.prototype.formatDigits=function(t){var e,n,i,r,o,a,s,c,l,u;if(this.digits=[],this.options.formatFunction)for(i=this.options.formatFunction(t),l=i.split("").reverse(),o=0,s=l.length;o<s;o++)n=l[o],n.match(/0-9/)?(e=this.renderDigit(),e.querySelector(".odometer-value").innerHTML=n,this.digits.push(e),this.insertDigit(e)):this.addSpacer(n);else for(r=!this.format.precision||!k(t)||!1,u=t.toString().split("").reverse(),a=0,c=u.length;a<c;a++)e=u[a],"."===e&&(r=!0),this.addDigit(e,r)},t.prototype.update=function(t){var e,n=this;if(t=this.cleanValue(t),e=t-this.value)return S(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),e>0?$(this.el,"odometer-animating-up"):$(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(t),this.startWatchingMutations(),setTimeout(function(){return n.el.offsetHeight,$(n.el,"odometer-animating")},0),this.value=t},t.prototype.renderDigit=function(){return x(c)},t.prototype.insertDigit=function(t,e){return null!=e?this.inside.insertBefore(t,e):this.inside.children.length?this.inside.insertBefore(t,this.inside.children[0]):this.inside.appendChild(t)},t.prototype.addSpacer=function(t,e,n){var i;return i=x(d),i.innerHTML=t,n&&$(i,n),this.insertDigit(i,e)},t.prototype.addDigit=function(t,e){var n,i,r,o;if(null==e&&(e=!0),"-"===t)return this.addSpacer(t,null,"odometer-negation-mark");if("."===t)return this.addSpacer(null!=(o=this.format.radix)?o:".",null,"odometer-radix-mark");if(e)for(r=!1;;){if(!this.format.repeating.length){if(r)throw new Error("Bad odometer format without digits");this.resetFormat(),r=!0}if(n=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),"d"===n)break;this.addSpacer(n)}return i=this.renderDigit(),i.querySelector(".odometer-value").innerHTML=t,this.digits.push(i),this.insertDigit(i)},t.prototype.animate=function(t){return y&&"count"!==this.options.animation?this.animateSlide(t):this.animateCount(t)},t.prototype.animateCount=function(t){var e,n,i,r,o,s=this;if(n=+t-this.value)return r=i=C(),e=this.value,(o=function(){var c,l,u;return C()-r>s.options.duration?(s.value=t,s.render(),void j(s.el,"odometerdone")):(c=C()-i,c>a&&(i=C(),u=c/s.options.duration,l=n*u,e+=l,s.render(Math.round(e))),null!=A?A(o):setTimeout(o,a))})()},t.prototype.getDigitCount=function(){var t,e,n,i,r,o;for(i=1<=arguments.length?D.call(arguments,0):[],t=r=0,o=i.length;r<o;t=++r)n=i[t],i[t]=Math.abs(n);return e=Math.max.apply(Math,i),Math.ceil(Math.log(e+1)/Math.log(10))},t.prototype.getFractionalDigitCount=function(){var t,e,n,i,r,o,a;for(r=1<=arguments.length?D.call(arguments,0):[],e=/^\-?\d*\.(\d*?)0*$/,t=o=0,a=r.length;o<a;t=++o)i=r[t],r[t]=i.toString(),n=e.exec(r[t]),r[t]=null==n?0:n[1].length;return Math.max.apply(Math,r)},t.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},t.prototype.animateSlide=function(t){var e,n,i,r,o,a,s,c,u,d,p,f,h,_,m,g,v,b,y,w,x,k,C,S,A,E,T;if(g=this.value,c=this.getFractionalDigitCount(g,t),c&&(t*=Math.pow(10,c),g*=Math.pow(10,c)),i=t-g){for(this.bindTransitionEnd(),r=this.getDigitCount(g,t),o=[],e=0,p=y=0;0<=r?y<r:y>r;p=0<=r?++y:--y){if(v=O(g/Math.pow(10,r-p-1)),s=O(t/Math.pow(10,r-p-1)),a=s-v,Math.abs(a)>this.MAX_VALUES){for(d=[],f=a/(this.MAX_VALUES+this.MAX_VALUES*e*l),n=v;a>0&&n<s||a<0&&n>s;)d.push(Math.round(n)),n+=f;d[d.length-1]!==s&&d.push(s),e++}else d=function(){T=[];for(var t=v;v<=s?t<=s:t>=s;v<=s?t++:t--)T.push(t);return T}.apply(this);for(p=w=0,k=d.length;w<k;p=++w)u=d[p],d[p]=Math.abs(u%10);o.push(d)}for(this.resetDigits(),E=o.reverse(),p=x=0,C=E.length;x<C;p=++x)for(d=E[p],this.digits[p]||this.addDigit(" ",p>=c),null==(b=this.ribbons)[p]&&(b[p]=this.digits[p].querySelector(".odometer-ribbon-inner")),this.ribbons[p].innerHTML="",i<0&&(d=d.reverse()),h=A=0,S=d.length;A<S;h=++A)u=d[h],m=document.createElement("div"),m.className="odometer-value",m.innerHTML=u,this.ribbons[p].appendChild(m),h===d.length-1&&$(m,"odometer-last-value"),0===h&&$(m,"odometer-first-value");return v<0&&this.addDigit("-"),_=this.inside.querySelector(".odometer-radix-mark"),null!=_&&_.parent.removeChild(_),c?this.addSpacer(this.format.radix,this.digits[c-1],"odometer-radix-mark"):void 0}},t}(),g.options=null!=(I=window.odometerOptions)?I:{},setTimeout(function(){var t,e,n,i,r;if(window.odometerOptions){i=window.odometerOptions,r=[];for(t in i)e=i[t],r.push(null!=(n=g.options)[t]?(n=g.options)[t]:n[t]=e);return r}},0),g.init=function(){var t,e,n,i,r,o;if(null!=document.querySelectorAll){for(e=document.querySelectorAll(g.options.selector||".odometer"),o=[],n=0,i=e.length;n<i;n++)t=e[n],o.push(t.odometer=new g({el:t,value:null!=(r=t.innerText)?r:t.textContent}));return o}},null!=(null!=(R=document.documentElement)?R.doScroll:void 0)&&null!=document.createEventObject?(M=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&!1!==g.options.auto&&g.init(),null!=M?M.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){if(!1!==g.options.auto)return g.init()},!1),i=[n(38)],void 0!==(r=function(){return g}.apply(e,i))&&(t.exports=r)}).call(this)},function(t,e,n){/*!
 * Pusher JavaScript Library v3.1.0-pre11
 * http://pusher.com/
 *
 * Copyright 2016, Pusher
 * Released under the MIT licence.
 */
!function(e,n){t.exports=n()}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(1);t.exports=i.default},function(t,e,n){"use strict";function i(t){if(null===t||void 0===t)throw"You must pass your app key when you instantiate Pusher."}var r=n(2),o=n(9),a=n(23),s=n(38),c=n(39),l=n(40),u=n(12),d=n(5),p=n(62),f=n(8),h=n(42),_=function(){function t(e,n){var u=this;i(e),n=n||{},this.key=e,this.config=o.extend(p.getGlobalConfig(),n.cluster?p.getClusterConfig(n.cluster):{},n),this.channels=h.default.createChannels(),this.global_emitter=new a.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new s.default(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:c.default.INFO,version:d.default.VERSION}),this.config.disableStats||(this.timelineSender=h.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+r.default.TimelineTransport.name}));var _=function(t){var e=o.extend({},u.config,t);return l.build(r.default.getDefaultStrategy(e),e)};this.connection=h.default.createConnectionManager(this.key,o.extend({getStrategy:_,timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){u.subscribeAll(),u.timelineSender&&u.timelineSender.send(u.connection.isEncrypted())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=u.channel(t.channel);n&&n.handleEvent(t.event,t.data)}e||u.global_emitter.emit(t.event,t.data)}),this.connection.bind("disconnected",function(){u.channels.disconnect()}),this.connection.bind("error",function(t){f.default.warn("Error",t)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.log=function(e){var n=Function("return this")();t.logToConsole&&n.console&&n.console.log&&n.console.log(e)},t.getClientFeatures=function(){return o.keys(o.filterObject({ws:r.default.Transports.ws},function(t){return t.isSupported({})}))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isEncrypted(),e=this.timelineSender;this.timelineSenderTimer=new u.PeriodicTimer(6e4,function(){e.send(t)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e){return this.global_emitter.bind(t,e),this},t.prototype.bind_all=function(t){return this.global_emitter.bind_all(t),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return"connected"===this.connection.state&&e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.remove(t);e&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},t.prototype.isEncrypted=function(){return"https:"===r.default.getProtocol()||Boolean(this.config.encrypted)},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=r.default,t.ScriptReceivers=r.default.ScriptReceivers,t.DependenciesReceivers=r.default.DependenciesReceivers,t.auth_callbacks=r.default.auth_callbacks,t}();e.__esModule=!0,e.default=_,r.default.setup(_)},function(t,e,n){"use strict";var i=n(3),r=n(7),o=n(14),a=n(15),s=n(16),c=n(4),l=n(17),u=n(18),d=n(25),p=n(26),f=n(27),h=n(28),_={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:c.ScriptReceivers,DependenciesReceivers:i.DependenciesReceivers,getDefaultStrategy:p.default,Transports:u.default,transportConnectionInitializer:f.default,HTTPFactory:h.default,TimelineTransport:l.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():i.Dependencies.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getGlobal:function(){return window},getAuthorizers:function(){return{ajax:r.default,jsonp:o.default}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new s.default(t,e)},createScriptRequest:function(t){return new a.default(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return d.Network},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};e.__esModule=!0,e.default=_},function(t,e,n){"use strict";var i=n(4),r=n(5),o=n(6);e.DependenciesReceivers=new i.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),e.Dependencies=new o.default({cdn_http:r.default.cdn_http,cdn_https:r.default.cdn_https,version:r.default.VERSION,suffix:r.default.dependency_suffix,receivers:e.DependenciesReceivers})},function(t,e){"use strict";var n=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,i=this.name+"["+e+"]",r=!1,o=function(){r||(t.apply(null,arguments),r=!0)};return this[e]=o,{number:e,id:n,name:i,callback:o}},t.prototype.remove=function(t){delete this[t.number]},t}();e.ScriptReceiverFactory=n,e.ScriptReceivers=new n("_pusher_script_","Pusher.ScriptReceivers")},function(t,e){"use strict";var n={VERSION:"3.1.0-pre11",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""};e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(4),r=n(2),o=function(){function t(t){this.options=t,this.receivers=t.receivers||i.ScriptReceivers,this.loading={}}return t.prototype.load=function(t,e,n){var i=this;if(i.loading[t]&&i.loading[t].length>0)i.loading[t].push(n);else{i.loading[t]=[n];var o=r.default.createScriptRequest(i.getPath(t,e)),a=i.receivers.create(function(e){if(i.receivers.remove(a),i.loading[t]){var n=i.loading[t];delete i.loading[t];for(var r=function(t){t||o.cleanup()},s=0;s<n.length;s++)n[s](e,r)}});o.send(a)}},t.prototype.getRoot=function(t){var e,n=r.default.getDocument().location.protocol;return e=t&&t.encrypted||"https:"===n?this.options.cdn_https:this.options.cdn_http,e.replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(8),r=n(2),o=function(t,e,n){var o,a=this;o=r.default.createXHR(),o.open("POST",a.options.authEndpoint,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var s in this.authOptions.headers)o.setRequestHeader(s,this.authOptions.headers[s]);return o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var t,e=!1;try{t=JSON.parse(o.responseText),e=!0}catch(t){n(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+o.responseText)}e&&n(!1,t)}else i.default.warn("Couldn't get auth info from your webapp",o.status),n(!0,o.status)},o.send(this.composeQuery(e)),o};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(9),r=n(1),o={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];r.default.log&&r.default.log(i.stringify.apply(this,arguments))},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=i.stringify.apply(this,arguments),o=Function("return this")();o.console&&(o.console.warn?o.console.warn(n):o.console.log&&o.console.log(n)),r.default.log&&r.default.log(n)}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var o=e[r];for(var a in o)o[a]&&o[a].constructor&&o[a].constructor===Object?t[a]=i(t[a]||{},o[a]):t[a]=o[a]}return t}function r(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(JSON.stringify(arguments[e]));return t.join(" : ")}function o(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}function a(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function s(t){var e=[];return a(t,function(t,n){e.push(n)}),e}function c(t){var e=[];return a(t,function(t){e.push(t)}),e}function l(t,e,n){for(var i=0;i<t.length;i++)e.call(n||$,t[i],i,t)}function u(t,e){for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i,t,n));return n}function d(t,e){var n={};return a(t,function(t,i){n[i]=e(t)}),n}function p(t,e){e=e||function(t){return!!t};for(var n=[],i=0;i<t.length;i++)e(t[i],i,t,n)&&n.push(t[i]);return n}function f(t,e){var n={};return a(t,function(i,r){(e&&e(i,r,t,n)||Boolean(i))&&(n[r]=i)}),n}function h(t){var e=[];return a(t,function(t,n){e.push([n,t])}),e}function _(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}function m(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}function g(t){return d(t,function(t){return"object"==typeof t&&(t=JSON.stringify(t)),encodeURIComponent(y.default(t.toString()))})}function v(t){return u(h(g(f(t,function(t){return void 0!==t}))),w.default.method("join","=")).join("&")}function b(t){var e=[],n=JSON.stringify(t,function(t,n){if("object"==typeof n&&null!==n){if(-1!==e.indexOf(n))return;e.push(n)}return n});return e=null,n}var y=n(10),w=n(11),$=Function("return this")();e.extend=i,e.stringify=r,e.arrayIndexOf=o,e.objectApply=a,e.keys=s,e.values=c,e.apply=l,e.map=u,e.mapObject=d,e.filter=p,e.filterObject=f,e.flatten=h,e.any=_,e.all=m,e.encodeParamsObject=g,e.buildQueryString=v,e.safeJSONStringify=b},function(t,e){"use strict";function n(t){return p(u(t))}var i=Function("return this")();e.__esModule=!0,e.default=n;for(var r=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={},s=0,c=o.length;s<c;s++)a[o.charAt(s)]=s;var l=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?r(192|e>>>6)+r(128|63&e):r(224|e>>>12&15)+r(128|e>>>6&63)+r(128|63&e)},u=function(t){return t.replace(/[^\x00-\x7F]/g,l)},d=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[o.charAt(n>>>18),o.charAt(n>>>12&63),e>=2?"=":o.charAt(n>>>6&63),e>=1?"=":o.charAt(63&n)].join("")},p=i.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,d)}},function(t,e,n){"use strict";var i=n(12),r={getGlobal:function(){return Function("return this")()},now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new i.OneOffTimer(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,i.concat(arguments))}}};e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function i(t){s.clearTimeout(t)}function r(t){s.clearInterval(t)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(13),s=Function("return this")(),c=function(t){function e(e,n){t.call(this,setTimeout,i,e,function(t){return n(),null})}return o(e,t),e}(a.default);e.OneOffTimer=c;var l=function(t){function e(e,n){t.call(this,setInterval,r,e,function(t){return n(),t})}return o(e,t),e}(a.default);e.PeriodicTimer=l},function(t,e){"use strict";var n=function(){function t(t,e,n,i){var r=this;this.clear=e,this.timer=t(function(){r.timer&&(r.timer=i(r.timer))},n)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(8),r=function(t,e,n){void 0!==this.authOptions.headers&&i.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var r=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var o=t.getDocument(),a=o.createElement("script");t.auth_callbacks[r]=function(t){n(!1,t)};var s="Pusher.auth_callbacks['"+r+"']";a.src=this.options.authEndpoint+"?callback="+encodeURIComponent(s)+"&"+this.composeQuery(e);var c=o.getElementsByTagName("head")[0]||o.documentElement;c.insertBefore(a,c.firstChild)};e.__esModule=!0,e.default=r},function(t,e){"use strict";var n=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(e.script,i.firstChild),e.errorScript&&i.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(9),r=n(2),o=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=i.buildQueryString(this.data),n=this.url+"/"+t.number+"?"+e;this.request=r.default.createScriptRequest(n),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(2),r=n(4),o=function(t,e){return function(n,o){var a="http"+(e?"s":"")+"://",s=a+(t.host||t.options.host)+t.options.path,c=i.default.createJSONPRequest(s,n),l=i.default.ScriptReceivers.create(function(e,n){r.ScriptReceivers.remove(l),c.cleanup(),n&&n.host&&(t.host=n.host),o&&o(e,n)});c.send(l)}},a={name:"jsonp",getAgent:o};e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var i=n(19),r=n(21),o=n(20),a=n(2),s=n(3),c=n(9),l=new r.default({file:"sockjs",urls:o.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:s.Dependencies.getPath("sockjs",{encrypted:e.encrypted}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),u={isSupported:function(t){return a.default.isXDRSupported(t.encrypted)}},d=new r.default(c.extend({},i.streamingConfiguration,u)),p=new r.default(c.extend({},i.pollingConfiguration,u));i.default.xdr_streaming=d,i.default.xdr_polling=p,i.default.sockjs=l,e.__esModule=!0,e.default=i.default},function(t,e,n){"use strict";var i=n(20),r=n(21),o=n(9),a=n(2),s=new r.default({urls:i.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(a.default.getWebSocketAPI())},isSupported:function(){return Boolean(a.default.getWebSocketAPI())},getSocket:function(t){return a.default.createWebSocket(t)}}),c={urls:i.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};e.streamingConfiguration=o.extend({getSocket:function(t){return a.default.HTTPFactory.createStreamingSocket(t)}},c),e.pollingConfiguration=o.extend({getSocket:function(t){return a.default.HTTPFactory.createPollingSocket(t)}},c);var l={isSupported:function(){return a.default.isXHRSupported()}},u=new r.default(o.extend({},e.streamingConfiguration,l)),d=new r.default(o.extend({},e.pollingConfiguration,l)),p={ws:s,xhr_streaming:u,xhr_polling:d};e.__esModule=!0,e.default=p},function(t,e,n){"use strict";function i(t,e,n){return t+(e.encrypted?"s":"")+"://"+(e.encrypted?e.hostEncrypted:e.hostUnencrypted)+n}function r(t,e){return"/app/"+t+"?protocol="+o.default.PROTOCOL+"&client=js&version="+o.default.VERSION+(e?"&"+e:"")}var o=n(5);e.ws={getInitial:function(t,e){return i("ws",e,r(t,"flash=false"))}},e.http={getInitial:function(t,e){return i("http",e,(e.httpPath||"/pusher")+r(t))}},e.sockjs={getInitial:function(t,e){return i("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return r(t)}}},function(t,e,n){"use strict";var i=n(22),r=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,n,r){return new i.default(this.hooks,t,e,n,r)},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(11),o=n(9),a=n(23),s=n(8),c=n(2),l=function(t){function e(e,n,i,r,o){t.call(this),this.initialize=c.default.transportConnectionInitializer,this.hooks=e,this.name=n,this.priority=i,this.key=r,this.options=o,this.state="new",this.timeline=o.timeline,this.activityTimeout=o.activityTimeout,this.id=this.timeline.generateUniqueID()}return i(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return r.default.defer(function(){t.onError(e),t.changeState("closed")}),!1}return this.bindListeners(),s.default.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(r.default.defer(function(){e.socket&&e.socket.send(t)}),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return o.extend({cid:this.id},t)},e}(a.default);e.__esModule=!0,e.default=l},function(t,e,n){"use strict";var i=n(24),r=Function("return this")(),o=function(){function t(t){this.callbacks=new i.default,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},t.prototype.bind_all=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},t.prototype.unbind_all=function(t,e){return this.callbacks.remove(t,e),this},t.prototype.emit=function(t,e){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var i=this.callbacks.get(t);if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].fn.call(i[n].context||r,e);else this.failThrough&&this.failThrough(t,e);return this},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";function i(t){return"_"+t}var r=n(9),o=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[i(t)]},t.prototype.add=function(t,e,n){var r=i(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})},t.prototype.remove=function(t,e,n){if(!t&&!e&&!n)return void(this._callbacks={});var o=t?[i(t)]:r.keys(this._callbacks);e||n?this.removeCallback(o,e,n):this.removeAllCallbacks(o)},t.prototype.removeCallback=function(t,e,n){r.apply(t,function(t){this._callbacks[t]=r.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||n&&n!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)},t.prototype.removeAllCallbacks=function(t){r.apply(t,function(t){delete this._callbacks[t]},this)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(23),o=function(t){function e(){t.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}return i(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(r.default);e.NetInfo=o,e.Network=new o},function(t,e){"use strict";var n=function(t){var e;return e=t.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:t.wsHost+":"+t.wsPort,hostEncrypted:t.wsHost+":"+t.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:t.httpHost+":"+t.httpPort,hostEncrypted:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e,":http_fallback_loop"]]]]]};e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.encrypted?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),r.Dependencies.load(t.hooks.file,{encrypted:t.options.encrypted},function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()}var r=n(3);e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var i=n(29),r=n(31);r.default.createXDR=function(t,e){return this.createRequest(i.default,t,e)},e.__esModule=!0,e.default=r.default},function(t,e,n){"use strict";var i=n(30),r={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new i.RequestTimedOut),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}};e.__esModule=!0,e.default=r},function(t,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.BadEventName=i;var r=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.RequestTimedOut=r;var o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportPriorityTooLow=o;var a=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportClosed=a;var s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedTransport=s;var c=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedStrategy=c},function(t,e,n){"use strict";var i=n(32),r=n(33),o=n(35),a=n(36),s=n(37),c={createStreamingSocket:function(t){return this.createSocket(o.default,t)},createPollingSocket:function(t){return this.createSocket(a.default,t)},createSocket:function(t,e){return new r.default(t,e)},createXHR:function(t,e){return this.createRequest(s.default,t,e)},createRequest:function(t,e,n){return new i.default(t,e,n)}};e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(2),o=n(23),a=function(t){function e(e,n,i){t.call(this),this.hooks=e,this.method=n,this.url=i}return i(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},r.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(r.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(o.default);e.__esModule=!0,e.default=a},function(t,e,n){"use strict";function i(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}function r(t,e){return t.base+"/"+e+"/xhr_send"}function o(t){return t+(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date+"&n="+p++}function a(t,e){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t);return n[1]+e+n[3]}function s(t){return Math.floor(Math.random()*t)}function c(t){for(var e=[],n=0;n<t;n++)e.push(s(32).toString(32));return e.join("")}var l=n(34),u=n(11),d=n(2),p=1,f=function(){function t(t,e){this.hooks=t,this.session=s(1e3)+"/"+c(8),this.location=i(e),this.readyState=l.default.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==l.default.OPEN)return!1;try{return d.default.createSocketRequest("POST",o(r(this.location,this.session))).start(t),!0}catch(t){return!1}},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=l.default.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},t.prototype.onChunk=function(t){if(200===t.status){this.readyState===l.default.OPEN&&this.onActivity();var e;switch(t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}}},t.prototype.onOpen=function(t){this.readyState===l.default.CONNECTING?(t&&t.hostname&&(this.location.base=a(this.location.base,t.hostname)),this.readyState=l.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===l.default.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=d.default.createSocketRequest("POST",o(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(e){t.onChunk(e)}),this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){u.default.defer(function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();e.__esModule=!0,e.default=f},function(t,e){"use strict";var n;!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(n||(n={})),e.__esModule=!0,e.default=n},function(t,e){"use strict";var n={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}};e.__esModule=!0,e.default=n},function(t,e){"use strict";var n={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}};e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(2),r={getRequest:function(t){var e=i.default.getXHRAPI(),n=new e;return n.onreadystatechange=n.onprogress=function(){switch(n.readyState){case 3:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText);break;case 4:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText),t.emit("finished",n.status),t.close()}},n},abortRequest:function(t){t.onreadystatechange=null,t.abort()}};e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(9),r=n(11),o=n(39),a=function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(i.extend({},e,{timestamp:r.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(o.default.ERROR,t)},t.prototype.info=function(t){this.log(o.default.INFO,t)},t.prototype.debug=function(t){this.log(o.default.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var n=this,r=i.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(r,function(t,i){t||n.sent++,e&&e(t,i)}),!0},t.prototype.generateUniqueID=function(){return++this.uniqueID},t}();e.__esModule=!0,e.default=a},function(t,e){"use strict";var n;!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(n||(n={})),e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(t){return function(e){return[t.apply(this,arguments),e]}}function r(t){return"string"==typeof t&&":"===t.charAt(0)}function o(t,e){return e[t.slice(1)]}function a(t,e){if(0===t.length)return[[],e];var n=l(t[0],e),i=a(t.slice(1),n[1]);return[[n[0]].concat(i[0]),i[1]]}function s(t,e){if(!r(t))return[t,e];var n=o(t,e);if(void 0===n)throw"Undefined symbol "+t;return[n,e]}function c(t,e){if(r(t[0])){var n=o(t[0],e);if(t.length>1){if("function"!=typeof n)throw"Calling non-function "+t[0];var i=[u.extend({},e)].concat(u.map(t.slice(1),function(t){return l(t,u.extend({},e))[0]}));return n.apply(this,i)}return[n,e]}return a(t,e)}function l(t,e){return"string"==typeof t?s(t,e):"object"==typeof t&&t instanceof Array&&t.length>0?c(t,e):[t,e]}var u=n(9),d=n(11),p=n(41),f=n(30),h=n(55),_=n(56),m=n(57),g=n(58),v=n(59),b=n(60),y=n(61),w=n(2),$=w.default.Transports;e.build=function(t,e){return l(t,u.extend({},k,e))[1].strategy};var x={isSupported:function(){return!1},connect:function(t,e){var n=d.default.defer(function(){e(new f.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},k={extend:function(t,e,n){return[u.extend({},e,n),t]},def:function(t,e,n){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=n,[void 0,t]},def_transport:function(t,e,n,i,r,o){var a=$[n];if(!a)throw new f.UnsupportedTransport(n);var s,c=!(t.enabledTransports&&-1===u.arrayIndexOf(t.enabledTransports,e)||t.disabledTransports&&-1!==u.arrayIndexOf(t.disabledTransports,e));s=c?new h.default(e,i,o?o.getAssistant(a):a,u.extend({key:t.key,encrypted:t.encrypted,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},r)):x;var l=t.def(t,e,s)[1];return l.Transports=t.Transports||{},l.Transports[e]=s,[void 0,l]},transport_manager:i(function(t,e){return new p.default(e)}),sequential:i(function(t,e){var n=Array.prototype.slice.call(arguments,2);return new _.default(n,e)}),cached:i(function(t,e,n){return new g.default(n,t.Transports,{ttl:e,timeline:t.timeline,encrypted:t.encrypted})}),first_connected:i(function(t,e){return new y.default(e)}),best_connected_ever:i(function(){var t=Array.prototype.slice.call(arguments,1);return new m.default(t)}),delayed:i(function(t,e,n){return new v.default(n,{delay:e})}),if:i(function(t,e,n,i){return new b.default(e,n,i)}),is_supported:i(function(t,e){return function(){return e.isSupported()}})}},function(t,e,n){"use strict";var i=n(42),r=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return i.default.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(43),r=n(44),o=n(47),a=n(48),s=n(49),c=n(50),l=n(51),u=n(53),d=n(54),p={createChannels:function(){return new d.default},createConnectionManager:function(t,e){return new u.default(t,e)},createChannel:function(t,e){return new l.default(t,e)},createPrivateChannel:function(t,e){return new c.default(t,e)},createPresenceChannel:function(t,e){return new s.default(t,e)},createTimelineSender:function(t,e){return new a.default(t,e)},createAuthorizer:function(t,e){return new o.default(t,e)},createHandshake:function(t,e){return new r.default(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new i.default(t,e,n)}};e.__esModule=!0,e.default=p},function(t,e,n){"use strict";var i=n(11),r=n(9),o=function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,n,o){var a=this;o=r.extend({},o,{activityTimeout:this.pingDelay});var s=this.transport.createConnection(t,e,n,o),c=null,l=function(){s.unbind("open",l),s.bind("closed",u),c=i.default.now()},u=function(t){if(s.unbind("closed",u),1002===t.code||1003===t.code)a.manager.reportDeath();else if(!t.wasClean&&c){var e=i.default.now()-c;e<2*a.maxPingDelay&&(a.manager.reportDeath(),a.pingDelay=Math.max(e/2,a.minPingDelay))}};return s.bind("open",l),s},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(9),r=n(45),o=n(46),a=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){t.unbindListeners();var n;try{n=r.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new o.default(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=r.getCloseAction(e)||"backoff",i=r.getCloseError(e);t.finish(n,{error:i})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(i.extend({transport:this.transport,action:t},e))},t}();e.__esModule=!0,e.default=a},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(t){if(!(t instanceof SyntaxError))throw t}return e}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},e.encodeMessage=function(t){return JSON.stringify(t)},e.processHandshake=function(t){if(t=e.decodeMessage(t),"pusher:connection_established"===t.event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},e.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"ssl_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(9),o=n(23),a=n(45),s=n(8),c=function(t){function e(e,n){t.call(this),this.id=e,this.transport=n,this.activityTimeout=n.activityTimeout,this.bindListeners()}return i(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,n){var i={event:t,data:e};return n&&(i.channel=n),s.default.debug("Event sent",i),this.send(a.encodeMessage(i))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=a.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==n){switch(s.default.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){r.objectApply(e,function(e,n){t.transport.unbind(n,e)})};r.objectApply(e,function(e,n){t.transport.bind(n,e)})},e.prototype.handleCloseEvent=function(t){var e=a.getCloseAction(t),n=a.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e)},e}(o.default);e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var i=n(2),r=function(){function t(t,e){this.channel=t;var n=e.authTransport;if(void 0===i.default.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,this.authOptions=(e||{}).auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},t.prototype.authorize=function(e,n){return t.authorizers=t.authorizers||i.default.getAuthorizers(),t.authorizers[this.type].call(this,i.default,e,n)},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(2),r=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(i.default.TimelineTransport.getAgent(this,t),e)},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(50),o=n(8),a=n(52),s=function(t){function e(e,n){t.call(this,e,n),this.members=new a.default}return i(e,t),e.prototype.authorize=function(e,n){var i=this;t.prototype.authorize.call(this,e,function(t,e){if(!t){if(void 0===e.channel_data)return o.default.warn("Invalid auth response for channel '"+i.name+"', expected 'channel_data' field"),void n("Invalid auth response");var r=JSON.parse(e.channel_data);i.members.setMyID(r.user_id)}n(t,e)})},e.prototype.handleEvent=function(t,e){switch(t){case"pusher_internal:subscription_succeeded":this.members.onSubscription(e),this.subscribed=!0,this.emit("pusher:subscription_succeeded",this.members);break;case"pusher_internal:member_added":var n=this.members.addMember(e);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var i=this.members.removeMember(e);i&&this.emit("pusher:member_removed",i);break;default:r.default.prototype.handleEvent.call(this,t,e)}},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(r.default);e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(42),o=n(51),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.authorize=function(t,e){return r.default.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(o.default);e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(23),o=n(30),a=n(8),s=function(t){function e(e,n){t.call(this,function(t,n){a.default.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=n,this.subscribed=!1}return i(e,t),e.prototype.authorize=function(t,e){return e(!1,{})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new o.BadEventName("Event '"+t+"' does not start with 'client-'");return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1},e.prototype.handleEvent=function(t,e){0===t.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===t&&(this.subscribed=!0,this.emit("pusher:subscription_succeeded",e)):this.emit(t,e)},e.prototype.subscribe=function(){var t=this;this.authorize(this.pusher.connection.socket_id,function(e,n){e?t.handleEvent("pusher:subscription_error",n):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})})},e.prototype.unsubscribe=function(){this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e}(r.default);e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var i=n(9),r=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;i.objectApply(this.members,function(n,i){t(e.get(i))})},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(23),o=n(12),a=n(8),s=n(9),c=n(2),l=function(t){function e(e,n){var i=this;t.call(this),this.key=e,this.options=n||{},this.state="initialized",this.connection=null,this.encrypted=!!n.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var r=c.default.getNetwork();r.bind("online",function(){i.timeline.info({netinfo:"online"}),"connecting"!==i.state&&"unavailable"!==i.state||i.retryIn(0)}),r.bind("offline",function(){i.timeline.info({netinfo:"offline"}),i.connection&&i.sendActivityCheck()}),this.updateStrategy()}return i(e,t),e.prototype.connect=function(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported())return void this.updateState("failed");this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isEncrypted=function(){return this.encrypted},e.prototype.startConnecting=function(){var t=this,e=function(n,i){n?t.runner=t.strategy.connect(0,e):"error"===i.action?(t.emit("error",{type:"HandshakeError",error:i.error}),t.timeline.error({handshakeError:i.error})):(t.abortConnecting(),t.handshakeCallbacks[i.action](i))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){this.abandonConnection().close()}},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new o.OneOffTimer(t||0,function(){e.disconnectInternally(),e.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new o.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new o.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.handlesActivityChecks()||(this.activityTimer=new o.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(){var t=this;return{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}}},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return s.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{ssl_only:e(function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},e.prototype.setConnection=function(t){this.connection=t;for(var e in this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var t in this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var n=this.state;if(this.state=t,n!==t){var i=t;"connected"===i&&(i+=" with new socket ID "+e.socket_id),a.default.debug("State changed",n+" -> "+i),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(r.default);e.__esModule=!0,e.default=l},function(t,e,n){"use strict";function i(t,e){return 0===t.indexOf("private-")?o.default.createPrivateChannel(t,e):0===t.indexOf("presence-")?o.default.createPresenceChannel(t,e):o.default.createChannel(t,e)}var r=n(9),o=n(42),a=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=i(t,e)),this.channels[t]},t.prototype.all=function(){return r.values(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){r.objectApply(this.channels,function(t){t.disconnect()})},t}();e.__esModule=!0,e.default=a},function(t,e,n){"use strict";function i(t,e){return o.default.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}var r=n(42),o=n(11),a=n(30),s=n(9),c=function(){function t(t,e,n,i){this.name=t,this.priority=e,this.transport=n,this.options=i||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},t.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return i(new a.UnsupportedStrategy,e);if(this.priority<t)return i(new a.TransportPriorityTooLow,e);var o=!1,c=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),l=null,u=function(){c.unbind("initialized",u),c.connect()},d=function(){l=r.default.createHandshake(c,function(t){o=!0,h(),e(null,t)})},p=function(t){h(),e(t)},f=function(){h();var t;try{t=JSON.stringify(c)}catch(e){t=s.safeJSONStringify(c)}e(new a.TransportClosed(t))},h=function(){c.unbind("initialized",u),c.unbind("open",d),c.unbind("error",p),c.unbind("closed",f)};return c.bind("initialized",u),c.bind("open",d),c.bind("error",p),c.bind("closed",f),c.initialize(),{abort:function(){o||(h(),l?l.close():c.close())},forceMinPriority:function(t){o||n.priority<t&&(l?l.close():c.close())}}},t}();e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var i=n(9),r=n(11),o=n(12),a=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return i.any(this.strategies,r.default.method("isSupported"))},t.prototype.connect=function(t,e){var n=this,i=this.strategies,r=0,o=this.timeout,a=null,s=function(c,l){l?e(null,l):(r+=1,n.loop&&(r%=i.length),r<i.length?(o&&(o*=2,n.timeoutLimit&&(o=Math.min(o,n.timeoutLimit))),a=n.tryStrategy(i[r],t,{timeout:o,failFast:n.failFast},s)):e(!0))};return a=this.tryStrategy(i[r],t,{timeout:o,failFast:this.failFast},s),{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,n,i){var r=null,a=null;return n.timeout>0&&(r=new o.OneOffTimer(n.timeout,function(){a.abort(),i(!0)})),a=t.connect(e,function(t,e){t&&r&&r.isRunning()&&!n.failFast||(r&&r.ensureAborted(),i(t,e))}),{abort:function(){r&&r.ensureAborted(),a.abort()},forceMinPriority:function(t){a.forceMinPriority(t)}}},t}();e.__esModule=!0,e.default=a},function(t,e,n){"use strict";function i(t,e,n){var i=a.map(t,function(t,i,r,o){return t.connect(e,n(i,o))});return{abort:function(){a.apply(i,o)},forceMinPriority:function(t){a.apply(i,function(e){e.forceMinPriority(t)})}}}function r(t){return a.all(t,function(t){return Boolean(t.error)})}function o(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var a=n(9),s=n(11),c=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return a.any(this.strategies,s.default.method("isSupported"))},t.prototype.connect=function(t,e){return i(this.strategies,t,function(t,n){return function(i,o){if(n[t].error=i,i)return void(r(n)&&e(!0));a.apply(n,function(t){t.forceMinPriority(o.transport.priority)}),e(null,o)}})},t}();e.__esModule=!0,e.default=c},function(t,e,n){"use strict";function i(t){return"pusherTransport"+(t?"Encrypted":"Unencrypted")}function r(t){var e=c.default.getLocalStorage();if(e)try{var n=e[i(t)];if(n)return JSON.parse(n)}catch(e){a(t)}return null}function o(t,e,n){var r=c.default.getLocalStorage();if(r)try{r[i(t)]=JSON.stringify({timestamp:s.default.now(),transport:e,latency:n})}catch(t){}}function a(t){var e=c.default.getLocalStorage();if(e)try{delete e[i(t)]}catch(t){}}var s=n(11),c=n(2),l=n(56),u=function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.encrypted,i=r(n),c=[this.strategy];if(i&&i.timestamp+this.ttl>=s.default.now()){var u=this.transports[i.transport];u&&(this.timeline.info({cached:!0,transport:i.transport,latency:i.latency}),c.push(new l.default([u],{timeout:2*i.latency+1e3,failFast:!0})))}var d=s.default.now(),p=c.pop().connect(t,function i(r,l){r?(a(n),c.length>0?(d=s.default.now(),p=c.pop().connect(t,i)):e(r)):(o(n,l.transport.name,s.default.now()-d),e(null,l))});return{abort:function(){p.abort()},forceMinPriority:function(e){t=e,p&&p.forceMinPriority(e)}}},t}();e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var i=n(12),r=function(){function t(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n,r=this.strategy,o=new i.OneOffTimer(this.options.delay,function(){n=r.connect(t,e)});return{abort:function(){o.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},t}();e.__esModule=!0,e.default=r},function(t,e){"use strict";var n=function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}();e.__esModule=!0,e.default=n},function(t,e){"use strict";var n=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.strategy.connect(t,function(t,i){i&&n.abort(),e(t,i)});return n},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(5);e.getGlobalConfig=function(){return{wsHost:i.default.host,wsPort:i.default.ws_port,wssPort:i.default.wss_port,httpHost:i.default.sockjs_host,httpPort:i.default.sockjs_http_port,httpsPort:i.default.sockjs_https_port,httpPath:i.default.sockjs_path,statsHost:i.default.stats_host,authEndpoint:i.default.channel_auth_endpoint,authTransport:i.default.channel_auth_transport,activity_timeout:i.default.activity_timeout,pong_timeout:i.default.pong_timeout,unavailable_timeout:i.default.unavailable_timeout}},e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}])})},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(255),o=n(295),a=function(t){function e(e){t.call(this),this._value=e}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(r.Subject);e.BehaviorSubject=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(19),o=function(t){function e(e,n,i){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=i,this.index=0}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(r.Subscriber);e.InnerSubscriber=o},function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,n){"use strict";var i=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=i},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(67),o=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(r.Subscription);e.SubjectSubscription=o},function(t,e,n){"use strict";var i=n(1),r=n(1324);i.Observable.combineLatest=r.combineLatest},function(t,e,n){"use strict";var i=n(1),r=n(1325);i.Observable.fromEvent=r.fromEvent},function(t,e,n){"use strict";var i=n(1),r=n(1326);i.Observable.fromPromise=r.fromPromise},function(t,e,n){"use strict";var i=n(1),r=n(1327);i.Observable.merge=r.merge},function(t,e,n){"use strict";var i=n(1),r=n(1328);i.Observable.never=r.never},function(t,e,n){"use strict";var i=n(1),r=n(1329);i.Observable.of=r.of},function(t,e,n){"use strict";var i=n(1),r=n(1330);i.Observable.prototype.auditTime=r.auditTime},function(t,e,n){"use strict";var i=n(1),r=n(1331);i.Observable.prototype.catch=r._catch,i.Observable.prototype._catch=r._catch},function(t,e,n){"use strict";var i=n(1),r=n(1334);i.Observable.prototype.concatMap=r.concatMap},function(t,e,n){"use strict";var i=n(1),r=n(1335);i.Observable.prototype.do=r._do,i.Observable.prototype._do=r._do},function(t,e,n){"use strict";var i=n(1),r=n(1336);i.Observable.prototype.first=r.first},function(t,e,n){"use strict";var i=n(1),r=n(1337);i.Observable.prototype.map=r.map},function(t,e,n){"use strict";var i=n(1),r=n(1338);i.Observable.prototype.mapTo=r.mapTo},function(t,e,n){"use strict";var i=n(1),r=n(1342);i.Observable.prototype.publishBehavior=r.publishBehavior},function(t,e,n){"use strict";var i=n(1),r=n(1343);i.Observable.prototype.scan=r.scan},function(t,e,n){"use strict";var i=n(1),r=n(1344);i.Observable.prototype.skip=r.skip},function(t,e,n){"use strict";var i=n(1),r=n(1345);i.Observable.prototype.startWith=r.startWith},function(t,e,n){"use strict";var i=n(1),r=n(1346);i.Observable.prototype.switchMap=r.switchMap},function(t,e,n){"use strict";var i=n(1),r=n(1347);i.Observable.prototype.withLatestFrom=r.withLatestFrom},function(t,e,n){"use strict";function i(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function r(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function o(t){return!!t&&"[object NodeList]"===t.toString()}function a(t){return!!t&&"[object HTMLCollection]"===t.toString()}function s(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},l=n(1),u=n(296),d=n(259),p=n(258),f=n(67),h=function(t){function e(e,n,i,r){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=i,this.options=r}return c(e,t),e.create=function(t,n,i,r){return d.isFunction(i)&&(r=i,i=void 0),new e(t,n,r,i)},e.setupSubscription=function(t,n,c,l,u){var d;if(o(t)||a(t))for(var p=0,h=t.length;p<h;p++)e.setupSubscription(t[p],n,c,l,u);else if(s(t)){var _=t;t.addEventListener(n,c,u),d=function(){return _.removeEventListener(n,c)}}else if(r(t)){var m=t;t.on(n,c),d=function(){return m.off(n,c)}}else if(i(t)){var g=t;t.addListener(n,c),d=function(){return g.removeListener(n,c)}}l.add(new f.Subscription(d))},e.prototype._subscribe=function(t){var n=this.sourceObj,i=this.eventName,r=this.options,o=this.selector,a=o?function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var i=u.tryCatch(o).apply(void 0,e);i===p.errorObject?t.error(p.errorObject.e):t.next(i)}:function(e){return t.next(e)};e.setupSubscription(n,i,a,t,r)},e}(l.Observable);e.FromEventObservable=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),o=n(256),a=function(t){function e(e,n,i){t.call(this),this.source=e,this.subjectFactory=n,this.selector=i}return i(e,t),e.prototype._subscribe=function(t){var e=this,n=e.selector,i=e.source,r=new o.ConnectableObservable(i,this.subjectFactory),a=n(r).subscribe(t);return a.add(r.connect()),a},e}(r.Observable);e.MulticastObservable=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1),o=n(1357),a=function(t){function e(){t.call(this)}return i(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){o.noop()},e}(r.Observable);e.NeverObservable=a},function(t,e,n){"use strict";function i(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function r(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(61),s=n(1),c=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return o(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){a.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(i,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(o.schedule(i,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(o.schedule(r,0,{err:e,subscriber:t}))}).then(null,function(t){a.root.setTimeout(function(){throw t})})},e}(s.Observable);e.PromiseObservable=c},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,i=null;return r.isScheduler(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0]),new a.ArrayObservable(t,i).lift(new s.CombineLatestOperator(n))}var r=n(102),o=n(116),a=n(68),s=n(1332);e.combineLatest=i},function(t,e,n){"use strict";var i=n(1320);e.fromEvent=i.FromEventObservable.create},function(t,e,n){"use strict";var i=n(1323);e.fromPromise=i.PromiseObservable.create},function(t,e,n){"use strict";var i=n(1339);e.merge=i.mergeStatic},function(t,e,n){"use strict";var i=n(1322);e.never=i.NeverObservable.create},function(t,e,n){"use strict";var i=n(68);e.of=i.ArrayObservable.of},function(t,e,n){"use strict";function i(t,e){return void 0===e&&(e=a.async),this.lift(new c(t,e))}function r(t){t.clearThrottle()}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(1351),s=n(19);e.auditTime=i;var c=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new l(t,this.duration,this.scheduler))},t}(),l=function(t){function e(e,n,i){t.call(this,e),this.duration=n,this.scheduler=i,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(r,this.duration,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,i=t.throttled;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(s.Subscriber)},function(t,e,n){"use strict";function i(t){var e=new s(t),n=this.lift(e);return e.caught=n}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(66),a=n(69);e._catch=i;var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.selector,this.caught))},t}(),c=function(t){function e(e,n,i){t.call(this,e),this.selector=n,this.caught=i}return r(e,t),e.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(t){return void this.destination.error(t)}this.unsubscribe(),this.destination.remove(this),a.subscribeToResult(this,e)}},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&a.isArray(t[0])&&(t=t[0]),t.unshift(this),new o.ArrayObservable(t).lift(new u(n))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(68),a=n(116),s=n(66),c=n(69),l={};e.combineLatest=i;var u=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new d(t,this.project))},t}();e.CombineLatestOperator=u;var d=function(t){function e(e,n){t.call(this,e),this.project=n,this.active=0,this.values=[],this.observables=[]}return r(e,t),e.prototype._next=function(t){this.values.push(l),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var i=t[n];this.add(c.subscribeToResult(this,i,i,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,r){var o=this.values,a=o[n],s=this.toRespond?a===l?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.OuterSubscriber);e.CombineLatestSubscriber=d},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.apply(void 0,[this].concat(t))}function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,i=t;return o.isScheduler(i[t.length-1])&&(n=i.pop()),new a.ArrayObservable(t,n).lift(new s.MergeAllOperator(1))}var o=n(102),a=n(68),s=n(293);e.concat=i,e.concatStatic=r},function(t,e,n){"use strict";function i(t,e){return this.lift(new r.MergeMapOperator(t,e,1))}var r=n(1340);e.concatMap=i},function(t,e,n){"use strict";function i(t,e,n){return this.lift(new a(t,e,n))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(19);e._do=i;var a=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,n,i,r){t.call(this,e);var a=new o.Subscriber(n,i,r);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return r(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(o.Subscriber)},function(t,e,n){"use strict";function i(t,e,n){return this.lift(new s(t,e,n,this))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(19),a=n(1353);e.first=i;var s=function(){function t(t,e,n,i){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=i}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),c=function(t){function e(e,n,i,r,o){t.call(this,e),this.predicate=n,this.resultSelector=i,this.defaultValue=r,this.source=o,this.index=0,this.hasCompleted=!1}return r(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){if(this.resultSelector)return void this._tryResultSelector(t,e);this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;e.next(t),e.complete(),this.hasCompleted=!0},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new a.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)},function(t,e,n){"use strict";function i(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new a(t,e))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(19);e.map=i;var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.project,this.thisArg))},t}();e.MapOperator=a;var s=function(t){function e(e,n,i){t.call(this,e),this.project=n,this.count=0,this.thisArg=i||this}return r(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)},function(t,e,n){"use strict";function i(t){return this.lift(new a(t))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(19);e.mapTo=i;var a=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.value))},t}(),s=function(t){function e(e,n){t.call(this,e),this.value=n}return r(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(o.Subscriber)},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t.unshift(this),r.apply(this,t)}function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,i=null,r=t[t.length-1];return s.isScheduler(r)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof r&&(n=t.pop()),1===t.length?t[0]:new o.ArrayObservable(t,i).lift(new a.MergeAllOperator(n))}var o=n(68),a=n(293),s=n(102);e.merge=i,e.mergeStatic=r},function(t,e,n){"use strict";function i(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new s(t,e,n))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(69),a=n(66);e.mergeMap=i;var s=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=s;var c=function(t){function e(e,n,i,r){void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=i,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,r){this.resultSelector?this._notifyResultSelector(t,e,n,i):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,i){var r;try{r=this.resultSelector(t,e,n,i)}catch(t){return void this.destination.error(t)}this.destination.next(r)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(a.OuterSubscriber);e.MergeMapSubscriber=c},function(t,e,n){"use strict";function i(t,e){var n;return n="function"==typeof t?t:function(){return t},e?new r.MulticastObservable(this,n,e):new o.ConnectableObservable(this,n)}var r=n(1321),o=n(256);e.multicast=i},function(t,e,n){"use strict";function i(t){return o.multicast.call(this,new r.BehaviorSubject(t))}var r=n(1296),o=n(1341);e.publishBehavior=i},function(t,e,n){"use strict";function i(t,e){return this.lift(new a(t,e))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(19);e.scan=i;var a=function(){function t(t,e){this.accumulator=t,this.seed=e}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.accumulator,this.seed))},t}(),s=function(t){function e(e,n,i){t.call(this,e),this.accumulator=n,this.index=0,this.accumulatorSet=!1,this.seed=i,this.accumulatorSet=void 0!==i}return r(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.accumulatorSet=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.accumulatorSet)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(o.Subscriber)},function(t,e,n){"use strict";function i(t){return this.lift(new a(t))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(19);e.skip=i;var a=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e._subscribe(new s(t,this.total))},t}(),s=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return r(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(o.Subscriber)},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];c.isScheduler(n)?t.pop():n=null;var i=t.length;return 1===i?s.concatStatic(new o.ScalarObservable(t[0],n),this):i>1?s.concatStatic(new r.ArrayObservable(t,n),this):s.concatStatic(new a.EmptyObservable(n),this)}var r=n(68),o=n(292),a=n(291),s=n(1333),c=n(102);e.startWith=i},function(t,e,n){"use strict";function i(t,e){return this.lift(new s(t,e))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(66),a=n(69);e.switchMap=i;var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.project,this.resultSelector))},t}(),c=function(t){function e(e,n,i){t.call(this,e),this.project=n,this.resultSelector=i,this.index=0}return r(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=this.innerSubscription;i&&i.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,i,r){this.resultSelector?this._tryNotifyNext(t,e,n,i):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,i){var r;try{r=this.resultSelector(t,e,n,i)}catch(t){return void this.destination.error(t)}this.destination.next(r)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n;"function"==typeof t[t.length-1]&&(n=t.pop());var i=t;return this.lift(new s(i,n))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(66),a=n(69);e.withLatestFrom=i;var s=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e._subscribe(new c(t,this.observables,this.project))},t}(),c=function(t){function e(e,n,i){t.call(this,e),this.observables=n,this.project=i,this.toRespond=[];var r=n.length;this.values=new Array(r);for(var o=0;o<r;o++)this.toRespond.push(o);for(var o=0;o<r;o++){var s=n[o];this.add(a.subscribeToResult(this,s,s,o))}}return r(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(67),o=function(t){function e(e,n){t.call(this)}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(r.Subscription);e.Action=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(61),o=n(1348),a=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),r.root.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){return void 0===n&&(n=0),null!==n&&this.delay===n?e:r.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(t){n=!0,i=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),i},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null))},e}(o.Action);e.AsyncAction=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(1299),o=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return i(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}},e}(r.Scheduler);e.AsyncScheduler=o},function(t,e,n){"use strict";var i=n(1349),r=n(1350);e.async=new r.AsyncScheduler(i.AsyncAction)},function(t,e,n){"use strict";var i=n(61),r=i.root.Symbol;if("function"==typeof r)r.iterator?e.$$iterator=r.iterator:"function"==typeof r.for&&(e.$$iterator=r.for("iterator"));else if(i.root.Set&&"function"==typeof(new i.root.Set)["@@iterator"])e.$$iterator="@@iterator";else if(i.root.Map)for(var o=Object.getOwnPropertyNames(i.root.Map.prototype),a=0;a<o.length;++a){var s=o[a];if("entries"!==s&&"size"!==s&&i.root.Map.prototype[s]===i.root.Map.prototype.entries){e.$$iterator=s;break}}else e.$$iterator="@@iterator"},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error);e.EmptyError=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return i(e,t),e}(Error);e.UnsubscriptionError=r},function(t,e,n){"use strict";function i(t){return null!=t&&"object"==typeof t}e.isObject=i},function(t,e,n){"use strict";function i(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=i},function(t,e,n){"use strict";function i(){}e.noop=i},function(t,e,n){"use strict";function i(t,e,n){if(t){if(t instanceof r.Subscriber)return t;if(t[o.$$rxSubscriber])return t[o.$$rxSubscriber]()}return t||e||n?new r.Subscriber(t,e,n):new r.Subscriber}var r=n(19),o=n(257);e.toSubscriber=i},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){return l[c]=r.apply(n,t),c++}function r(t){var e=[].slice.call(arguments,1);return function(){"function"==typeof t?t.apply(n,e):new Function(""+t)()}}function o(t){if(u)setTimeout(r(o,t),0);else{var e=l[t];if(e){u=!0;try{e()}finally{a(t),u=!1}}}}function a(t){delete l[t]}if(!t.setImmediate){var s,c=1,l={},u=!1,d=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(){var t=i(arguments);return e.nextTick(r(o,t)),t}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&o(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(){var n=i(arguments);return t.postMessage(e+n,"*"),n}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){o(t.data)},s=function(){var e=i(arguments);return t.port2.postMessage(e),e}}():d&&"onreadystatechange"in d.createElement("script")?function(){var t=d.documentElement;s=function(){var e=i(arguments),n=d.createElement("script");return n.onreadystatechange=function(){o(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n),e}}():function(){s=function(){var t=i(arguments);return setTimeout(r(o,t),0),t}}(),p.setImmediate=s,p.clearImmediate=a}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(4),n(65))},,,,,,,,,,function(t,e,n){var i,r,o;/*! tether-drop 1.5.0 */
!function(a,s){r=[n(305)],i=s,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(0,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t){var e=t.split(" "),n=s(e,2),i=n[0],r=n[1];if(["left","right"].indexOf(i)>=0){var o=[r,i];i=o[0],r=o[1]}return[i,r].join(" ")}function r(t,e){for(var n=void 0,i=[];-1!==(n=t.indexOf(e));)i.push(t.splice(n,1));return i}function o(){var s=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],u=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(a.apply(b,[null].concat(e)))};d(u,{createContext:o,drops:[],defaults:{}});var g={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",beforeClose:null,constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,openDelay:0,closeDelay:50,focusDelay:null,blurDelay:null,hoverOpenDelay:null,hoverCloseDelay:null,loadContentOnDemand:!1,tetherOptions:{}}};d(u,g,s),d(u.defaults,g.defaults,s.defaults),void 0===$[u.classPrefix]&&($[u.classPrefix]=[]),u.updateBodyClasses=function(){for(var t=!1,e=$[u.classPrefix],n=e.length,i=0;i<n;++i)if(e[i].isOpened()){t=!0;break}t?p(document.body,u.classPrefix+"-open"):f(document.body,u.classPrefix+"-open")};var b=function(o){function a(t){if(e(this,a),l(Object.getPrototypeOf(a.prototype),"constructor",this).call(this),this.options=d({},u.defaults,t),this.target=this.options.target,void 0===this.target)throw new Error("Drop Error: You must provide a target.");var n="data-"+u.classPrefix,i=this.target.getAttribute(n);i&&(this.options.content=i);for(var r=["position","openOn"],o=0;o<r.length;++o){var s=this.target.getAttribute(n+"-"+r[o]);s&&(this.options[r[o]]=s)}this.options.classes&&!1!==this.options.addTargetClasses&&p(this.target,this.options.classes),u.drops.push(this),$[u.classPrefix].push(this),this._boundEvents=[],this.bindMethods(),this.setupElements(),this.setupEvents(),this.setupTether()}return n(a,o),c(a,[{key:"_on",value:function(t,e,n){this._boundEvents.push({element:t,event:e,handler:n}),t.addEventListener(e,n)}},{key:"bindMethods",value:function(){this.transitionEndHandler=this._transitionEndHandler.bind(this)}},{key:"setupElements",value:function(){var t=this;if(this.drop=document.createElement("div"),p(this.drop,u.classPrefix),this.options.classes&&p(this.drop,this.options.classes),this.content=document.createElement("div"),p(this.content,u.classPrefix+"-content"),"function"==typeof this.options.content){var e=function(){var e=t.options.content.call(t,t);if("string"==typeof e)t.content.innerHTML=e;else{if("object"!=typeof e)throw new Error("Drop Error: Content function should return a string or HTMLElement.");t.content.innerHTML="",t.content.appendChild(e)}};this.options.loadContentOnDemand?this.on("beforeOpen",e.bind(this)):(e(),this.on("open",e.bind(this)))}else"object"==typeof this.options.content?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var e=this.options.position.split(" ");e[0]=w[e[0]],e=e.join(" ");var n=[];this.options.constrainToScrollParent?n.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}):n.push({to:"scrollParent"}),!1!==this.options.constrainToWindow?n.push({to:"window",attachment:"together"}):n.push({to:"window"});var r={element:this.drop,target:this.target,attachment:i(e),targetAttachment:i(this.options.position),classPrefix:u.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:n,addTargetClasses:this.options.addTargetClasses};!1!==this.options.tetherOptions&&(this.tether=new t(d({},r,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var t=this;if(this.options.openOn){if("always"===this.options.openOn)return void setTimeout(this.open.bind(this));var e=this.options.openOn.split(" ");if(e.indexOf("click")>=0)for(var n=function(e){t.toggle(e),e.preventDefault()},i=function(e){t.isOpened()&&(e.target===t.drop||t.drop.contains(e.target)||e.target===t.target||t.target.contains(e.target)||t.close(e))},r=0;r<m.length;++r){var o=m[r];this._on(this.target,o,n),this._on(document,o,i)}var a=null,s=null,c=function(e){null!==s?clearTimeout(s):a=setTimeout(function(){t.open(e),a=null},("focus"===e.type?t.options.focusDelay:t.options.hoverOpenDelay)||t.options.openDelay)},l=function(e){null!==a?clearTimeout(a):s=setTimeout(function(){t.close(e),s=null},("blur"===e.type?t.options.blurDelay:t.options.hoverCloseDelay)||t.options.closeDelay)};e.indexOf("hover")>=0&&(this._on(this.target,"mouseover",c),this._on(this.drop,"mouseover",c),this._on(this.target,"mouseout",l),this._on(this.drop,"mouseout",l)),e.indexOf("focus")>=0&&(this._on(this.target,"focus",c),this._on(this.drop,"focus",c),this._on(this.target,"blur",l),this._on(this.drop,"blur",l))}}},{key:"isOpened",value:function(){if(this.drop)return h(this.drop,u.classPrefix+"-open")}},{key:"toggle",value:function(t){this.isOpened()?this.close(t):this.open(t)}},{key:"open",value:function(t){var e=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),void 0!==this.tether&&this.tether.enable(),p(this.drop,u.classPrefix+"-open"),p(this.drop,u.classPrefix+"-open-transitionend"),setTimeout(function(){e.drop&&p(e.drop,u.classPrefix+"-after-open")}),this.trigger("beforeOpen"),void 0!==this.tether&&this.tether.position(),this.trigger("open"),u.updateBodyClasses())}},{key:"_transitionEndHandler",value:function(t){t.target===t.currentTarget&&(h(this.drop,u.classPrefix+"-open")||f(this.drop,u.classPrefix+"-open-transitionend"),this.drop.removeEventListener(v,this.transitionEndHandler))}},{key:"beforeCloseHandler",value:function(t){var e=!0;return this.isClosing||"function"!=typeof this.options.beforeClose||(this.isClosing=!0,e=!1!==this.options.beforeClose(t,this)),this.isClosing=!1,e}},{key:"close",value:function(t){this.isOpened()&&this.beforeCloseHandler(t)&&(f(this.drop,u.classPrefix+"-open"),f(this.drop,u.classPrefix+"-after-open"),this.drop.addEventListener(v,this.transitionEndHandler),this.trigger("close"),void 0!==this.tether&&this.tether.disable(),u.updateBodyClasses(),this.options.remove&&this.remove(t))}},{key:"remove",value:function(t){this.close(t),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&void 0!==this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),void 0!==this.tether&&this.tether.destroy();for(var t=0;t<this._boundEvents.length;++t){var e=this._boundEvents[t],n=e.element,i=e.event,o=e.handler;n.removeEventListener(i,o)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,r($[u.classPrefix],this),r(u.drops,this)}}]),a}(_);return u}var a=Function.prototype.bind,s=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}},u=t.Utils,d=u.extend,p=u.addClass,f=u.removeClass,h=u.hasClass,_=u.Evented,m=["click"];"ontouchstart"in document.documentElement&&m.push("touchstart");var g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},v="";for(var b in g)if({}.hasOwnProperty.call(g,b)){var y=document.createElement("p");void 0!==y.style[b]&&(v=g[b])}var w={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},$={},x=o();return document.addEventListener("DOMContentLoaded",function(){x.updateBodyClasses()}),x})},function(t,e){!function(){var t=function(){try{return!!Symbol.iterator}catch(t){return!1}}(),e=function(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n};(function(){return"URLSearchParams"in window})()||function(){var n=function(t){if(Object.defineProperty(this,"_entries",{value:{}}),"string"==typeof t){if(""!==t){t=t.replace(/^\?/,"");for(var e,i=t.split("&"),r=0;r<i.length;r++)e=i[r].split("="),this.append(decodeURIComponent(e[0]),e.length>1?decodeURIComponent(e[1]):"")}}else if(t instanceof n){var o=this;t.forEach(function(t,e){o.append(t,e)})}},i=n.prototype;i.append=function(t,e){t in this._entries?this._entries[t].push(e.toString()):this._entries[t]=[e.toString()]},i.delete=function(t){delete this._entries[t]},i.get=function(t){return t in this._entries?this._entries[t][0]:null},i.getAll=function(t){return t in this._entries?this._entries[t].slice(0):[]},i.has=function(t){return t in this._entries},i.set=function(t,e){this._entries[t]=[e.toString()]},i.forEach=function(t,e){var n;for(var i in this._entries)if(this._entries.hasOwnProperty(i)){n=this._entries[i];for(var r=0;r<n.length;r++)t.call(e,n[r],i,this)}},i.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),e(t)},i.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},i.entries=function(){var t=[];return this.forEach(function(e,n){t.push([e,n])}),e(t)},t&&(i[Symbol.iterator]=i.entries),i.toString=function(){var t="";return this.forEach(function(e,n){t.length>0&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e)}),t},window.URLSearchParams=n}()}(),function(){if(function(){try{var t=new URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href}catch(t){return!1}}()||function(){var t=window.URL,e=function(t,e){if("string"!=typeof t)throw new TypeError("Failed to construct 'URL': Invalid URL");var n=document.implementation.createHTMLDocument("");if(e){var i=n.createElement("base");i.href=e,n.head.appendChild(i)}var r=n.createElement("a");if(r.href=t,n.body.appendChild(r),":"===r.protocol||!/:/.test(r.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:r})},n=e.prototype,i=function(t){Object.defineProperty(n,t,{get:function(){return this._anchorElement[t]},set:function(e){this._anchorElement[t]=e},enumerable:!0})};["hash","host","hostname","href","port","protocol","search"].forEach(function(t){i(t)}),Object.defineProperties(n,{toString:{get:function(){var t=this;return function(){return t.href}}},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(t){this._anchorElement.pathname=t},enumerable:!0},origin:{get:function(){return this._anchorElement.protocol+"//"+this._anchorElement.hostname},enumerable:!0},password:{get:function(){return""},set:function(t){},enumerable:!0},username:{get:function(){return""},set:function(t){},enumerable:!0},searchParams:{get:function(){var t=new URLSearchParams(this.search),e=this;return["append","delete","set"].forEach(function(n){var i=t[n];t[n]=function(){i.apply(t,arguments),e.search=t.toString()}}),t},enumerable:!0}}),e.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},e.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},window.URL=e}(),!("origin"in window.location))try{Object.defineProperty(window.location,"origin",{get:function(){return window.location.protocol+"//"+window.location.hostname},enumerable:!0})}catch(t){setInterval(function(){window.location.origin=window.location.protocol+"//"+window.location.hostname},100)}}()},function(t,e){/*!
Waypoints - 4.0.0
Copyright © 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
!function(){"use strict";function t(i){if(!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,i),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=i.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,e+=1}var e=0,n={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var i in n)e.push(n[i]);for(var r=0,o=e.length;o>r;r++)e[r][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=r.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,i[t.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,i={},r=window.Waypoint,o=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete i[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,r.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||r.isTouch)&&(e.didScroll=!0,r.requestAnimationFrame(t))})},e.prototype.handleResize=function(){r.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var i=e[n],r=i.newScroll>i.oldScroll,o=r?i.forward:i.backward;for(var a in this.waypoints[n]){var s=this.waypoints[n][a],c=i.oldScroll<s.triggerPoint,l=i.newScroll>=s.triggerPoint,u=c&&l,d=!c&&!l;(u||d)&&(s.queueTrigger(o),t[s.group.id]=s.group)}}for(var p in t)t[p].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?r.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?r.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var i=0,r=t.length;r>i;i++)t[i].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,n=e?void 0:this.adapter.offset(),i={};this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var o in t){var a=t[o];for(var s in this.waypoints[o]){var c,l,u,d,p,f=this.waypoints[o][s],h=f.options.offset,_=f.triggerPoint,m=0,g=null==_;f.element!==f.element.window&&(m=f.adapter.offset()[a.offsetProp]),"function"==typeof h?h=h.apply(f):"string"==typeof h&&(h=parseFloat(h),f.options.offset.indexOf("%")>-1&&(h=Math.ceil(a.contextDimension*h/100))),c=a.contextScroll-a.contextOffset,f.triggerPoint=m+c-h,l=_<a.oldScroll,u=f.triggerPoint>=a.oldScroll,d=l&&u,p=!l&&!u,!g&&d?(f.queueTrigger(a.backward),i[f.group.id]=f.group):!g&&p?(f.queueTrigger(a.forward),i[f.group.id]=f.group):g&&a.oldScroll>=f.triggerPoint&&(f.queueTrigger(a.forward),i[f.group.id]=f.group)}}return r.requestAnimationFrame(function(){for(var t in i)i[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in i)i[t].refresh()},e.findByElement=function(t){return i[t.waypointContextKey]},window.onload=function(){o&&o(),e.refreshAll()},r.requestAnimationFrame=function(e){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,e)},r.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function n(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},r=window.Waypoint;n.prototype.add=function(t){this.waypoints.push(t)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var i=this.triggerQueues[n],r="up"===n||"left"===n;i.sort(r?e:t);for(var o=0,a=i.length;a>o;o+=1){var s=i[o];(s.options.continuous||o===i.length-1)&&s.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(e){this.waypoints.sort(t);var n=r.Adapter.inArray(e,this.waypoints);return n===this.waypoints.length-1?null:this.waypoints[n+1]},n.prototype.previous=function(e){this.waypoints.sort(t);var n=r.Adapter.inArray(e,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},n.prototype.remove=function(t){var e=r.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(t){return i[t.axis][t.name]||new n(t)},r.Group=n}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,n=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,n){t.prototype[n]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[n].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(n,i){t[i]=e[i]}),n.adapters.push({name:"jquery",Adapter:t}),n.Adapter=t}(),function(){"use strict";function t(t){return function(){var n=[],i=arguments[0];return t.isFunction(arguments[0])&&(i=t.extend({},arguments[1]),i.handler=arguments[0]),this.each(function(){var r=t.extend({},i,{element:this});"string"==typeof r.context&&(r.context=t(this).closest(r.context)[0]),n.push(new e(r))}),n}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}()},function(t,e){/*!
Waypoints Sticky Element Shortcut - 4.0.0
Copyright © 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
!function(){"use strict";function t(i){this.options=e.extend({},n.defaults,t.defaults,i),this.element=this.options.element,this.$element=e(this.element),this.createWrapper(),this.createWaypoint()}var e=window.jQuery,n=window.Waypoint;t.prototype.createWaypoint=function(){var t=this.options.handler;this.waypoint=new n(e.extend({},this.options,{element:this.wrapper,handler:e.proxy(function(e){var n=this.options.direction.indexOf(e)>-1,i=n?this.$element.outerHeight(!0):"";this.$wrapper.height(i),this.$element.toggleClass(this.options.stuckClass,n),t&&t.call(this,e)},this)}))},t.prototype.createWrapper=function(){this.options.wrapper&&this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]},t.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass),this.options.wrapper&&this.$element.unwrap())},t.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},n.Sticky=t}()},function(t,e,n){var i,r,o;!function(){"use strict";function a(t){return angular.isUndefined(t)||null===t}function s(){try{return n(117)}catch(t){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}function c(t,e){return void 0===e&&(e=s()),t.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",e).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(e,n,i,r){return function(o,s,c){function l(){var t;if(_)t=_;else if(r.serverTime){var e=(new Date).getTime(),i=e-w+r.serverTime;t=n(i)}else t=n();return t}function u(){m&&(e.clearTimeout(m),m=null)}function d(t){var n=l().diff(t,"day"),i=b&&n>=b;if(i?s.text(t.format(y)):s.text(t.from(l(),g)),v&&k&&s.attr("title",t.local().format(v)),!i){var r=Math.abs(l().diff(t,"minute")),o=3600;r<1?o=1:r<60?o=30:r<180&&(o=300),m=e.setTimeout(function(){d(t)},1e3*o)}}function p(t){x&&s.attr("datetime",t)}function f(){if(u(),h){var t=i.preprocessDate(h);d(t),p(t.toISOString())}}var h,_,m=null,g=r.withoutSuffix,v=r.titleFormat,b=r.fullDateThreshold,y=r.fullDateFormat,w=(new Date).getTime(),$=c.amTimeAgo,x="TIME"===s[0].nodeName.toUpperCase(),k=!s.attr("title");o.$watch($,function(t){if(a(t)||""===t)return u(),void(h&&(s.text(""),p(""),h=null));h=t,f()}),t.isDefined(c.amFrom)&&o.$watch(c.amFrom,function(t){_=a(t)||""===t?null:n(t),f()}),t.isDefined(c.amWithoutSuffix)&&o.$watch(c.amWithoutSuffix,function(t){"boolean"==typeof t?(g=t,f()):g=r.withoutSuffix}),c.$observe("amFullDateThreshold",function(t){b=t,f()}),c.$observe("amFullDateFormat",function(t){y=t,f()}),o.$on("$destroy",function(){u()}),o.$on("amMoment:localeChanged",function(){f()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(e,n,i,r){var o=null;this.changeLocale=function(i,r){var o=e.locale(i,r);return t.isDefined(i)&&n.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(t){e.tz&&e.tz.setDefault?(e.tz.setDefault(t),n.$broadcast("amMoment:timezoneChanged")):i.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),r.timezone=t,o=t},this.preprocessDate=function(t){return o!==r.timezone&&this.changeTimezone(r.timezone),r.preprocess?r.preprocess(t):e(!isNaN(parseFloat(t))&&isFinite(t)?parseInt(t,10):t)}}]).filter("amParse",["moment",function(t){return function(e,n){return t(e,n)}}]).filter("amFromUnix",["moment",function(t){return function(e){return t.unix(e)}}]).filter("amUtc",["moment",function(t){return function(e){return t.utc(e)}}]).filter("amUtcOffset",["amMoment",function(t){function e(e,n){return t.preprocessDate(e).utcOffset(n)}return e}]).filter("amLocal",["moment",function(t){return function(e){return t.isMoment(e)?e.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(t,e,n){function i(e,i){var r=t.preprocessDate(e);return i?r.tz?r.tz(i):(n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),r):r}return i}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(t,e,n){function i(t){if(a(t))return"";var n=e.preprocessDate(t);return n.isValid()?n.calendar():""}return i.$stateful=n.statefulFilters,i}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(t,e,n){function i(n,i,r,o){if(a(n))return"";var s=e.preprocessDate(n),c=a(i)?t():e.preprocessDate(i);return s.isValid()&&c.isValid()?s.diff(c,r,o):""}return i.$stateful=n.statefulFilters,i}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(t,e,n){function i(t,n){if(a(t))return"";var i=e.preprocessDate(t);return i.isValid()?i.format(n):""}return i.$stateful=n.statefulFilters,i}]).filter("amDurationFormat",["moment","angularMomentConfig",function(t,e){function n(e,n,i){return a(e)?"":t.duration(e,n).humanize(i)}return n.$stateful=e.statefulFilters,n}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(t,e,n){function i(n,i,r){var o,s;return a(n)?"":(n=e.preprocessDate(n),o=t(n),o.isValid()?(s=t(r),!a(r)&&s.isValid()?o.from(s,i):o.fromNow(i)):"")}return i.$stateful=n.statefulFilters,i}]).filter("amSubtract",["moment","angularMomentConfig",function(t,e){function n(e,n,i){return a(e)?"":t(e).subtract(parseInt(n,10),i)}return n.$stateful=e.statefulFilters,n}]).filter("amAdd",["moment","angularMomentConfig",function(t,e){function n(e,n,i){return a(e)?"":t(e).add(parseInt(n,10),i)}return n.$stateful=e.statefulFilters,n}]).filter("amStartOf",["moment","angularMomentConfig",function(t,e){function n(e,n){return a(e)?"":t(e).startOf(n)}return n.$stateful=e.statefulFilters,n}]).filter("amEndOf",["moment","angularMomentConfig",function(t,e){function n(e,n){return a(e)?"":t(e).endOf(n)}return n.$stateful=e.statefulFilters,n}])}r=[n(261),n(117)],i=c,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}()},function(t,e){var n;!function(t){"use strict";function e(){return{restrict:"E",scope:{left:"=left",right:"=right"},template:'<div ng-bind-html="diffOutput"></div>',controller:n}}var n=function(){function t(t,e){var n=this;this.$scope=t,this.$sce=e,this.unicodeRangeStart=57344,t.$watch("left",function(){n.doDiff()}),t.$watch("right",function(){n.doDiff()}),this.tagMap={},this.mapLength=0;var i=String.fromCharCode(this.unicodeRangeStart+this.mapLength);this.tagMap["&nbsp;"]=i,this.tagMap[i]="&nbsp;",this.mapLength++,this.dmp=new diff_match_patch,this.doDiff()}return t.prototype.doDiff=function(){var t=this.convertHtmlToDiffableString(this.$scope.left),e=this.convertHtmlToDiffableString(this.$scope.right),n=this.dmp.diff_main(t,e);this.dmp.diff_cleanupSemantic(n);for(var i="",r=0;r<n.length;r++)n[r][1]=this.insertTagsForOperation(n[r][1],n[r][0]),i+=this.convertDiffableBackToHtml(n[r][1]);this.$scope.diffOutput=this.$sce.trustAsHtml(i)},t.prototype.insertTagsForOperation=function(t,e){var n=-1;do{n++}while(t.charCodeAt(n)>=this.unicodeRangeStart+1);if(n>=t.length)return t;var i="",r="";if(1===e)i="<ins>",r="</ins>";else{if(-1!==e)return t;i="<del>",r="</del>"}for(var o=i,a=!0,s=0;s<t.length;s++)t.charCodeAt(s)<this.unicodeRangeStart?(a||(o+=i,a=!0),o+=t[s]):(a&&(o+=r,a=!1),o+=t[s]);return a&&(o+=r),o},t.prototype.convertHtmlToDiffableString=function(t){t=t.replace(/&nbsp;/g,this.tagMap["&nbsp;"]);for(var e="",n=0;n<t.length;){var i=t.indexOf("<",n);if(i<0){e+=t.substr(n);break}var r=t.indexOf(">",i);if(r<0){console.log("Invalid HTML. String will be truncated."),e+=t.substr(n,i-n);break}var o=t.substr(i,r+1-i),a=this.tagMap[o];void 0===a&&(a=String.fromCharCode(this.unicodeRangeStart+this.mapLength),this.tagMap[o]=a,this.tagMap[a]=o,this.mapLength++),e+=t.substr(n,i-n),e+=a,n=r+1}return e},t.prototype.convertDiffableBackToHtml=function(t){for(var e="",n=0;n<t.length;n++){if(t.charCodeAt(n)<this.unicodeRangeStart)e+=t[n];else{var i=this.tagMap[t[n]];e+=void 0===i?t[n]:i}}return e},t.$inject=["$scope","$sce"],t}();angular.module("angular-rich-text-diff",["ngSanitize"]),angular.module("angular-rich-text-diff").directive("richTextDiff",e)}(n||(n={}))},function(t,e){!function(){function t(t,e,n){function i(n,i,a,s,c){var l=function(){function o(t,e){this.controller=t,this.router=e}return o.prototype.cleanupLastView=function(){var e=this;this.previousLeaveAnimation&&(t.cancel(this.previousLeaveAnimation),this.previousLeaveAnimation=null),this.currentScope&&(this.currentScope.$destroy(),this.currentScope=null),this.currentElement&&(this.previousLeaveAnimation=t.leave(this.currentElement),this.previousLeaveAnimation.then(function(){return e.previousLeaveAnimation=null}),this.currentElement=null)},o.prototype.reuse=function(t){var n=e.when(!0),i=this.currentInstruction;return this.currentInstruction=t,this.currentController&&this.currentController.$routerOnReuse&&(n=e.when(this.currentController.$routerOnReuse(this.currentInstruction,i))),n},o.prototype.routerCanReuse=function(t){var n;return n=!(!this.currentInstruction||this.currentInstruction.componentType!==t.componentType)&&(this.currentController&&this.currentController.$routerCanReuse?this.currentController.$routerCanReuse(t,this.currentInstruction):t===this.currentInstruction||angular.equals(t.params,this.currentInstruction.params)),e.when(n)},o.prototype.routerCanDeactivate=function(t){return this.currentController&&this.currentController.$routerCanDeactivate?e.when(this.currentController.$routerCanDeactivate(t,this.currentInstruction)):e.when(!0)},o.prototype.deactivate=function(t){return this.currentController&&this.currentController.$routerOnDeactivate?e.when(this.currentController.$routerOnDeactivate(t,this.currentInstruction)):e.when()},o.prototype.activate=function(o){var a=this;this.previousInstruction=this.currentInstruction,this.currentInstruction=o;var s=this.controller.$$componentName=o.componentType;if("string"!=typeof s)throw new Error("Component is not a string for "+o.urlPath);this.controller.$$template="<"+r(s)+' $router="::$$router"></'+r(s)+">",this.controller.$$router=this.router.childRouter(o.componentType),this.controller.$$outlet=this;var l=n.$new();l.$$router=this.controller.$$router,this.deferredActivation=e.defer();var u=c(l,function(e){t.enter(e,null,a.currentElement||i),a.cleanupLastView()});return this.currentElement=u,this.currentScope=l,this.deferredActivation.promise},o}(),u=s[0],d=s[1],p=u&&u.$$router||o;d.$$currentComponent=null,p.registerPrimaryOutlet(new l(d,p))}var o=n;return{restrict:"AE",transclude:"element",terminal:!0,priority:400,require:["?^^ngOutlet","ngOutlet"],link:i,controller:function(){function t(){}return t}(),controllerAs:"$$ngOutlet"}}function e(t){return{restrict:"EA",priority:-400,require:"ngOutlet",link:function(e,n,i,r){var o=r.$$template;n.html(o),t(n.contents())(e)}}}function n(t){return{require:"^ngOutlet",priority:-1e3,link:function(e,n,i,r){var o=t.when(),a=r.$$outlet,s=a.currentController=n.controller(r.$$componentName);s.$routerOnActivate&&(o=t.when(s.$routerOnActivate(a.currentInstruction,a.previousInstruction))),o.then(a.deferredActivation.resolve,a.deferredActivation.reject)}}}function i(t,e){function n(n,i,r,o){function a(e){c=s.generate(e),n.$watch(function(){return s.isRouteActive(c)},function(t){t?i.addClass("ng-link-active"):i.removeClass("ng-link-active")});var r=c.toLinkUrl();return t._location.prepareExternalUrl(r)}var s=o&&o.$$router||t;if(s){var c=null,l=r.ngLink||"",u=e(l);if(u.constant){var d=u();i.attr("href",a(d))}else n.$watch(function(){return u(n)},function(t){return i.attr("href",a(t))},!0);i.on("click",function(e){1===e.which&&c&&(t.navigateByInstruction(c),e.preventDefault())})}}return{require:"?^^ngOutlet",restrict:"A",link:n}}function r(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}function o(t){var e=t.hashPrefix.bind(t),n=e();t.hashPrefix=function(t){return angular.isDefined(t)&&(n=t),e(t)},this.$get=function(){return n}}function a(t,e,n,i,r,o,a){function s(){return function(t){return t}}function c(t){return t}function l(t){return!!t}function u(t){return!t}function d(t){return"string"==typeof t}function p(t){return"function"==typeof t}function f(t){return"function"==typeof t}function h(t){return"object"==typeof t&&null!==t}function _(t){return Array.isArray(t)}function m(t){return t.name||"Root"}function g(){}function v(){}function b(t){return u(t)?null:t.toString()}function y(t){var e=[];return u(t)?[]:(U.forEach(t,function(t,n){e.push(!0===t?n:n+"="+t)}),e)}function w(t,e){return void 0===e&&(e="&"),y(t).join(e)}function $(t){for(var e=new Q(t[t.length-1]),n=t.length-2;n>=0;n-=1)e=new Q(t[n],e);return e}function x(t){var e=L.firstMatch(Z,t);return l(e)?e[0]:""}function k(t){var e=L.firstMatch(tt,t);return l(e)?e[0]:""}function C(t,e){return e instanceof Type&&t.name in e.prototype}function S(t){for(var e=F.annotations(t),n=0;n<e.length;n+=1){var i=e[n];if(i instanceof ot.CanActivate)return i.fn}return null}function A(t,e){if(t instanceof ft.AsyncRoute){var n=E(t.loader,e);return new ft.AsyncRoute({path:t.path,loader:n,name:t.name,data:t.data,useAsDefault:t.useAsDefault})}if(t instanceof ft.Route||t instanceof ft.Redirect||t instanceof ft.AuxRoute)return t;if(+!!t.component+ +!!t.redirectTo+ +!!t.loader!=1)throw new H('Route config should contain exactly one "component", "loader", or "redirectTo" property.');if(t.as&&t.name)throw new H('Route config should contain exactly one "as" or "name" property.');if(t.as&&(t.name=t.as),t.loader){var n=E(t.loader,e);return new ft.AsyncRoute({path:t.path,loader:n,name:t.name,data:t.data,useAsDefault:t.useAsDefault})}if(t.aux)return new ft.AuxRoute({path:t.aux,component:t.component,name:t.name});if(t.component){if("object"==typeof t.component){var i=t.component;if("constructor"==i.type)return new ft.Route({path:t.path,component:i.constructor,name:t.name,data:t.data,useAsDefault:t.useAsDefault});if("loader"==i.type)return new ft.AsyncRoute({path:t.path,loader:i.loader,name:t.name,data:t.data,useAsDefault:t.useAsDefault});throw new H('Invalid component type "'+i.type+'". Valid types are "constructor" and "loader".')}return new ft.Route(t)}return t.redirectTo?new ft.Redirect({path:t.path,redirectTo:t.redirectTo}):t}function E(t,e){return function(){return t().then(function(t){return e.configFromComponent(t),t})}}function T(t,e){if(!p(t))throw new H('Component for route "'+e+'" is not defined, or is not a class.')}function j(t){return u(t)?null:(t=B.replaceAll(t,Lt,"%25"),t=B.replaceAll(t,zt,"%2F"),t=B.replaceAll(t,Ft,"%28"),t=B.replaceAll(t,Ut,"%29"),t=B.replaceAll(t,Vt,"%3B"))}function O(t){return u(t)?null:(t=B.replaceAll(t,Bt,";"),t=B.replaceAll(t,Ht,")"),t=B.replaceAll(t,Wt,"("),t=B.replaceAll(t,Gt,"/"),t=B.replaceAll(t,Yt,"%"))}function q(t){var e=[];return t.forEach(function(t){if(d(t)){var n=t;e=e.concat(n.split("/"))}else e.push(t)}),e}function P(t){if(t=t.filter(function(t){return l(t)}),0==t.length)return null;if(1==t.length)return t[0];var e=t[0];return t.slice(1).reduce(function(t,e){return-1==M(e.specificity,t.specificity)?e:t},e)}function M(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i+=1){var r=B.charCodeAt(t,i),o=B.charCodeAt(e,i),a=o-r;if(0!=a)return a}return t.length-e.length}function I(t,e){if(p(t)){var n=F.annotations(t);if(l(n))for(var i=0;i<n.length;i++){var r=n[i];if(r instanceof kt.RouteConfig)throw new H('Child routes are not allowed for "'+e+'". Use "..." on the parent\'s route path.')}}}function R(t,e){var n=ue;return u(t.component)?n:(l(t.child)&&(n=R(t.child,l(e)?e.child:null)),n.then(function(n){if(0==n)return!1;if(t.component.reuse)return!0;var i=le.getCanActivateHook(t.component.componentType);return!l(i)||i(t.component,l(e)?e.component:null)}))}function D(t){var e=t+"Directive";if(r.has(e)){var n=r.get(e);if(n.length>1)throw new H('too many directives named "'+t+'"');return n[0].controller}throw new H('directive "'+t+'" is not registered')}var N={resolve:function(e){return t.when(e)},reject:function(e){return t.reject(e)},catchError:function(t,e){return t.then(null,e)},all:function(e){return t.all(e)}},L={create:function(t,e){return e=e?e.replace(/g/g,""):"",new RegExp(t,e+"g")},firstMatch:function(t,e){return t.lastIndex=0,t.exec(e)},matcher:function(t,e){return t.lastIndex=0,{re:t,input:e}}},z={next:function(t){return t.re.exec(t.input)}},F={annotations:function(t){return t.annotations||[]}},U={create:function(){return{}},set:function(t,e,n){return t[e]=n},get:function(t,e){return t.hasOwnProperty(e)?t[e]:void 0},contains:function(t,e){return t.hasOwnProperty(e)},keys:function(t){return Object.keys(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},delete:function(t,e){delete t[e]},forEach:function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},equals:function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r,o=0;o<n.length;o++)if(r=n[o],t[r]!==e[r])return!1;return!0},merge:function(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}},V=(Array,{toJSON:function(t){return JSON.stringify(t)},clear:function(t){t.length=0},create:function(){return[]},push:function(t,e){return t.push(e)},forEach:function(t,e){return t.forEach(e)},first:function(t){return t?t[0]:null},last:function(t){return(t&&t.length)>0?t[t.length-1]:null},map:function(t,e){return t.map(e)},join:function(t,e){return t.join(e)},reduce:function(t,e,n){return t.reduce(e,n)},filter:function(t,e){return t.filter(e)},concat:function(t,e){return t.concat(e)},slice:function(t){var e=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:null;return t.slice(e,null===n?void 0:n)},maximum:function(t,e){if(0==t.length)return null;for(var n=null,i=-1/0,r=0;r<t.length;r++){var o=t[r];if(!u(o)){var a=e(o);a>i&&(n=o,i=a)}}return n}}),B={charCodeAt:function(t,e){return t.charCodeAt(e)},equals:function(t,e){return t===e},split:function(t,e){return t.split(e)},replaceAll:function(t,e,n){return t.replace(e,n)},replaceAllMapped:function(t,e,n){return t.replace(e,function(t){return t.splice(-2,2),n.apply(null,t)})},contains:function(t,e){return-1!=t.indexOf(e)}},H=Error,W={callNext:function(t,e){t.fn(e)},callEmit:function(t,e){t.fn(e)},subscribe:function(t,e){t.fn=e}};v.prototype.subscribe=function(){},v.prototype.path=function(){return e.url()},v.prototype.go=function(t,n){return e.url(t+n)},v.prototype.prepareExternalUrl=function(t){return t.length>0&&!t.startsWith("/")&&(t="/"+t),e.$$html5?"."+t:"#"+a+t};var G={Injectable:function(){},OpaqueToken:function(){},Inject:function(){}},Y=function(){return G},K=function(){function t(t){var e=this;this.map={},this.keys={},l(t)&&U.forEach(t,function(t,n){e.map[n]=l(t)?t.toString():null,e.keys[n]=!0})}return t.prototype.get=function(t){return U.delete(this.keys,t),this.map[t]},t.prototype.getUnused=function(){var t=this,e={};return U.keys(this.keys).forEach(function(n){return e[n]=U.get(t.map,n)}),e},t}();G.TouchMap=K,G.normalizeString=b;var J=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};G.convertUrlParamsToArray=y,G.serializeParams=w;var Q=function(){function t(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=c([])),void 0===i&&(i=c({})),this.path=t,this.child=e,this.auxiliary=n,this.params=i}return t.prototype.toString=function(){return this.path+this._matrixParamsToString()+this._auxToString()+this._childString()},t.prototype.segmentToString=function(){return this.path+this._matrixParamsToString()},t.prototype._auxToString=function(){return this.auxiliary.length>0?"("+this.auxiliary.map(function(t){return t.toString()}).join("//")+")":""},t.prototype._matrixParamsToString=function(){var t=w(this.params,";");return t.length>0?";"+t:""},t.prototype._childString=function(){return l(this.child)?"/"+this.child.toString():""},t}();G.Url=Q;var X=function(t){function e(e,n,i,r,o){void 0===n&&(n=null),void 0===i&&(i=c([])),void 0===r&&(r=null),t.call(this,e,n,i,r),this.hash=o}return J(e,t),e.prototype.toString=function(){return this.path+this._auxToString()+this._childString()+this._queryParamsToString()+this._hashToString()},e.prototype.segmentToString=function(){return this.path+this._queryParamsToString()},e.prototype._queryParamsToString=function(){return u(this.params)?"":"?"+w(this.params)},e.prototype._hashToString=function(){return u(this.hash)?"":"#"+encodeURI(this.hash)},e}(Q);G.RootUrl=X,G.pathSegmentsToUrl=$;var Z=L.create("^[^\\/\\(\\)\\?;=&#]+"),tt=L.create("^[^\\(\\)\\?;&#]+"),et=function(){function t(){}return t.prototype.peekStartsWith=function(t){return this._remaining.startsWith(t)},t.prototype.capture=function(t){if(!this._remaining.startsWith(t))throw new H('Expected "'+t+'".');this._remaining=this._remaining.substring(t.length)},t.prototype.parse=function(t){return this._remaining=t,""==t||"/"==t?new Q(""):this.parseRoot()},t.prototype.parseRoot=function(){this.peekStartsWith("/")&&this.capture("/");var t=x(this._remaining);this.capture(t);var e=[];this.peekStartsWith("(")&&(e=this.parseAuxiliaryRoutes()),this.peekStartsWith(";")&&this.parseMatrixParams();var n=null;this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),n=this.parseSegment());var i=null;this.peekStartsWith("?")&&(i=this.parseQueryParams());var r=null;return this.peekStartsWith("#")&&(this.capture("#"),r=decodeURI(this._remaining),this.capture(this._remaining)),new X(t,n,e,i,r)},t.prototype.parseSegment=function(){if(0==this._remaining.length)return null;this.peekStartsWith("/")&&this.capture("/");var t=x(this._remaining);this.capture(t);var e=null;this.peekStartsWith(";")&&(e=this.parseMatrixParams());var n=[];this.peekStartsWith("(")&&(n=this.parseAuxiliaryRoutes());var i=null;return this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),i=this.parseSegment()),new Q(t,i,n,e)},t.prototype.parseQueryParams=function(){var t={};for(this.capture("?"),this.parseQueryParam(t);this._remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(t);return t},t.prototype.parseMatrixParams=function(){for(var t={};this._remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=x(this._remaining);if(!u(e)){this.capture(e);var n=!0;if(this.peekStartsWith("=")){this.capture("=");var i=x(this._remaining);l(i)&&(n=i,this.capture(n))}t[e]=n}},t.prototype.parseQueryParam=function(t){var e=x(this._remaining);if(!u(e)){this.capture(e);var n=!0;if(this.peekStartsWith("=")){this.capture("=");var i=k(this._remaining);l(i)&&(n=i,this.capture(n))}t[e]=n}},t.prototype.parseAuxiliaryRoutes=function(){var t=[];for(this.capture("(");!this.peekStartsWith(")")&&this._remaining.length>0;)t.push(this.parseSegment()),this.peekStartsWith("//")&&this.capture("//");return this.capture(")"),t},t}();G.UrlParser=et,G.parser=new et;var nt=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},it=function(){function t(t){this.name=t}return t=nt([s()],t)}();G.RouteLifecycleHook=it;var rt=function(){function t(t){this.fn=t}return t=nt([s()],t)}();G.CanActivate=rt,G.routerCanReuse=c(new it("routerCanReuse")),G.routerCanDeactivate=c(new it("routerCanDeactivate")),G.routerOnActivate=c(new it("routerOnActivate")),G.routerOnReuse=c(new it("routerOnReuse")),G.routerOnDeactivate=c(new it("routerOnDeactivate"));var ot=Y();G.hasLifecycleHook=C,G.getCanActivateHook=S;var J=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},nt=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},at=Y();G.RouteDefinition=at.RouteDefinition;var st=function(){function t(t){this.configs=t}return t=nt([s()],t)}();G.RouteConfig=st;var ct=function(){function t(t){var e=t.name,n=t.useAsDefault,i=t.path,r=t.regex,o=t.serializer,a=t.data;this.name=e,this.useAsDefault=n,this.path=i,this.regex=r,this.serializer=o,this.data=a}return t=nt([s()],t)}();G.AbstractRoute=ct;var lt=function(t){function e(e){var n=e.name,i=e.useAsDefault,r=e.path,o=e.regex,a=e.serializer,s=e.data,c=e.component;t.call(this,{name:n,useAsDefault:i,path:r,regex:o,serializer:a,data:s}),this.aux=null,this.component=c}return J(e,t),e=nt([s()],e)}(ct);G.Route=lt;var ut=function(t){function e(e){var n=e.name,i=e.useAsDefault,r=e.path,o=e.regex,a=e.serializer,s=e.data,c=e.component;t.call(this,{name:n,useAsDefault:i,path:r,regex:o,serializer:a,data:s}),this.component=c}return J(e,t),e=nt([s()],e)}(ct);G.AuxRoute=ut;var dt=function(t){function e(e){var n=e.name,i=e.useAsDefault,r=e.path,o=e.regex,a=e.serializer,s=e.data,c=e.loader;t.call(this,{name:n,useAsDefault:i,path:r,regex:o,serializer:a,data:s}),this.aux=null,this.loader=c}return J(e,t),e=nt([s()],e)}(ct);G.AsyncRoute=dt;var pt=function(t){function e(e){var n=e.name,i=e.useAsDefault,r=e.path,o=e.regex,a=e.serializer,s=e.data,c=e.redirectTo;t.call(this,{name:n,useAsDefault:i,path:r,regex:o,serializer:a,data:s}),this.redirectTo=c}return J(e,t),e=nt([s()],e)}(ct);G.Redirect=pt;var ft=Y();G.normalizeRouteConfig=A,G.assertComponentExists=T;var ht=Y(),_t=function(){function t(t,e){void 0===e&&(e=null),this._loader=t,this._resolvedComponent=null,this.data=l(e)?new ht.RouteData(e):ht.BLANK_ROUTE_DATA}return t.prototype.resolveComponentType=function(){var t=this;return l(this._resolvedComponent)?this._resolvedComponent:this._resolvedComponent=this._loader().then(function(e){return t.componentType=e,e})},t}();G.AsyncRouteHandler=_t;var ht=Y(),mt=function(){function t(t,e){this.componentType=t,this._resolvedComponent=null,this._resolvedComponent=N.resolve(t),this.data=l(e)?new ht.RouteData(e):ht.BLANK_ROUTE_DATA}return t.prototype.resolveComponentType=function(){return this._resolvedComponent},t}();G.SyncRouteHandler=mt;var J=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},gt=Y(),ht=Y(),vt=function(){function t(){}return t}();G.RouteMatch=vt;var bt=function(t){function e(e,n,i){t.call(this),this.instruction=e,this.remaining=n,this.remainingAux=i}return J(e,t),e}(vt);G.PathMatch=bt;var yt=function(t){function e(e,n){t.call(this),this.redirectTo=e,this.specificity=n}return J(e,t),e}(vt);G.RedirectMatch=yt;var wt=function(){function t(t,e){this._pathRecognizer=t,this.redirectTo=e,this.hash=this._pathRecognizer.hash}return Object.defineProperty(t.prototype,"path",{get:function(){return this._pathRecognizer.toString()},set:function(t){throw new H("you cannot set the path of a RedirectRule directly")},enumerable:!0,configurable:!0}),t.prototype.recognize=function(t){var e=null;return l(this._pathRecognizer.matchUrl(t))&&(e=new yt(this.redirectTo,this._pathRecognizer.specificity)),N.resolve(e)},t.prototype.generate=function(t){throw new H("Tried to generate a redirect.")},t}();G.RedirectRule=wt;var $t=function(){function t(t,e,n){this._routePath=t,this.handler=e,this._routeName=n,this._cache=new Map,this.specificity=this._routePath.specificity,this.hash=this._routePath.hash,this.terminal=this._routePath.terminal}return Object.defineProperty(t.prototype,"path",{get:function(){return this._routePath.toString()},set:function(t){throw new H("you cannot set the path of a RouteRule directly")},enumerable:!0,configurable:!0}),t.prototype.recognize=function(t){var e=this,n=this._routePath.matchUrl(t);return u(n)?null:this.handler.resolveComponentType().then(function(t){var i=e._getInstruction(n.urlPath,n.urlParams,n.allParams);return new bt(i,n.rest,n.auxiliary)})},t.prototype.generate=function(t){var e=this._routePath.generateUrl(t),n=e.urlPath,i=e.urlParams;return this._getInstruction(n,gt.convertUrlParamsToArray(i),t)},t.prototype.generateComponentPathValues=function(t){return this._routePath.generateUrl(t)},t.prototype._getInstruction=function(t,e,n){if(u(this.handler.componentType))throw new H("Tried to get instruction before the type was loaded.");var i=t+"?"+e.join("&");if(this._cache.has(i))return this._cache.get(i);var r=new ht.ComponentInstruction(t,e,this.handler.data,this.handler.componentType,this.terminal,this.specificity,n,this._routeName);return this._cache.set(i,r),r},t}();G.RouteRule=$t;var xt=Y(),kt=Y(),Ct=Y(),St=Y(),At=Y(),Et=Y(),Tt=function(){function t(){this.rulesByName=new Map,this.auxRulesByName=new Map,this.auxRulesByPath=new Map,this.rules=[],this.defaultRule=null}return t.prototype.config=function(t){var e;if(l(t.name)&&t.name[0].toUpperCase()!=t.name[0]){var n=t.name[0].toUpperCase()+t.name.substring(1);throw new H('Route "'+t.path+'" with name "'+t.name+'" does not begin with an uppercase letter. Route names should be CamelCase like "'+n+'".')}if(t instanceof kt.AuxRoute){e=new St.SyncRouteHandler(t.component,t.data);var i=this._getRoutePath(t),r=new xt.RouteRule(i,e,t.name);return this.auxRulesByPath.set(i.toString(),r),l(t.name)&&this.auxRulesByName.set(t.name,r),r.terminal}var o=!1;if(t instanceof kt.Redirect){var a=this._getRoutePath(t),s=new xt.RedirectRule(a,t.redirectTo);return this._assertNoHashCollision(s.hash,t.path),this.rules.push(s),!0}t instanceof kt.Route?(e=new St.SyncRouteHandler(t.component,t.data),o=l(t.useAsDefault)&&t.useAsDefault):t instanceof kt.AsyncRoute&&(e=new Ct.AsyncRouteHandler(t.loader,t.data),o=l(t.useAsDefault)&&t.useAsDefault);var c=this._getRoutePath(t),u=new xt.RouteRule(c,e,t.name);if(this._assertNoHashCollision(u.hash,t.path),o){if(l(this.defaultRule))throw new H("Only one route can be default");this.defaultRule=u}return this.rules.push(u),l(t.name)&&this.rulesByName.set(t.name,u),u.terminal},t.prototype.recognize=function(t){var e=[];return this.rules.forEach(function(n){var i=n.recognize(t);l(i)&&e.push(i)}),0==e.length&&l(t)&&t.auxiliary.length>0?[N.resolve(new xt.PathMatch(null,null,t.auxiliary))]:e},t.prototype.recognizeAuxiliary=function(t){var e=this.auxRulesByPath.get(t.path);return l(e)?[e.recognize(t)]:[N.resolve(null)]},t.prototype.hasRoute=function(t){return this.rulesByName.has(t)},t.prototype.componentLoaded=function(t){return this.hasRoute(t)&&l(this.rulesByName.get(t).handler.componentType)},t.prototype.loadComponent=function(t){return this.rulesByName.get(t).handler.resolveComponentType()},t.prototype.generate=function(t,e){var n=this.rulesByName.get(t);return u(n)?null:n.generate(e)},t.prototype.generateAuxiliary=function(t,e){var n=this.auxRulesByName.get(t);return u(n)?null:n.generate(e)},t.prototype._assertNoHashCollision=function(t,e){this.rules.forEach(function(n){if(t==n.hash)throw new H("Configuration '"+e+"' conflicts with existing route '"+n.path+"'")})},t.prototype._getRoutePath=function(t){if(l(t.regex)){if(f(t.serializer))return new Et.RegexRoutePath(t.regex,t.serializer);throw new H("Route provides a regex property, '"+t.regex+"', but no serializer property")}if(l(t.path)){var e=t instanceof kt.AuxRoute&&t.path.startsWith("/")?t.path.substring(1):t.path;return new At.ParamRoutePath(e)}throw new H("Route must provide either a path or regex property")},t}();G.RuleSet=Tt;var jt=function(){function t(t,e,n,i,r){this.urlPath=t,this.urlParams=e,this.allParams=n,this.auxiliary=i,this.rest=r}return t}();G.MatchedUrl=jt;var Ot=function(){function t(t,e){this.urlPath=t,this.urlParams=e}return t}();G.GeneratedUrl=Ot;var qt=Y(),gt=Y(),Pt=Y(),Mt=function(){function t(){this.name="",this.specificity="",this.hash="..."}return t.prototype.generate=function(t){return""},t.prototype.match=function(t){return!0},t}(),It=function(){function t(t){this.path=t,this.name="",this.specificity="2",this.hash=t}return t.prototype.match=function(t){return t==this.path},t.prototype.generate=function(t){return this.path},t}(),Rt=function(){function t(t){this.name=t,this.specificity="1",this.hash=":"}return t.prototype.match=function(t){return t.length>0},t.prototype.generate=function(t){if(!U.contains(t.map,this.name))throw new H("Route generator for '"+this.name+"' was not included in parameters passed.");return j(qt.normalizeString(t.get(this.name)))},t.paramMatcher=/^:([^\/]+)$/g,t}(),Dt=function(){function t(t){this.name=t,this.specificity="0",this.hash="*"}return t.prototype.match=function(t){return!0},t.prototype.generate=function(t){return qt.normalizeString(t.get(this.name))},t.wildcardMatcher=/^\*([^\/]+)$/g,t}(),Nt=function(){function t(t){this.routePath=t,this.terminal=!0,this._assertValidPath(t),this._parsePathString(t),this.specificity=this._calculateSpecificity(),this.hash=this._calculateHash();var e=this._segments[this._segments.length-1];this.terminal=!(e instanceof Mt)}return t.prototype.matchUrl=function(t){for(var e,n=t,i={},r=[],o=0;o<this._segments.length;o+=1){var a=this._segments[o];if(e=n,a instanceof Mt)break;if(l(e)){if(a instanceof Dt){i[a.name]=e.toString(),r.push(e.toString()),n=null;break}if(r.push(e.path),a instanceof Rt)i[a.name]=O(e.path);else if(!a.match(e.path))return null;n=e.child}else if(!a.match(""))return null}if(this.terminal&&l(n))return null;var s=r.join("/"),c=[],u=[],d=i;if(l(e)){var p=t instanceof gt.RootUrl?t:e;l(p.params)?(d=U.merge(p.params,i),u=gt.convertUrlParamsToArray(p.params)):d=i,c=e.auxiliary}return new Pt.MatchedUrl(s,u,d,c,n)},t.prototype.generateUrl=function(t){for(var e=new qt.TouchMap(t),n=[],i=0;i<this._segments.length;i++){var r=this._segments[i];r instanceof Mt||n.push(r.generate(e))}var o=n.join("/"),a=e.getUnused(),s=a;return new Pt.GeneratedUrl(o,s)},t.prototype.toString=function(){return this.routePath},t.prototype._parsePathString=function(t){t.startsWith("/")&&(t=t.substring(1));var e=t.split("/");this._segments=[];for(var n=e.length-1,i=0;i<=n;i++){var r,o=e[i];if(l(r=L.firstMatch(Rt.paramMatcher,o)))this._segments.push(new Rt(r[1]));else if(l(r=L.firstMatch(Dt.wildcardMatcher,o)))this._segments.push(new Dt(r[1]));else if("..."==o){if(i<n)throw new H('Unexpected "..." before the end of the path for "'+t+'".');this._segments.push(new Mt)}else this._segments.push(new It(o))}},t.prototype._calculateSpecificity=function(){var t,e,n=this._segments.length;if(0==n)e+="2";else for(e="",t=0;t<n;t++)e+=this._segments[t].specificity;return e},t.prototype._calculateHash=function(){var t,e=this._segments.length,n=[];for(t=0;t<e;t++)n.push(this._segments[t].hash);return n.join("/")},t.prototype._assertValidPath=function(e){if(B.contains(e,"#"))throw new H('Path "'+e+'" should not include "#". Use "HashLocationStrategy" instead.');var n=L.firstMatch(t.RESERVED_CHARS,e);if(l(n))throw new H('Path "'+e+'" contains "'+n[0]+'" which is not allowed in a route config.')},t.RESERVED_CHARS=L.create("//|\\(|\\)|;|\\?|="),t}();G.ParamRoutePath=Nt;var Lt=/%/g,zt=/\//g,Ft=/\(/g,Ut=/\)/g,Vt=/;/g,Bt=/%3B/gi,Ht=/%29/gi,Wt=/%28/gi,Gt=/%2F/gi,Yt=/%25/gi,Pt=Y(),Kt=function(){function t(t,e){this._reString=t,this._serializer=e,this.terminal=!0,this.specificity="2",this.hash=this._reString,this._regex=L.create(this._reString)}return t.prototype.matchUrl=function(t){var e=t.toString(),n={},i=L.matcher(this._regex,e),r=z.next(i);if(u(r))return null;for(var o=0;o<r.length;o+=1)n[o.toString()]=r[o];return new Pt.MatchedUrl(e,[],n,[],null)},t.prototype.generateUrl=function(t){return this._serializer(t)},t.prototype.toString=function(){return this._reString},t}();G.RegexRoutePath=Kt;var J=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Jt=function(){function t(t){this.params=t}return t.prototype.get=function(t){return normalizeBlank(U.get(this.params,t))},t}();G.RouteParams=Jt;var Qt=function(){function t(t){void 0===t&&(t=c({})),this.data=t}return t.prototype.get=function(t){return normalizeBlank(U.get(this.data,t))},t}();G.RouteData=Qt,G.BLANK_ROUTE_DATA=new Qt;var Xt=function(){function t(t,e,n){this.component=t,this.child=e,this.auxInstruction=n}return Object.defineProperty(t.prototype,"urlPath",{get:function(){return l(this.component)?this.component.urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlParams",{get:function(){return l(this.component)?this.component.urlParams:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specificity",{get:function(){var t="";return l(this.component)&&(t+=this.component.specificity),l(this.child)&&(t+=this.child.specificity),t},enumerable:!0,configurable:!0}),t.prototype.toRootUrl=function(){return this.toUrlPath()+this.toUrlQuery()},t.prototype._toNonRootUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(l(this.child)?this.child._toNonRootUrl():"")},t.prototype.toUrlQuery=function(){return this.urlParams.length>0?"?"+this.urlParams.join("&"):""},t.prototype.replaceChild=function(t){return new Zt(this.component,t,this.auxInstruction)},t.prototype.toUrlPath=function(){return this.urlPath+this._stringifyAux()+(l(this.child)?this.child._toNonRootUrl():"")},t.prototype.toLinkUrl=function(){return this.urlPath+this._stringifyAux()+(l(this.child)?this.child._toLinkUrl():"")+this.toUrlQuery()},t.prototype._toLinkUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(l(this.child)?this.child._toLinkUrl():"")},t.prototype._stringifyPathMatrixAuxPrefixed=function(){var t=this._stringifyPathMatrixAux();return t.length>0&&(t="/"+t),t},t.prototype._stringifyMatrixParams=function(){return this.urlParams.length>0?";"+this.urlParams.join(";"):""},t.prototype._stringifyPathMatrixAux=function(){return u(this.component)?"":this.urlPath+this._stringifyMatrixParams()+this._stringifyAux()},t.prototype._stringifyAux=function(){var t=[];return U.forEach(this.auxInstruction,function(e,n){t.push(e._stringifyPathMatrixAux())}),t.length>0?"("+t.join("//")+")":""},t}();G.Instruction=Xt;var Zt=function(t){function e(e,n,i){t.call(this,e,n,i)}return J(e,t),e.prototype.resolveComponent=function(){return N.resolve(this.component)},e}(Xt);G.ResolvedInstruction=Zt;var te=function(t){function e(e,n){t.call(this,e,n,{})}return J(e,t),e.prototype.toLinkUrl=function(){return""},e.prototype._toLinkUrl=function(){return""},e}(Zt);G.DefaultInstruction=te;var ee=function(t){function e(e,n,i){void 0===n&&(n=""),void 0===i&&(i=c([])),t.call(this,null,null,{}),this._resolver=e,this._urlPath=n,this._urlParams=i}return J(e,t),Object.defineProperty(e.prototype,"urlPath",{get:function(){return l(this.component)?this.component.urlPath:l(this._urlPath)?this._urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"urlParams",{get:function(){return l(this.component)?this.component.urlParams:l(this._urlParams)?this._urlParams:[]},enumerable:!0,configurable:!0}),e.prototype.resolveComponent=function(){var t=this;return l(this.component)?N.resolve(this.component):this._resolver().then(function(e){return t.child=l(e)?e.child:null,t.component=l(e)?e.component:null})},e}(Xt);G.UnresolvedInstruction=ee;var ne=function(t){function e(e,n,i,r){t.call(this,e,n,i),this._specificity=r}return J(e,t),Object.defineProperty(e.prototype,"specificity",{get:function(){return this._specificity},enumerable:!0,configurable:!0}),e}(Zt);G.RedirectInstruction=ne;var ie=function(){function t(t,e,n,i,r,o,a,s){void 0===a&&(a=null),this.urlPath=t,this.urlParams=e,this.componentType=i,this.terminal=r,this.specificity=o,this.params=a,this.routeName=s,this.reuse=!1,this.routeData=l(n)?n:G.BLANK_ROUTE_DATA}return t}();G.ComponentInstruction=ie;var re=Y(),kt=Y(),xt=Y(),oe=Y(),ht=Y(),ae=Y(),gt=Y(),se=N.resolve(null);G.ROUTER_PRIMARY_COMPONENT=c(new re.OpaqueToken("RouterPrimaryComponent"));var ce=function(){function t(t){this._rootComponent=t,this._rules=new Map}return t.prototype.config=function(t,e){e=ae.normalizeRouteConfig(e,this),e instanceof kt.Route?ae.assertComponentExists(e.component,e.path):e instanceof kt.AuxRoute&&ae.assertComponentExists(e.component,e.path);var n=this._rules.get(t);u(n)&&(n=new oe.RuleSet,this._rules.set(t,n));var i=n.config(e);e instanceof kt.Route&&(i?I(e.component,e.path):this.configFromComponent(e.component))},t.prototype.configFromComponent=function(t){var e=this;if(p(t)&&!this._rules.has(t)){var n=F.annotations(t);if(l(n))for(var i=0;i<n.length;i++){var r=n[i];if(r instanceof kt.RouteConfig){var o=r.configs;o.forEach(function(n){return e.config(t,n)})}}}},t.prototype.recognize=function(t,e){var n=gt.parser.parse(t);return this._recognize(n,[])},t.prototype._recognize=function(t,e,n){var i=this;void 0===n&&(n=!1);var r=V.last(e),o=l(r)?r.component.componentType:this._rootComponent,a=this._rules.get(o);if(u(a))return se;var s=n?a.recognizeAuxiliary(t):a.recognize(t),c=s.map(function(t){return t.then(function(t){if(t instanceof xt.PathMatch){var n=e.length>0?[V.last(e)]:[],r=i._auxRoutesToUnresolved(t.remainingAux,n),o=new ht.ResolvedInstruction(t.instruction,null,r);if(u(t.instruction)||t.instruction.terminal)return o;var a=e.concat([o]);return i._recognize(t.remaining,a).then(function(t){return u(t)?null:t instanceof ht.RedirectInstruction?t:(o.child=t,o)})}if(t instanceof xt.RedirectMatch){var o=i.generate(t.redirectTo,e.concat([null]));return new ht.RedirectInstruction(o.component,o.child,o.auxInstruction,t.specificity)}})});return!u(t)&&""!=t.path||0!=s.length?N.all(c).then(P):N.resolve(this.generateDefault(o))},t.prototype._auxRoutesToUnresolved=function(t,e){var n=this,i={};return t.forEach(function(t){i[t.path]=new ht.UnresolvedInstruction(function(){return n._recognize(t,e,!0)})}),i},t.prototype.generate=function(t,e,n){void 0===n&&(n=!1);var i,r=q(t);if(""==V.first(r))r.shift(),i=V.first(e),e=[];else if(i=e.length>0?e.pop():null,"."==V.first(r))r.shift();else if(".."==V.first(r))for(;".."==V.first(r);){if(e.length<=0)throw new H('Link "'+V.toJSON(t)+'" has too many "../" segments.');i=e.pop(),r=V.slice(r,1)}else{var o=V.first(r),a=this._rootComponent,s=null;if(e.length>1){var c=e[e.length-1],d=e[e.length-2];a=c.component.componentType,s=d.component.componentType}else 1==e.length&&(a=e[0].component.componentType,s=this._rootComponent);var p=this.hasRoute(o,a),f=l(s)&&this.hasRoute(o,s);if(f&&p){var h='Link "'+V.toJSON(t)+'" is ambiguous, use "./" or "../" to disambiguate.';throw new H(h)}f&&(i=e.pop())}if(""==r[r.length-1]&&r.pop(),r.length>0&&""==r[0]&&r.shift(),r.length<1){var h='Link "'+V.toJSON(t)+'" must include a route name.';throw new H(h)}for(var _=this._generate(r,e,i,n,t),m=e.length-1;m>=0;m--){var g=e[m];if(u(g))break;_=g.replaceChild(_)}return _},t.prototype._generate=function(t,e,n,i,r){var o=this;void 0===i&&(i=!1);var a=this._rootComponent,s=null,c={},p=V.last(e);if(l(p)&&l(p.component)&&(a=p.component.componentType),0==t.length){var f=this.generateDefault(a);if(u(f))throw new H('Link "'+V.toJSON(r)+'" does not resolve to a terminal instruction.');return f}l(n)&&!i&&(c=U.merge(n.auxInstruction,c),s=n.component);var g=this._rules.get(a);if(u(g))throw new H('Component "'+m(a)+'" has no route config.');var v=0,b={};if(v<t.length&&d(t[v])){var y=t[v];if(""==y||"."==y||".."==y)throw new H('"'+y+'/" is only allowed at the beginning of a link DSL.');if((v+=1)<t.length){var w=t[v];h(w)&&!_(w)&&(b=w,v+=1)}var $=(i?g.auxRulesByName:g.rulesByName).get(y);if(u($))throw new H('Component "'+m(a)+'" has no route named "'+y+'".');if(u($.handler.componentType)){var x=$.generateComponentPathValues(b);return new ht.UnresolvedInstruction(function(){return $.handler.resolveComponentType().then(function(a){return o._generate(t,e,n,i,r)})},x.urlPath,gt.convertUrlParamsToArray(x.urlParams))}s=i?g.generateAuxiliary(y,b):g.generate(y,b)}for(;v<t.length&&_(t[v]);){var k=[p],C=this._generate(t[v],k,null,!0,r);c[C.component.urlPath]=C,v+=1}var S=new ht.ResolvedInstruction(s,null,c);if(l(s)&&l(s.componentType)){var A=null;if(s.terminal)t.length;else{var E=e.concat([S]),T=t.slice(v);A=this._generate(T,E,null,!1,r)}S.child=A}return S},t.prototype.hasRoute=function(t,e){var n=this._rules.get(e);return!u(n)&&n.hasRoute(t)},t.prototype.generateDefault=function(t){var e=this;if(u(t))return null;var n=this._rules.get(t);if(u(n)||u(n.defaultRule))return null;var i=null;if(l(n.defaultRule.handler.componentType)){var r=n.defaultRule.generate({});return n.defaultRule.terminal||(i=this.generateDefault(n.defaultRule.handler.componentType)),new ht.DefaultInstruction(r,i)}return new ht.UnresolvedInstruction(function(){return n.defaultRule.handler.resolveComponentType().then(function(n){return e.generateDefault(t)})})},t}();G.RouteRegistry=ce;var J=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},le=Y(),ue=N.resolve(!0),de=N.resolve(!1),pe=function(){function t(t,e,n,i){this.registry=t,this.parent=e,this.hostComponent=n,this.root=i,this.navigating=!1,this.currentInstruction=null,this._currentNavigation=ue,this._outlet=null,this._auxRouters=new Map,this._subject=new g}return t.prototype.childRouter=function(t){return this._childRouter=new he(this,t)},t.prototype.auxRouter=function(t){return new he(this,t)},t.prototype.registerPrimaryOutlet=function(t){if(l(t.name))throw new H("registerPrimaryOutlet expects to be called with an unnamed outlet.");if(l(this._outlet))throw new H("Primary outlet is already registered.");return this._outlet=t,l(this.currentInstruction)?this.commit(this.currentInstruction,!1):ue},t.prototype.unregisterPrimaryOutlet=function(t){if(l(t.name))throw new H("registerPrimaryOutlet expects to be called with an unnamed outlet.");this._outlet=null},t.prototype.registerAuxOutlet=function(t){var e=t.name;if(u(e))throw new H("registerAuxOutlet expects to be called with an outlet with a name.");var n=this.auxRouter(this.hostComponent);this._auxRouters.set(e,n),n._outlet=t;var i;return l(this.currentInstruction)&&l(i=this.currentInstruction.auxInstruction[e])?n.commit(i):ue},t.prototype.isRouteActive=function(t){var e=this,n=this;if(u(this.currentInstruction))return!1;for(;l(n.parent)&&l(t.child);)n=n.parent,t=t.child;if(u(t.component)||u(this.currentInstruction.component)||this.currentInstruction.component.routeName!=t.component.routeName)return!1;var i=!0;return l(this.currentInstruction.component.params)&&U.forEach(t.component.params,function(t,n){e.currentInstruction.component.params[n]!==t&&(i=!1)}),i},t.prototype.config=function(t){var e=this;return t.forEach(function(t){e.registry.config(e.hostComponent,t)}),this.renavigate()},t.prototype.navigate=function(t){var e=this.generate(t);return this.navigateByInstruction(e,!1)},t.prototype.navigateByUrl=function(t,e){var n=this;return void 0===e&&(e=!1),this._currentNavigation=this._currentNavigation.then(function(i){return n.lastNavigationAttempt=t,n._startNavigating(),n._afterPromiseFinishNavigating(n.recognize(t).then(function(t){return!u(t)&&n._navigate(t,e)}))})},t.prototype.navigateByInstruction=function(t,e){var n=this;return void 0===e&&(e=!1),u(t)?de:this._currentNavigation=this._currentNavigation.then(function(i){return n._startNavigating(),n._afterPromiseFinishNavigating(n._navigate(t,e))})},t.prototype._settleInstruction=function(t){var e=this;return t.resolveComponent().then(function(n){var i=[];return l(t.component)&&(t.component.reuse=!1),l(t.child)&&i.push(e._settleInstruction(t.child)),U.forEach(t.auxInstruction,function(t,n){i.push(e._settleInstruction(t))}),N.all(i)})},t.prototype._navigate=function(t,e){var n=this;return this._settleInstruction(t).then(function(e){return n._routerCanReuse(t)}).then(function(e){return n._canActivate(t)}).then(function(i){return!!i&&n._routerCanDeactivate(t).then(function(i){if(i)return n.commit(t,e).then(function(e){return n._emitNavigationFinish(t.toRootUrl()),!0})})})},t.prototype._emitNavigationFinish=function(t){W.callEmit(this._subject,t)},t.prototype._emitNavigationFail=function(t){W.callError(this._subject,t)},t.prototype._afterPromiseFinishNavigating=function(t){var e=this;return N.catchError(t.then(function(t){return e._finishNavigating()}),function(t){throw e._finishNavigating(),t})},t.prototype._routerCanReuse=function(t){var e=this;return u(this._outlet)?de:u(t.component)?ue:this._outlet.routerCanReuse(t.component).then(function(n){if(t.component.reuse=n,n&&l(e._childRouter)&&l(t.child))return e._childRouter._routerCanReuse(t.child)})},t.prototype._canActivate=function(t){return R(t,this.currentInstruction)},t.prototype._routerCanDeactivate=function(t){var e=this;if(u(this._outlet))return ue;var n,i=null,r=!1,o=null;return l(t)&&(i=t.child,o=t.component,r=u(t.component)||t.component.reuse),n=r?ue:this._outlet.routerCanDeactivate(o),n.then(function(t){return 0!=t&&(!l(e._childRouter)||e._childRouter._routerCanDeactivate(i))})},t.prototype.commit=function(t,e){var n=this;void 0===e&&(e=!1),this.currentInstruction=t;var i=ue;if(l(this._outlet)&&l(t.component)){var r=t.component;i=r.reuse?this._outlet.reuse(r):this.deactivate(t).then(function(t){return n._outlet.activate(r)}),l(t.child)&&(i=i.then(function(e){if(l(n._childRouter))return n._childRouter.commit(t.child)}))}var o=[];return this._auxRouters.forEach(function(e,n){l(t.auxInstruction[n])&&o.push(e.commit(t.auxInstruction[n]))}),i.then(function(t){return N.all(o)})},t.prototype._startNavigating=function(){this.navigating=!0},t.prototype._finishNavigating=function(){this.navigating=!1},t.prototype.subscribe=function(t,e){return W.subscribe(this._subject,t,e)},t.prototype.deactivate=function(t){var e=this,n=null,i=null;l(t)&&(n=t.child,i=t.component);var r=ue;return l(this._childRouter)&&(r=this._childRouter.deactivate(n)),l(this._outlet)&&(r=r.then(function(t){return e._outlet.deactivate(i)})),r},t.prototype.recognize=function(t){var e=this._getAncestorInstructions();return this.registry.recognize(t,e)},t.prototype._getAncestorInstructions=function(){for(var t=[this.currentInstruction],e=this;l(e=e.parent);)t.unshift(e.currentInstruction);return t},t.prototype.renavigate=function(){return u(this.lastNavigationAttempt)?this._currentNavigation:this.navigateByUrl(this.lastNavigationAttempt)},t.prototype.generate=function(t){var e=this._getAncestorInstructions();return this.registry.generate(t,e)},t}();G.Router=pe;var fe=function(t){function e(e,n,i){var r=this;t.call(this,e,null,i),this.root=this,this._location=n,this._locationSub=this._location.subscribe(function(t){r.recognize(t.url).then(function(e){l(e)?r.navigateByInstruction(e,l(t.pop)).then(function(n){if(!l(t.pop)||"hashchange"==t.type){var i=e.toUrlPath(),o=e.toUrlQuery();i.length>0&&"/"!=i[0]&&(i="/"+i),"hashchange"==t.type?e.toRootUrl()!=r._location.path()&&r._location.replaceState(i,o):r._location.go(i,o)}}):r._emitNavigationFail(t.url)})}),this.registry.configFromComponent(i),this.navigateByUrl(n.path())}return J(e,t),e.prototype.commit=function(e,n){var i=this;void 0===n&&(n=!1);var r=e.toUrlPath(),o=e.toUrlQuery();r.length>0&&"/"!=r[0]&&(r="/"+r);var a=t.prototype.commit.call(this,e);return n||(a=a.then(function(t){i._location.go(r,o)})),a},e.prototype.dispose=function(){l(this._locationSub)&&(W.dispose(this._locationSub),this._locationSub=null)},e}(pe);G.RootRouter=fe;var he=function(t){function e(e,n){t.call(this,e.registry,e,n,e.root),this.parent=e}return J(e,t),e.prototype.navigateByUrl=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByUrl(t,e)},e.prototype.navigateByInstruction=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByInstruction(t,e)},e}(pe);G.getCanActivateHook=function(t){var e=D(t);return e.$canActivate&&function(t,n){return r.invoke(e.$canActivate,null,{$nextInstruction:t,$prevInstruction:n})}},G.assertComponentExists=function(){},angular.stringifyInstruction=function(t){return t.toRootUrl()};var ce=G.RouteRegistry,fe=G.RootRouter;ce.prototype.configFromComponent=function(t){var e=this;if(d(t)){if(this._rules.has(t))return;var n=D(t);angular.isArray(n.$routeConfig)&&n.$routeConfig.forEach(function(n){var i=n.loader;l(i)&&(n=angular.extend({},n,{loader:function(){return r.invoke(i)}})),e.config(t,n)})}};var _e=new ce(o),me=new v,ge=new fe(_e,me,o);return i.$watch(function(){return e.url()},function(t){ge.lastNavigationAttempt!==t&&ge.navigateByUrl(t)}),ge.subscribe(function(){i.$broadcast("$routeChangeSuccess",{})}),ge}angular.module("ngComponentRouter",[]).directive("ngOutlet",["$animate","$q","$rootRouter",t]).directive("ngOutlet",["$compile",e]).directive("ngLink",["$rootRouter","$parse",i]).directive("$router",["$q",n]),angular.module("ngComponentRouter").value("$route",null).value("$routerRootComponent",new Object).provider("$locationHashPrefix",["$locationProvider",o]).factory("$rootRouter",["$q","$location","$browser","$rootScope","$injector","$routerRootComponent","$locationHashPrefix",a])}()},function(t,e,n){var i,r,o;/*!
	Autosize 3.0.15
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(n,a){r=[e,t],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(0,function(t,e){"use strict";function n(t){function e(e){var i=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=i,p=e,u&&(t.style.overflowY=e),n()}function n(){var e=window.pageYOffset,n=document.body.scrollTop,i=t.style.height;t.style.height="auto";var r=t.scrollHeight+d;if(0===t.scrollHeight)return void(t.style.height=i);t.style.height=r+"px",f=t.clientWidth,document.documentElement.scrollTop=e,document.body.scrollTop=n}function i(){var i=t.style.height;if(n(),window.getComputedStyle(t,null).height!==t.style.height?"visible"!==p&&e("visible"):"hidden"!==p&&e("hidden"),i!==t.style.height){var r=a("autosize:resized");t.dispatchEvent(r)}}var r=void 0===arguments[1]?{}:arguments[1],s=r.setOverflowX,c=void 0===s||s,l=r.setOverflowY,u=void 0===l||l;if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var d=null,p=null,f=t.clientWidth,h=function(){t.clientWidth!==f&&i()},_=function(e){window.removeEventListener("resize",h,!1),t.removeEventListener("input",i,!1),t.removeEventListener("keyup",i,!1),t.removeEventListener("autosize:destroy",_,!1),t.removeEventListener("autosize:update",i,!1),o.delete(t),Object.keys(e).forEach(function(n){t.style[n]=e[n]})}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",_,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",i,!1),window.addEventListener("resize",h,!1),t.addEventListener("input",i,!1),t.addEventListener("autosize:update",i,!1),o.add(t),c&&(t.style.overflowX="hidden",t.style.wordWrap="break-word"),function(){var e=window.getComputedStyle(t,null);p=e.overflowY,"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),d="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(d)&&(d=0),i()}()}}function i(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName){var e=a("autosize:destroy");t.dispatchEvent(e)}}function r(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName){var e=a("autosize:update");t.dispatchEvent(e)}}var o="function"==typeof Set?new Set:function(){var t=[];return{has:function(e){return Boolean(t.indexOf(e)>-1)},add:function(e){t.push(e)},delete:function(e){t.splice(t.indexOf(e),1)}}}(),a=function(t){return new Event(t)};try{new Event("test")}catch(t){a=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(s=function(t){return t},s.destroy=function(t){return t},s.update=function(t){return t}):(s=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t,e)}),t},s.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t},s.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],r),t}),e.exports=s})},function(t,e){!function(t,e){var n={};n.DEBUG=!1,n.VERSION="0.0.10",n.CONTEXT="player.js",n.POST_MESSAGE=!!t.postMessage,n.ENABLE_CONTEXT=!1,n.origin=function(e){return"//"===e.substr(0,2)&&(e=t.location.protocol+e),e.split("/").slice(0,3).join("/")},n.addEvent=function(t,e,n){t&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n)},n.log=function(){n.log.history=n.log.history||[],n.log.history.push(arguments),t.console&&n.DEBUG&&t.console.log(Array.prototype.slice.call(arguments))},n.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},n.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},n.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.isNone=function(t){return null===t||void 0===t},n.has=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.indexOf=function(t,e){if(null==t)return-1;var n=0,i=t.length;if(Array.prototype.IndexOf&&t.indexOf===Array.prototype.IndexOf)return t.indexOf(e);for(;i>n;n++)if(t[n]===e)return n;return-1},n.assert=function(t,e){if(!t)throw e||"Player.js Assert Failed"},n.Keeper=function(){this.init()},n.Keeper.prototype.init=function(){this.data={}},n.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},n.Keeper.prototype.has=function(t,e){if(!this.data.hasOwnProperty(t))return!1;if(n.isNone(e))return!0;for(var i=this.data[t],r=0;r<i.length;r++)if(i[r].id===e)return!0;return!1},n.Keeper.prototype.add=function(t,e,n,i,r){var o={id:t,event:e,cb:n,ctx:i,one:r};this.has(e)?this.data[e].push(o):this.data[e]=[o]},n.Keeper.prototype.execute=function(t,e,i,r){if(!this.has(t,e))return!1;for(var o=[],a=[],s=0;s<this.data[t].length;s++){var c=this.data[t][s];n.isNone(e)||!n.isNone(e)&&c.id===e?(a.push({cb:c.cb,ctx:c.ctx?c.ctx:r,data:i}),!1===c.one&&o.push(c)):o.push(c)}0===o.length?delete this.data[t]:this.data[t]=o;for(var l=0;l<a.length;l++){var u=a[l];u.cb.call(u.ctx,u.data)}},n.Keeper.prototype.on=function(t,e,n,i){this.add(t,e,n,i,!1)},n.Keeper.prototype.one=function(t,e,n,i){this.add(t,e,n,i,!0)},n.Keeper.prototype.off=function(t,e){var i=[];if(!this.data.hasOwnProperty(t))return i;for(var r=[],o=0;o<this.data[t].length;o++){var a=this.data[t][o];n.isNone(e)||a.cb===e?n.isNone(a.id)||i.push(a.id):r.push(a)}return 0===r.length?delete this.data[t]:this.data[t]=r,i},n.Player=function(t,e){return this instanceof n.Player?void this.init(t,e):new n.Player(t,e)},n.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},n.EVENTS.all=function(){var t=[];for(var e in n.EVENTS)n.has(n.EVENTS,e)&&n.isString(n.EVENTS[e])&&t.push(n.EVENTS[e]);return t},n.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},n.METHODS.all=function(){var t=[];for(var e in n.METHODS)n.has(n.METHODS,e)&&n.isString(n.METHODS[e])&&t.push(n.METHODS[e]);return t},n.READIED=[],n.Player.prototype.init=function(i){var r=this;n.isString(i)&&(i=e.getElementById(i)),this.elem=i,this.origin=n.origin(i.src),this.keeper=new n.Keeper,this.isReady=!1,this.queue=[],this.events=n.EVENTS.all(),this.methods=n.METHODS.all(),n.POST_MESSAGE?n.addEvent(t,"message",function(t){r.receive(t)}):n.log("Post Message is not Available."),n.indexOf(n.READIED,i.src)>-1?r.loaded=!0:this.elem.onload=function(){r.loaded=!0}},n.Player.prototype.send=function(t,e,i){if(t.context=n.CONTEXT,t.version=n.VERSION,e){var r=this.keeper.getUUID();t.listener=r,this.keeper.one(r,t.method,e,i)}return this.isReady||"ready"===t.value?(n.log("Player.send",t,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(t),this.origin),!0):(n.log("Player.queue",t),this.queue.push(t),!1)},n.Player.prototype.receive=function(t){if(n.log("Player.receive",t),t.origin!==this.origin)return!1;var e;try{e=JSON.parse(t.data)}catch(t){return!1}return(!n.ENABLE_CONTEXT||e.context===n.CONTEXT)&&("ready"===e.event&&e.value&&e.value.src===this.elem.src&&this.ready(e),void(this.keeper.has(e.event,e.listener)&&this.keeper.execute(e.event,e.listener,e.value,this)))},n.Player.prototype.ready=function(t){if(!0===this.isReady)return!1;t.value.events&&(this.events=t.value.events),t.value.methods&&(this.methods=t.value.methods),this.isReady=!0,this.loaded=!0;for(var e=0;e<this.queue.length;e++){var i=this.queue[e];n.log("Player.dequeue",i),"ready"===t.event&&this.keeper.execute(i.event,i.listener,!0,this),this.send(i)}this.queue=[]},n.Player.prototype.on=function(t,e,n){var i=this.keeper.getUUID();return"ready"===t?this.keeper.one(i,t,e,n):this.keeper.on(i,t,e,n),this.send({method:"addEventListener",value:t,listener:i}),!0},n.Player.prototype.off=function(t,e){var i=this.keeper.off(t,e);if(n.log("Player.off",i),i.length>0)for(var r in i)return this.send({method:"removeEventListener",value:t,listener:i[r]}),!0;return!1},n.Player.prototype.supports=function(t,e){n.assert(n.indexOf(["method","event"],t)>-1,'evtOrMethod needs to be either "event" or "method" got '+t),e=n.isArray(e)?e:[e];for(var i="event"===t?this.events:this.methods,r=0;r<e.length;r++)if(-1===n.indexOf(i,e[r]))return!1;return!0};for(var i=0,r=n.METHODS.all().length;r>i;i++){var o=n.METHODS.all()[i];n.Player.prototype.hasOwnProperty(o)||(n.Player.prototype[o]=function(t){return function(){var e={method:t},i=Array.prototype.slice.call(arguments);/^get/.test(t)?(n.assert(i.length>0,"Get methods require a callback."),i.unshift(e)):(/^set/.test(t)&&(n.assert(0!==i.length,"Set methods require a value."),e.value=i[0]),i=[e]),this.send.apply(this,i)}}(o))}t.playerjs=n,n.addEvent(t,"message",function(t){var e;try{e=JSON.parse(t.data)}catch(t){return!1}return(!n.ENABLE_CONTEXT||e.context===n.CONTEXT)&&void("ready"===e.event&&e.value&&e.value.src&&n.READIED.push(e.value.src))}),n.Receiver=function(t,e){this.init(t,e)},n.Receiver.prototype.init=function(i,r){var o=this;this.isReady=!1,this.origin=n.origin(e.referrer),this.methods={},this.supported={events:i||n.EVENTS.all(),methods:r||n.METHODS.all()},this.eventListeners={},this.reject=!(t.self!==t.top&&n.POST_MESSAGE),this.reject||n.addEvent(t,"message",function(t){o.receive(t)})},n.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var i={};if(n.isObject(e.data))i=e.data;else try{i=t.JSON.parse(e.data)}catch(t){n.log("JSON Parse Error",t)}if(n.log("Receiver.receive",e,i),!i.method)return!1;if(n.ENABLE_CONTEXT&&i.context!==n.CONTEXT)return!1;if(-1===n.indexOf(n.METHODS.all(),i.method))return this.emit("error",{code:2,msg:'Invalid Method "'+i.method+'"'}),!1;var r=n.isNone(i.listener)?null:i.listener;if("addEventListener"===i.method)this.eventListeners.hasOwnProperty(i.value)?-1===n.indexOf(this.eventListeners[i.value],r)&&this.eventListeners[i.value].push(r):this.eventListeners[i.value]=[r],"ready"===i.value&&this.isReady&&this.ready();else if("removeEventListener"===i.method){if(this.eventListeners.hasOwnProperty(i.value)){var o=n.indexOf(this.eventListeners[i.value],r);o>-1&&this.eventListeners[i.value].splice(o,1),0===this.eventListeners[i.value].length&&delete this.eventListeners[i.value]}}else this.get(i.method,i.value,r)},n.Receiver.prototype.get=function(t,e,n){var i=this;if(!this.methods.hasOwnProperty(t))return this.emit("error",{code:3,msg:'Method Not Supported"'+t+'"'}),!1;var r=this.methods[t];if("get"===t.substr(0,3)){var o=function(e){i.send(t,e,n)};r.call(this,o)}else r.call(this,e)},n.Receiver.prototype.on=function(t,e){this.methods[t]=e},n.Receiver.prototype.send=function(e,i,r){if(n.log("Receiver.send",e,i,r),this.reject)return n.log("Receiver.send.reject",e,i,r),!1;var o={context:n.CONTEXT,version:n.VERSION,event:e};n.isNone(i)||(o.value=i),n.isNone(r)||(o.listener=r);var a=JSON.stringify(o);t.parent.postMessage(a,""===this.origin?"*":this.origin)},n.Receiver.prototype.emit=function(t,e){if(!this.eventListeners.hasOwnProperty(t))return!1;n.log("Instance.emit",t,e,this.eventListeners[t]);for(var i=0;i<this.eventListeners[t].length;i++){var r=this.eventListeners[t][i];this.send(t,e,r)}return!0},n.Receiver.prototype.ready=function(){n.log("Receiver.ready"),this.isReady=!0;var e={src:t.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},n.HTML5Adapter=function(t){return this instanceof n.HTML5Adapter?void this.init(t):new n.HTML5Adapter(t)},n.HTML5Adapter.prototype.init=function(t){n.assert(t,"playerjs.VideoJSReceiver requires a video element");var e=this.receiver=new n.Receiver;t.addEventListener("playing",function(){e.emit("play")}),t.addEventListener("pause",function(){e.emit("pause")}),t.addEventListener("ended",function(){e.emit("ended")}),t.addEventListener("timeupdate",function(){e.emit("timeupdate",{seconds:t.currentTime,duration:t.duration})}),t.addEventListener("progress",function(){e.emit("buffered",{percent:t.buffered.length})}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getPaused",function(e){e(t.paused)}),e.on("getCurrentTime",function(e){e(t.currentTime)}),e.on("setCurrentTime",function(e){t.currentTime=e}),e.on("getDuration",function(e){e(t.duration)}),e.on("getVolume",function(e){e(100*t.volume)}),e.on("setVolume",function(e){t.volume=e/100}),e.on("mute",function(){t.muted=!0}),e.on("unmute",function(){t.muted=!1}),e.on("getMuted",function(e){e(t.muted)}),e.on("getLoop",function(e){e(t.loop)}),e.on("setLoop",function(e){t.loop=e})},n.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},n.JWPlayerAdapter=function(t){return this instanceof n.JWPlayerAdapter?void this.init(t):new n.JWPlayerAdapter(t)},n.JWPlayerAdapter.prototype.init=function(t){n.assert(t,"playerjs.JWPlayerAdapter requires a player object");var e=this.receiver=new n.Receiver;this.looped=!1,t.onPause(function(){e.emit("pause")}),t.onPlay(function(){e.emit("play")}),t.onTime(function(t){var n=t.position,i=t.duration;if(!n||!i)return!1;var r={seconds:n,duration:i};e.emit("timeupdate",r)});var i=this;t.onComplete(function(){!0===i.looped?t.seek(0):e.emit("ended")}),t.onError(function(){e.emit("error")}),e.on("play",function(){t.play(!0)}),e.on("pause",function(){t.pause(!0)}),e.on("getPaused",function(e){e("PLAYING"!==t.getState())}),e.on("getCurrentTime",function(e){e(t.getPosition())}),e.on("setCurrentTime",function(e){t.seek(e)}),e.on("getDuration",function(e){e(t.getDuration())}),e.on("getVolume",function(e){e(t.getVolume())}),e.on("setVolume",function(e){t.setVolume(e)}),e.on("mute",function(){t.setMute(!0)}),e.on("unmute",function(){t.setMute(!1)}),e.on("getMuted",function(e){e(!0===t.getMute())}),e.on("getLoop",function(t){t(this.looped)},this),e.on("setLoop",function(t){this.looped=t},this)},n.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},n.MockAdapter=function(){return this instanceof n.MockAdapter?void this.init():new n.MockAdapter},n.MockAdapter.prototype.init=function(){var t={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){t.interval=setInterval(function(){t.currentTime+=.25,t.timeupdate({seconds:t.currentTime,duration:t.duration})},250),t.playing=!0},pause:function(){clearInterval(t.interval),t.playing=!1}},e=this.receiver=new n.Receiver;e.on("play",function(){var e=this;t.play(),this.emit("play"),t.timeupdate=function(t){e.emit("timeupdate",t)}}),e.on("pause",function(){t.pause(),this.emit("pause")}),e.on("getPaused",function(e){e(!t.playing)}),e.on("getCurrentTime",function(e){e(t.currentTime)}),e.on("setCurrentTime",function(e){t.currentTime=e}),e.on("getDuration",function(e){e(t.duration)}),e.on("getVolume",function(e){e(t.volume)}),e.on("setVolume",function(e){t.volume=e}),e.on("mute",function(){t.mute=!0}),e.on("unmute",function(){t.mute=!1}),e.on("getMuted",function(e){e(t.mute)}),e.on("getLoop",function(e){e(t.loop)}),e.on("setLoop",function(e){t.loop=e})},n.MockAdapter.prototype.ready=function(){this.receiver.ready()},n.SublimeAdapter=function(t){return this instanceof n.SublimeAdapter?void this.init(t):new n.SublimeAdapter(t)},n.SublimeAdapter.prototype.events=[n.EVENTS.READY,n.EVENTS.PLAY,n.EVENTS.PAUSE,n.EVENTS.ENDED,n.EVENTS.TIMEUPDATE,n.EVENTS.ERROR],n.SublimeAdapter.prototype.methods=[n.METHODS.PLAY,n.METHODS.PAUSE,n.METHODS.GETDURATION,n.METHODS.SETCURRENTTIME,n.METHODS.GETCURRENTTIME,n.METHODS.REMOVEEVENTLISTENER,n.METHODS.ADDEVENTLISTENER],n.SublimeAdapter.prototype.init=function(t){n.assert(t,"playerjs.SublimeAdapter requires a player object");var e=this.receiver=new n.Receiver(this.events,this.methods);t.on("pause",function(){e.emit("pause")}),t.on("play",function(){e.emit("play")}),t.on("timeUpdate",function(t,n){var i=t.duration();if(!n||!i)return!1;var r={seconds:n,duration:i};e.emit("timeupdate",r)}),t.on("end",function(){e.emit("ended")}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getCurrentTime",function(e){e(t.playbackTime())}),e.on("setCurrentTime",function(e){t.seekTo(e)}),e.on("getDuration",function(e){e(t.duration())})},n.SublimeAdapter.prototype.ready=function(){this.receiver.ready()},n.VideoJSAdapter=function(t){return this instanceof n.VideoJSAdapter?void this.init(t):new n.VideoJSAdapter(t)},n.VideoJSAdapter.prototype.init=function(t){n.assert(t,"playerjs.VideoJSReceiver requires a player object");var e=this.receiver=new n.Receiver;t.on("pause",function(){e.emit("pause")}),t.on("play",function(){e.emit("play")}),t.on("timeupdate",function(){var n=t.currentTime(),i=t.duration();if(!n||!i)return!1;var r={seconds:n,duration:i};e.emit("timeupdate",r)}),t.on("ended",function(){e.emit("ended")}),t.on("error",function(){e.emit("error")}),e.on("play",function(){t.play()}),e.on("pause",function(){t.pause()}),e.on("getPaused",function(e){e(t.paused())}),e.on("getCurrentTime",function(e){e(t.currentTime())}),e.on("setCurrentTime",function(e){t.currentTime(e)}),e.on("getDuration",function(e){e(t.duration())}),e.on("getVolume",function(e){e(100*t.volume())}),e.on("setVolume",function(e){t.volume(e/100)}),e.on("mute",function(){t.volume(0)}),e.on("unmute",function(){t.volume(1)}),e.on("getMuted",function(e){e(0===t.volume())}),e.on("getLoop",function(e){e(t.loop())}),e.on("setLoop",function(e){t.loop(e)})},n.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()}}(window,document)},function(t,e,n){var i;!function(){"use strict";/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */
function r(t,e){var n;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!r.notNeeded(t)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],o=this,s=0,c=i.length;s<c;s++)o[i[s]]=function(t,e){return function(){return t.apply(e,arguments)}}(o[i[s]],o);a&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(n=t.onclick,t.addEventListener("click",function(t){n(t)},!1),t.onclick=null)}}var o=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!o,s=/iP(ad|hone|od)/.test(navigator.userAgent)&&!o,c=s&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=s&&/OS [6-7]_\d/.test(navigator.userAgent),u=navigator.userAgent.indexOf("BB10")>0;r.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(s&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},r.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},r.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},r.prototype.determineEventType=function(t){return a&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},r.prototype.focus=function(t){var e;s&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},r.prototype.updateScrollParent=function(t){var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},r.prototype.onTouchStart=function(t){var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],s){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!c){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},r.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},r.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},r.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(t){var e,n,i,r,o,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(o=t.changedTouches[0],u=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=u.tagName.toLowerCase())){if(e=this.findControl(u)){if(this.focus(u),a)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-n>100||s&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),s&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return!(!s||c||!(r=u.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},r.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},r.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},r.prototype.destroy=function(){var t=this.layer;a&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.notNeeded=function(t){var e,n,i;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(u&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},r.attach=function(t,e){return new r(t,e)},void 0!==(i=function(){return r}.call(e,n,e,t))&&(t.exports=i)}()},function(t,e){window.GeniusShimInnerHtml=function(){var t=function(e,n){var i=e.nodeType;if(3==i)n.push(e.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"));else if(1==i){if(n.push("<",e.tagName),e.hasAttributes())for(var r=e.attributes,o=0,a=r.length;o<a;++o){var s=r.item(o);n.push(" ",s.name,"='",s.value,"'")}if(e.hasChildNodes()){n.push(">");for(var c=e.childNodes,o=0,a=c.length;o<a;++o)t(c.item(o),n);n.push("</",e.tagName,">")}else n.push("/>")}else{if(8!=i)throw"Error serializing XML. Unhandled node of type: "+i;n.push("\x3c!--",e.nodeValue,"--\x3e")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){for(var e=[],n=this.firstChild;n;)t(n,e),n=n.nextSibling;return e.join("")},set:function(t){for(;this.firstChild;)this.removeChild(this.firstChild);try{var e=new DOMParser;e.async=!1,sXML="<svg xmlns='http://www.w3.org/2000/svg'>"+t+"</svg>";for(var n=e.parseFromString(sXML,"text/xml").documentElement,i=n.firstChild;i;)this.appendChild(this.ownerDocument.importNode(i,!0)),i=i.nextSibling}catch(t){throw new Error("Error parsing XML string")}}}),Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}})}},function(t,e){!function(){"use strict";function t(t,e,n){"addEventListener"in window?t.addEventListener(e,n,!1):"attachEvent"in window&&t.attachEvent("on"+e,n)}function e(t){y.log&&"object"==typeof console&&console.log(h+"[Host page"+m+"]"+t)}function n(t){function n(){function t(){a(w),r(),y.resizedCallback(w)}l("Height"),l("Width"),s(t,w,"resetPage")}function c(t){var n=t.id;e(" Removing iFrame: "+n),t.parentNode.removeChild(t),y.closedCallback(n),e(" --")}function l(t){var n=Number(y["max"+t]),i=Number(y["min"+t]),r=t.toLowerCase(),o=Number(w[r]);if(i>n)throw new Error("Value for min"+t+" can not be greater than max"+t);e(" Checking "+r+" is in range "+i+"-"+n),o<i&&(o=i,e(" Set "+r+" to min value")),o>n&&(o=n,e(" Set "+r+" to max value")),w[r]=""+o}function u(){var t=b.substr(b.indexOf(":")+f+6);e(" MessageCallback passed: {iframe: "+w.iframe.id+", message: "+t+"}"),y.messageCallback({iframe:w.iframe,message:JSON.parse(t)}),e(" --")}function d(){var t=w.iframe.getBoundingClientRect();return i(),{x:Number(t.left)+Number(g.x),y:Number(t.top)+Number(g.y)}}function v(t){var n=t?d():{x:0,y:0};e(" Reposition requested from iFrame (offset x:"+n.x+" y:"+n.y+")"),g={x:Number(w.width)+n.x,y:Number(w.height)+n.y},r()}var b=t.data,w={};(function(){return h===(""+b).substr(0,_)})()&&(e(" Received: "+b),w=function(){var t=b.substr(_).split(":");return{iframe:document.getElementById(t[0]),id:t[0],height:t[1],width:t[2],type:t[3]}}(),!function(){var t=w.type in{true:1,false:1};return t&&e(" Ignoring init message from meta parent page"),t}()&&function(){if(null===w.iframe)throw new Error("iFrame ("+w.id+") does not exist on "+m);return!0}()&&function(){var n=t.origin,i=w.iframe.src.split("/").slice(0,3).join("/");if(-1===$.indexOf(w.iframe))return!1;if(y.checkOrigin&&(e(" Checking connection is from: "+i),""+n!="null"&&n!==i))throw new Error("Unexpected message received from: "+n+" for "+w.iframe.id+". Message was: "+t.data+". This error can be disabled by adding the checkOrigin: false option.");return!0}()&&(!function(){switch(w.type){case"close":c(w.iframe),y.resizedCallback(w);break;case"message":u();break;case"scrollTo":v(!1);break;case"scrollToOffset":v(!0);break;case"reset":o(w);break;case"init":n(),y.initCallback(w.iframe);break;default:n()}}(),p=!1))}function i(){null===g&&(g={x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop},e(" Get position: "+g.x+","+g.y))}function r(){null!==g&&(window.scrollTo(g.x,g.y),e(" Set position: "+g.x+","+g.y),g=null)}function o(t){function n(){a(t),c("reset","reset",t.iframe)}e(" Size reset requested by "+("init"===t.type?"host page":"iFrame")),i(),s(n,t,"init")}function a(t){function n(n){t.iframe.style[n]=t[n]+"px",e(" IFrame ("+t.iframe.id+") "+n+" set to "+t[n]+"px")}y.sizeHeight&&n("height"),y.sizeWidth&&n("width")}function s(t,n,i){i!==n.type&&v?(e(" Requesting animation frame"),v(t)):t()}function c(t,n,i){e("["+t+"] Sending msg to iframe ("+n+")"),i.contentWindow.postMessage(h+n,"*")}function l(){var n=this,i=function(t){return""===t&&(n.id=t="iFrameResizer"+d++,e(" Added missing iframe ID: "+t+" ("+n.src+")")),t}(n.id);!function(){e(" IFrame scrolling "+(y.scrolling?"enabled":"disabled")+" for "+i),n.style.overflow=!1===y.scrolling?"hidden":"auto",n.scrolling=!1===y.scrolling?"no":"yes"}(),function(){function t(t){1/0!==y[t]&&0!==y[t]&&(n.style[t]=y[t]+"px",e(" Set "+t+" = "+y[t]+"px"))}t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}(),function(){"number"!=typeof y.bodyMargin&&"0"!==y.bodyMargin||(y.bodyMarginV1=y.bodyMargin,y.bodyMargin=y.bodyMargin+"px")}(),function(){$.push(n)}(),function(e){t(n,"load",function(){var t=p;c("iFrame.onload",e,n),!t&&y.heightCalculationMethod in b&&o({iframe:n,height:0,width:0,type:"init"})}),c("init",e,n)}(function(){return i+":"+y.bodyMarginV1+":"+y.sizeWidth+":"+y.log+":"+y.interval+":"+y.enablePublicMethods+":"+y.autoResize+":"+y.bodyMargin+":"+y.heightCalculationMethod+":"+y.bodyBackground+":"+y.bodyPadding+":"+y.tolerance}())}function u(t){if("object"!=typeof t)throw new TypeError("Options is not an object.")}var d=0,p=!0,f="message".length,h="[iFrameSizer]",_=h.length,m="",g=null,v=window.requestAnimationFrame,b={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},y={},w={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,enablePublicMethods:!1,heightCalculationMethod:"offset",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,closedCallback:function(){},initCallback:function(){},messageCallback:function(){},resizedCallback:function(){}},$=[];!function(){var t,n=["moz","webkit","o","ms"];for(t=0;t<n.length&&!v;t+=1)v=window[n[t]+"RequestAnimationFrame"];v||e(" RequestAnimationFrame not supported")}(),t(window,"message",n),window.jQuery&&function(t){t.fn.iFrameResize=function(e){return e=e||{},u(e),y=t.extend({},w,e),this.filter("iframe").each(l).end()}}(jQuery)}()},function(t,e,n){var i,r,o;/*!
 * jQuery Cookie Plugin v1.4.0
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
!function(a){r=[n(38)],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(function(t){function e(t){return s.raw?t:encodeURIComponent(t)}function n(t){return s.raw?t:decodeURIComponent(t)}function i(t){return e(s.json?JSON.stringify(t):String(t))}function r(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(a," ")),s.json?JSON.parse(t):t}catch(t){}}function o(e,n){var i=s.raw?e:r(e);return t.isFunction(n)?n(i):i}var a=/\+/g,s=t.cookie=function(r,a,c){if(void 0!==a&&!t.isFunction(a)){if(c=t.extend({},s.defaults,c),"number"==typeof c.expires){var l=c.expires,u=c.expires=new Date;u.setTime(+u+864e5*l)}return document.cookie=[e(r),"=",i(a),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var d=r?void 0:{},p=document.cookie?document.cookie.split("; "):[],f=0,h=p.length;f<h;f++){var _=p[f].split("="),m=n(_.shift()),g=_.join("=");if(r&&r===m){d=o(g,a);break}r||void 0===(g=o(g))||(d[m]=g)}return d};s.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}})},function(t,e){/*! Embedly jQuery - v3.1.1 - 2013-06-05
 * https://github.com/embedly/embedly-jquery
 * Copyright (c) 2013 Sean Creeley
 * Licensed BSD
 */
!function(t){var e={key:null,endpoint:"oembed",secure:null,query:{},method:"replace",addImageStyles:!0,wrapElement:"div",className:"embed",batch:20,urlRe:null},n=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,i=function(t){return null===t||void 0===t},r=function(e,n){var i=[],r=[];return t.each(e,function(t,e){r.push(e),r.length===n&&(i.push(r),r=[])}),0!==r.length&&i.push(r),i},o=function(e){return i(e)?[]:t.isArray(e)?e:[e]},a=function(e){return t.map(e[0],function(n,i){return[t.map(e,function(t){return t[i]})]})},s=function(t,e,n){this.init(t,e,n)};s.prototype={init:function(e){this.urls=e,this.count=0,this.results={},this._deferred=t.Deferred()},notify:function(e){if(this.results[e.original_url]=e,this.count++,this._deferred.notify.apply(this._deferred,[e]),this.count===this.urls.length){var n=this,i=t.map(this.urls,function(t){return n.results[t]});this._deferred.resolve(i)}return this},state:function(){return this._deferred.state.apply(this._deferred,arguments)}},window.Keeper=s;var c=function(){};c.prototype={defaults:{},log:function(t,e){i(window.console)||i(window.console[t])||window.console[t].apply(window.console,[e])},build:function(e,n,r){r=i(r)?{}:r;var o=r.secure;i(o)&&(o="https:"===window.location.protocol);var a=(o?"https":"http")+"://api.embed.ly/"+("objectify"===e?"2/":"1/")+e,s=i(r.query)?{}:r.query;return s.key=r.key,a+="?"+t.param(s),a+="&urls="+t.map(n,encodeURIComponent).join(",")},ajax:function(c,l,u){if(u=t.extend({},e,t.embedly.defaults,"object"==typeof u&&u),i(u.key))return this.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly"),null;l=o(l);var d,p=new s(l),f=[],h=[];t.each(l,function(t,e){d=!1,n.test(e)&&(d=!0,null!==u.urlRe&&u.urlRe.test&&!u.urlRe.test(e)&&(d=!1)),!0===d?f.push(e):h.push({url:e,original_url:e,error:!0,invalid:!0,type:"error",error_message:'Invalid URL "'+e+'"'})});var _=r(f,u.batch),m=this;return t.each(_,function(e,n){t.ajax({url:m.build(c,n,u),dataType:"jsonp",success:function(e){t.each(a([n,e]),function(t,e){var n=e[1];n.original_url=e[0],n.invalid=!1,p.notify(n)})}})}),h.length&&setTimeout(function(){t.each(h,function(t,e){p.notify(e)})},1),p._deferred},oembed:function(t,e){return this.ajax("oembed",t,e)},preview:function(t,e){return this.ajax("preview",t,e)},objectify:function(t,e){return this.ajax("objectify",t,e)},extract:function(t,e){return this.ajax("extract",t,e)}};var l=function(){};l.prototype={build:function(e,n,r){r=t.extend({},t.embedly.defaults,"object"==typeof r&&r);var o=r.secure;i(o)&&(o="https:"===window.location.protocol);var a=(o?"https":"http")+"://i.embed.ly/"+("display"===e?"1/":"1/display/")+e,s=i(r.query)?{}:r.query;return s.key=r.key,a+="?"+t.param(s),a+="&url="+encodeURIComponent(n)},display:function(t,e){return this.build("display",t,e)},resize:function(t,e){return this.build("resize",t,e)},fill:function(t,e){return this.build("fill",t,e)},crop:function(t,e){return this.build("crop",t,e)}};var u=function(t,e,n){this.init(t,e,n)};u.prototype={init:function(e,n,i){this.elem=e,this.$elem=t(e),this.original_url=n,this.options=i,this.loaded=t.Deferred();var r=this;this.loaded.done(function(){r.$elem.trigger("loaded",[r])}),this.$elem.trigger("initialized",[this])},progress:function(e){t.extend(this,e),this.options.display?this.options.display.apply(this.elem,[this,this.elem]):"oembed"===this.options.endpoint&&this.display(),this.loaded.resolve(this)},imageStyle:function(){var t,e=[];return this.options.addImageStyles&&(this.options.query.maxwidth&&(t=isNaN(parseInt(this.options.query.maxwidth,10))?"":"px",e.push("max-width: "+this.options.query.maxwidth+t)),this.options.query.maxheight&&(t=isNaN(parseInt(this.options.query.maxheight,10))?"":"px",e.push("max-height: "+this.options.query.maxheight+t))),e.join(";")},display:function(){if("error"===this.type)return!1;this.style=this.imageStyle();var t;"photo"===this.type?(t="<a href='"+this.original_url+"' target='_blank'>",t+="<img style='"+this.style+"' src='"+this.url+"' alt='"+this.title+"' /></a>"):"video"===this.type||"rich"===this.type?t=this.html:(this.title=this.title||this.url,t=this.thumbnail_url?"<img src='"+this.thumbnail_url+"' class='thumb' style='"+this.style+"'/>":"",t+="<a href='"+this.original_url+"'>"+this.title+"</a>",t+=this.provider_name?"<a href='"+this.provider_url+"' class='provider'>"+this.provider_name+"</a>":"",t+=this.description?'<div class="description">'+this.description+"</div>":""),this.options.wrapElement&&(t="<"+this.options.wrapElement+' class="'+this.options.className+'">'+t+"</"+this.options.wrapElement+">"),this.code=t,"replace"===this.options.method?this.$elem.replaceWith(this.code):"after"===this.options.method?this.$elem.after(this.code):"afterParent"===this.options.method?this.$elem.parent().after(this.code):"replaceParent"===this.options.method&&this.$elem.parent().replaceWith(this.code),this.$elem.trigger("displayed",[this])}},t.embedly=new c,t.embedly.display=new l,t.fn.embedly=function(n){if(void 0===n||"object"==typeof n){if(n=t.extend({},e,t.embedly.defaults,"object"==typeof n&&n),i(n.key))return t.embedly.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly"),this.each(t.noop);var r={},o=function(e){if(!t.data(t(e),"embedly")){var i=t(e).attr("href"),o=new u(e,i,n);t.data(e,"embedly",o),r.hasOwnProperty(i)?r[i].push(o):r[i]=[o]}},a=this.each(function(){i(t(this).attr("href"))?t(this).find("a").each(function(){i(t(this).attr("href"))||o(this)}):o(this)}),s=t.embedly.ajax(n.endpoint,t.map(r,function(t,e){return e}),n).progress(function(e){t.each(r[e.original_url],function(t,n){n.progress(e)})});return n.progress&&s.progress(n.progress),n.done&&s.done(n.done),a}},t.expr[":"].embedly=function(e){return!i(t(e).data("embedly"))},t.fn.display=function(n,r){if(i(n)&&(n="display"),void 0===r||"object"==typeof r){if(r=t.extend({},e,t.embedly.defaults,"object"==typeof r&&r),i(r.key))return t.embedly.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly/display"),this.each(t.noop);var o=function(e){var i=t(e);if(!i.data("display")){var o=i.data("src")||i.attr("href"),a={original_url:o,url:t.embedly.display.build(n,o,r)};i.data("display",a),i.trigger("initialized",[e]);var s="<img src='"+a.url+"' />";i.is("a")?i.append(s):i.replaceWith(s)}},a=function(e){return!i(t(e).data("src"))||!i(t(e).attr("href"))};return this.each(function(){a(this)?o(this):t(this).find("img,a").each(function(){a(this)&&o(this)})})}},t.expr[":"].display=function(e){return!i(t(e).data("display"))}}(jQuery,window)},function(t,e){/*!
 * urlInternal - v1.0 - 10/7/2009
 * http://benalman.com/projects/jquery-urlinternal-plugin/
 * 
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
!function(t){"$:nomunge";function e(t){var e=f.call(arguments,1);return function(){return t.apply(this,e.concat(f.call(arguments)))}}function n(t,e){return this.filter(":"+t+(e?"("+e+")":""))}function i(t,e,n,i){var o=i[3]||r()[(e.nodeName||"").toLowerCase()]||"";return o?!!t(e.getAttribute(o)):d}var r,o,a,s,c,l,u,d=!1,p=window.location,f=Array.prototype.slice,h=p.href.match(/^((https?:\/\/.*?\/)?[^#]*)#?.*$/),_=h[1]+"#",m=h[2],g={};t.isUrlInternal=s=function(t){if(t&&!l(t)){if(u.test(t))return!0;if(/^(?:https?:)?\/\//i.test(t))return d;if(!/^[a-z\d.-]+:/i.test(t))return!0}},t.isUrlExternal=c=function(t){var e=s(t);return"boolean"==typeof e?!e:e},t.isUrlFragment=l=function(e){var n=(e||"").match(/^([^#]?)([^#]*#).*$/);return!(!n||"#"!==n[2]&&0!==e.indexOf(_)&&("/"===n[1]?m+n[2]!==_:/^https?:\/\//i.test(e)||0!==t('<a href="'+e+'"/>')[0].href.indexOf(_)))},t.fn.urlInternal=e(n,"urlInternal"),t.fn.urlExternal=e(n,"urlExternal"),t.fn.urlFragment=e(n,"urlFragment"),t.expr[":"].urlInternal=e(i,s),t.expr[":"].urlExternal=e(i,c),t.expr[":"].urlFragment=e(i,l),t.elemUrlAttr||(t.elemUrlAttr=function(e){return t.extend(g,e)})({a:"href",base:"href",iframe:"src",img:"src",input:"src",form:"action",link:"href",script:"src"}),r=t.elemUrlAttr,t.urlInternalHost=o=function(t){t=t?"(?:(?:"+Array.prototype.join.call(arguments,"|")+")\\.)?":"";var e=p.hostname.split(".");e.length>CANONICAL_DOMAIN_PARTS_LENGTH&&e.shift();var n=e.join("."),i=new RegExp("^"+t+"(.*)","i"),r="^(?:https?:)?//(?:(?:"+VALID_SUBDOMAINS.join("|")+").)?"+n.replace(i,t+"$1").replace(/\\?\./g,"\\.")+(p.port?":"+p.port:"")+"/";return a(r)},t.urlInternalRegExp=a=function(t){return t&&(u="string"==typeof t?new RegExp(t,"i"):t),u},o("www")}(jQuery)},function(t,e,n){var i,r,o;!function(a){r=[n(38)],i=a,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(function(t){t.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},t.expr[":"]["has-src"]=function(e){return t(e).is('img[src][src!=""]')},t.expr[":"].uncached=function(e){return!!t(e).is(":has-src")&&!e.complete},t.fn.waitForImages=function(){var e,n,i,r=0,o=0,a=t.Deferred();if(t.isPlainObject(arguments[0])?(i=arguments[0].waitForAll,n=arguments[0].each,e=arguments[0].finished):1===arguments.length&&"boolean"===t.type(arguments[0])?i=arguments[0]:(e=arguments[0],n=arguments[1],i=arguments[2]),e=e||t.noop,n=n||t.noop,i=!!i,!t.isFunction(e)||!t.isFunction(n))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var s=t(this),c=[],l=t.waitForImages.hasImageProperties||[],u=t.waitForImages.hasImageAttributes||[],d=/url\(\s*(['"]?)(.*?)\1\s*\)/g;i?s.find("*").addBack().each(function(){var e=t(this);e.is("img:has-src")&&c.push({src:e.attr("src"),element:e[0]}),t.each(l,function(t,n){var i,r=e.css(n);if(!r)return!0;for(;i=d.exec(r);)c.push({src:i[2],element:e[0]})}),t.each(u,function(n,i){var r,o=e.attr(i);if(!o)return!0;r=o.split(","),t.each(r,function(n,i){i=t.trim(i).split(" ")[0],c.push({src:i,element:e[0]})})})}):s.find("img:has-src").each(function(){c.push({src:this.src,element:this})}),r=c.length,o=0,0===r&&(e.call(s[0]),a.resolveWith(s[0])),t.each(c,function(i,c){var l=new Image,u="load.waitForImages error.waitForImages";t(l).one(u,function i(l){var d=[o,r,"load"==l.type];if(o++,n.apply(c.element,d),a.notifyWith(c.element,d),t(this).off(u,i),o==r)return e.call(s[0]),a.resolveWith(s[0]),!1}),l.src=c.src})}),a.promise()}})},function(t,e,n){var i,i;!function t(e,n,r){function o(s,c){if(!n[s]){if(!e[s]){var l="function"==typeof i&&i;if(!c&&l)return i(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return o(n||t)},d,d.exports,t,e,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){function i(t,e){var n=[];e=e||r;do{n.push(t),t=t.parentNode}while(t&&t.tagName&&e(t));return n.slice(1)}function r(t){return!0}e.exports=i},{}],2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(t.whatToShow!==h)throw new Error(p);var n=0,i=t.referenceNode,r=null;if(o(e))r={forward:function(){return n<e},backward:function(){return n>e}};else{if(!a(e))throw new Error(f);r={forward:s(i,e)?function(){return!1}:function(){return i!==e},backward:function(){return i!=e||!t.pointerBeforeReferenceNode}}}for(;r.forward()&&null!==(i=t.nextNode());)n+=i.nodeValue.length;for(;r.backward()&&null!==(i=t.previousNode());)n-=i.nodeValue.length;return n}function o(t){return!isNaN(parseInt(t))&&isFinite(t)}function a(t){return t.nodeType===_}function s(t,e){if(t===e)return!1;for(var n=null,i=[t].concat(l.default(t)).reverse(),r=[e].concat(l.default(e)).reverse();i[0]===r[0];)n=i.shift(),r.shift();return i=i[0],r=r[0],d.default(n.childNodes,i)>d.default(n.childNodes,r)}n.__esModule=!0,n.default=r;var c=t("ancestors"),l=i(c),u=t("index-of"),d=i(u),p="Argument 1 of seek must use filter NodeFilter.SHOW_TEXT.",f="Argument 2 of seek must be a number or a Text Node.",h=4,_=3;e.exports=n.default},{ancestors:1,"index-of":4}],3:[function(t,e,n){function i(t){return t&&t.nodeType===o}function r(t){return i(t)?t:i(t.ownerDocument)?t.ownerDocument:i(t.document)?t.document:t.parentNode?r(t.parentNode):t.commonAncestorContainer?r(t.commonAncestorContainer):t.startContainer?r(t.startContainer):t.anchorNode?r(t.anchorNode):void 0}e.exports=r;var o=9},{}],4:[function(t,e,n){/*!
 * index-of <https://github.com/jonschlinkert/index-of>
 *
 * Copyright (c) 2014-2015 Jon Schlinkert.
 * Licensed under the MIT license.
 */
"use strict";e.exports=function(t,e,n){n=n||0;if(null==t)return-1;var i=t.length,r=n<0?i+n:n;if(r>=t.length)return-1;for(;r<i;){if(t[r]===e)return r;r++}return-1}},{}],5:[function(t,e,n){e.exports=t("./lib/xpath")},{"./lib/xpath":7}],6:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function t(e,n){i(this,t),this.message=e,this.name=n,this.stack=(new Error).stack};n.default=r,r.prototype=new Error,r.prototype.toString=function(){return this.name+": "+this.message},e.exports=n.default},{}],7:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e=arguments.length<=1||void 0===arguments[1]?document:arguments[1],n="/";t!==e;){if(!t){throw new _.default("The supplied node is not contained by the root node.","InvalidNodeTypeError")}n="/"+a(t)+"["+s(t)+"]"+n,t=t.parentNode}return n.replace(/\/$/,"")}function o(t){var e=arguments.length<=1||void 0===arguments[1]?document:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return"function"==typeof e&&(n=e,e=document),e!==document&&(t=t.replace(/^\//,"./")),null===n&&document.lookupNamespaceURI&&function(){var t=f.default(e).documentElement,i=t.lookupNamespaceURI(null)||g;n=function(e){return{_default_:i}[e]||t.lookupNamespaceURI(e)}}(),c(t,e,n)}function a(t){switch(t.nodeName){case"#text":return"text()";case"#comment":return"comment()";case"#cdata-section":return"cdata-section()";default:return t.nodeName.toLowerCase()}}function s(t){for(var e=t.nodeName,n=1;t=t.previousSibling;)t.nodeName===e&&(n+=1);return n}function c(t,e,n){try{return u(t.replace(/\/(?!\.)([^\/:\(]+)(?=\/|$)/g,"/_default_:$1"),e,n)}catch(n){return l(t,e)}}function l(t,e){for(var n=t.split("/"),i=e;i;){var r=n.shift();if(void 0===r)break;if("."!==r){var o=r.split(/[\[\]]/),a=o[0],s=o[1];a=a.replace("_default_:",""),s=s?parseInt(s):1,i=d(i,a,s)}}return i}function u(t,e,n){return document.evaluate(t,e,n,m,null).singleNodeValue}function d(t,e,n){for(t=t.firstChild;t;t=t.nextSibling)if(a(t)===e&&0==--n)return t;return null}n.__esModule=!0,n.fromNode=r,n.toNode=o;var p=t("get-document"),f=i(p),h=t("./dom-exception"),_=i(h),m=9,g="http://www.w3.org/1999/xhtml"},{"./dom-exception":6,"get-document":3}],8:[function(t,e,n){e.exports=t("./lib/range")},{"./lib/range":9}],9:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset;return{start:d.fromNode(n,e),end:d.fromNode(r,e),startOffset:i,endOffset:o}}function o(t,e,n,i,r){function o(t){var e=new Error("The "+t+" node was not found.");return e.name="NotFoundError",e}function a(t){var e=new Error("There is no text at the requested "+t+" offset.");return e.name="IndexSizeError",e}var c=s.default(r),u=d.toNode(t,r);if(null===u)throw o("start");var f=c.createNodeIterator(u,p),h=e-l.default(f,e);if(u=f.referenceNode,!f.pointerBeforeReferenceNode){if(h>0)throw a("start");h+=u.length}var _=d.toNode(n,r);if(null===_)throw o("end");var m=c.createNodeIterator(_,p),g=i-l.default(m,i);if(_=m.referenceNode,!m.pointerBeforeReferenceNode){if(g>0)throw a("end");g+=_.length}var v=c.createRange();return v.setStart(u,h),v.setEnd(_,g),v}n.__esModule=!0,n.fromRange=r,n.toRange=o;var a=t("get-document"),s=i(a),c=t("dom-seek"),l=i(c),u=t("simple-xpath-position"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),p=4},{"dom-seek":2,"get-document":3,"simple-xpath-position":5}],10:[function(t,e,n){window.XpathRange=t("xpath-range")},{"xpath-range":8}]},{},[10])}]);